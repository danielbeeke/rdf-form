@prefix rdfs:       <http://www.w3.org/2000/01/rdf-schema#> .
@prefix form:       <http://localhost:8070/form.ttl#> .
@prefix fieldsForm: <http://localhost:8070/fields.form.ttl#> .
@prefix schema:     <http://schema.org/> .
@prefix recipe:     <http://rdf.danielbeeke.nl/recipe/recipe-dev.ttl#> .
@prefix focalPoint:       <http://localhost:8070/focalPoint.ttl#> .

<http://localhost:8070/fields.form#fieldsForm>
    form:binding schema:Thing ;
    a            form:Form .

fieldsForm:main
    a                    form:Container ;
    form:widget "details" ;
    form:order           -1 ;
    form:open            true ;
    form:label           "Main"@en ;
    form:label           "Main"@nl .

fieldsForm:string
    a                 form:Field ;
    form:widget  "string" ;
    form:label        "String" ;
    form:binding      schema:name ;
    form:container   "main" ;
    form:order        0 ;
    form:translatable true .

fieldsForm:abstract
    a                 form:Field ;
    form:widget  "string" ;
    form:label        "Abstract" ;
    form:binding      schema:abstract ;
    form:order        0 ;
    form:translatable "always" .


fieldsForm:ingredients
    a                 form:Field ;
    form:widget "group" ;
    form:label       "Ingredients"@en ;
    form:label       "Ingrediënten"@nl ;
    form:binding     recipe:ingredients ;
    form:multiple    true ;
    form:order       2 .

fieldsForm:ingredient
    a                 form:Field ;
    form:widget       "reference" ;
    form:label             "Ingredient"@en ;
    form:label             "Ingrediënt"@nl ;
    form:group        "ingredients" ;
    form:binding           recipe:ingredient ;
    form:placeholder       "Search for an ingredient."@en ;
    form:placeholder       "Zoek naar een ingredient."@nl ;
    form:autoCompleteQuery """

    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX dbo:  <http://dbpedia.org/ontology/>
    PREFIX bif: <bif:>

    SELECT DISTINCT ?uri ?label ?image {

      ?o dbo:ingredient ?uri .
      ?uri rdfs:label ?label .
      ?uri dbo:thumbnail ?image .
      ?label bif:contains "'SEARCH_TERM'" .

      filter langMatches(lang(?label), "LANGUAGE")
    }

    LIMIT 10

    """ ;
    form:order             1 .

fieldsForm:quantity
    a                 form:Field ;
    form:widget "number" ;
    form:label       "Quantity"@en ;
    form:label       "Aantal"@nl ;
    form:binding     recipe:quantity ;
    form:group  "ingredients" ;
    form:order       2 .

fieldsForm:measurementUnit
    a                 form:Field ;
    form:widget "dropdown" ;
    form:label       "Unit"@en ;
    form:label       "Soort"@nl ;
    form:binding     recipe:measurementUnit ;
    form:option      [ form:label "- Select -"@en ;
                       form:label "- Selecteer -"@nl ;
                       form:value "" ; ] ;
    form:option      [ form:label "Litre"@en ;
                       form:label "Liter"@nl ;
                       form:value <https://www.wikidata.org/wiki/Q11582> ; ] ;
    form:option      [ form:label "Millilitre"@en ;
                       form:label "Milliliter"@nl ;
                       form:value <https://www.wikidata.org/wiki/Q2332346> ; ] ;
    form:group  "ingredients" ;
    form:order       3 .

fieldsForm:reference
    a             form:Field ;
    form:subform  <http://localhost:8070/subform.ttl> ;
    form:label    "References"@en ;
    form:label    "Referenties"@nl ;
    form:order    8 .


fieldsForm:image
    a                   form:Field ;
    form:widget         "url-image" ;
    form:label          "Image"@en ;
    form:container      "imageWrapper" ;
    form:label          "Afbeelding"@nl ;
    form:type           schema:ImageObject ;
    form:binding        schema:url ;
    form:focalPoint     focalPoint:x1, focalPoint:y1, focalPoint:x2, focalPoint:y2 ;
    form:dimensions     schema:width, schema:height ;
    form:order          3 ;
    form:multiple       true ;
    form:translatable   true .

fieldsForm:imageWrapper
    a                   form:Container ;
    form:widget         "details" ;
    form:binding        schema:image ;
    form:order          10 ;
    form:open           true ;
    form:label          "Images"@en ;
    form:label          "Afbeeldingen"@nl .
