import {
  jsonld,
  ttl2jsonld
} from "./chunk-P7UPKBCD.js";
import {
  onlyUnique
} from "./chunk-CVUYAW2E.js";
import {
  ElementBase,
  Language,
  __async,
  __commonJS,
  __spreadValues,
  __toModule,
  attributesDiff,
  debounce,
  fa,
  faCheck,
  faGlobe,
  faPencilAlt,
  faReply,
  faTimes,
  filterLanguages,
  html,
  icon,
  isFetchable,
  kebabize,
  langCodesToObject,
  lastPart,
  render,
  t
} from "./chunk-BHDNV6PI.js";

// node_modules/quantize/quantize.js
var require_quantize = __commonJS({
  "node_modules/quantize/quantize.js"(exports, module) {
    if (!pv) {
      pv = {
        map: function(array, f) {
          var o = {};
          return f ? array.map(function(d, i) {
            o.index = i;
            return f.call(o, d);
          }) : array.slice();
        },
        naturalOrder: function(a, b) {
          return a < b ? -1 : a > b ? 1 : 0;
        },
        sum: function(array, f) {
          var o = {};
          return array.reduce(f ? function(p, d, i) {
            o.index = i;
            return p + f.call(o, d);
          } : function(p, d) {
            return p + d;
          }, 0);
        },
        max: function(array, f) {
          return Math.max.apply(null, f ? pv.map(array, f) : array);
        }
      };
    }
    var pv;
    var MMCQ = function() {
      var sigbits = 5, rshift = 8 - sigbits, maxIterations = 1e3, fractByPopulations = 0.75;
      function getColorIndex(r, g, b) {
        return (r << 2 * sigbits) + (g << sigbits) + b;
      }
      function PQueue(comparator) {
        var contents = [], sorted = false;
        function sort() {
          contents.sort(comparator);
          sorted = true;
        }
        return {
          push: function(o) {
            contents.push(o);
            sorted = false;
          },
          peek: function(index) {
            if (!sorted)
              sort();
            if (index === void 0)
              index = contents.length - 1;
            return contents[index];
          },
          pop: function() {
            if (!sorted)
              sort();
            return contents.pop();
          },
          size: function() {
            return contents.length;
          },
          map: function(f) {
            return contents.map(f);
          },
          debug: function() {
            if (!sorted)
              sort();
            return contents;
          }
        };
      }
      function VBox(r1, r2, g1, g2, b1, b2, histo) {
        var vbox = this;
        vbox.r1 = r1;
        vbox.r2 = r2;
        vbox.g1 = g1;
        vbox.g2 = g2;
        vbox.b1 = b1;
        vbox.b2 = b2;
        vbox.histo = histo;
      }
      VBox.prototype = {
        volume: function(force) {
          var vbox = this;
          if (!vbox._volume || force) {
            vbox._volume = (vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1);
          }
          return vbox._volume;
        },
        count: function(force) {
          var vbox = this, histo = vbox.histo;
          if (!vbox._count_set || force) {
            var npix = 0, i, j, k, index;
            for (i = vbox.r1; i <= vbox.r2; i++) {
              for (j = vbox.g1; j <= vbox.g2; j++) {
                for (k = vbox.b1; k <= vbox.b2; k++) {
                  index = getColorIndex(i, j, k);
                  npix += histo[index] || 0;
                }
              }
            }
            vbox._count = npix;
            vbox._count_set = true;
          }
          return vbox._count;
        },
        copy: function() {
          var vbox = this;
          return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);
        },
        avg: function(force) {
          var vbox = this, histo = vbox.histo;
          if (!vbox._avg || force) {
            var ntot = 0, mult = 1 << 8 - sigbits, rsum = 0, gsum = 0, bsum = 0, hval, i, j, k, histoindex;
            for (i = vbox.r1; i <= vbox.r2; i++) {
              for (j = vbox.g1; j <= vbox.g2; j++) {
                for (k = vbox.b1; k <= vbox.b2; k++) {
                  histoindex = getColorIndex(i, j, k);
                  hval = histo[histoindex] || 0;
                  ntot += hval;
                  rsum += hval * (i + 0.5) * mult;
                  gsum += hval * (j + 0.5) * mult;
                  bsum += hval * (k + 0.5) * mult;
                }
              }
            }
            if (ntot) {
              vbox._avg = [~~(rsum / ntot), ~~(gsum / ntot), ~~(bsum / ntot)];
            } else {
              vbox._avg = [~~(mult * (vbox.r1 + vbox.r2 + 1) / 2), ~~(mult * (vbox.g1 + vbox.g2 + 1) / 2), ~~(mult * (vbox.b1 + vbox.b2 + 1) / 2)];
            }
          }
          return vbox._avg;
        },
        contains: function(pixel) {
          var vbox = this, rval = pixel[0] >> rshift;
          gval = pixel[1] >> rshift;
          bval = pixel[2] >> rshift;
          return rval >= vbox.r1 && rval <= vbox.r2 && gval >= vbox.g1 && gval <= vbox.g2 && bval >= vbox.b1 && bval <= vbox.b2;
        }
      };
      function CMap() {
        this.vboxes = new PQueue(function(a, b) {
          return pv.naturalOrder(a.vbox.count() * a.vbox.volume(), b.vbox.count() * b.vbox.volume());
        });
        ;
      }
      CMap.prototype = {
        push: function(vbox) {
          this.vboxes.push({
            vbox,
            color: vbox.avg()
          });
        },
        palette: function() {
          return this.vboxes.map(function(vb) {
            return vb.color;
          });
        },
        size: function() {
          return this.vboxes.size();
        },
        map: function(color) {
          var vboxes = this.vboxes;
          for (var i = 0; i < vboxes.size(); i++) {
            if (vboxes.peek(i).vbox.contains(color)) {
              return vboxes.peek(i).color;
            }
          }
          return this.nearest(color);
        },
        nearest: function(color) {
          var vboxes = this.vboxes, d1, d2, pColor;
          for (var i = 0; i < vboxes.size(); i++) {
            d2 = Math.sqrt(Math.pow(color[0] - vboxes.peek(i).color[0], 2) + Math.pow(color[1] - vboxes.peek(i).color[1], 2) + Math.pow(color[2] - vboxes.peek(i).color[2], 2));
            if (d2 < d1 || d1 === void 0) {
              d1 = d2;
              pColor = vboxes.peek(i).color;
            }
          }
          return pColor;
        },
        forcebw: function() {
          var vboxes = this.vboxes;
          vboxes.sort(function(a, b) {
            return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color));
          });
          var lowest = vboxes[0].color;
          if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)
            vboxes[0].color = [0, 0, 0];
          var idx = vboxes.length - 1, highest = vboxes[idx].color;
          if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)
            vboxes[idx].color = [255, 255, 255];
        }
      };
      function getHisto(pixels) {
        var histosize = 1 << 3 * sigbits, histo = new Array(histosize), index, rval, gval2, bval2;
        pixels.forEach(function(pixel) {
          rval = pixel[0] >> rshift;
          gval2 = pixel[1] >> rshift;
          bval2 = pixel[2] >> rshift;
          index = getColorIndex(rval, gval2, bval2);
          histo[index] = (histo[index] || 0) + 1;
        });
        return histo;
      }
      function vboxFromPixels(pixels, histo) {
        var rmin = 1e6, rmax = 0, gmin = 1e6, gmax = 0, bmin = 1e6, bmax = 0, rval, gval2, bval2;
        pixels.forEach(function(pixel) {
          rval = pixel[0] >> rshift;
          gval2 = pixel[1] >> rshift;
          bval2 = pixel[2] >> rshift;
          if (rval < rmin)
            rmin = rval;
          else if (rval > rmax)
            rmax = rval;
          if (gval2 < gmin)
            gmin = gval2;
          else if (gval2 > gmax)
            gmax = gval2;
          if (bval2 < bmin)
            bmin = bval2;
          else if (bval2 > bmax)
            bmax = bval2;
        });
        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);
      }
      function medianCutApply(histo, vbox) {
        if (!vbox.count())
          return;
        var rw = vbox.r2 - vbox.r1 + 1, gw = vbox.g2 - vbox.g1 + 1, bw = vbox.b2 - vbox.b1 + 1, maxw = pv.max([rw, gw, bw]);
        if (vbox.count() == 1) {
          return [vbox.copy()];
        }
        var total = 0, partialsum = [], lookaheadsum = [], i, j, k, sum, index;
        if (maxw == rw) {
          for (i = vbox.r1; i <= vbox.r2; i++) {
            sum = 0;
            for (j = vbox.g1; j <= vbox.g2; j++) {
              for (k = vbox.b1; k <= vbox.b2; k++) {
                index = getColorIndex(i, j, k);
                sum += histo[index] || 0;
              }
            }
            total += sum;
            partialsum[i] = total;
          }
        } else if (maxw == gw) {
          for (i = vbox.g1; i <= vbox.g2; i++) {
            sum = 0;
            for (j = vbox.r1; j <= vbox.r2; j++) {
              for (k = vbox.b1; k <= vbox.b2; k++) {
                index = getColorIndex(j, i, k);
                sum += histo[index] || 0;
              }
            }
            total += sum;
            partialsum[i] = total;
          }
        } else {
          for (i = vbox.b1; i <= vbox.b2; i++) {
            sum = 0;
            for (j = vbox.r1; j <= vbox.r2; j++) {
              for (k = vbox.g1; k <= vbox.g2; k++) {
                index = getColorIndex(j, k, i);
                sum += histo[index] || 0;
              }
            }
            total += sum;
            partialsum[i] = total;
          }
        }
        partialsum.forEach(function(d, i2) {
          lookaheadsum[i2] = total - d;
        });
        function doCut(color) {
          var dim1 = color + "1", dim2 = color + "2", left, right, vbox1, vbox2, d2, count2 = 0;
          for (i = vbox[dim1]; i <= vbox[dim2]; i++) {
            if (partialsum[i] > total / 2) {
              vbox1 = vbox.copy();
              vbox2 = vbox.copy();
              left = i - vbox[dim1];
              right = vbox[dim2] - i;
              if (left <= right)
                d2 = Math.min(vbox[dim2] - 1, ~~(i + right / 2));
              else
                d2 = Math.max(vbox[dim1], ~~(i - 1 - left / 2));
              while (!partialsum[d2])
                d2++;
              count2 = lookaheadsum[d2];
              while (!count2 && partialsum[d2 - 1])
                count2 = lookaheadsum[--d2];
              vbox1[dim2] = d2;
              vbox2[dim1] = vbox1[dim2] + 1;
              return [vbox1, vbox2];
            }
          }
        }
        return maxw == rw ? doCut("r") : maxw == gw ? doCut("g") : doCut("b");
      }
      function quantize2(pixels, maxcolors) {
        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {
          return false;
        }
        var histo = getHisto(pixels), histosize = 1 << 3 * sigbits;
        var nColors = 0;
        histo.forEach(function() {
          nColors++;
        });
        if (nColors <= maxcolors) {
        }
        var vbox = vboxFromPixels(pixels, histo), pq = new PQueue(function(a, b) {
          return pv.naturalOrder(a.count(), b.count());
        });
        pq.push(vbox);
        function iter(lh, target) {
          var ncolors = 1, niters = 0, vbox2;
          while (niters < maxIterations) {
            vbox2 = lh.pop();
            if (!vbox2.count()) {
              lh.push(vbox2);
              niters++;
              continue;
            }
            var vboxes = medianCutApply(histo, vbox2), vbox1 = vboxes[0], vbox22 = vboxes[1];
            if (!vbox1) {
              return;
            }
            lh.push(vbox1);
            if (vbox22) {
              lh.push(vbox22);
              ncolors++;
            }
            if (ncolors >= target)
              return;
            if (niters++ > maxIterations) {
              return;
            }
          }
        }
        iter(pq, fractByPopulations * maxcolors);
        var pq2 = new PQueue(function(a, b) {
          return pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume());
        });
        while (pq.size()) {
          pq2.push(pq.pop());
        }
        iter(pq2, maxcolors - pq2.size());
        var cmap = new CMap();
        while (pq2.size()) {
          cmap.push(pq2.pop());
        }
        return cmap;
      }
      return {
        quantize: quantize2
      };
    }();
    module.exports = MMCQ.quantize;
  }
});

// src/js/elements/Checkbox.ts
var Checkbox = class extends ElementBase {
  on(event) {
    return __async(this, null, function* () {
      var _a;
      if (["click"].includes(event.type)) {
        if (!this.value)
          yield this.addItem();
        this.value[`@${this.jsonldKey}`] = ((_a = this.definition["form:translatable"]) == null ? void 0 : _a._) ? event.target.checked.toString() : event.target.checked;
      }
    });
  }
  input() {
    var _a;
    const checked = (_a = this.value) == null ? void 0 : _a._;
    return html`
    <label class="switch">
      <input
        onclick=${(event) => this.on(event)}
        type="checkbox"
        .checked="${checked}"
      >
      <span class="slider"></span>
    </label>
    `;
  }
};

// src/js/elements/Color.ts
var Color = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.attributes.type = "color";
  }
};

// src/js/elements/Container.ts
var Container = class extends ElementBase {
  input() {
    return html``;
  }
};

// src/js/elements/Date.ts
var Date2 = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.attributes.type = "date";
  }
};

// src/js/elements/Details.ts
var Details = class extends ElementBase {
  constructor(...args) {
    super(...args);
    var _a, _b;
    const childValues = [...this.children.values()].flatMap(([fieldDefinition]) => {
      var _a2, _b2, _c;
      const childBinding = (_a2 = fieldDefinition["form:binding"]) == null ? void 0 : _a2._;
      if (childBinding && ((_b2 = this.parentValues[childBinding]) == null ? void 0 : _b2._)) {
        return (_c = this.parentValues[childBinding]) == null ? void 0 : _c.$;
      }
    }).filter((item) => item);
    if (!("open" in this.wrapperAttributes) && (this.mainBinding && ((_b = (_a = this.parentValues) == null ? void 0 : _a[this.mainBinding]) == null ? void 0 : _b.length) || !this.mainBinding && childValues.length)) {
      this.wrapperAttributes.open = true;
    }
  }
  input() {
    return html``;
  }
  wrapper() {
    return __async(this, arguments, function* (innerTemplates = [], isDisplayOnly = false) {
      if (isDisplayOnly) {
        const resolvedInnerTemplates = yield Promise.all(innerTemplates);
        const tester = document.createElement("div");
        yield render(tester, html`${resolvedInnerTemplates}`);
        const text = tester.innerText.replace(/\n|\r/g, "").trim();
        if (text === "")
          return html``;
      }
      const toggle = () => {
        this.wrapperAttributes.open = !this.wrapperAttributes.open;
      };
      const type = kebabize(this.constructor.name);
      return html`
    <details ref=${attributesDiff(this.wrapperAttributes)} type="${type}">
      <summary onclick=${toggle}>${this.label()}</summary>
      ${innerTemplates.length ? html`
        <div class="items">
          ${innerTemplates}
        </div>
      ` : ""}
    </div>`;
    });
  }
};

// src/js/vendor/comunica-browser.js
var Comunica = function(e) {
  var t2 = {};
  function r(n) {
    if (t2[n])
      return t2[n].exports;
    var i = t2[n] = {
      i: n,
      l: false,
      exports: {}
    };
    return e[n].call(i.exports, i, i.exports, r), i.l = true, i.exports;
  }
  return r.m = e, r.c = t2, r.d = function(e2, t3, n) {
    r.o(e2, t3) || Object.defineProperty(e2, t3, {
      enumerable: true,
      get: n
    });
  }, r.r = function(e2) {
    typeof Symbol != "undefined" && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(e2, "__esModule", {
      value: true
    });
  }, r.t = function(e2, t3) {
    if (1 & t3 && (e2 = r(e2)), 8 & t3)
      return e2;
    if (4 & t3 && typeof e2 == "object" && e2 && e2.__esModule)
      return e2;
    var n = Object.create(null);
    if (r.r(n), Object.defineProperty(n, "default", {
      enumerable: true,
      value: e2
    }), 2 & t3 && typeof e2 != "string")
      for (var i in e2)
        r.d(n, i, function(t4) {
          return e2[t4];
        }.bind(null, i));
    return n;
  }, r.n = function(e2) {
    var t3 = e2 && e2.__esModule ? function() {
      return e2.default;
    } : function() {
      return e2;
    };
    return r.d(t3, "a", t3), t3;
  }, r.o = function(e2, t3) {
    return Object.prototype.hasOwnProperty.call(e2, t3);
  }, r.p = "", r(r.s = 190);
}([function(e, t2, r) {
  "use strict";
  (function(e2) {
    var n = this && this.__createBinding || (Object.create ? function(e3, t3, r2, n2) {
      n2 === void 0 && (n2 = r2), Object.defineProperty(e3, n2, {
        enumerable: true,
        get: function() {
          return t3[r2];
        }
      });
    } : function(e3, t3, r2, n2) {
      n2 === void 0 && (n2 = r2), e3[n2] = t3[r2];
    }), i = this && this.__exportStar || function(e3, t3) {
      for (var r2 in e3)
        r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e3, r2);
    };
    Object.defineProperty(t2, "__esModule", {
      value: true
    }), e2 !== void 0 && e2.env.COMUNICA_DEBUG || (Error.stackTraceLimit = false), i(r(92), t2), i(r(194), t2), i(r(195), t2), i(r(196), t2), i(r(93), t2), i(r(197), t2);
  }).call(this, r(8));
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(94), t2), i(r(111), t2), i(r(217), t2), i(r(95), t2);
}, function(e, t2, r) {
  e.exports = i;
  var n = r(22).EventEmitter;
  function i() {
    n.call(this);
  }
  r(12)(i, n), i.Readable = r(71), i.Writable = r(224), i.Duplex = r(225), i.Transform = r(226), i.PassThrough = r(227), i.Stream = i, i.prototype.pipe = function(e2, t3) {
    var r2 = this;
    function i2(t4) {
      e2.writable && e2.write(t4) === false && r2.pause && r2.pause();
    }
    function a() {
      r2.readable && r2.resume && r2.resume();
    }
    r2.on("data", i2), e2.on("drain", a), e2._isStdio || t3 && t3.end === false || (r2.on("end", o), r2.on("close", u));
    var s = false;
    function o() {
      s || (s = true, e2.end());
    }
    function u() {
      s || (s = true, typeof e2.destroy == "function" && e2.destroy());
    }
    function c(e3) {
      if (l(), n.listenerCount(this, "error") === 0)
        throw e3;
    }
    function l() {
      r2.removeListener("data", i2), e2.removeListener("drain", a), r2.removeListener("end", o), r2.removeListener("close", u), r2.removeListener("error", c), e2.removeListener("error", c), r2.removeListener("end", l), r2.removeListener("close", l), e2.removeListener("close", l);
    }
    return r2.on("error", c), e2.on("error", c), r2.on("end", l), r2.on("close", l), e2.on("close", l), e2.emit("pipe", r2), e2;
  };
}, function(e, t2, r) {
  "use strict";
  r.r(t2), r.d(t2, "scheduleTask", function() {
    return s;
  }), r.d(t2, "getTaskScheduler", function() {
    return o;
  }), r.d(t2, "setTaskScheduler", function() {
    return u;
  }), r.d(t2, "INIT", function() {
    return c;
  }), r.d(t2, "OPEN", function() {
    return l;
  }), r.d(t2, "CLOSING", function() {
    return h;
  }), r.d(t2, "CLOSED", function() {
    return d;
  }), r.d(t2, "ENDED", function() {
    return p;
  }), r.d(t2, "DESTROYED", function() {
    return f;
  }), r.d(t2, "AsyncIterator", function() {
    return g;
  }), r.d(t2, "EmptyIterator", function() {
    return _;
  }), r.d(t2, "SingletonIterator", function() {
    return v;
  }), r.d(t2, "ArrayIterator", function() {
    return w;
  }), r.d(t2, "IntegerIterator", function() {
    return S;
  }), r.d(t2, "BufferedIterator", function() {
    return T;
  }), r.d(t2, "TransformIterator", function() {
    return E;
  }), r.d(t2, "SimpleTransformIterator", function() {
    return R;
  }), r.d(t2, "MultiTransformIterator", function() {
    return I;
  }), r.d(t2, "UnionIterator", function() {
    return N;
  }), r.d(t2, "ClonedIterator", function() {
    return C;
  }), r.d(t2, "wrap", function() {
    return j;
  }), r.d(t2, "empty", function() {
    return k;
  }), r.d(t2, "single", function() {
    return L;
  }), r.d(t2, "fromArray", function() {
    return M;
  }), r.d(t2, "union", function() {
    return F;
  }), r.d(t2, "range", function() {
    return B;
  });
  var n = r(22);
  const i = Promise.resolve(void 0);
  let a = function() {
    const e2 = typeof queueMicrotask == "function" ? queueMicrotask : (e3) => i.then(e3);
    if (typeof window == "undefined")
      return e2;
    let t3 = 0;
    return (r2) => {
      ++t3 < 100 ? e2(r2) : setTimeout(r2, t3 = 0);
    };
  }();
  function s(e2) {
    a(e2);
  }
  function o() {
    return a;
  }
  function u(e2) {
    a = e2;
  }
  const c = 1, l = 2, h = 4, d = 8, p = 16, f = 32;
  class g extends n.EventEmitter {
    constructor(e2 = l) {
      super(), this._readable = false, this._state = e2, this.on("newListener", m);
    }
    _changeState(e2, t3 = false) {
      const r2 = e2 > this._state && this._state < p;
      return r2 && (this._state = e2, e2 === p && (t3 ? a(() => this.emit("end")) : this.emit("end"))), r2;
    }
    read() {
      return null;
    }
    forEach(e2, t3) {
      this.on("data", t3 ? e2.bind(t3) : e2);
    }
    close() {
      this._changeState(d) && this._endAsync();
    }
    destroy(e2) {
      this.done || this._destroy(e2, (t3) => {
        (e2 = e2 || t3) && this.emit("error", e2), this._end(true);
      });
    }
    _destroy(e2, t3) {
      t3();
    }
    _end(e2 = false) {
      this._changeState(e2 ? f : p) && (this._readable = false, this.removeAllListeners("readable"), this.removeAllListeners("data"), this.removeAllListeners("end"));
    }
    _endAsync() {
      a(() => this._end());
    }
    get readable() {
      return this._readable;
    }
    set readable(e2) {
      e2 = Boolean(e2) && !this.done, this._readable !== e2 && (this._readable = e2, e2 && a(() => this.emit("readable")));
    }
    get closed() {
      return this._state >= h;
    }
    get ended() {
      return this._state === p;
    }
    get destroyed() {
      return this._state === f;
    }
    get done() {
      return this._state >= p;
    }
    toString() {
      const e2 = this._toStringDetails();
      return `[${this.constructor.name}${e2 ? " " + e2 : ""}]`;
    }
    _toStringDetails() {
      return "";
    }
    getProperty(e2, t3) {
      const r2 = this._properties;
      if (!t3)
        return r2 && r2[e2];
      if (r2 && e2 in r2)
        a(() => t3(r2[e2]));
      else {
        let r3;
        (r3 = this._propertyCallbacks) || (this._propertyCallbacks = r3 = Object.create(null)), e2 in r3 ? r3[e2].push(t3) : r3[e2] = [t3];
      }
    }
    setProperty(e2, t3) {
      (this._properties || (this._properties = Object.create(null)))[e2] = t3;
      const r2 = this._propertyCallbacks || {}, n2 = r2[e2];
      if (n2) {
        for (e2 in delete r2[e2], a(() => {
          for (const e3 of n2)
            e3(t3);
        }), r2)
          return;
        delete this._propertyCallbacks;
      }
    }
    getProperties() {
      const e2 = this._properties, t3 = {};
      for (const r2 in e2)
        t3[r2] = e2[r2];
      return t3;
    }
    setProperties(e2) {
      for (const t3 in e2)
        this.setProperty(t3, e2[t3]);
    }
    copyProperties(e2, t3) {
      for (const r2 of t3)
        e2.getProperty(r2, (e3) => this.setProperty(r2, e3));
    }
    transform(e2) {
      return new R(this, e2);
    }
    map(e2, t3) {
      return this.transform({
        map: t3 ? e2.bind(t3) : e2
      });
    }
    filter(e2, t3) {
      return this.transform({
        filter: t3 ? e2.bind(t3) : e2
      });
    }
    prepend(e2) {
      return this.transform({
        prepend: e2
      });
    }
    append(e2) {
      return this.transform({
        append: e2
      });
    }
    surround(e2, t3) {
      return this.transform({
        prepend: e2,
        append: t3
      });
    }
    skip(e2) {
      return this.transform({
        offset: e2
      });
    }
    take(e2) {
      return this.transform({
        limit: e2
      });
    }
    range(e2, t3) {
      return this.transform({
        offset: e2,
        limit: Math.max(t3 - e2 + 1, 0)
      });
    }
    clone() {
      return new C(this);
    }
  }
  function m(e2) {
    e2 === "data" && (this.removeListener("newListener", m), b(this, "readable", y), this.readable && a(() => y.call(this)));
  }
  function y() {
    let e2;
    for (; this.listenerCount("data") !== 0 && (e2 = this.read()) !== null; )
      this.emit("data", e2);
    this.listenerCount("data") !== 0 || this.done || (this.removeListener("readable", y), b(this, "newListener", m));
  }
  function b(e2, t3, r2) {
    e2.listeners(t3).includes(r2) || e2.on(t3, r2);
  }
  class _ extends g {
    constructor() {
      super(), this._changeState(p, true);
    }
  }
  class v extends g {
    constructor(e2) {
      super(), this._item = e2, e2 === null ? this.close() : this.readable = true;
    }
    read() {
      const e2 = this._item;
      return this._item = null, this.close(), e2;
    }
    _toStringDetails() {
      return this._item === null ? "" : `(${this._item})`;
    }
  }
  class w extends g {
    constructor(e2, {
      autoStart: t3 = true
    } = {}) {
      super();
      const r2 = e2 ? [...e2] : [];
      t3 !== false && r2.length === 0 ? this.close() : (this.readable = true, this._buffer = r2);
    }
    read() {
      let e2 = null;
      const t3 = this._buffer;
      return t3 && (t3.length !== 0 && (e2 = t3.shift()), t3.length === 0 && (delete this._buffer, this.close())), e2;
    }
    _toStringDetails() {
      return `(${this._buffer && this._buffer.length || 0})`;
    }
    _destroy(e2, t3) {
      delete this._buffer, t3();
    }
  }
  class S extends g {
    constructor({
      start: e2 = 0,
      step: t3 = 1,
      end: r2
    } = {}) {
      super(), Number.isFinite(e2) && (e2 = Math.trunc(e2)), this._next = e2, Number.isFinite(t3) && (t3 = Math.trunc(t3)), this._step = t3;
      const n2 = t3 >= 0, i2 = n2 ? 1 / 0 : -1 / 0;
      Number.isFinite(r2) ? r2 = Math.trunc(r2) : r2 !== -i2 && (r2 = i2), this._last = r2, !Number.isFinite(e2) || (n2 ? e2 > r2 : e2 < r2) ? this.close() : this.readable = true;
    }
    read() {
      if (this.closed)
        return null;
      const e2 = this._next, t3 = this._step, r2 = this._last, n2 = this._next += t3;
      return (t3 >= 0 ? n2 > r2 : n2 < r2) && this.close(), e2;
    }
    _toStringDetails() {
      return `(${this._next}...${this._last})`;
    }
  }
  class T extends g {
    constructor({
      maxBufferSize: e2 = 4,
      autoStart: t3 = true
    } = {}) {
      super(c), this._buffer = [], this._maxBufferSize = 4, this._reading = true, this._pushedCount = 0, this.maxBufferSize = e2, a(() => this._init(t3));
    }
    get maxBufferSize() {
      return this._maxBufferSize;
    }
    set maxBufferSize(e2) {
      e2 !== 1 / 0 && (e2 = Number.isFinite(e2) ? Math.max(Math.trunc(e2), 1) : 4), this._maxBufferSize !== e2 && (this._maxBufferSize = e2, this._state === l && this._fillBuffer());
    }
    _init(e2) {
      let t3 = false;
      this._reading = true, this._begin(() => {
        if (t3)
          throw new Error("done callback called multiple times");
        t3 = true, this._reading = false, this._changeState(l), e2 ? this._fillBufferAsync() : this.readable = true;
      });
    }
    _begin(e2) {
      e2();
    }
    read() {
      if (this.done)
        return null;
      const e2 = this._buffer;
      let t3;
      return e2.length !== 0 ? t3 = e2.shift() : (t3 = null, this.readable = false), !this._reading && e2.length < this._maxBufferSize && (this.closed ? e2.length || this._endAsync() : this._fillBufferAsync()), t3;
    }
    _read(e2, t3) {
      t3();
    }
    _push(e2) {
      this.done || (this._pushedCount++, this._buffer.push(e2), this.readable = true);
    }
    _fillBuffer() {
      let e2;
      this._reading || (this.closed ? this._completeClose() : (e2 = Math.min(this._maxBufferSize - this._buffer.length, 128)) > 0 && (this._pushedCount = 0, this._reading = true, this._read(e2, () => {
        if (!e2)
          throw new Error("done callback called multiple times");
        e2 = 0, this._reading = false, this.closed ? this._completeClose() : this._pushedCount && (this.readable = true, this._buffer.length < this._maxBufferSize / 2 && this._fillBufferAsync());
      })));
    }
    _fillBufferAsync() {
      this._reading || (this._reading = true, a(() => {
        this._reading = false, this._fillBuffer();
      }));
    }
    close() {
      this._reading ? this._changeState(h) : this._completeClose();
    }
    _completeClose() {
      this._changeState(d) && (this._reading = true, this._flush(() => {
        if (!this._reading)
          throw new Error("done callback called multiple times");
        this._reading = false, this._buffer.length || this._endAsync();
      }));
    }
    _destroy(e2, t3) {
      this._buffer = [], t3();
    }
    _flush(e2) {
      e2();
    }
    _toStringDetails() {
      const e2 = this._buffer, {
        length: t3
      } = e2;
      return `{${t3 ? `next: ${e2[0]}, ` : ""}buffer: ${t3}}`;
    }
  }
  class E extends T {
    constructor(e2, t3 = e2 || {}) {
      super(t3), this._boundPush = (e3) => this._push(e3), H(e2) || (e2 = t3.source), this._sourceStarted = t3.autoStart !== false, U(e2) ? this.source = e2 : e2 && (this._createSource = V(e2) ? () => e2 : e2, this._sourceStarted && this._loadSourceAsync()), this._optional = Boolean(t3.optional), this._destroySource = t3.destroySource !== false;
    }
    get source() {
      return q(this._createSource) && this._loadSourceAsync(), this._source;
    }
    set source(e2) {
      const t3 = this._source = this._validateSource(e2);
      t3._destination = this, t3.done ? this.close() : (t3.on("end", O), t3.on("readable", A), t3.on("error", x));
    }
    _loadSourceAsync() {
      q(this._createSource) && (Promise.resolve(this._createSource()).then((e2) => {
        delete this._createSource, this.source = e2, this._fillBuffer();
      }, (e2) => this.emit("error", e2)), this._createSource = null);
    }
    _validateSource(e2, t3 = false) {
      if (this._source || this._createSource !== void 0)
        throw new Error("The source cannot be changed after it has been set");
      if (!e2 || !q(e2.read) || !q(e2.on))
        throw new Error("Invalid source: " + e2);
      if (!t3 && e2._destination)
        throw new Error("The source already has a destination");
      return e2;
    }
    read() {
      return this._sourceStarted || (this._sourceStarted = true), super.read();
    }
    _read(e2, t3) {
      const r2 = () => {
        this._pushedCount < e2 && !this.closed ? a(() => this._readAndTransform(r2, t3)) : t3();
      };
      this._readAndTransform(r2, t3);
    }
    _readAndTransform(e2, t3) {
      let r2;
      const n2 = this.source;
      !n2 || n2.done || (r2 = n2.read()) === null ? t3() : this._optional ? this._optionalTransform(r2, e2) : this._transform(r2, e2, this._boundPush);
    }
    _optionalTransform(e2, t3) {
      const r2 = this._pushedCount;
      this._transform(e2, () => {
        r2 === this._pushedCount && this._push(e2), t3();
      }, this._boundPush);
    }
    _transform(e2, t3, r2) {
      r2(e2), t3();
    }
    _closeWhenDone() {
      this.close();
    }
    _end(e2) {
      const t3 = this._source;
      t3 && (t3.removeListener("end", O), t3.removeListener("error", x), t3.removeListener("readable", A), delete t3._destination, this._destroySource && t3.destroy()), super._end(e2);
    }
  }
  function x(e2) {
    this._destination.emit("error", e2);
  }
  function O() {
    this._destination._closeWhenDone();
  }
  function A() {
    this._destination._sourceStarted !== false && this._destination._fillBuffer();
  }
  class R extends E {
    constructor(e2, t3) {
      if (super(e2, t3), this._offset = 0, this._limit = 1 / 0, this._filter = (e3) => true, t3 = t3 || (H(e2) ? null : e2)) {
        const e3 = q(t3) ? t3 : t3.transform, {
          limit: r2,
          offset: n2,
          filter: i2,
          map: a2,
          prepend: s2,
          append: o2
        } = t3;
        n2 === 1 / 0 || r2 === -1 / 0 ? this._limit = 0 : (Number.isFinite(n2) && (this._offset = Math.max(Math.trunc(n2), 0)), Number.isFinite(r2) && (this._limit = Math.max(Math.trunc(r2), 0)), q(i2) && (this._filter = i2), q(a2) && (this._map = a2), this._transform = q(e3) ? e3 : null), s2 && (this._prepender = U(s2) ? s2 : M(s2)), o2 && (this._appender = U(o2) ? o2 : M(o2));
      }
    }
    _read(e2, t3) {
      const r2 = () => this._readAndTransformSimple(e2, n2, t3);
      function n2() {
        a(r2);
      }
      this._readAndTransformSimple(e2, n2, t3);
    }
    _readAndTransformSimple(e2, t3, r2) {
      let n2;
      const {
        source: i2
      } = this;
      if (i2 && !i2.done) {
        for (this._limit === 0 && this.close(); !this.closed && this._pushedCount < e2 && (n2 = i2.read()) !== null; ) {
          if (!this._filter(n2) || this._offset !== 0 && this._offset--)
            continue;
          const e3 = this._map === void 0 ? n2 : this._map(n2);
          if (e3 === null)
            this._optional && this._push(n2);
          else {
            if (q(this._transform))
              return void (this._optional ? this._optionalTransform(e3, t3) : this._transform(e3, t3, this._boundPush));
            this._push(e3);
          }
          --this._limit == 0 && this.close();
        }
        r2();
      } else
        r2();
    }
    _begin(e2) {
      this._insert(this._prepender, e2), delete this._prepender;
    }
    _flush(e2) {
      this._insert(this._appender, e2), delete this._appender;
    }
    _insert(e2, t3) {
      const r2 = (e3) => this._push(e3);
      !e2 || e2.done ? t3() : (e2.on("data", r2), e2.on("end", function n2() {
        e2.removeListener("data", r2), e2.removeListener("end", n2), t3();
      }));
    }
  }
  class I extends E {
    constructor(e2, t3) {
      if (super(e2, t3), this._transformerQueue = [], t3) {
        const e3 = q(t3) ? t3 : t3.multiTransform;
        e3 && (this._createTransformer = e3);
      }
    }
    _read(e2, t3) {
      const r2 = this._transformerQueue, n2 = this._optional;
      let i2, a2;
      for (; (i2 = r2[0]) && i2.transformer.done; ) {
        n2 && i2.item !== null && (e2--, this._push(i2.item)), r2.shift();
        const {
          transformer: t4
        } = i2;
        t4.removeListener("end", A), t4.removeListener("readable", A), t4.removeListener("error", x);
      }
      const {
        source: s2
      } = this;
      for (; s2 && !s2.done && r2.length < this.maxBufferSize && (a2 = s2.read(), a2 !== null); ) {
        const e3 = this._createTransformer(a2) || new _();
        e3._destination = this, e3.on("end", A), e3.on("readable", A), e3.on("error", x), r2.push({
          transformer: e3,
          item: a2
        });
      }
      if (i2 = r2[0], i2) {
        const {
          transformer: t4
        } = i2;
        for (; e2-- > 0 && (a2 = t4.read()) !== null; )
          this._push(a2), n2 && (i2.item = null);
      } else
        s2 && s2.done && this.close();
      t3();
    }
    _createTransformer(e2) {
      return new v(e2);
    }
    _closeWhenDone() {
      this._transformerQueue.length || this.close();
    }
  }
  class N extends T {
    constructor(e2, t3 = {}) {
      super(t3), this._sources = [], this._currentSource = -1;
      const r2 = t3.autoStart !== false;
      if (U(e2))
        e2.on("error", (e3) => this.emit("error", e3)), this._pending = {
          sources: e2
        }, r2 && this._loadSources();
      else if (Array.isArray(e2) && e2.length > 0)
        for (const t4 of e2)
          this._addSource(t4);
      else
        r2 && this.close();
    }
    _loadSources() {
      const e2 = this._pending.sources;
      delete this._pending.sources, e2.done ? (delete this._pending, this.close()) : (e2.on("data", (e3) => {
        this._addSource(e3), this._fillBufferAsync();
      }), e2.on("end", () => {
        delete this._pending, this._fillBuffer();
      }));
    }
    _addSource(e2) {
      e2.done || (this._sources.push(e2), e2._destination = this, e2.on("error", x), e2.on("readable", A), e2.on("end", P));
    }
    _removeEmptySources() {
      this._sources = this._sources.filter((e2, t3) => (e2.done && t3 <= this._currentSource && this._currentSource--, !e2.done)), this._fillBuffer();
    }
    _read(e2, t3) {
      var r2;
      ((r2 = this._pending) === null || r2 === void 0 ? void 0 : r2.sources) && this._loadSources();
      let n2, i2 = 0;
      for (; i2 !== (i2 = e2); )
        for (let t4 = 0; t4 < this._sources.length && e2 > 0; t4++) {
          this._currentSource = (this._currentSource + 1) % this._sources.length;
          (n2 = this._sources[this._currentSource].read()) !== null && (e2--, this._push(n2));
        }
      this._pending || this._sources.length !== 0 || this.close(), t3();
    }
  }
  function P() {
    this._destination._removeEmptySources();
  }
  class C extends E {
    constructor(e2) {
      super(e2, {
        autoStart: false
      }), this._readPosition = 0, this._reading = false;
    }
    _init() {
    }
    close() {
      g.prototype.close.call(this);
    }
    get source() {
      return super.source;
    }
    set source(e2) {
      const t3 = this._source = this._validateSource(e2), r2 = t3 && t3._destination || (t3._destination = new D(t3));
      r2.endsAt(0) ? this.close() : (r2.register(this), r2.readAt(0) !== null && (this.readable = true));
      const n2 = this._propertyCallbacks;
      for (const e3 in n2) {
        const t4 = n2[e3];
        for (const r3 of t4)
          this._getSourceProperty(e3, r3);
      }
    }
    _validateSource(e2, t3 = false) {
      const r2 = e2 && e2._destination;
      return super._validateSource(e2, !r2 || r2 instanceof D);
    }
    getProperty(e2, t3) {
      const {
        source: r2
      } = this, n2 = this._properties, i2 = n2 && e2 in n2;
      if (!t3)
        return i2 ? n2 && n2[e2] : r2 && r2.getProperty(e2);
      super.getProperty(e2, t3), r2 && !i2 && this._getSourceProperty(e2, t3);
    }
    _getSourceProperty(e2, t3) {
      this.source.getProperty(e2, (r2) => {
        this._properties && e2 in this._properties || t3(r2);
      });
    }
    getProperties() {
      const e2 = this.source ? this.source.getProperties() : {}, t3 = this._properties;
      for (const r2 in t3)
        e2[r2] = t3[r2];
      return e2;
    }
    _toStringDetails() {
      return `{source: ${this.source ? this.source.toString() : "none"}}`;
    }
    read() {
      const e2 = this.source;
      let t3 = null;
      if (!this.done && e2) {
        const r2 = e2._destination;
        (t3 = r2.readAt(this._readPosition)) !== null ? this._readPosition++ : this.readable = false, r2.endsAt(this._readPosition) && this.close();
      }
      return t3;
    }
    _end(e2) {
      const t3 = this.source, r2 = t3 == null ? void 0 : t3._destination;
      r2 && r2.unregister(this), T.prototype._end.call(this, e2);
    }
  }
  class D {
    constructor(e2) {
      if (this._clones = null, this._history = [], this._source = e2, !e2.done) {
        const t3 = () => {
          for (const e3 of this._clones)
            e3.readable = true;
        }, r2 = (e3) => {
          for (const t4 of this._clones)
            t4.emit("error", e3);
        }, n2 = () => {
          for (const e3 of this._clones)
            e3._readPosition === this._history.length && e3.close();
          this._clones = null, e2.removeListener("end", n2), e2.removeListener("error", r2), e2.removeListener("readable", t3);
        };
        this._clones = [], e2.on("end", n2), e2.on("error", r2), e2.on("readable", t3);
      }
    }
    register(e2) {
      this._clones !== null && this._clones.push(e2);
    }
    unregister(e2) {
      this._clones !== null && (this._clones = this._clones.filter((t3) => t3 !== e2));
    }
    readAt(e2) {
      let t3 = null;
      return e2 < this._history.length ? t3 = this._history[e2] : this._source.done || (t3 = this._source.read()) === null || (this._history[e2] = t3), t3;
    }
    endsAt(e2) {
      return this._source.done && this._history.length === e2;
    }
  }
  function j(e2, t3) {
    return new E(e2, t3);
  }
  function k() {
    return new _();
  }
  function L(e2) {
    return new v(e2);
  }
  function M(e2) {
    return new w(e2);
  }
  function F(e2) {
    return new N(e2);
  }
  function B(e2, t3, r2) {
    return new S({
      start: e2,
      end: t3,
      step: r2
    });
  }
  function q(e2) {
    return typeof e2 == "function";
  }
  function U(e2) {
    return e2 && typeof e2.on == "function";
  }
  function V(e2) {
    return e2 && typeof e2.then == "function";
  }
  function H(e2) {
    return e2 && (U(e2) || V(e2) || q(e2));
  }
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.termToString = t2.stringToTerm = t2.stringQuadToQuad = t2.quadToStringQuad = t2.getLiteralValue = t2.getLiteralType = t2.getLiteralLanguage = void 0;
  const n = r(198);
  Object.defineProperty(t2, "getLiteralLanguage", {
    enumerable: true,
    get: function() {
      return n.getLiteralLanguage;
    }
  }), Object.defineProperty(t2, "getLiteralType", {
    enumerable: true,
    get: function() {
      return n.getLiteralType;
    }
  }), Object.defineProperty(t2, "getLiteralValue", {
    enumerable: true,
    get: function() {
      return n.getLiteralValue;
    }
  }), Object.defineProperty(t2, "quadToStringQuad", {
    enumerable: true,
    get: function() {
      return n.quadToStringQuad;
    }
  }), Object.defineProperty(t2, "stringQuadToQuad", {
    enumerable: true,
    get: function() {
      return n.stringQuadToQuad;
    }
  }), Object.defineProperty(t2, "stringToTerm", {
    enumerable: true,
    get: function() {
      return n.stringToTerm;
    }
  }), Object.defineProperty(t2, "termToString", {
    enumerable: true,
    get: function() {
      return n.termToString;
    }
  });
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(96), t2), i(r(199), t2), i(r(97), t2), i(r(98), t2), i(r(68), t2), i(r(99), t2), i(r(100), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = t2.toSparqlJs = t2.toSparql = t2.Factory = t2.Algebra = t2.translate = void 0;
  const n = r(200);
  t2.translate = n.default;
  const i = r(52);
  t2.Algebra = i;
  const a = r(53);
  t2.Factory = a.default;
  const s = r(216);
  Object.defineProperty(t2, "toSparql", {
    enumerable: true,
    get: function() {
      return s.toSparql;
    }
  }), Object.defineProperty(t2, "toSparqlJs", {
    enumerable: true,
    get: function() {
      return s.toSparqlJs;
    }
  });
  const o = r(70);
  t2.Util = o.default;
}, function(e, t2, r) {
  "use strict";
  var n = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", i = "http://www.w3.org/2001/XMLSchema#", a = "http://www.w3.org/2000/10/swap/";
  t2.a = {
    xsd: {
      decimal: i + "decimal",
      boolean: i + "boolean",
      double: i + "double",
      integer: i + "integer",
      string: i + "string"
    },
    rdf: {
      type: n + "type",
      nil: n + "nil",
      first: n + "first",
      rest: n + "rest",
      langString: n + "langString"
    },
    owl: {
      sameAs: "http://www.w3.org/2002/07/owl#sameAs"
    },
    r: {
      forSome: a + "reify#forSome",
      forAll: a + "reify#forAll"
    },
    log: {
      implies: a + "log#implies"
    }
  };
}, function(e, t2) {
  var r, n, i = e.exports = {};
  function a() {
    throw new Error("setTimeout has not been defined");
  }
  function s() {
    throw new Error("clearTimeout has not been defined");
  }
  function o(e2) {
    if (r === setTimeout)
      return setTimeout(e2, 0);
    if ((r === a || !r) && setTimeout)
      return r = setTimeout, setTimeout(e2, 0);
    try {
      return r(e2, 0);
    } catch (t3) {
      try {
        return r.call(null, e2, 0);
      } catch (t4) {
        return r.call(this, e2, 0);
      }
    }
  }
  !function() {
    try {
      r = typeof setTimeout == "function" ? setTimeout : a;
    } catch (e2) {
      r = a;
    }
    try {
      n = typeof clearTimeout == "function" ? clearTimeout : s;
    } catch (e2) {
      n = s;
    }
  }();
  var u, c = [], l = false, h = -1;
  function d() {
    l && u && (l = false, u.length ? c = u.concat(c) : h = -1, c.length && p());
  }
  function p() {
    if (!l) {
      var e2 = o(d);
      l = true;
      for (var t3 = c.length; t3; ) {
        for (u = c, c = []; ++h < t3; )
          u && u[h].run();
        h = -1, t3 = c.length;
      }
      u = null, l = false, function(e3) {
        if (n === clearTimeout)
          return clearTimeout(e3);
        if ((n === s || !n) && clearTimeout)
          return n = clearTimeout, clearTimeout(e3);
        try {
          n(e3);
        } catch (t4) {
          try {
            return n.call(null, e3);
          } catch (t5) {
            return n.call(this, e3);
          }
        }
      }(e2);
    }
  }
  function f(e2, t3) {
    this.fun = e2, this.array = t3;
  }
  function g() {
  }
  i.nextTick = function(e2) {
    var t3 = new Array(arguments.length - 1);
    if (arguments.length > 1)
      for (var r2 = 1; r2 < arguments.length; r2++)
        t3[r2 - 1] = arguments[r2];
    c.push(new f(e2, t3)), c.length !== 1 || l || o(p);
  }, f.prototype.run = function() {
    this.fun.apply(null, this.array);
  }, i.title = "browser", i.browser = true, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = g, i.addListener = g, i.once = g, i.off = g, i.removeListener = g, i.removeAllListeners = g, i.emit = g, i.prependListener = g, i.prependOnceListener = g, i.listeners = function(e2) {
    return [];
  }, i.binding = function(e2) {
    throw new Error("process.binding is not supported");
  }, i.cwd = function() {
    return "/";
  }, i.chdir = function(e2) {
    throw new Error("process.chdir is not supported");
  }, i.umask = function() {
    return 0;
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(149), t2), i(r(47), t2), i(r(150), t2), i(r(333), t2), i(r(334), t2), i(r(152), t2), i(r(83), t2);
}, function(e, t2) {
  var r;
  r = function() {
    return this;
  }();
  try {
    r = r || new Function("return this")();
  } catch (e2) {
    typeof window == "object" && (r = window);
  }
  e.exports = r;
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    var n = r(202), i = r(203), a = r(103);
    function s() {
      return u.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
    }
    function o(e3, t3) {
      if (s() < t3)
        throw new RangeError("Invalid typed array length");
      return u.TYPED_ARRAY_SUPPORT ? (e3 = new Uint8Array(t3)).__proto__ = u.prototype : (e3 === null && (e3 = new u(t3)), e3.length = t3), e3;
    }
    function u(e3, t3, r2) {
      if (!(u.TYPED_ARRAY_SUPPORT || this instanceof u))
        return new u(e3, t3, r2);
      if (typeof e3 == "number") {
        if (typeof t3 == "string")
          throw new Error("If encoding is specified then the first argument must be a string");
        return h(this, e3);
      }
      return c(this, e3, t3, r2);
    }
    function c(e3, t3, r2, n2) {
      if (typeof t3 == "number")
        throw new TypeError('"value" argument must not be a number');
      return typeof ArrayBuffer != "undefined" && t3 instanceof ArrayBuffer ? function(e4, t4, r3, n3) {
        if (t4.byteLength, r3 < 0 || t4.byteLength < r3)
          throw new RangeError("'offset' is out of bounds");
        if (t4.byteLength < r3 + (n3 || 0))
          throw new RangeError("'length' is out of bounds");
        t4 = r3 === void 0 && n3 === void 0 ? new Uint8Array(t4) : n3 === void 0 ? new Uint8Array(t4, r3) : new Uint8Array(t4, r3, n3);
        u.TYPED_ARRAY_SUPPORT ? (e4 = t4).__proto__ = u.prototype : e4 = d(e4, t4);
        return e4;
      }(e3, t3, r2, n2) : typeof t3 == "string" ? function(e4, t4, r3) {
        typeof r3 == "string" && r3 !== "" || (r3 = "utf8");
        if (!u.isEncoding(r3))
          throw new TypeError('"encoding" must be a valid string encoding');
        var n3 = 0 | f(t4, r3), i2 = (e4 = o(e4, n3)).write(t4, r3);
        i2 !== n3 && (e4 = e4.slice(0, i2));
        return e4;
      }(e3, t3, r2) : function(e4, t4) {
        if (u.isBuffer(t4)) {
          var r3 = 0 | p(t4.length);
          return (e4 = o(e4, r3)).length === 0 || t4.copy(e4, 0, 0, r3), e4;
        }
        if (t4) {
          if (typeof ArrayBuffer != "undefined" && t4.buffer instanceof ArrayBuffer || "length" in t4)
            return typeof t4.length != "number" || (n3 = t4.length) != n3 ? o(e4, 0) : d(e4, t4);
          if (t4.type === "Buffer" && a(t4.data))
            return d(e4, t4.data);
        }
        var n3;
        throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
      }(e3, t3);
    }
    function l(e3) {
      if (typeof e3 != "number")
        throw new TypeError('"size" argument must be a number');
      if (e3 < 0)
        throw new RangeError('"size" argument must not be negative');
    }
    function h(e3, t3) {
      if (l(t3), e3 = o(e3, t3 < 0 ? 0 : 0 | p(t3)), !u.TYPED_ARRAY_SUPPORT)
        for (var r2 = 0; r2 < t3; ++r2)
          e3[r2] = 0;
      return e3;
    }
    function d(e3, t3) {
      var r2 = t3.length < 0 ? 0 : 0 | p(t3.length);
      e3 = o(e3, r2);
      for (var n2 = 0; n2 < r2; n2 += 1)
        e3[n2] = 255 & t3[n2];
      return e3;
    }
    function p(e3) {
      if (e3 >= s())
        throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + s().toString(16) + " bytes");
      return 0 | e3;
    }
    function f(e3, t3) {
      if (u.isBuffer(e3))
        return e3.length;
      if (typeof ArrayBuffer != "undefined" && typeof ArrayBuffer.isView == "function" && (ArrayBuffer.isView(e3) || e3 instanceof ArrayBuffer))
        return e3.byteLength;
      typeof e3 != "string" && (e3 = "" + e3);
      var r2 = e3.length;
      if (r2 === 0)
        return 0;
      for (var n2 = false; ; )
        switch (t3) {
          case "ascii":
          case "latin1":
          case "binary":
            return r2;
          case "utf8":
          case "utf-8":
          case void 0:
            return q(e3).length;
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return 2 * r2;
          case "hex":
            return r2 >>> 1;
          case "base64":
            return U(e3).length;
          default:
            if (n2)
              return q(e3).length;
            t3 = ("" + t3).toLowerCase(), n2 = true;
        }
    }
    function g(e3, t3, r2) {
      var n2 = false;
      if ((t3 === void 0 || t3 < 0) && (t3 = 0), t3 > this.length)
        return "";
      if ((r2 === void 0 || r2 > this.length) && (r2 = this.length), r2 <= 0)
        return "";
      if ((r2 >>>= 0) <= (t3 >>>= 0))
        return "";
      for (e3 || (e3 = "utf8"); ; )
        switch (e3) {
          case "hex":
            return I(this, t3, r2);
          case "utf8":
          case "utf-8":
            return O(this, t3, r2);
          case "ascii":
            return A(this, t3, r2);
          case "latin1":
          case "binary":
            return R(this, t3, r2);
          case "base64":
            return x(this, t3, r2);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return N(this, t3, r2);
          default:
            if (n2)
              throw new TypeError("Unknown encoding: " + e3);
            e3 = (e3 + "").toLowerCase(), n2 = true;
        }
    }
    function m(e3, t3, r2) {
      var n2 = e3[t3];
      e3[t3] = e3[r2], e3[r2] = n2;
    }
    function y(e3, t3, r2, n2, i2) {
      if (e3.length === 0)
        return -1;
      if (typeof r2 == "string" ? (n2 = r2, r2 = 0) : r2 > 2147483647 ? r2 = 2147483647 : r2 < -2147483648 && (r2 = -2147483648), r2 = +r2, isNaN(r2) && (r2 = i2 ? 0 : e3.length - 1), r2 < 0 && (r2 = e3.length + r2), r2 >= e3.length) {
        if (i2)
          return -1;
        r2 = e3.length - 1;
      } else if (r2 < 0) {
        if (!i2)
          return -1;
        r2 = 0;
      }
      if (typeof t3 == "string" && (t3 = u.from(t3, n2)), u.isBuffer(t3))
        return t3.length === 0 ? -1 : b(e3, t3, r2, n2, i2);
      if (typeof t3 == "number")
        return t3 &= 255, u.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf == "function" ? i2 ? Uint8Array.prototype.indexOf.call(e3, t3, r2) : Uint8Array.prototype.lastIndexOf.call(e3, t3, r2) : b(e3, [t3], r2, n2, i2);
      throw new TypeError("val must be string, number or Buffer");
    }
    function b(e3, t3, r2, n2, i2) {
      var a2, s2 = 1, o2 = e3.length, u2 = t3.length;
      if (n2 !== void 0 && ((n2 = String(n2).toLowerCase()) === "ucs2" || n2 === "ucs-2" || n2 === "utf16le" || n2 === "utf-16le")) {
        if (e3.length < 2 || t3.length < 2)
          return -1;
        s2 = 2, o2 /= 2, u2 /= 2, r2 /= 2;
      }
      function c2(e4, t4) {
        return s2 === 1 ? e4[t4] : e4.readUInt16BE(t4 * s2);
      }
      if (i2) {
        var l2 = -1;
        for (a2 = r2; a2 < o2; a2++)
          if (c2(e3, a2) === c2(t3, l2 === -1 ? 0 : a2 - l2)) {
            if (l2 === -1 && (l2 = a2), a2 - l2 + 1 === u2)
              return l2 * s2;
          } else
            l2 !== -1 && (a2 -= a2 - l2), l2 = -1;
      } else
        for (r2 + u2 > o2 && (r2 = o2 - u2), a2 = r2; a2 >= 0; a2--) {
          for (var h2 = true, d2 = 0; d2 < u2; d2++)
            if (c2(e3, a2 + d2) !== c2(t3, d2)) {
              h2 = false;
              break;
            }
          if (h2)
            return a2;
        }
      return -1;
    }
    function _(e3, t3, r2, n2) {
      r2 = Number(r2) || 0;
      var i2 = e3.length - r2;
      n2 ? (n2 = Number(n2)) > i2 && (n2 = i2) : n2 = i2;
      var a2 = t3.length;
      if (a2 % 2 != 0)
        throw new TypeError("Invalid hex string");
      n2 > a2 / 2 && (n2 = a2 / 2);
      for (var s2 = 0; s2 < n2; ++s2) {
        var o2 = parseInt(t3.substr(2 * s2, 2), 16);
        if (isNaN(o2))
          return s2;
        e3[r2 + s2] = o2;
      }
      return s2;
    }
    function v(e3, t3, r2, n2) {
      return V(q(t3, e3.length - r2), e3, r2, n2);
    }
    function w(e3, t3, r2, n2) {
      return V(function(e4) {
        for (var t4 = [], r3 = 0; r3 < e4.length; ++r3)
          t4.push(255 & e4.charCodeAt(r3));
        return t4;
      }(t3), e3, r2, n2);
    }
    function S(e3, t3, r2, n2) {
      return w(e3, t3, r2, n2);
    }
    function T(e3, t3, r2, n2) {
      return V(U(t3), e3, r2, n2);
    }
    function E(e3, t3, r2, n2) {
      return V(function(e4, t4) {
        for (var r3, n3, i2, a2 = [], s2 = 0; s2 < e4.length && !((t4 -= 2) < 0); ++s2)
          r3 = e4.charCodeAt(s2), n3 = r3 >> 8, i2 = r3 % 256, a2.push(i2), a2.push(n3);
        return a2;
      }(t3, e3.length - r2), e3, r2, n2);
    }
    function x(e3, t3, r2) {
      return t3 === 0 && r2 === e3.length ? n.fromByteArray(e3) : n.fromByteArray(e3.slice(t3, r2));
    }
    function O(e3, t3, r2) {
      r2 = Math.min(e3.length, r2);
      for (var n2 = [], i2 = t3; i2 < r2; ) {
        var a2, s2, o2, u2, c2 = e3[i2], l2 = null, h2 = c2 > 239 ? 4 : c2 > 223 ? 3 : c2 > 191 ? 2 : 1;
        if (i2 + h2 <= r2)
          switch (h2) {
            case 1:
              c2 < 128 && (l2 = c2);
              break;
            case 2:
              (192 & (a2 = e3[i2 + 1])) == 128 && (u2 = (31 & c2) << 6 | 63 & a2) > 127 && (l2 = u2);
              break;
            case 3:
              a2 = e3[i2 + 1], s2 = e3[i2 + 2], (192 & a2) == 128 && (192 & s2) == 128 && (u2 = (15 & c2) << 12 | (63 & a2) << 6 | 63 & s2) > 2047 && (u2 < 55296 || u2 > 57343) && (l2 = u2);
              break;
            case 4:
              a2 = e3[i2 + 1], s2 = e3[i2 + 2], o2 = e3[i2 + 3], (192 & a2) == 128 && (192 & s2) == 128 && (192 & o2) == 128 && (u2 = (15 & c2) << 18 | (63 & a2) << 12 | (63 & s2) << 6 | 63 & o2) > 65535 && u2 < 1114112 && (l2 = u2);
          }
        l2 === null ? (l2 = 65533, h2 = 1) : l2 > 65535 && (l2 -= 65536, n2.push(l2 >>> 10 & 1023 | 55296), l2 = 56320 | 1023 & l2), n2.push(l2), i2 += h2;
      }
      return function(e4) {
        var t4 = e4.length;
        if (t4 <= 4096)
          return String.fromCharCode.apply(String, e4);
        var r3 = "", n3 = 0;
        for (; n3 < t4; )
          r3 += String.fromCharCode.apply(String, e4.slice(n3, n3 += 4096));
        return r3;
      }(n2);
    }
    t2.Buffer = u, t2.SlowBuffer = function(e3) {
      +e3 != e3 && (e3 = 0);
      return u.alloc(+e3);
    }, t2.INSPECT_MAX_BYTES = 50, u.TYPED_ARRAY_SUPPORT = e2.TYPED_ARRAY_SUPPORT !== void 0 ? e2.TYPED_ARRAY_SUPPORT : function() {
      try {
        var e3 = new Uint8Array(1);
        return e3.__proto__ = {
          __proto__: Uint8Array.prototype,
          foo: function() {
            return 42;
          }
        }, e3.foo() === 42 && typeof e3.subarray == "function" && e3.subarray(1, 1).byteLength === 0;
      } catch (e4) {
        return false;
      }
    }(), t2.kMaxLength = s(), u.poolSize = 8192, u._augment = function(e3) {
      return e3.__proto__ = u.prototype, e3;
    }, u.from = function(e3, t3, r2) {
      return c(null, e3, t3, r2);
    }, u.TYPED_ARRAY_SUPPORT && (u.prototype.__proto__ = Uint8Array.prototype, u.__proto__ = Uint8Array, typeof Symbol != "undefined" && Symbol.species && u[Symbol.species] === u && Object.defineProperty(u, Symbol.species, {
      value: null,
      configurable: true
    })), u.alloc = function(e3, t3, r2) {
      return function(e4, t4, r3, n2) {
        return l(t4), t4 <= 0 ? o(e4, t4) : r3 !== void 0 ? typeof n2 == "string" ? o(e4, t4).fill(r3, n2) : o(e4, t4).fill(r3) : o(e4, t4);
      }(null, e3, t3, r2);
    }, u.allocUnsafe = function(e3) {
      return h(null, e3);
    }, u.allocUnsafeSlow = function(e3) {
      return h(null, e3);
    }, u.isBuffer = function(e3) {
      return !(e3 == null || !e3._isBuffer);
    }, u.compare = function(e3, t3) {
      if (!u.isBuffer(e3) || !u.isBuffer(t3))
        throw new TypeError("Arguments must be Buffers");
      if (e3 === t3)
        return 0;
      for (var r2 = e3.length, n2 = t3.length, i2 = 0, a2 = Math.min(r2, n2); i2 < a2; ++i2)
        if (e3[i2] !== t3[i2]) {
          r2 = e3[i2], n2 = t3[i2];
          break;
        }
      return r2 < n2 ? -1 : n2 < r2 ? 1 : 0;
    }, u.isEncoding = function(e3) {
      switch (String(e3).toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "latin1":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return true;
        default:
          return false;
      }
    }, u.concat = function(e3, t3) {
      if (!a(e3))
        throw new TypeError('"list" argument must be an Array of Buffers');
      if (e3.length === 0)
        return u.alloc(0);
      var r2;
      if (t3 === void 0)
        for (t3 = 0, r2 = 0; r2 < e3.length; ++r2)
          t3 += e3[r2].length;
      var n2 = u.allocUnsafe(t3), i2 = 0;
      for (r2 = 0; r2 < e3.length; ++r2) {
        var s2 = e3[r2];
        if (!u.isBuffer(s2))
          throw new TypeError('"list" argument must be an Array of Buffers');
        s2.copy(n2, i2), i2 += s2.length;
      }
      return n2;
    }, u.byteLength = f, u.prototype._isBuffer = true, u.prototype.swap16 = function() {
      var e3 = this.length;
      if (e3 % 2 != 0)
        throw new RangeError("Buffer size must be a multiple of 16-bits");
      for (var t3 = 0; t3 < e3; t3 += 2)
        m(this, t3, t3 + 1);
      return this;
    }, u.prototype.swap32 = function() {
      var e3 = this.length;
      if (e3 % 4 != 0)
        throw new RangeError("Buffer size must be a multiple of 32-bits");
      for (var t3 = 0; t3 < e3; t3 += 4)
        m(this, t3, t3 + 3), m(this, t3 + 1, t3 + 2);
      return this;
    }, u.prototype.swap64 = function() {
      var e3 = this.length;
      if (e3 % 8 != 0)
        throw new RangeError("Buffer size must be a multiple of 64-bits");
      for (var t3 = 0; t3 < e3; t3 += 8)
        m(this, t3, t3 + 7), m(this, t3 + 1, t3 + 6), m(this, t3 + 2, t3 + 5), m(this, t3 + 3, t3 + 4);
      return this;
    }, u.prototype.toString = function() {
      var e3 = 0 | this.length;
      return e3 === 0 ? "" : arguments.length === 0 ? O(this, 0, e3) : g.apply(this, arguments);
    }, u.prototype.equals = function(e3) {
      if (!u.isBuffer(e3))
        throw new TypeError("Argument must be a Buffer");
      return this === e3 || u.compare(this, e3) === 0;
    }, u.prototype.inspect = function() {
      var e3 = "", r2 = t2.INSPECT_MAX_BYTES;
      return this.length > 0 && (e3 = this.toString("hex", 0, r2).match(/.{2}/g).join(" "), this.length > r2 && (e3 += " ... ")), "<Buffer " + e3 + ">";
    }, u.prototype.compare = function(e3, t3, r2, n2, i2) {
      if (!u.isBuffer(e3))
        throw new TypeError("Argument must be a Buffer");
      if (t3 === void 0 && (t3 = 0), r2 === void 0 && (r2 = e3 ? e3.length : 0), n2 === void 0 && (n2 = 0), i2 === void 0 && (i2 = this.length), t3 < 0 || r2 > e3.length || n2 < 0 || i2 > this.length)
        throw new RangeError("out of range index");
      if (n2 >= i2 && t3 >= r2)
        return 0;
      if (n2 >= i2)
        return -1;
      if (t3 >= r2)
        return 1;
      if (this === e3)
        return 0;
      for (var a2 = (i2 >>>= 0) - (n2 >>>= 0), s2 = (r2 >>>= 0) - (t3 >>>= 0), o2 = Math.min(a2, s2), c2 = this.slice(n2, i2), l2 = e3.slice(t3, r2), h2 = 0; h2 < o2; ++h2)
        if (c2[h2] !== l2[h2]) {
          a2 = c2[h2], s2 = l2[h2];
          break;
        }
      return a2 < s2 ? -1 : s2 < a2 ? 1 : 0;
    }, u.prototype.includes = function(e3, t3, r2) {
      return this.indexOf(e3, t3, r2) !== -1;
    }, u.prototype.indexOf = function(e3, t3, r2) {
      return y(this, e3, t3, r2, true);
    }, u.prototype.lastIndexOf = function(e3, t3, r2) {
      return y(this, e3, t3, r2, false);
    }, u.prototype.write = function(e3, t3, r2, n2) {
      if (t3 === void 0)
        n2 = "utf8", r2 = this.length, t3 = 0;
      else if (r2 === void 0 && typeof t3 == "string")
        n2 = t3, r2 = this.length, t3 = 0;
      else {
        if (!isFinite(t3))
          throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
        t3 |= 0, isFinite(r2) ? (r2 |= 0, n2 === void 0 && (n2 = "utf8")) : (n2 = r2, r2 = void 0);
      }
      var i2 = this.length - t3;
      if ((r2 === void 0 || r2 > i2) && (r2 = i2), e3.length > 0 && (r2 < 0 || t3 < 0) || t3 > this.length)
        throw new RangeError("Attempt to write outside buffer bounds");
      n2 || (n2 = "utf8");
      for (var a2 = false; ; )
        switch (n2) {
          case "hex":
            return _(this, e3, t3, r2);
          case "utf8":
          case "utf-8":
            return v(this, e3, t3, r2);
          case "ascii":
            return w(this, e3, t3, r2);
          case "latin1":
          case "binary":
            return S(this, e3, t3, r2);
          case "base64":
            return T(this, e3, t3, r2);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return E(this, e3, t3, r2);
          default:
            if (a2)
              throw new TypeError("Unknown encoding: " + n2);
            n2 = ("" + n2).toLowerCase(), a2 = true;
        }
    }, u.prototype.toJSON = function() {
      return {
        type: "Buffer",
        data: Array.prototype.slice.call(this._arr || this, 0)
      };
    };
    function A(e3, t3, r2) {
      var n2 = "";
      r2 = Math.min(e3.length, r2);
      for (var i2 = t3; i2 < r2; ++i2)
        n2 += String.fromCharCode(127 & e3[i2]);
      return n2;
    }
    function R(e3, t3, r2) {
      var n2 = "";
      r2 = Math.min(e3.length, r2);
      for (var i2 = t3; i2 < r2; ++i2)
        n2 += String.fromCharCode(e3[i2]);
      return n2;
    }
    function I(e3, t3, r2) {
      var n2 = e3.length;
      (!t3 || t3 < 0) && (t3 = 0), (!r2 || r2 < 0 || r2 > n2) && (r2 = n2);
      for (var i2 = "", a2 = t3; a2 < r2; ++a2)
        i2 += B(e3[a2]);
      return i2;
    }
    function N(e3, t3, r2) {
      for (var n2 = e3.slice(t3, r2), i2 = "", a2 = 0; a2 < n2.length; a2 += 2)
        i2 += String.fromCharCode(n2[a2] + 256 * n2[a2 + 1]);
      return i2;
    }
    function P(e3, t3, r2) {
      if (e3 % 1 != 0 || e3 < 0)
        throw new RangeError("offset is not uint");
      if (e3 + t3 > r2)
        throw new RangeError("Trying to access beyond buffer length");
    }
    function C(e3, t3, r2, n2, i2, a2) {
      if (!u.isBuffer(e3))
        throw new TypeError('"buffer" argument must be a Buffer instance');
      if (t3 > i2 || t3 < a2)
        throw new RangeError('"value" argument is out of bounds');
      if (r2 + n2 > e3.length)
        throw new RangeError("Index out of range");
    }
    function D(e3, t3, r2, n2) {
      t3 < 0 && (t3 = 65535 + t3 + 1);
      for (var i2 = 0, a2 = Math.min(e3.length - r2, 2); i2 < a2; ++i2)
        e3[r2 + i2] = (t3 & 255 << 8 * (n2 ? i2 : 1 - i2)) >>> 8 * (n2 ? i2 : 1 - i2);
    }
    function j(e3, t3, r2, n2) {
      t3 < 0 && (t3 = 4294967295 + t3 + 1);
      for (var i2 = 0, a2 = Math.min(e3.length - r2, 4); i2 < a2; ++i2)
        e3[r2 + i2] = t3 >>> 8 * (n2 ? i2 : 3 - i2) & 255;
    }
    function k(e3, t3, r2, n2, i2, a2) {
      if (r2 + n2 > e3.length)
        throw new RangeError("Index out of range");
      if (r2 < 0)
        throw new RangeError("Index out of range");
    }
    function L(e3, t3, r2, n2, a2) {
      return a2 || k(e3, 0, r2, 4), i.write(e3, t3, r2, n2, 23, 4), r2 + 4;
    }
    function M(e3, t3, r2, n2, a2) {
      return a2 || k(e3, 0, r2, 8), i.write(e3, t3, r2, n2, 52, 8), r2 + 8;
    }
    u.prototype.slice = function(e3, t3) {
      var r2, n2 = this.length;
      if ((e3 = ~~e3) < 0 ? (e3 += n2) < 0 && (e3 = 0) : e3 > n2 && (e3 = n2), (t3 = t3 === void 0 ? n2 : ~~t3) < 0 ? (t3 += n2) < 0 && (t3 = 0) : t3 > n2 && (t3 = n2), t3 < e3 && (t3 = e3), u.TYPED_ARRAY_SUPPORT)
        (r2 = this.subarray(e3, t3)).__proto__ = u.prototype;
      else {
        var i2 = t3 - e3;
        r2 = new u(i2, void 0);
        for (var a2 = 0; a2 < i2; ++a2)
          r2[a2] = this[a2 + e3];
      }
      return r2;
    }, u.prototype.readUIntLE = function(e3, t3, r2) {
      e3 |= 0, t3 |= 0, r2 || P(e3, t3, this.length);
      for (var n2 = this[e3], i2 = 1, a2 = 0; ++a2 < t3 && (i2 *= 256); )
        n2 += this[e3 + a2] * i2;
      return n2;
    }, u.prototype.readUIntBE = function(e3, t3, r2) {
      e3 |= 0, t3 |= 0, r2 || P(e3, t3, this.length);
      for (var n2 = this[e3 + --t3], i2 = 1; t3 > 0 && (i2 *= 256); )
        n2 += this[e3 + --t3] * i2;
      return n2;
    }, u.prototype.readUInt8 = function(e3, t3) {
      return t3 || P(e3, 1, this.length), this[e3];
    }, u.prototype.readUInt16LE = function(e3, t3) {
      return t3 || P(e3, 2, this.length), this[e3] | this[e3 + 1] << 8;
    }, u.prototype.readUInt16BE = function(e3, t3) {
      return t3 || P(e3, 2, this.length), this[e3] << 8 | this[e3 + 1];
    }, u.prototype.readUInt32LE = function(e3, t3) {
      return t3 || P(e3, 4, this.length), (this[e3] | this[e3 + 1] << 8 | this[e3 + 2] << 16) + 16777216 * this[e3 + 3];
    }, u.prototype.readUInt32BE = function(e3, t3) {
      return t3 || P(e3, 4, this.length), 16777216 * this[e3] + (this[e3 + 1] << 16 | this[e3 + 2] << 8 | this[e3 + 3]);
    }, u.prototype.readIntLE = function(e3, t3, r2) {
      e3 |= 0, t3 |= 0, r2 || P(e3, t3, this.length);
      for (var n2 = this[e3], i2 = 1, a2 = 0; ++a2 < t3 && (i2 *= 256); )
        n2 += this[e3 + a2] * i2;
      return n2 >= (i2 *= 128) && (n2 -= Math.pow(2, 8 * t3)), n2;
    }, u.prototype.readIntBE = function(e3, t3, r2) {
      e3 |= 0, t3 |= 0, r2 || P(e3, t3, this.length);
      for (var n2 = t3, i2 = 1, a2 = this[e3 + --n2]; n2 > 0 && (i2 *= 256); )
        a2 += this[e3 + --n2] * i2;
      return a2 >= (i2 *= 128) && (a2 -= Math.pow(2, 8 * t3)), a2;
    }, u.prototype.readInt8 = function(e3, t3) {
      return t3 || P(e3, 1, this.length), 128 & this[e3] ? -1 * (255 - this[e3] + 1) : this[e3];
    }, u.prototype.readInt16LE = function(e3, t3) {
      t3 || P(e3, 2, this.length);
      var r2 = this[e3] | this[e3 + 1] << 8;
      return 32768 & r2 ? 4294901760 | r2 : r2;
    }, u.prototype.readInt16BE = function(e3, t3) {
      t3 || P(e3, 2, this.length);
      var r2 = this[e3 + 1] | this[e3] << 8;
      return 32768 & r2 ? 4294901760 | r2 : r2;
    }, u.prototype.readInt32LE = function(e3, t3) {
      return t3 || P(e3, 4, this.length), this[e3] | this[e3 + 1] << 8 | this[e3 + 2] << 16 | this[e3 + 3] << 24;
    }, u.prototype.readInt32BE = function(e3, t3) {
      return t3 || P(e3, 4, this.length), this[e3] << 24 | this[e3 + 1] << 16 | this[e3 + 2] << 8 | this[e3 + 3];
    }, u.prototype.readFloatLE = function(e3, t3) {
      return t3 || P(e3, 4, this.length), i.read(this, e3, true, 23, 4);
    }, u.prototype.readFloatBE = function(e3, t3) {
      return t3 || P(e3, 4, this.length), i.read(this, e3, false, 23, 4);
    }, u.prototype.readDoubleLE = function(e3, t3) {
      return t3 || P(e3, 8, this.length), i.read(this, e3, true, 52, 8);
    }, u.prototype.readDoubleBE = function(e3, t3) {
      return t3 || P(e3, 8, this.length), i.read(this, e3, false, 52, 8);
    }, u.prototype.writeUIntLE = function(e3, t3, r2, n2) {
      (e3 = +e3, t3 |= 0, r2 |= 0, n2) || C(this, e3, t3, r2, Math.pow(2, 8 * r2) - 1, 0);
      var i2 = 1, a2 = 0;
      for (this[t3] = 255 & e3; ++a2 < r2 && (i2 *= 256); )
        this[t3 + a2] = e3 / i2 & 255;
      return t3 + r2;
    }, u.prototype.writeUIntBE = function(e3, t3, r2, n2) {
      (e3 = +e3, t3 |= 0, r2 |= 0, n2) || C(this, e3, t3, r2, Math.pow(2, 8 * r2) - 1, 0);
      var i2 = r2 - 1, a2 = 1;
      for (this[t3 + i2] = 255 & e3; --i2 >= 0 && (a2 *= 256); )
        this[t3 + i2] = e3 / a2 & 255;
      return t3 + r2;
    }, u.prototype.writeUInt8 = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 1, 255, 0), u.TYPED_ARRAY_SUPPORT || (e3 = Math.floor(e3)), this[t3] = 255 & e3, t3 + 1;
    }, u.prototype.writeUInt16LE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 2, 65535, 0), u.TYPED_ARRAY_SUPPORT ? (this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8) : D(this, e3, t3, true), t3 + 2;
    }, u.prototype.writeUInt16BE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 2, 65535, 0), u.TYPED_ARRAY_SUPPORT ? (this[t3] = e3 >>> 8, this[t3 + 1] = 255 & e3) : D(this, e3, t3, false), t3 + 2;
    }, u.prototype.writeUInt32LE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 4, 4294967295, 0), u.TYPED_ARRAY_SUPPORT ? (this[t3 + 3] = e3 >>> 24, this[t3 + 2] = e3 >>> 16, this[t3 + 1] = e3 >>> 8, this[t3] = 255 & e3) : j(this, e3, t3, true), t3 + 4;
    }, u.prototype.writeUInt32BE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 4, 4294967295, 0), u.TYPED_ARRAY_SUPPORT ? (this[t3] = e3 >>> 24, this[t3 + 1] = e3 >>> 16, this[t3 + 2] = e3 >>> 8, this[t3 + 3] = 255 & e3) : j(this, e3, t3, false), t3 + 4;
    }, u.prototype.writeIntLE = function(e3, t3, r2, n2) {
      if (e3 = +e3, t3 |= 0, !n2) {
        var i2 = Math.pow(2, 8 * r2 - 1);
        C(this, e3, t3, r2, i2 - 1, -i2);
      }
      var a2 = 0, s2 = 1, o2 = 0;
      for (this[t3] = 255 & e3; ++a2 < r2 && (s2 *= 256); )
        e3 < 0 && o2 === 0 && this[t3 + a2 - 1] !== 0 && (o2 = 1), this[t3 + a2] = (e3 / s2 >> 0) - o2 & 255;
      return t3 + r2;
    }, u.prototype.writeIntBE = function(e3, t3, r2, n2) {
      if (e3 = +e3, t3 |= 0, !n2) {
        var i2 = Math.pow(2, 8 * r2 - 1);
        C(this, e3, t3, r2, i2 - 1, -i2);
      }
      var a2 = r2 - 1, s2 = 1, o2 = 0;
      for (this[t3 + a2] = 255 & e3; --a2 >= 0 && (s2 *= 256); )
        e3 < 0 && o2 === 0 && this[t3 + a2 + 1] !== 0 && (o2 = 1), this[t3 + a2] = (e3 / s2 >> 0) - o2 & 255;
      return t3 + r2;
    }, u.prototype.writeInt8 = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 1, 127, -128), u.TYPED_ARRAY_SUPPORT || (e3 = Math.floor(e3)), e3 < 0 && (e3 = 255 + e3 + 1), this[t3] = 255 & e3, t3 + 1;
    }, u.prototype.writeInt16LE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 2, 32767, -32768), u.TYPED_ARRAY_SUPPORT ? (this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8) : D(this, e3, t3, true), t3 + 2;
    }, u.prototype.writeInt16BE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 2, 32767, -32768), u.TYPED_ARRAY_SUPPORT ? (this[t3] = e3 >>> 8, this[t3 + 1] = 255 & e3) : D(this, e3, t3, false), t3 + 2;
    }, u.prototype.writeInt32LE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 4, 2147483647, -2147483648), u.TYPED_ARRAY_SUPPORT ? (this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, this[t3 + 2] = e3 >>> 16, this[t3 + 3] = e3 >>> 24) : j(this, e3, t3, true), t3 + 4;
    }, u.prototype.writeInt32BE = function(e3, t3, r2) {
      return e3 = +e3, t3 |= 0, r2 || C(this, e3, t3, 4, 2147483647, -2147483648), e3 < 0 && (e3 = 4294967295 + e3 + 1), u.TYPED_ARRAY_SUPPORT ? (this[t3] = e3 >>> 24, this[t3 + 1] = e3 >>> 16, this[t3 + 2] = e3 >>> 8, this[t3 + 3] = 255 & e3) : j(this, e3, t3, false), t3 + 4;
    }, u.prototype.writeFloatLE = function(e3, t3, r2) {
      return L(this, e3, t3, true, r2);
    }, u.prototype.writeFloatBE = function(e3, t3, r2) {
      return L(this, e3, t3, false, r2);
    }, u.prototype.writeDoubleLE = function(e3, t3, r2) {
      return M(this, e3, t3, true, r2);
    }, u.prototype.writeDoubleBE = function(e3, t3, r2) {
      return M(this, e3, t3, false, r2);
    }, u.prototype.copy = function(e3, t3, r2, n2) {
      if (r2 || (r2 = 0), n2 || n2 === 0 || (n2 = this.length), t3 >= e3.length && (t3 = e3.length), t3 || (t3 = 0), n2 > 0 && n2 < r2 && (n2 = r2), n2 === r2)
        return 0;
      if (e3.length === 0 || this.length === 0)
        return 0;
      if (t3 < 0)
        throw new RangeError("targetStart out of bounds");
      if (r2 < 0 || r2 >= this.length)
        throw new RangeError("sourceStart out of bounds");
      if (n2 < 0)
        throw new RangeError("sourceEnd out of bounds");
      n2 > this.length && (n2 = this.length), e3.length - t3 < n2 - r2 && (n2 = e3.length - t3 + r2);
      var i2, a2 = n2 - r2;
      if (this === e3 && r2 < t3 && t3 < n2)
        for (i2 = a2 - 1; i2 >= 0; --i2)
          e3[i2 + t3] = this[i2 + r2];
      else if (a2 < 1e3 || !u.TYPED_ARRAY_SUPPORT)
        for (i2 = 0; i2 < a2; ++i2)
          e3[i2 + t3] = this[i2 + r2];
      else
        Uint8Array.prototype.set.call(e3, this.subarray(r2, r2 + a2), t3);
      return a2;
    }, u.prototype.fill = function(e3, t3, r2, n2) {
      if (typeof e3 == "string") {
        if (typeof t3 == "string" ? (n2 = t3, t3 = 0, r2 = this.length) : typeof r2 == "string" && (n2 = r2, r2 = this.length), e3.length === 1) {
          var i2 = e3.charCodeAt(0);
          i2 < 256 && (e3 = i2);
        }
        if (n2 !== void 0 && typeof n2 != "string")
          throw new TypeError("encoding must be a string");
        if (typeof n2 == "string" && !u.isEncoding(n2))
          throw new TypeError("Unknown encoding: " + n2);
      } else
        typeof e3 == "number" && (e3 &= 255);
      if (t3 < 0 || this.length < t3 || this.length < r2)
        throw new RangeError("Out of range index");
      if (r2 <= t3)
        return this;
      var a2;
      if (t3 >>>= 0, r2 = r2 === void 0 ? this.length : r2 >>> 0, e3 || (e3 = 0), typeof e3 == "number")
        for (a2 = t3; a2 < r2; ++a2)
          this[a2] = e3;
      else {
        var s2 = u.isBuffer(e3) ? e3 : q(new u(e3, n2).toString()), o2 = s2.length;
        for (a2 = 0; a2 < r2 - t3; ++a2)
          this[a2 + t3] = s2[a2 % o2];
      }
      return this;
    };
    var F = /[^+\/0-9A-Za-z-_]/g;
    function B(e3) {
      return e3 < 16 ? "0" + e3.toString(16) : e3.toString(16);
    }
    function q(e3, t3) {
      var r2;
      t3 = t3 || 1 / 0;
      for (var n2 = e3.length, i2 = null, a2 = [], s2 = 0; s2 < n2; ++s2) {
        if ((r2 = e3.charCodeAt(s2)) > 55295 && r2 < 57344) {
          if (!i2) {
            if (r2 > 56319) {
              (t3 -= 3) > -1 && a2.push(239, 191, 189);
              continue;
            }
            if (s2 + 1 === n2) {
              (t3 -= 3) > -1 && a2.push(239, 191, 189);
              continue;
            }
            i2 = r2;
            continue;
          }
          if (r2 < 56320) {
            (t3 -= 3) > -1 && a2.push(239, 191, 189), i2 = r2;
            continue;
          }
          r2 = 65536 + (i2 - 55296 << 10 | r2 - 56320);
        } else
          i2 && (t3 -= 3) > -1 && a2.push(239, 191, 189);
        if (i2 = null, r2 < 128) {
          if ((t3 -= 1) < 0)
            break;
          a2.push(r2);
        } else if (r2 < 2048) {
          if ((t3 -= 2) < 0)
            break;
          a2.push(r2 >> 6 | 192, 63 & r2 | 128);
        } else if (r2 < 65536) {
          if ((t3 -= 3) < 0)
            break;
          a2.push(r2 >> 12 | 224, r2 >> 6 & 63 | 128, 63 & r2 | 128);
        } else {
          if (!(r2 < 1114112))
            throw new Error("Invalid code point");
          if ((t3 -= 4) < 0)
            break;
          a2.push(r2 >> 18 | 240, r2 >> 12 & 63 | 128, r2 >> 6 & 63 | 128, 63 & r2 | 128);
        }
      }
      return a2;
    }
    function U(e3) {
      return n.toByteArray(function(e4) {
        if ((e4 = function(e5) {
          return e5.trim ? e5.trim() : e5.replace(/^\s+|\s+$/g, "");
        }(e4).replace(F, "")).length < 2)
          return "";
        for (; e4.length % 4 != 0; )
          e4 += "=";
        return e4;
      }(e3));
    }
    function V(e3, t3, r2, n2) {
      for (var i2 = 0; i2 < n2 && !(i2 + r2 >= t3.length || i2 >= e3.length); ++i2)
        t3[i2 + r2] = e3[i2];
      return i2;
    }
  }).call(this, r(10));
}, function(e, t2) {
  typeof Object.create == "function" ? e.exports = function(e2, t3) {
    t3 && (e2.super_ = t3, e2.prototype = Object.create(t3.prototype, {
      constructor: {
        value: e2,
        enumerable: false,
        writable: true,
        configurable: true
      }
    }));
  } : e.exports = function(e2, t3) {
    if (t3) {
      e2.super_ = t3;
      var r = function() {
      };
      r.prototype = t3.prototype, e2.prototype = new r(), e2.prototype.constructor = e2;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), function(e2) {
    for (var r2 in e2)
      t2.hasOwnProperty(r2) || (t2[r2] = e2[r2]);
  }(r(279));
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NamedOperators = t2.SetFunctions = t2.SetFunction = t2.Operators = t2.SpecialOperators = t2.RegularOperators = t2.SpecialOperator = t2.RegularOperator = t2.decategorize = t2.type = t2.PrimitiveNumericTypes = t2.commonTerms = t2.DerivedIntegerTypeURLs = t2.NumericTypeURLs = t2.DerivedIntegerTypeURL = t2.NumericTypeURL = t2.make = t2.TypeURL = t2.EVB_ERR_STR = t2.FALSE_STR = t2.TRUE_STR = void 0;
  const n = r(5), i = r(23), a = new n.DataFactory();
  var s, o, u;
  t2.TRUE_STR = '"true"^^xsd:boolean', t2.FALSE_STR = '"false"^^xsd:boolean', t2.EVB_ERR_STR = '"not an dateTime"^^xsd:dateTime', function(e2) {
    e2.XSD_ANY_URI = "http://www.w3.org/2001/XMLSchema#anyURI", e2.XSD_STRING = "http://www.w3.org/2001/XMLSchema#string", e2.RDF_LANG_STRING = "http://www.w3.org/1999/02/22-rdf-syntax-ns#langString", e2.XSD_BOOLEAN = "http://www.w3.org/2001/XMLSchema#boolean", e2.XSD_DATE_TIME = "http://www.w3.org/2001/XMLSchema#dateTime", e2.XSD_DATE = "http://www.w3.org/2001/XMLSchema#date", e2.XSD_INTEGER = "http://www.w3.org/2001/XMLSchema#integer", e2.XSD_DECIMAL = "http://www.w3.org/2001/XMLSchema#decimal", e2.XSD_FLOAT = "http://www.w3.org/2001/XMLSchema#float", e2.XSD_DOUBLE = "http://www.w3.org/2001/XMLSchema#double", e2.XSD_NON_POSITIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#nonPositiveInteger", e2.XSD_NEGATIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#negativeInteger", e2.XSD_LONG = "http://www.w3.org/2001/XMLSchema#long", e2.XSD_INT = "http://www.w3.org/2001/XMLSchema#int", e2.XSD_SHORT = "http://www.w3.org/2001/XMLSchema#short", e2.XSD_BYTE = "http://www.w3.org/2001/XMLSchema#byte", e2.XSD_NON_NEGATIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#nonNegativeInteger", e2.XSD_UNSIGNED_LONG = "http://www.w3.org/2001/XMLSchema#unsignedLong", e2.XSD_UNSIGNED_INT = "http://www.w3.org/2001/XMLSchema#unsignedInt", e2.XSD_UNSIGNED_SHORT = "http://www.w3.org/2001/XMLSchema#unsignedShort", e2.XSD_UNSIGNED_BYTE = "http://www.w3.org/2001/XMLSchema#unsignedByte", e2.XSD_POSITIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#positiveInteger", e2.XSD_DAYTIME_DURATION = "http://www.w3.org/2001/XMLSchema#dayTimeDuration";
  }(s = t2.TypeURL || (t2.TypeURL = {})), t2.make = function(e2) {
    return a.namedNode(e2);
  }, function(e2) {
    e2.XSD_INTEGER = "http://www.w3.org/2001/XMLSchema#integer", e2.XSD_DECIMAL = "http://www.w3.org/2001/XMLSchema#decimal", e2.XSD_FLOAT = "http://www.w3.org/2001/XMLSchema#float", e2.XSD_DOUBLE = "http://www.w3.org/2001/XMLSchema#double", e2.XSD_NON_POSITIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#nonPositiveInteger", e2.XSD_NEGATIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#negativeInteger", e2.XSD_LONG = "http://www.w3.org/2001/XMLSchema#long", e2.XSD_INT = "http://www.w3.org/2001/XMLSchema#int", e2.XSD_SHORT = "http://www.w3.org/2001/XMLSchema#short", e2.XSD_BYTE = "http://www.w3.org/2001/XMLSchema#byte", e2.XSD_NON_NEGATIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#nonNegativeInteger", e2.XSD_UNSIGNED_LONG = "http://www.w3.org/2001/XMLSchema#unsignedLong", e2.XSD_UNSIGNED_INT = "http://www.w3.org/2001/XMLSchema#unsignedInt", e2.XSD_UNSIGNED_SHORT = "http://www.w3.org/2001/XMLSchema#unsignedShort", e2.XSD_UNSIGNED_BYTE = "http://www.w3.org/2001/XMLSchema#unsignedByte", e2.XSD_POSITIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#positiveInteger";
  }(o = t2.NumericTypeURL || (t2.NumericTypeURL = {})), function(e2) {
    e2.XSD_NON_POSITIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#nonPositiveInteger", e2.XSD_NEGATIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#negativeInteger", e2.XSD_LONG = "http://www.w3.org/2001/XMLSchema#long", e2.XSD_INT = "http://www.w3.org/2001/XMLSchema#int", e2.XSD_SHORT = "http://www.w3.org/2001/XMLSchema#short", e2.XSD_BYTE = "http://www.w3.org/2001/XMLSchema#byte", e2.XSD_NON_NEGATIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#nonNegativeInteger", e2.XSD_UNSIGNED_LONG = "http://www.w3.org/2001/XMLSchema#unsignedLong", e2.XSD_UNSIGNED_INT = "http://www.w3.org/2001/XMLSchema#unsignedInt", e2.XSD_UNSIGNED_SHORT = "http://www.w3.org/2001/XMLSchema#unsignedShort", e2.XSD_UNSIGNED_BYTE = "http://www.w3.org/2001/XMLSchema#unsignedByte", e2.XSD_POSITIVE_INTEGER = "http://www.w3.org/2001/XMLSchema#positiveInteger";
  }(u = t2.DerivedIntegerTypeURL || (t2.DerivedIntegerTypeURL = {})), t2.NumericTypeURLs = i.Set(Object.values(o)), t2.DerivedIntegerTypeURLs = i.Set(Object.values(u)), t2.commonTerms = {
    true: a.literal("true", a.namedNode(s.XSD_BOOLEAN)),
    false: a.literal("false", a.namedNode(s.XSD_BOOLEAN))
  }, t2.PrimitiveNumericTypes = i.Set(["integer", "decimal", "float", "double"]), t2.type = function(e2) {
    switch (e2) {
      case null:
      case void 0:
      case "":
      case s.XSD_ANY_URI:
      case s.XSD_STRING:
        return "string";
      case s.RDF_LANG_STRING:
        return "langString";
      case s.XSD_DATE_TIME:
        return "date";
      case s.XSD_BOOLEAN:
        return "boolean";
      case s.XSD_DECIMAL:
        return "decimal";
      case s.XSD_FLOAT:
        return "float";
      case s.XSD_DOUBLE:
        return "double";
      case s.XSD_INTEGER:
      case s.XSD_NON_POSITIVE_INTEGER:
      case s.XSD_NEGATIVE_INTEGER:
      case s.XSD_LONG:
      case s.XSD_INT:
      case s.XSD_SHORT:
      case s.XSD_BYTE:
      case s.XSD_NON_NEGATIVE_INTEGER:
      case s.XSD_UNSIGNED_LONG:
      case s.XSD_UNSIGNED_INT:
      case s.XSD_UNSIGNED_SHORT:
      case s.XSD_UNSIGNED_BYTE:
      case s.XSD_POSITIVE_INTEGER:
        return "integer";
      default:
        return "other";
    }
  };
  const c = i.Map([
    ["integer", s.XSD_INTEGER],
    ["float", s.XSD_FLOAT],
    ["double", s.XSD_DOUBLE],
    ["decimal", s.XSD_DECIMAL]
  ]);
  var l, h, d;
  t2.decategorize = function(e2) {
    return c.get(e2);
  }, function(e2) {
    e2.NOT = "!", e2.UMINUS = "UMINUS", e2.UPLUS = "UPLUS", e2.EQUAL = "=", e2.NOT_EQUAL = "!=", e2.LT = "<", e2.GT = ">", e2.LTE = "<=", e2.GTE = ">=", e2.MULTIPLICATION = "*", e2.DIVISION = "/", e2.ADDITION = "+", e2.SUBTRACTION = "-", e2.IS_IRI = "isiri", e2.IS_BLANK = "isblank", e2.IS_LITERAL = "isliteral", e2.IS_NUMERIC = "isnumeric", e2.STR = "str", e2.LANG = "lang", e2.DATATYPE = "datatype", e2.STRDT = "strdt", e2.STRLANG = "strlang", e2.UUID = "uuid", e2.STRUUID = "struuid", e2.STRLEN = "strlen", e2.SUBSTR = "substr", e2.UCASE = "ucase", e2.LCASE = "lcase", e2.STRSTARTS = "strstarts", e2.STRENDS = "strends", e2.CONTAINS = "contains", e2.STRBEFORE = "strbefore", e2.STRAFTER = "strafter", e2.ENCODE_FOR_URI = "encode_for_uri", e2.LANG_MATCHES = "langmatches", e2.REGEX = "regex", e2.REPLACE = "replace", e2.ABS = "abs", e2.ROUND = "round", e2.CEIL = "ceil", e2.FLOOR = "floor", e2.RAND = "rand", e2.YEAR = "year", e2.MONTH = "month", e2.DAY = "day", e2.HOURS = "hours", e2.MINUTES = "minutes", e2.SECONDS = "seconds", e2.TIMEZONE = "timezone", e2.TZ = "tz", e2.MD5 = "md5", e2.SHA1 = "sha1", e2.SHA256 = "sha256", e2.SHA384 = "sha384", e2.SHA512 = "sha512";
  }(l = t2.RegularOperator || (t2.RegularOperator = {})), function(e2) {
    e2.BOUND = "bound", e2.IF = "if", e2.COALESCE = "coalesce", e2.LOGICAL_OR = "||", e2.LOGICAL_AND = "&&", e2.SAME_TERM = "sameterm", e2.IN = "in", e2.NOT_IN = "notin", e2.CONCAT = "concat", e2.NOW = "now", e2.IRI = "iri", e2.URI = "uri", e2.BNODE = "BNODE";
  }(h = t2.SpecialOperator || (t2.SpecialOperator = {})), t2.RegularOperators = i.Set(Object.values(l)), t2.SpecialOperators = i.Set(Object.values(h)), t2.Operators = t2.RegularOperators.union(t2.SpecialOperators), function(e2) {
    e2.COUNT = "count", e2.SUM = "sum", e2.MIN = "min", e2.MAX = "max", e2.AVG = "avg", e2.GROUP_CONCAT = "group_concat", e2.SAMPLE = "sample";
  }(d = t2.SetFunction || (t2.SetFunction = {})), t2.SetFunctions = i.Set(Object.values(d)), t2.NamedOperators = i.Set([s.XSD_STRING, s.XSD_FLOAT, s.XSD_DOUBLE, s.XSD_DECIMAL, s.XSD_INTEGER, s.XSD_DATE_TIME, s.XSD_DATE, s.XSD_BOOLEAN]);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(228), t2), i(r(230), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(259), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerAdapter = void 0;
  t2.NodeValueHandlerAdapter = class {
    constructor(e2, t3, r2) {
      this.targetKind = e2, this.util = t3, this.settings = r2;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(417);
  t2.collectNamedTerms = n.collectNamedTerms, t2.everyTerms = n.everyTerms, t2.filterQuadTermNames = n.filterQuadTermNames, t2.filterTerms = n.filterTerms, t2.forEachTerms = n.forEachTerms, t2.getNamedTerms = n.getNamedTerms, t2.getTerms = n.getTerms, t2.getTermsNested = n.getTermsNested, t2.mapTerms = n.mapTerms, t2.matchPattern = n.matchPattern, t2.matchPatternComplete = n.matchPatternComplete, t2.QUAD_TERM_NAMES = n.QUAD_TERM_NAMES, t2.reduceTerms = n.reduceTerms, t2.someTerms = n.someTerms, t2.TRIPLE_TERM_NAMES = n.TRIPLE_TERM_NAMES;
  const i = r(418);
  t2.getBlankNodes = i.getBlankNodes, t2.getDefaultGraphs = i.getDefaultGraphs, t2.getLiterals = i.getLiterals, t2.getNamedNodes = i.getNamedNodes, t2.getTermsOfType = i.getTermsOfType, t2.getVariables = i.getVariables, t2.TERM_TYPES = i.TERM_TYPES, t2.uniqTerms = i.uniqTerms;
}, function(e, t2, r) {
  "use strict";
  var n = r(49), i = r(12);
  function a(e2, t3) {
    return (64512 & e2.charCodeAt(t3)) == 55296 && (!(t3 < 0 || t3 + 1 >= e2.length) && (64512 & e2.charCodeAt(t3 + 1)) == 56320);
  }
  function s(e2) {
    return (e2 >>> 24 | e2 >>> 8 & 65280 | e2 << 8 & 16711680 | (255 & e2) << 24) >>> 0;
  }
  function o(e2) {
    return e2.length === 1 ? "0" + e2 : e2;
  }
  function u(e2) {
    return e2.length === 7 ? "0" + e2 : e2.length === 6 ? "00" + e2 : e2.length === 5 ? "000" + e2 : e2.length === 4 ? "0000" + e2 : e2.length === 3 ? "00000" + e2 : e2.length === 2 ? "000000" + e2 : e2.length === 1 ? "0000000" + e2 : e2;
  }
  t2.inherits = i, t2.toArray = function(e2, t3) {
    if (Array.isArray(e2))
      return e2.slice();
    if (!e2)
      return [];
    var r2 = [];
    if (typeof e2 == "string")
      if (t3) {
        if (t3 === "hex")
          for ((e2 = e2.replace(/[^a-z0-9]+/gi, "")).length % 2 != 0 && (e2 = "0" + e2), i2 = 0; i2 < e2.length; i2 += 2)
            r2.push(parseInt(e2[i2] + e2[i2 + 1], 16));
      } else
        for (var n2 = 0, i2 = 0; i2 < e2.length; i2++) {
          var s2 = e2.charCodeAt(i2);
          s2 < 128 ? r2[n2++] = s2 : s2 < 2048 ? (r2[n2++] = s2 >> 6 | 192, r2[n2++] = 63 & s2 | 128) : a(e2, i2) ? (s2 = 65536 + ((1023 & s2) << 10) + (1023 & e2.charCodeAt(++i2)), r2[n2++] = s2 >> 18 | 240, r2[n2++] = s2 >> 12 & 63 | 128, r2[n2++] = s2 >> 6 & 63 | 128, r2[n2++] = 63 & s2 | 128) : (r2[n2++] = s2 >> 12 | 224, r2[n2++] = s2 >> 6 & 63 | 128, r2[n2++] = 63 & s2 | 128);
        }
    else
      for (i2 = 0; i2 < e2.length; i2++)
        r2[i2] = 0 | e2[i2];
    return r2;
  }, t2.toHex = function(e2) {
    for (var t3 = "", r2 = 0; r2 < e2.length; r2++)
      t3 += o(e2[r2].toString(16));
    return t3;
  }, t2.htonl = s, t2.toHex32 = function(e2, t3) {
    for (var r2 = "", n2 = 0; n2 < e2.length; n2++) {
      var i2 = e2[n2];
      t3 === "little" && (i2 = s(i2)), r2 += u(i2.toString(16));
    }
    return r2;
  }, t2.zero2 = o, t2.zero8 = u, t2.join32 = function(e2, t3, r2, i2) {
    var a2 = r2 - t3;
    n(a2 % 4 == 0);
    for (var s2 = new Array(a2 / 4), o2 = 0, u2 = t3; o2 < s2.length; o2++, u2 += 4) {
      var c;
      c = i2 === "big" ? e2[u2] << 24 | e2[u2 + 1] << 16 | e2[u2 + 2] << 8 | e2[u2 + 3] : e2[u2 + 3] << 24 | e2[u2 + 2] << 16 | e2[u2 + 1] << 8 | e2[u2], s2[o2] = c >>> 0;
    }
    return s2;
  }, t2.split32 = function(e2, t3) {
    for (var r2 = new Array(4 * e2.length), n2 = 0, i2 = 0; n2 < e2.length; n2++, i2 += 4) {
      var a2 = e2[n2];
      t3 === "big" ? (r2[i2] = a2 >>> 24, r2[i2 + 1] = a2 >>> 16 & 255, r2[i2 + 2] = a2 >>> 8 & 255, r2[i2 + 3] = 255 & a2) : (r2[i2 + 3] = a2 >>> 24, r2[i2 + 2] = a2 >>> 16 & 255, r2[i2 + 1] = a2 >>> 8 & 255, r2[i2] = 255 & a2);
    }
    return r2;
  }, t2.rotr32 = function(e2, t3) {
    return e2 >>> t3 | e2 << 32 - t3;
  }, t2.rotl32 = function(e2, t3) {
    return e2 << t3 | e2 >>> 32 - t3;
  }, t2.sum32 = function(e2, t3) {
    return e2 + t3 >>> 0;
  }, t2.sum32_3 = function(e2, t3, r2) {
    return e2 + t3 + r2 >>> 0;
  }, t2.sum32_4 = function(e2, t3, r2, n2) {
    return e2 + t3 + r2 + n2 >>> 0;
  }, t2.sum32_5 = function(e2, t3, r2, n2, i2) {
    return e2 + t3 + r2 + n2 + i2 >>> 0;
  }, t2.sum64 = function(e2, t3, r2, n2) {
    var i2 = e2[t3], a2 = n2 + e2[t3 + 1] >>> 0, s2 = (a2 < n2 ? 1 : 0) + r2 + i2;
    e2[t3] = s2 >>> 0, e2[t3 + 1] = a2;
  }, t2.sum64_hi = function(e2, t3, r2, n2) {
    return (t3 + n2 >>> 0 < t3 ? 1 : 0) + e2 + r2 >>> 0;
  }, t2.sum64_lo = function(e2, t3, r2, n2) {
    return t3 + n2 >>> 0;
  }, t2.sum64_4_hi = function(e2, t3, r2, n2, i2, a2, s2, o2) {
    var u2 = 0, c = t3;
    return u2 += (c = c + n2 >>> 0) < t3 ? 1 : 0, u2 += (c = c + a2 >>> 0) < a2 ? 1 : 0, e2 + r2 + i2 + s2 + (u2 += (c = c + o2 >>> 0) < o2 ? 1 : 0) >>> 0;
  }, t2.sum64_4_lo = function(e2, t3, r2, n2, i2, a2, s2, o2) {
    return t3 + n2 + a2 + o2 >>> 0;
  }, t2.sum64_5_hi = function(e2, t3, r2, n2, i2, a2, s2, o2, u2, c) {
    var l = 0, h = t3;
    return l += (h = h + n2 >>> 0) < t3 ? 1 : 0, l += (h = h + a2 >>> 0) < a2 ? 1 : 0, l += (h = h + o2 >>> 0) < o2 ? 1 : 0, e2 + r2 + i2 + s2 + u2 + (l += (h = h + c >>> 0) < c ? 1 : 0) >>> 0;
  }, t2.sum64_5_lo = function(e2, t3, r2, n2, i2, a2, s2, o2, u2, c) {
    return t3 + n2 + a2 + o2 + c >>> 0;
  }, t2.rotr64_hi = function(e2, t3, r2) {
    return (t3 << 32 - r2 | e2 >>> r2) >>> 0;
  }, t2.rotr64_lo = function(e2, t3, r2) {
    return (e2 << 32 - r2 | t3 >>> r2) >>> 0;
  }, t2.shr64_hi = function(e2, t3, r2) {
    return e2 >>> r2;
  }, t2.shr64_lo = function(e2, t3, r2) {
    return (e2 << 32 - r2 | t3 >>> r2) >>> 0;
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NoExistenceHook = t2.NoAggregator = t2.UnknownNamedOperator = t2.UnknownOperator = t2.InvalidTermType = t2.InvalidExpressionType = t2.InvalidExpression = t2.InvalidArity = t2.UnimplementedError = t2.UnexpectedError = t2.EmptyAggregateError = t2.IncompatibleLanguageOperation = t2.InvalidTimezoneCall = t2.CastError = t2.InvalidArgumentTypes = t2.InError = t2.CoalesceError = t2.RDFEqualTypeError = t2.EBVCoercionError = t2.UnboundVariableError = t2.InvalidLexicalForm = t2.isExpressionError = t2.ExpressionError = void 0;
  class n extends Error {
  }
  t2.ExpressionError = n, t2.isExpressionError = function(e2) {
    return e2 instanceof n;
  };
  t2.InvalidLexicalForm = class extends n {
    constructor(e2) {
      super(`Invalid lexical form '${f(e2)}'`), this.arg = e2;
    }
  };
  t2.UnboundVariableError = class extends n {
    constructor(e2, t3) {
      super(`Unbound variable '${f(e2)}'`), this.variable = e2, this.bindings = t3;
    }
  };
  t2.EBVCoercionError = class extends n {
    constructor(e2) {
      super(`Cannot coerce term to EBV '${f(e2)}'`), this.arg = e2;
    }
  };
  t2.RDFEqualTypeError = class extends n {
    constructor(e2) {
      super("Equality test for literals with unsupported datatypes"), this.args = e2;
    }
  };
  t2.CoalesceError = class extends n {
    constructor(e2) {
      super("All COALESCE arguments threw errors"), this.errors = e2;
    }
  };
  t2.InError = class extends n {
    constructor(e2) {
      super("Some argument to IN errorred and none where equal. " + e2.map((e3) => `(${e3.toString()}) `).join("and ")), this.errors = e2;
    }
  };
  t2.InvalidArgumentTypes = class extends n {
    constructor(e2, t3) {
      super(`Argument types not valid for operator: '${f(t3)}' with '${f(e2)}`), this.args = e2, this.op = t3;
    }
  };
  t2.CastError = class extends n {
    constructor(e2, t3) {
      super(`Invalid cast: '${f(e2)}' to '${f(t3)}'`), this.arg = e2;
    }
  };
  t2.InvalidTimezoneCall = class extends n {
    constructor(e2) {
      super(`TIMEZONE call on ${e2} which has no timezone`), this.dateString = e2;
    }
  };
  t2.IncompatibleLanguageOperation = class extends n {
    constructor(e2, t3) {
      super(`Operation on incompatible language literals '${f(e2)}' and '${f(t3)}'`), this.arg1 = e2, this.arg2 = t3;
    }
  };
  t2.EmptyAggregateError = class extends n {
    constructor() {
      super("Empty aggregate expression");
    }
  };
  class i extends Error {
    constructor(e2, t3) {
      super(`Programmer Error '${e2}'`), this.payload = t3;
    }
  }
  t2.UnexpectedError = i;
  class a extends Error {
    constructor(e2) {
      super(`Unimplemented feature '${e2}!'`);
    }
  }
  t2.UnimplementedError = a;
  class s extends Error {
    constructor(e2, t3) {
      super(`The number of args does not match the arity of the operator '${f(t3)}'.`), this.args = e2, this.op = t3;
    }
  }
  t2.InvalidArity = s;
  class o extends Error {
    constructor(e2) {
      super(`Invalid SPARQL Expression '${f(e2)}'`);
    }
  }
  t2.InvalidExpression = o;
  class u extends Error {
    constructor(e2) {
      super(`Invalid expression type for SPARQL Expression '${f(e2)}'`), this.expr = e2;
    }
  }
  t2.InvalidExpressionType = u;
  class c extends Error {
    constructor(e2) {
      super(`Invalid term type for term '${f(e2)}'`), this.term = e2;
    }
  }
  t2.InvalidTermType = c;
  class l extends Error {
    constructor(e2) {
      super("Unknown operator: '" + f(e2));
    }
  }
  t2.UnknownOperator = l;
  class h extends Error {
    constructor(e2) {
      super(`Unknown named operator: '${f(e2)}'`);
    }
  }
  t2.UnknownNamedOperator = h;
  class d extends Error {
    constructor(e2) {
      super(`Aggregate expression ${f(e2)} found, but no aggregate hook provided.`);
    }
  }
  t2.NoAggregator = d;
  class p extends Error {
    constructor() {
      super("EXISTS found, but no existence hook provided.");
    }
  }
  function f(e2) {
    return JSON.stringify(e2);
  }
  t2.NoExistenceHook = p;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(112), t2), i(r(218), t2);
}, function(e, t2, r) {
  "use strict";
  var n, i = typeof Reflect == "object" ? Reflect : null, a = i && typeof i.apply == "function" ? i.apply : function(e2, t3, r2) {
    return Function.prototype.apply.call(e2, t3, r2);
  };
  n = i && typeof i.ownKeys == "function" ? i.ownKeys : Object.getOwnPropertySymbols ? function(e2) {
    return Object.getOwnPropertyNames(e2).concat(Object.getOwnPropertySymbols(e2));
  } : function(e2) {
    return Object.getOwnPropertyNames(e2);
  };
  var s = Number.isNaN || function(e2) {
    return e2 != e2;
  };
  function o() {
    o.init.call(this);
  }
  e.exports = o, e.exports.once = function(e2, t3) {
    return new Promise(function(r2, n2) {
      function i2() {
        a2 !== void 0 && e2.removeListener("error", a2), r2([].slice.call(arguments));
      }
      var a2;
      t3 !== "error" && (a2 = function(r3) {
        e2.removeListener(t3, i2), n2(r3);
      }, e2.once("error", a2)), e2.once(t3, i2);
    });
  }, o.EventEmitter = o, o.prototype._events = void 0, o.prototype._eventsCount = 0, o.prototype._maxListeners = void 0;
  var u = 10;
  function c(e2) {
    if (typeof e2 != "function")
      throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e2);
  }
  function l(e2) {
    return e2._maxListeners === void 0 ? o.defaultMaxListeners : e2._maxListeners;
  }
  function h(e2, t3, r2, n2) {
    var i2, a2, s2, o2;
    if (c(r2), (a2 = e2._events) === void 0 ? (a2 = e2._events = Object.create(null), e2._eventsCount = 0) : (a2.newListener !== void 0 && (e2.emit("newListener", t3, r2.listener ? r2.listener : r2), a2 = e2._events), s2 = a2[t3]), s2 === void 0)
      s2 = a2[t3] = r2, ++e2._eventsCount;
    else if (typeof s2 == "function" ? s2 = a2[t3] = n2 ? [r2, s2] : [s2, r2] : n2 ? s2.unshift(r2) : s2.push(r2), (i2 = l(e2)) > 0 && s2.length > i2 && !s2.warned) {
      s2.warned = true;
      var u2 = new Error("Possible EventEmitter memory leak detected. " + s2.length + " " + String(t3) + " listeners added. Use emitter.setMaxListeners() to increase limit");
      u2.name = "MaxListenersExceededWarning", u2.emitter = e2, u2.type = t3, u2.count = s2.length, o2 = u2, console && console.warn && console.warn(o2);
    }
    return e2;
  }
  function d() {
    if (!this.fired)
      return this.target.removeListener(this.type, this.wrapFn), this.fired = true, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
  }
  function p(e2, t3, r2) {
    var n2 = {
      fired: false,
      wrapFn: void 0,
      target: e2,
      type: t3,
      listener: r2
    }, i2 = d.bind(n2);
    return i2.listener = r2, n2.wrapFn = i2, i2;
  }
  function f(e2, t3, r2) {
    var n2 = e2._events;
    if (n2 === void 0)
      return [];
    var i2 = n2[t3];
    return i2 === void 0 ? [] : typeof i2 == "function" ? r2 ? [i2.listener || i2] : [i2] : r2 ? function(e3) {
      for (var t4 = new Array(e3.length), r3 = 0; r3 < t4.length; ++r3)
        t4[r3] = e3[r3].listener || e3[r3];
      return t4;
    }(i2) : m(i2, i2.length);
  }
  function g(e2) {
    var t3 = this._events;
    if (t3 !== void 0) {
      var r2 = t3[e2];
      if (typeof r2 == "function")
        return 1;
      if (r2 !== void 0)
        return r2.length;
    }
    return 0;
  }
  function m(e2, t3) {
    for (var r2 = new Array(t3), n2 = 0; n2 < t3; ++n2)
      r2[n2] = e2[n2];
    return r2;
  }
  Object.defineProperty(o, "defaultMaxListeners", {
    enumerable: true,
    get: function() {
      return u;
    },
    set: function(e2) {
      if (typeof e2 != "number" || e2 < 0 || s(e2))
        throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e2 + ".");
      u = e2;
    }
  }), o.init = function() {
    this._events !== void 0 && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
  }, o.prototype.setMaxListeners = function(e2) {
    if (typeof e2 != "number" || e2 < 0 || s(e2))
      throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e2 + ".");
    return this._maxListeners = e2, this;
  }, o.prototype.getMaxListeners = function() {
    return l(this);
  }, o.prototype.emit = function(e2) {
    for (var t3 = [], r2 = 1; r2 < arguments.length; r2++)
      t3.push(arguments[r2]);
    var n2 = e2 === "error", i2 = this._events;
    if (i2 !== void 0)
      n2 = n2 && i2.error === void 0;
    else if (!n2)
      return false;
    if (n2) {
      var s2;
      if (t3.length > 0 && (s2 = t3[0]), s2 instanceof Error)
        throw s2;
      var o2 = new Error("Unhandled error." + (s2 ? " (" + s2.message + ")" : ""));
      throw o2.context = s2, o2;
    }
    var u2 = i2[e2];
    if (u2 === void 0)
      return false;
    if (typeof u2 == "function")
      a(u2, this, t3);
    else {
      var c2 = u2.length, l2 = m(u2, c2);
      for (r2 = 0; r2 < c2; ++r2)
        a(l2[r2], this, t3);
    }
    return true;
  }, o.prototype.addListener = function(e2, t3) {
    return h(this, e2, t3, false);
  }, o.prototype.on = o.prototype.addListener, o.prototype.prependListener = function(e2, t3) {
    return h(this, e2, t3, true);
  }, o.prototype.once = function(e2, t3) {
    return c(t3), this.on(e2, p(this, e2, t3)), this;
  }, o.prototype.prependOnceListener = function(e2, t3) {
    return c(t3), this.prependListener(e2, p(this, e2, t3)), this;
  }, o.prototype.removeListener = function(e2, t3) {
    var r2, n2, i2, a2, s2;
    if (c(t3), (n2 = this._events) === void 0)
      return this;
    if ((r2 = n2[e2]) === void 0)
      return this;
    if (r2 === t3 || r2.listener === t3)
      --this._eventsCount == 0 ? this._events = Object.create(null) : (delete n2[e2], n2.removeListener && this.emit("removeListener", e2, r2.listener || t3));
    else if (typeof r2 != "function") {
      for (i2 = -1, a2 = r2.length - 1; a2 >= 0; a2--)
        if (r2[a2] === t3 || r2[a2].listener === t3) {
          s2 = r2[a2].listener, i2 = a2;
          break;
        }
      if (i2 < 0)
        return this;
      i2 === 0 ? r2.shift() : function(e3, t4) {
        for (; t4 + 1 < e3.length; t4++)
          e3[t4] = e3[t4 + 1];
        e3.pop();
      }(r2, i2), r2.length === 1 && (n2[e2] = r2[0]), n2.removeListener !== void 0 && this.emit("removeListener", e2, s2 || t3);
    }
    return this;
  }, o.prototype.off = o.prototype.removeListener, o.prototype.removeAllListeners = function(e2) {
    var t3, r2, n2;
    if ((r2 = this._events) === void 0)
      return this;
    if (r2.removeListener === void 0)
      return arguments.length === 0 ? (this._events = Object.create(null), this._eventsCount = 0) : r2[e2] !== void 0 && (--this._eventsCount == 0 ? this._events = Object.create(null) : delete r2[e2]), this;
    if (arguments.length === 0) {
      var i2, a2 = Object.keys(r2);
      for (n2 = 0; n2 < a2.length; ++n2)
        (i2 = a2[n2]) !== "removeListener" && this.removeAllListeners(i2);
      return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this;
    }
    if (typeof (t3 = r2[e2]) == "function")
      this.removeListener(e2, t3);
    else if (t3 !== void 0)
      for (n2 = t3.length - 1; n2 >= 0; n2--)
        this.removeListener(e2, t3[n2]);
    return this;
  }, o.prototype.listeners = function(e2) {
    return f(this, e2, true);
  }, o.prototype.rawListeners = function(e2) {
    return f(this, e2, false);
  }, o.listenerCount = function(e2, t3) {
    return typeof e2.listenerCount == "function" ? e2.listenerCount(t3) : g.call(e2, t3);
  }, o.prototype.listenerCount = g, o.prototype.eventNames = function() {
    return this._eventsCount > 0 ? n(this._events) : [];
  };
}, function(e, t2, r) {
  e.exports = function() {
    "use strict";
    var e2 = Array.prototype.slice;
    function t3(e3, t4) {
      t4 && (e3.prototype = Object.create(t4.prototype)), e3.prototype.constructor = e3;
    }
    function r2(e3) {
      return s(e3) ? e3 : V(e3);
    }
    function n(e3) {
      return o(e3) ? e3 : H(e3);
    }
    function i(e3) {
      return u(e3) ? e3 : G(e3);
    }
    function a(e3) {
      return s(e3) && !c(e3) ? e3 : z(e3);
    }
    function s(e3) {
      return !(!e3 || !e3[h]);
    }
    function o(e3) {
      return !(!e3 || !e3[d]);
    }
    function u(e3) {
      return !(!e3 || !e3[p]);
    }
    function c(e3) {
      return o(e3) || u(e3);
    }
    function l(e3) {
      return !(!e3 || !e3[f]);
    }
    t3(n, r2), t3(i, r2), t3(a, r2), r2.isIterable = s, r2.isKeyed = o, r2.isIndexed = u, r2.isAssociative = c, r2.isOrdered = l, r2.Keyed = n, r2.Indexed = i, r2.Set = a;
    var h = "@@__IMMUTABLE_ITERABLE__@@", d = "@@__IMMUTABLE_KEYED__@@", p = "@@__IMMUTABLE_INDEXED__@@", f = "@@__IMMUTABLE_ORDERED__@@", g = {}, m = {
      value: false
    }, y = {
      value: false
    };
    function b(e3) {
      return e3.value = false, e3;
    }
    function _(e3) {
      e3 && (e3.value = true);
    }
    function v() {
    }
    function w(e3, t4) {
      t4 = t4 || 0;
      for (var r3 = Math.max(0, e3.length - t4), n2 = new Array(r3), i2 = 0; i2 < r3; i2++)
        n2[i2] = e3[i2 + t4];
      return n2;
    }
    function S(e3) {
      return e3.size === void 0 && (e3.size = e3.__iterate(E)), e3.size;
    }
    function T(e3, t4) {
      if (typeof t4 != "number") {
        var r3 = t4 >>> 0;
        if ("" + r3 !== t4 || r3 === 4294967295)
          return NaN;
        t4 = r3;
      }
      return t4 < 0 ? S(e3) + t4 : t4;
    }
    function E() {
      return true;
    }
    function x(e3, t4, r3) {
      return (e3 === 0 || r3 !== void 0 && e3 <= -r3) && (t4 === void 0 || r3 !== void 0 && t4 >= r3);
    }
    function O(e3, t4) {
      return R(e3, t4, 0);
    }
    function A(e3, t4) {
      return R(e3, t4, t4);
    }
    function R(e3, t4, r3) {
      return e3 === void 0 ? r3 : e3 < 0 ? Math.max(0, t4 + e3) : t4 === void 0 ? e3 : Math.min(t4, e3);
    }
    var I, N, P, C = typeof Symbol == "function" && Symbol.iterator, D = C || "@@iterator";
    function j(e3) {
      this.next = e3;
    }
    function k(e3, t4, r3, n2) {
      var i2 = e3 === 0 ? t4 : e3 === 1 ? r3 : [t4, r3];
      return n2 ? n2.value = i2 : n2 = {
        value: i2,
        done: false
      }, n2;
    }
    function L() {
      return {
        value: void 0,
        done: true
      };
    }
    function M(e3) {
      return !!q(e3);
    }
    function F(e3) {
      return e3 && typeof e3.next == "function";
    }
    function B(e3) {
      var t4 = q(e3);
      return t4 && t4.call(e3);
    }
    function q(e3) {
      var t4 = e3 && (C && e3[C] || e3["@@iterator"]);
      if (typeof t4 == "function")
        return t4;
    }
    function U(e3) {
      return e3 && typeof e3.length == "number";
    }
    function V(e3) {
      return e3 == null ? W() : s(e3) ? e3.toSeq() : function(e4) {
        var t4 = ee(e4) || typeof e4 == "object" && new X(e4);
        if (!t4)
          throw new TypeError("Expected Array or iterable object of values, or keyed object: " + e4);
        return t4;
      }(e3);
    }
    function H(e3) {
      return e3 == null ? W().toKeyedSeq() : s(e3) ? o(e3) ? e3.toSeq() : e3.fromEntrySeq() : K(e3);
    }
    function G(e3) {
      return e3 == null ? W() : s(e3) ? o(e3) ? e3.entrySeq() : e3.toIndexedSeq() : Z(e3);
    }
    function z(e3) {
      return (e3 == null ? W() : s(e3) ? o(e3) ? e3.entrySeq() : e3 : Z(e3)).toSetSeq();
    }
    function Q(e3) {
      this._array = e3, this.size = e3.length;
    }
    function X(e3) {
      var t4 = Object.keys(e3);
      this._object = e3, this._keys = t4, this.size = t4.length;
    }
    function $(e3) {
      this._iterable = e3, this.size = e3.length || e3.size;
    }
    function Y(e3) {
      this._iterator = e3, this._iteratorCache = [];
    }
    function J(e3) {
      return !(!e3 || !e3["@@__IMMUTABLE_SEQ__@@"]);
    }
    function W() {
      return I || (I = new Q([]));
    }
    function K(e3) {
      var t4 = Array.isArray(e3) ? new Q(e3).fromEntrySeq() : F(e3) ? new Y(e3).fromEntrySeq() : M(e3) ? new $(e3).fromEntrySeq() : typeof e3 == "object" ? new X(e3) : void 0;
      if (!t4)
        throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: " + e3);
      return t4;
    }
    function Z(e3) {
      var t4 = ee(e3);
      if (!t4)
        throw new TypeError("Expected Array or iterable object of values: " + e3);
      return t4;
    }
    function ee(e3) {
      return U(e3) ? new Q(e3) : F(e3) ? new Y(e3) : M(e3) ? new $(e3) : void 0;
    }
    function te(e3, t4, r3, n2) {
      var i2 = e3._cache;
      if (i2) {
        for (var a2 = i2.length - 1, s2 = 0; s2 <= a2; s2++) {
          var o2 = i2[r3 ? a2 - s2 : s2];
          if (t4(o2[1], n2 ? o2[0] : s2, e3) === false)
            return s2 + 1;
        }
        return s2;
      }
      return e3.__iterateUncached(t4, r3);
    }
    function re(e3, t4, r3, n2) {
      var i2 = e3._cache;
      if (i2) {
        var a2 = i2.length - 1, s2 = 0;
        return new j(function() {
          var e4 = i2[r3 ? a2 - s2 : s2];
          return s2++ > a2 ? {
            value: void 0,
            done: true
          } : k(t4, n2 ? e4[0] : s2 - 1, e4[1]);
        });
      }
      return e3.__iteratorUncached(t4, r3);
    }
    function ne(e3, t4) {
      return t4 ? function e4(t5, r3, n2, i2) {
        return Array.isArray(r3) ? t5.call(i2, n2, G(r3).map(function(n3, i3) {
          return e4(t5, n3, i3, r3);
        })) : ae(r3) ? t5.call(i2, n2, H(r3).map(function(n3, i3) {
          return e4(t5, n3, i3, r3);
        })) : r3;
      }(t4, e3, "", {
        "": e3
      }) : ie(e3);
    }
    function ie(e3) {
      return Array.isArray(e3) ? G(e3).map(ie).toList() : ae(e3) ? H(e3).map(ie).toMap() : e3;
    }
    function ae(e3) {
      return e3 && (e3.constructor === Object || e3.constructor === void 0);
    }
    function se(e3, t4) {
      if (e3 === t4 || e3 != e3 && t4 != t4)
        return true;
      if (!e3 || !t4)
        return false;
      if (typeof e3.valueOf == "function" && typeof t4.valueOf == "function") {
        if ((e3 = e3.valueOf()) === (t4 = t4.valueOf()) || e3 != e3 && t4 != t4)
          return true;
        if (!e3 || !t4)
          return false;
      }
      return !(typeof e3.equals != "function" || typeof t4.equals != "function" || !e3.equals(t4));
    }
    function oe(e3, t4) {
      if (e3 === t4)
        return true;
      if (!s(t4) || e3.size !== void 0 && t4.size !== void 0 && e3.size !== t4.size || e3.__hash !== void 0 && t4.__hash !== void 0 && e3.__hash !== t4.__hash || o(e3) !== o(t4) || u(e3) !== u(t4) || l(e3) !== l(t4))
        return false;
      if (e3.size === 0 && t4.size === 0)
        return true;
      var r3 = !c(e3);
      if (l(e3)) {
        var n2 = e3.entries();
        return t4.every(function(e4, t5) {
          var i3 = n2.next().value;
          return i3 && se(i3[1], e4) && (r3 || se(i3[0], t5));
        }) && n2.next().done;
      }
      var i2 = false;
      if (e3.size === void 0)
        if (t4.size === void 0)
          typeof e3.cacheResult == "function" && e3.cacheResult();
        else {
          i2 = true;
          var a2 = e3;
          e3 = t4, t4 = a2;
        }
      var h2 = true, d2 = t4.__iterate(function(t5, n3) {
        if (r3 ? !e3.has(t5) : i2 ? !se(t5, e3.get(n3, g)) : !se(e3.get(n3, g), t5))
          return h2 = false, false;
      });
      return h2 && e3.size === d2;
    }
    function ue(e3, t4) {
      if (!(this instanceof ue))
        return new ue(e3, t4);
      if (this._value = e3, this.size = t4 === void 0 ? 1 / 0 : Math.max(0, t4), this.size === 0) {
        if (N)
          return N;
        N = this;
      }
    }
    function ce(e3, t4) {
      if (!e3)
        throw new Error(t4);
    }
    function le(e3, t4, r3) {
      if (!(this instanceof le))
        return new le(e3, t4, r3);
      if (ce(r3 !== 0, "Cannot step a Range by 0"), e3 = e3 || 0, t4 === void 0 && (t4 = 1 / 0), r3 = r3 === void 0 ? 1 : Math.abs(r3), t4 < e3 && (r3 = -r3), this._start = e3, this._end = t4, this._step = r3, this.size = Math.max(0, Math.ceil((t4 - e3) / r3 - 1) + 1), this.size === 0) {
        if (P)
          return P;
        P = this;
      }
    }
    function he() {
      throw TypeError("Abstract");
    }
    function de() {
    }
    function pe() {
    }
    function fe() {
    }
    j.prototype.toString = function() {
      return "[Iterator]";
    }, j.KEYS = 0, j.VALUES = 1, j.ENTRIES = 2, j.prototype.inspect = j.prototype.toSource = function() {
      return this.toString();
    }, j.prototype[D] = function() {
      return this;
    }, t3(V, r2), V.of = function() {
      return V(arguments);
    }, V.prototype.toSeq = function() {
      return this;
    }, V.prototype.toString = function() {
      return this.__toString("Seq {", "}");
    }, V.prototype.cacheResult = function() {
      return !this._cache && this.__iterateUncached && (this._cache = this.entrySeq().toArray(), this.size = this._cache.length), this;
    }, V.prototype.__iterate = function(e3, t4) {
      return te(this, e3, t4, true);
    }, V.prototype.__iterator = function(e3, t4) {
      return re(this, e3, t4, true);
    }, t3(H, V), H.prototype.toKeyedSeq = function() {
      return this;
    }, t3(G, V), G.of = function() {
      return G(arguments);
    }, G.prototype.toIndexedSeq = function() {
      return this;
    }, G.prototype.toString = function() {
      return this.__toString("Seq [", "]");
    }, G.prototype.__iterate = function(e3, t4) {
      return te(this, e3, t4, false);
    }, G.prototype.__iterator = function(e3, t4) {
      return re(this, e3, t4, false);
    }, t3(z, V), z.of = function() {
      return z(arguments);
    }, z.prototype.toSetSeq = function() {
      return this;
    }, V.isSeq = J, V.Keyed = H, V.Set = z, V.Indexed = G, V.prototype["@@__IMMUTABLE_SEQ__@@"] = true, t3(Q, G), Q.prototype.get = function(e3, t4) {
      return this.has(e3) ? this._array[T(this, e3)] : t4;
    }, Q.prototype.__iterate = function(e3, t4) {
      for (var r3 = this._array, n2 = r3.length - 1, i2 = 0; i2 <= n2; i2++)
        if (e3(r3[t4 ? n2 - i2 : i2], i2, this) === false)
          return i2 + 1;
      return i2;
    }, Q.prototype.__iterator = function(e3, t4) {
      var r3 = this._array, n2 = r3.length - 1, i2 = 0;
      return new j(function() {
        return i2 > n2 ? {
          value: void 0,
          done: true
        } : k(e3, i2, r3[t4 ? n2 - i2++ : i2++]);
      });
    }, t3(X, H), X.prototype.get = function(e3, t4) {
      return t4 === void 0 || this.has(e3) ? this._object[e3] : t4;
    }, X.prototype.has = function(e3) {
      return this._object.hasOwnProperty(e3);
    }, X.prototype.__iterate = function(e3, t4) {
      for (var r3 = this._object, n2 = this._keys, i2 = n2.length - 1, a2 = 0; a2 <= i2; a2++) {
        var s2 = n2[t4 ? i2 - a2 : a2];
        if (e3(r3[s2], s2, this) === false)
          return a2 + 1;
      }
      return a2;
    }, X.prototype.__iterator = function(e3, t4) {
      var r3 = this._object, n2 = this._keys, i2 = n2.length - 1, a2 = 0;
      return new j(function() {
        var s2 = n2[t4 ? i2 - a2 : a2];
        return a2++ > i2 ? {
          value: void 0,
          done: true
        } : k(e3, s2, r3[s2]);
      });
    }, X.prototype[f] = true, t3($, G), $.prototype.__iterateUncached = function(e3, t4) {
      if (t4)
        return this.cacheResult().__iterate(e3, t4);
      var r3 = B(this._iterable), n2 = 0;
      if (F(r3))
        for (var i2; !(i2 = r3.next()).done && e3(i2.value, n2++, this) !== false; )
          ;
      return n2;
    }, $.prototype.__iteratorUncached = function(e3, t4) {
      if (t4)
        return this.cacheResult().__iterator(e3, t4);
      var r3 = B(this._iterable);
      if (!F(r3))
        return new j(L);
      var n2 = 0;
      return new j(function() {
        var t5 = r3.next();
        return t5.done ? t5 : k(e3, n2++, t5.value);
      });
    }, t3(Y, G), Y.prototype.__iterateUncached = function(e3, t4) {
      if (t4)
        return this.cacheResult().__iterate(e3, t4);
      for (var r3, n2 = this._iterator, i2 = this._iteratorCache, a2 = 0; a2 < i2.length; )
        if (e3(i2[a2], a2++, this) === false)
          return a2;
      for (; !(r3 = n2.next()).done; ) {
        var s2 = r3.value;
        if (i2[a2] = s2, e3(s2, a2++, this) === false)
          break;
      }
      return a2;
    }, Y.prototype.__iteratorUncached = function(e3, t4) {
      if (t4)
        return this.cacheResult().__iterator(e3, t4);
      var r3 = this._iterator, n2 = this._iteratorCache, i2 = 0;
      return new j(function() {
        if (i2 >= n2.length) {
          var t5 = r3.next();
          if (t5.done)
            return t5;
          n2[i2] = t5.value;
        }
        return k(e3, i2, n2[i2++]);
      });
    }, t3(ue, G), ue.prototype.toString = function() {
      return this.size === 0 ? "Repeat []" : "Repeat [ " + this._value + " " + this.size + " times ]";
    }, ue.prototype.get = function(e3, t4) {
      return this.has(e3) ? this._value : t4;
    }, ue.prototype.includes = function(e3) {
      return se(this._value, e3);
    }, ue.prototype.slice = function(e3, t4) {
      var r3 = this.size;
      return x(e3, t4, r3) ? this : new ue(this._value, A(t4, r3) - O(e3, r3));
    }, ue.prototype.reverse = function() {
      return this;
    }, ue.prototype.indexOf = function(e3) {
      return se(this._value, e3) ? 0 : -1;
    }, ue.prototype.lastIndexOf = function(e3) {
      return se(this._value, e3) ? this.size : -1;
    }, ue.prototype.__iterate = function(e3, t4) {
      for (var r3 = 0; r3 < this.size; r3++)
        if (e3(this._value, r3, this) === false)
          return r3 + 1;
      return r3;
    }, ue.prototype.__iterator = function(e3, t4) {
      var r3 = this, n2 = 0;
      return new j(function() {
        return n2 < r3.size ? k(e3, n2++, r3._value) : {
          value: void 0,
          done: true
        };
      });
    }, ue.prototype.equals = function(e3) {
      return e3 instanceof ue ? se(this._value, e3._value) : oe(e3);
    }, t3(le, G), le.prototype.toString = function() {
      return this.size === 0 ? "Range []" : "Range [ " + this._start + "..." + this._end + (this._step !== 1 ? " by " + this._step : "") + " ]";
    }, le.prototype.get = function(e3, t4) {
      return this.has(e3) ? this._start + T(this, e3) * this._step : t4;
    }, le.prototype.includes = function(e3) {
      var t4 = (e3 - this._start) / this._step;
      return t4 >= 0 && t4 < this.size && t4 === Math.floor(t4);
    }, le.prototype.slice = function(e3, t4) {
      return x(e3, t4, this.size) ? this : (e3 = O(e3, this.size), (t4 = A(t4, this.size)) <= e3 ? new le(0, 0) : new le(this.get(e3, this._end), this.get(t4, this._end), this._step));
    }, le.prototype.indexOf = function(e3) {
      var t4 = e3 - this._start;
      if (t4 % this._step == 0) {
        var r3 = t4 / this._step;
        if (r3 >= 0 && r3 < this.size)
          return r3;
      }
      return -1;
    }, le.prototype.lastIndexOf = function(e3) {
      return this.indexOf(e3);
    }, le.prototype.__iterate = function(e3, t4) {
      for (var r3 = this.size - 1, n2 = this._step, i2 = t4 ? this._start + r3 * n2 : this._start, a2 = 0; a2 <= r3; a2++) {
        if (e3(i2, a2, this) === false)
          return a2 + 1;
        i2 += t4 ? -n2 : n2;
      }
      return a2;
    }, le.prototype.__iterator = function(e3, t4) {
      var r3 = this.size - 1, n2 = this._step, i2 = t4 ? this._start + r3 * n2 : this._start, a2 = 0;
      return new j(function() {
        var s2 = i2;
        return i2 += t4 ? -n2 : n2, a2 > r3 ? {
          value: void 0,
          done: true
        } : k(e3, a2++, s2);
      });
    }, le.prototype.equals = function(e3) {
      return e3 instanceof le ? this._start === e3._start && this._end === e3._end && this._step === e3._step : oe(this, e3);
    }, t3(he, r2), t3(de, he), t3(pe, he), t3(fe, he), he.Keyed = de, he.Indexed = pe, he.Set = fe;
    var ge = typeof Math.imul == "function" && Math.imul(4294967295, 2) === -2 ? Math.imul : function(e3, t4) {
      var r3 = 65535 & (e3 |= 0), n2 = 65535 & (t4 |= 0);
      return r3 * n2 + ((e3 >>> 16) * n2 + r3 * (t4 >>> 16) << 16 >>> 0) | 0;
    };
    function me(e3) {
      return e3 >>> 1 & 1073741824 | 3221225471 & e3;
    }
    function ye(e3) {
      if (e3 === false || e3 == null)
        return 0;
      if (typeof e3.valueOf == "function" && ((e3 = e3.valueOf()) === false || e3 == null))
        return 0;
      if (e3 === true)
        return 1;
      var t4 = typeof e3;
      if (t4 === "number") {
        if (e3 != e3 || e3 === 1 / 0)
          return 0;
        var r3 = 0 | e3;
        for (r3 !== e3 && (r3 ^= 4294967295 * e3); e3 > 4294967295; )
          r3 ^= e3 /= 4294967295;
        return me(r3);
      }
      if (t4 === "string")
        return e3.length > xe ? function(e4) {
          var t5 = Re[e4];
          return t5 === void 0 && (t5 = be(e4), Ae === Oe && (Ae = 0, Re = {}), Ae++, Re[e4] = t5), t5;
        }(e3) : be(e3);
      if (typeof e3.hashCode == "function")
        return e3.hashCode();
      if (t4 === "object")
        return function(e4) {
          var t5;
          if (Se && (t5 = _e.get(e4)) !== void 0)
            return t5;
          if ((t5 = e4[Ee]) !== void 0)
            return t5;
          if (!we) {
            if ((t5 = e4.propertyIsEnumerable && e4.propertyIsEnumerable[Ee]) !== void 0)
              return t5;
            if ((t5 = function(e5) {
              if (e5 && e5.nodeType > 0)
                switch (e5.nodeType) {
                  case 1:
                    return e5.uniqueID;
                  case 9:
                    return e5.documentElement && e5.documentElement.uniqueID;
                }
            }(e4)) !== void 0)
              return t5;
          }
          if (t5 = ++Te, 1073741824 & Te && (Te = 0), Se)
            _e.set(e4, t5);
          else {
            if (ve !== void 0 && ve(e4) === false)
              throw new Error("Non-extensible objects are not allowed as keys.");
            if (we)
              Object.defineProperty(e4, Ee, {
                enumerable: false,
                configurable: false,
                writable: false,
                value: t5
              });
            else if (e4.propertyIsEnumerable !== void 0 && e4.propertyIsEnumerable === e4.constructor.prototype.propertyIsEnumerable)
              e4.propertyIsEnumerable = function() {
                return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);
              }, e4.propertyIsEnumerable[Ee] = t5;
            else {
              if (e4.nodeType === void 0)
                throw new Error("Unable to set a non-enumerable property on object.");
              e4[Ee] = t5;
            }
          }
          return t5;
        }(e3);
      if (typeof e3.toString == "function")
        return be(e3.toString());
      throw new Error("Value type " + t4 + " cannot be hashed.");
    }
    function be(e3) {
      for (var t4 = 0, r3 = 0; r3 < e3.length; r3++)
        t4 = 31 * t4 + e3.charCodeAt(r3) | 0;
      return me(t4);
    }
    var _e, ve = Object.isExtensible, we = function() {
      try {
        return Object.defineProperty({}, "@", {}), true;
      } catch (e3) {
        return false;
      }
    }(), Se = typeof WeakMap == "function";
    Se && (_e = new WeakMap());
    var Te = 0, Ee = "__immutablehash__";
    typeof Symbol == "function" && (Ee = Symbol(Ee));
    var xe = 16, Oe = 255, Ae = 0, Re = {};
    function Ie(e3) {
      ce(e3 !== 1 / 0, "Cannot perform this action with an infinite size.");
    }
    function Ne(e3) {
      return e3 == null ? Ge() : Pe(e3) && !l(e3) ? e3 : Ge().withMutations(function(t4) {
        var r3 = n(e3);
        Ie(r3.size), r3.forEach(function(e4, r4) {
          return t4.set(r4, e4);
        });
      });
    }
    function Pe(e3) {
      return !(!e3 || !e3[De]);
    }
    t3(Ne, de), Ne.of = function() {
      var t4 = e2.call(arguments, 0);
      return Ge().withMutations(function(e3) {
        for (var r3 = 0; r3 < t4.length; r3 += 2) {
          if (r3 + 1 >= t4.length)
            throw new Error("Missing value for key: " + t4[r3]);
          e3.set(t4[r3], t4[r3 + 1]);
        }
      });
    }, Ne.prototype.toString = function() {
      return this.__toString("Map {", "}");
    }, Ne.prototype.get = function(e3, t4) {
      return this._root ? this._root.get(0, void 0, e3, t4) : t4;
    }, Ne.prototype.set = function(e3, t4) {
      return ze(this, e3, t4);
    }, Ne.prototype.setIn = function(e3, t4) {
      return this.updateIn(e3, g, function() {
        return t4;
      });
    }, Ne.prototype.remove = function(e3) {
      return ze(this, e3, g);
    }, Ne.prototype.deleteIn = function(e3) {
      return this.updateIn(e3, function() {
        return g;
      });
    }, Ne.prototype.update = function(e3, t4, r3) {
      return arguments.length === 1 ? e3(this) : this.updateIn([e3], t4, r3);
    }, Ne.prototype.updateIn = function(e3, t4, r3) {
      r3 || (r3 = t4, t4 = void 0);
      var n2 = function e4(t5, r4, n3, i2) {
        var a2 = t5 === g, s2 = r4.next();
        if (s2.done) {
          var o2 = a2 ? n3 : t5, u2 = i2(o2);
          return u2 === o2 ? t5 : u2;
        }
        ce(a2 || t5 && t5.set, "invalid keyPath");
        var c2 = s2.value, l2 = a2 ? g : t5.get(c2, g), h2 = e4(l2, r4, n3, i2);
        return h2 === l2 ? t5 : h2 === g ? t5.remove(c2) : (a2 ? Ge() : t5).set(c2, h2);
      }(this, Yt(e3), t4, r3);
      return n2 === g ? void 0 : n2;
    }, Ne.prototype.clear = function() {
      return this.size === 0 ? this : this.__ownerID ? (this.size = 0, this._root = null, this.__hash = void 0, this.__altered = true, this) : Ge();
    }, Ne.prototype.merge = function() {
      return Ye(this, void 0, arguments);
    }, Ne.prototype.mergeWith = function(t4) {
      var r3 = e2.call(arguments, 1);
      return Ye(this, t4, r3);
    }, Ne.prototype.mergeIn = function(t4) {
      var r3 = e2.call(arguments, 1);
      return this.updateIn(t4, Ge(), function(e3) {
        return typeof e3.merge == "function" ? e3.merge.apply(e3, r3) : r3[r3.length - 1];
      });
    }, Ne.prototype.mergeDeep = function() {
      return Ye(this, Je, arguments);
    }, Ne.prototype.mergeDeepWith = function(t4) {
      var r3 = e2.call(arguments, 1);
      return Ye(this, We(t4), r3);
    }, Ne.prototype.mergeDeepIn = function(t4) {
      var r3 = e2.call(arguments, 1);
      return this.updateIn(t4, Ge(), function(e3) {
        return typeof e3.mergeDeep == "function" ? e3.mergeDeep.apply(e3, r3) : r3[r3.length - 1];
      });
    }, Ne.prototype.sort = function(e3) {
      return wt(Ft(this, e3));
    }, Ne.prototype.sortBy = function(e3, t4) {
      return wt(Ft(this, t4, e3));
    }, Ne.prototype.withMutations = function(e3) {
      var t4 = this.asMutable();
      return e3(t4), t4.wasAltered() ? t4.__ensureOwner(this.__ownerID) : this;
    }, Ne.prototype.asMutable = function() {
      return this.__ownerID ? this : this.__ensureOwner(new v());
    }, Ne.prototype.asImmutable = function() {
      return this.__ensureOwner();
    }, Ne.prototype.wasAltered = function() {
      return this.__altered;
    }, Ne.prototype.__iterator = function(e3, t4) {
      return new qe(this, e3, t4);
    }, Ne.prototype.__iterate = function(e3, t4) {
      var r3 = this, n2 = 0;
      return this._root && this._root.iterate(function(t5) {
        return n2++, e3(t5[1], t5[0], r3);
      }, t4), n2;
    }, Ne.prototype.__ensureOwner = function(e3) {
      return e3 === this.__ownerID ? this : e3 ? He(this.size, this._root, e3, this.__hash) : (this.__ownerID = e3, this.__altered = false, this);
    }, Ne.isMap = Pe;
    var Ce, De = "@@__IMMUTABLE_MAP__@@", je = Ne.prototype;
    function ke(e3, t4) {
      this.ownerID = e3, this.entries = t4;
    }
    function Le(e3, t4, r3) {
      this.ownerID = e3, this.bitmap = t4, this.nodes = r3;
    }
    function Me(e3, t4, r3) {
      this.ownerID = e3, this.count = t4, this.nodes = r3;
    }
    function Fe(e3, t4, r3) {
      this.ownerID = e3, this.keyHash = t4, this.entries = r3;
    }
    function Be(e3, t4, r3) {
      this.ownerID = e3, this.keyHash = t4, this.entry = r3;
    }
    function qe(e3, t4, r3) {
      this._type = t4, this._reverse = r3, this._stack = e3._root && Ve(e3._root);
    }
    function Ue(e3, t4) {
      return k(e3, t4[0], t4[1]);
    }
    function Ve(e3, t4) {
      return {
        node: e3,
        index: 0,
        __prev: t4
      };
    }
    function He(e3, t4, r3, n2) {
      var i2 = Object.create(je);
      return i2.size = e3, i2._root = t4, i2.__ownerID = r3, i2.__hash = n2, i2.__altered = false, i2;
    }
    function Ge() {
      return Ce || (Ce = He(0));
    }
    function ze(e3, t4, r3) {
      var n2, i2;
      if (e3._root) {
        var a2 = b(m), s2 = b(y);
        if (n2 = Qe(e3._root, e3.__ownerID, 0, void 0, t4, r3, a2, s2), !s2.value)
          return e3;
        i2 = e3.size + (a2.value ? r3 === g ? -1 : 1 : 0);
      } else {
        if (r3 === g)
          return e3;
        i2 = 1, n2 = new ke(e3.__ownerID, [
          [t4, r3]
        ]);
      }
      return e3.__ownerID ? (e3.size = i2, e3._root = n2, e3.__hash = void 0, e3.__altered = true, e3) : n2 ? He(i2, n2) : Ge();
    }
    function Qe(e3, t4, r3, n2, i2, a2, s2, o2) {
      return e3 ? e3.update(t4, r3, n2, i2, a2, s2, o2) : a2 === g ? e3 : (_(o2), _(s2), new Be(t4, n2, [i2, a2]));
    }
    function Xe(e3) {
      return e3.constructor === Be || e3.constructor === Fe;
    }
    function $e(e3, t4, r3, n2, i2) {
      if (e3.keyHash === n2)
        return new Fe(t4, n2, [e3.entry, i2]);
      var a2, s2 = 31 & (r3 === 0 ? e3.keyHash : e3.keyHash >>> r3), o2 = 31 & (r3 === 0 ? n2 : n2 >>> r3);
      return new Le(t4, 1 << s2 | 1 << o2, s2 === o2 ? [$e(e3, t4, r3 + 5, n2, i2)] : (a2 = new Be(t4, n2, i2), s2 < o2 ? [e3, a2] : [a2, e3]));
    }
    function Ye(e3, t4, r3) {
      for (var i2 = [], a2 = 0; a2 < r3.length; a2++) {
        var o2 = r3[a2], u2 = n(o2);
        s(o2) || (u2 = u2.map(function(e4) {
          return ne(e4);
        })), i2.push(u2);
      }
      return Ke(e3, t4, i2);
    }
    function Je(e3, t4, r3) {
      return e3 && e3.mergeDeep && s(t4) ? e3.mergeDeep(t4) : se(e3, t4) ? e3 : t4;
    }
    function We(e3) {
      return function(t4, r3, n2) {
        if (t4 && t4.mergeDeepWith && s(r3))
          return t4.mergeDeepWith(e3, r3);
        var i2 = e3(t4, r3, n2);
        return se(t4, i2) ? t4 : i2;
      };
    }
    function Ke(e3, t4, r3) {
      return (r3 = r3.filter(function(e4) {
        return e4.size !== 0;
      })).length === 0 ? e3 : e3.size !== 0 || e3.__ownerID || r3.length !== 1 ? e3.withMutations(function(e4) {
        for (var n2 = t4 ? function(r4, n3) {
          e4.update(n3, g, function(e5) {
            return e5 === g ? r4 : t4(e5, r4, n3);
          });
        } : function(t5, r4) {
          e4.set(r4, t5);
        }, i2 = 0; i2 < r3.length; i2++)
          r3[i2].forEach(n2);
      }) : e3.constructor(r3[0]);
    }
    function Ze(e3) {
      return e3 = (e3 = (858993459 & (e3 -= e3 >> 1 & 1431655765)) + (e3 >> 2 & 858993459)) + (e3 >> 4) & 252645135, e3 += e3 >> 8, 127 & (e3 += e3 >> 16);
    }
    function et(e3, t4, r3, n2) {
      var i2 = n2 ? e3 : w(e3);
      return i2[t4] = r3, i2;
    }
    je[De] = true, je.delete = je.remove, je.removeIn = je.deleteIn, ke.prototype.get = function(e3, t4, r3, n2) {
      for (var i2 = this.entries, a2 = 0, s2 = i2.length; a2 < s2; a2++)
        if (se(r3, i2[a2][0]))
          return i2[a2][1];
      return n2;
    }, ke.prototype.update = function(e3, t4, r3, n2, i2, a2, s2) {
      for (var o2 = i2 === g, u2 = this.entries, c2 = 0, l2 = u2.length; c2 < l2 && !se(n2, u2[c2][0]); c2++)
        ;
      var h2 = c2 < l2;
      if (h2 ? u2[c2][1] === i2 : o2)
        return this;
      if (_(s2), (o2 || !h2) && _(a2), !o2 || u2.length !== 1) {
        if (!h2 && !o2 && u2.length >= tt)
          return function(e4, t5, r4, n3) {
            e4 || (e4 = new v());
            for (var i3 = new Be(e4, ye(r4), [r4, n3]), a3 = 0; a3 < t5.length; a3++) {
              var s3 = t5[a3];
              i3 = i3.update(e4, 0, void 0, s3[0], s3[1]);
            }
            return i3;
          }(e3, u2, n2, i2);
        var d2 = e3 && e3 === this.ownerID, p2 = d2 ? u2 : w(u2);
        return h2 ? o2 ? c2 === l2 - 1 ? p2.pop() : p2[c2] = p2.pop() : p2[c2] = [n2, i2] : p2.push([n2, i2]), d2 ? (this.entries = p2, this) : new ke(e3, p2);
      }
    }, Le.prototype.get = function(e3, t4, r3, n2) {
      t4 === void 0 && (t4 = ye(r3));
      var i2 = 1 << (31 & (e3 === 0 ? t4 : t4 >>> e3)), a2 = this.bitmap;
      return (a2 & i2) == 0 ? n2 : this.nodes[Ze(a2 & i2 - 1)].get(e3 + 5, t4, r3, n2);
    }, Le.prototype.update = function(e3, t4, r3, n2, i2, a2, s2) {
      r3 === void 0 && (r3 = ye(n2));
      var o2 = 31 & (t4 === 0 ? r3 : r3 >>> t4), u2 = 1 << o2, c2 = this.bitmap, l2 = (c2 & u2) != 0;
      if (!l2 && i2 === g)
        return this;
      var h2 = Ze(c2 & u2 - 1), d2 = this.nodes, p2 = l2 ? d2[h2] : void 0, f2 = Qe(p2, e3, t4 + 5, r3, n2, i2, a2, s2);
      if (f2 === p2)
        return this;
      if (!l2 && f2 && d2.length >= rt)
        return function(e4, t5, r4, n3, i3) {
          for (var a3 = 0, s3 = new Array(32), o3 = 0; r4 !== 0; o3++, r4 >>>= 1)
            s3[o3] = 1 & r4 ? t5[a3++] : void 0;
          return s3[n3] = i3, new Me(e4, a3 + 1, s3);
        }(e3, d2, c2, o2, f2);
      if (l2 && !f2 && d2.length === 2 && Xe(d2[1 ^ h2]))
        return d2[1 ^ h2];
      if (l2 && f2 && d2.length === 1 && Xe(f2))
        return f2;
      var m2 = e3 && e3 === this.ownerID, y2 = l2 ? f2 ? c2 : c2 ^ u2 : c2 | u2, b2 = l2 ? f2 ? et(d2, h2, f2, m2) : function(e4, t5, r4) {
        var n3 = e4.length - 1;
        if (r4 && t5 === n3)
          return e4.pop(), e4;
        for (var i3 = new Array(n3), a3 = 0, s3 = 0; s3 < n3; s3++)
          s3 === t5 && (a3 = 1), i3[s3] = e4[s3 + a3];
        return i3;
      }(d2, h2, m2) : function(e4, t5, r4, n3) {
        var i3 = e4.length + 1;
        if (n3 && t5 + 1 === i3)
          return e4[t5] = r4, e4;
        for (var a3 = new Array(i3), s3 = 0, o3 = 0; o3 < i3; o3++)
          o3 === t5 ? (a3[o3] = r4, s3 = -1) : a3[o3] = e4[o3 + s3];
        return a3;
      }(d2, h2, f2, m2);
      return m2 ? (this.bitmap = y2, this.nodes = b2, this) : new Le(e3, y2, b2);
    }, Me.prototype.get = function(e3, t4, r3, n2) {
      t4 === void 0 && (t4 = ye(r3));
      var i2 = 31 & (e3 === 0 ? t4 : t4 >>> e3), a2 = this.nodes[i2];
      return a2 ? a2.get(e3 + 5, t4, r3, n2) : n2;
    }, Me.prototype.update = function(e3, t4, r3, n2, i2, a2, s2) {
      r3 === void 0 && (r3 = ye(n2));
      var o2 = 31 & (t4 === 0 ? r3 : r3 >>> t4), u2 = i2 === g, c2 = this.nodes, l2 = c2[o2];
      if (u2 && !l2)
        return this;
      var h2 = Qe(l2, e3, t4 + 5, r3, n2, i2, a2, s2);
      if (h2 === l2)
        return this;
      var d2 = this.count;
      if (l2) {
        if (!h2 && --d2 < nt)
          return function(e4, t5, r4, n3) {
            for (var i3 = 0, a3 = 0, s3 = new Array(r4), o3 = 0, u3 = 1, c3 = t5.length; o3 < c3; o3++, u3 <<= 1) {
              var l3 = t5[o3];
              l3 !== void 0 && o3 !== n3 && (i3 |= u3, s3[a3++] = l3);
            }
            return new Le(e4, i3, s3);
          }(e3, c2, d2, o2);
      } else
        d2++;
      var p2 = e3 && e3 === this.ownerID, f2 = et(c2, o2, h2, p2);
      return p2 ? (this.count = d2, this.nodes = f2, this) : new Me(e3, d2, f2);
    }, Fe.prototype.get = function(e3, t4, r3, n2) {
      for (var i2 = this.entries, a2 = 0, s2 = i2.length; a2 < s2; a2++)
        if (se(r3, i2[a2][0]))
          return i2[a2][1];
      return n2;
    }, Fe.prototype.update = function(e3, t4, r3, n2, i2, a2, s2) {
      r3 === void 0 && (r3 = ye(n2));
      var o2 = i2 === g;
      if (r3 !== this.keyHash)
        return o2 ? this : (_(s2), _(a2), $e(this, e3, t4, r3, [n2, i2]));
      for (var u2 = this.entries, c2 = 0, l2 = u2.length; c2 < l2 && !se(n2, u2[c2][0]); c2++)
        ;
      var h2 = c2 < l2;
      if (h2 ? u2[c2][1] === i2 : o2)
        return this;
      if (_(s2), (o2 || !h2) && _(a2), o2 && l2 === 2)
        return new Be(e3, this.keyHash, u2[1 ^ c2]);
      var d2 = e3 && e3 === this.ownerID, p2 = d2 ? u2 : w(u2);
      return h2 ? o2 ? c2 === l2 - 1 ? p2.pop() : p2[c2] = p2.pop() : p2[c2] = [n2, i2] : p2.push([n2, i2]), d2 ? (this.entries = p2, this) : new Fe(e3, this.keyHash, p2);
    }, Be.prototype.get = function(e3, t4, r3, n2) {
      return se(r3, this.entry[0]) ? this.entry[1] : n2;
    }, Be.prototype.update = function(e3, t4, r3, n2, i2, a2, s2) {
      var o2 = i2 === g, u2 = se(n2, this.entry[0]);
      return (u2 ? i2 === this.entry[1] : o2) ? this : (_(s2), o2 ? void _(a2) : u2 ? e3 && e3 === this.ownerID ? (this.entry[1] = i2, this) : new Be(e3, this.keyHash, [n2, i2]) : (_(a2), $e(this, e3, t4, ye(n2), [n2, i2])));
    }, ke.prototype.iterate = Fe.prototype.iterate = function(e3, t4) {
      for (var r3 = this.entries, n2 = 0, i2 = r3.length - 1; n2 <= i2; n2++)
        if (e3(r3[t4 ? i2 - n2 : n2]) === false)
          return false;
    }, Le.prototype.iterate = Me.prototype.iterate = function(e3, t4) {
      for (var r3 = this.nodes, n2 = 0, i2 = r3.length - 1; n2 <= i2; n2++) {
        var a2 = r3[t4 ? i2 - n2 : n2];
        if (a2 && a2.iterate(e3, t4) === false)
          return false;
      }
    }, Be.prototype.iterate = function(e3, t4) {
      return e3(this.entry);
    }, t3(qe, j), qe.prototype.next = function() {
      for (var e3 = this._type, t4 = this._stack; t4; ) {
        var r3, n2 = t4.node, i2 = t4.index++;
        if (n2.entry) {
          if (i2 === 0)
            return Ue(e3, n2.entry);
        } else if (n2.entries) {
          if (i2 <= (r3 = n2.entries.length - 1))
            return Ue(e3, n2.entries[this._reverse ? r3 - i2 : i2]);
        } else if (i2 <= (r3 = n2.nodes.length - 1)) {
          var a2 = n2.nodes[this._reverse ? r3 - i2 : i2];
          if (a2) {
            if (a2.entry)
              return Ue(e3, a2.entry);
            t4 = this._stack = Ve(a2, t4);
          }
          continue;
        }
        t4 = this._stack = this._stack.__prev;
      }
      return {
        value: void 0,
        done: true
      };
    };
    var tt = 8, rt = 16, nt = 8;
    function it(e3) {
      var t4 = ft();
      if (e3 == null)
        return t4;
      if (at(e3))
        return e3;
      var r3 = i(e3), n2 = r3.size;
      return n2 === 0 ? t4 : (Ie(n2), n2 > 0 && n2 < 32 ? pt(0, n2, 5, null, new ut(r3.toArray())) : t4.withMutations(function(e4) {
        e4.setSize(n2), r3.forEach(function(t5, r4) {
          return e4.set(r4, t5);
        });
      }));
    }
    function at(e3) {
      return !(!e3 || !e3[st]);
    }
    t3(it, pe), it.of = function() {
      return this(arguments);
    }, it.prototype.toString = function() {
      return this.__toString("List [", "]");
    }, it.prototype.get = function(e3, t4) {
      if ((e3 = T(this, e3)) >= 0 && e3 < this.size) {
        var r3 = yt(this, e3 += this._origin);
        return r3 && r3.array[31 & e3];
      }
      return t4;
    }, it.prototype.set = function(e3, t4) {
      return function(e4, t5, r3) {
        if ((t5 = T(e4, t5)) != t5)
          return e4;
        if (t5 >= e4.size || t5 < 0)
          return e4.withMutations(function(e5) {
            t5 < 0 ? bt(e5, t5).set(0, r3) : bt(e5, 0, t5 + 1).set(t5, r3);
          });
        t5 += e4._origin;
        var n2 = e4._tail, i2 = e4._root, a2 = b(y);
        return t5 >= vt(e4._capacity) ? n2 = gt(n2, e4.__ownerID, 0, t5, r3, a2) : i2 = gt(i2, e4.__ownerID, e4._level, t5, r3, a2), a2.value ? e4.__ownerID ? (e4._root = i2, e4._tail = n2, e4.__hash = void 0, e4.__altered = true, e4) : pt(e4._origin, e4._capacity, e4._level, i2, n2) : e4;
      }(this, e3, t4);
    }, it.prototype.remove = function(e3) {
      return this.has(e3) ? e3 === 0 ? this.shift() : e3 === this.size - 1 ? this.pop() : this.splice(e3, 1) : this;
    }, it.prototype.insert = function(e3, t4) {
      return this.splice(e3, 0, t4);
    }, it.prototype.clear = function() {
      return this.size === 0 ? this : this.__ownerID ? (this.size = this._origin = this._capacity = 0, this._level = 5, this._root = this._tail = null, this.__hash = void 0, this.__altered = true, this) : ft();
    }, it.prototype.push = function() {
      var e3 = arguments, t4 = this.size;
      return this.withMutations(function(r3) {
        bt(r3, 0, t4 + e3.length);
        for (var n2 = 0; n2 < e3.length; n2++)
          r3.set(t4 + n2, e3[n2]);
      });
    }, it.prototype.pop = function() {
      return bt(this, 0, -1);
    }, it.prototype.unshift = function() {
      var e3 = arguments;
      return this.withMutations(function(t4) {
        bt(t4, -e3.length);
        for (var r3 = 0; r3 < e3.length; r3++)
          t4.set(r3, e3[r3]);
      });
    }, it.prototype.shift = function() {
      return bt(this, 1);
    }, it.prototype.merge = function() {
      return _t(this, void 0, arguments);
    }, it.prototype.mergeWith = function(t4) {
      var r3 = e2.call(arguments, 1);
      return _t(this, t4, r3);
    }, it.prototype.mergeDeep = function() {
      return _t(this, Je, arguments);
    }, it.prototype.mergeDeepWith = function(t4) {
      var r3 = e2.call(arguments, 1);
      return _t(this, We(t4), r3);
    }, it.prototype.setSize = function(e3) {
      return bt(this, 0, e3);
    }, it.prototype.slice = function(e3, t4) {
      var r3 = this.size;
      return x(e3, t4, r3) ? this : bt(this, O(e3, r3), A(t4, r3));
    }, it.prototype.__iterator = function(e3, t4) {
      var r3 = 0, n2 = dt(this, t4);
      return new j(function() {
        var t5 = n2();
        return t5 === ht ? {
          value: void 0,
          done: true
        } : k(e3, r3++, t5);
      });
    }, it.prototype.__iterate = function(e3, t4) {
      for (var r3, n2 = 0, i2 = dt(this, t4); (r3 = i2()) !== ht && e3(r3, n2++, this) !== false; )
        ;
      return n2;
    }, it.prototype.__ensureOwner = function(e3) {
      return e3 === this.__ownerID ? this : e3 ? pt(this._origin, this._capacity, this._level, this._root, this._tail, e3, this.__hash) : (this.__ownerID = e3, this);
    }, it.isList = at;
    var st = "@@__IMMUTABLE_LIST__@@", ot = it.prototype;
    function ut(e3, t4) {
      this.array = e3, this.ownerID = t4;
    }
    ot[st] = true, ot.delete = ot.remove, ot.setIn = je.setIn, ot.deleteIn = ot.removeIn = je.removeIn, ot.update = je.update, ot.updateIn = je.updateIn, ot.mergeIn = je.mergeIn, ot.mergeDeepIn = je.mergeDeepIn, ot.withMutations = je.withMutations, ot.asMutable = je.asMutable, ot.asImmutable = je.asImmutable, ot.wasAltered = je.wasAltered, ut.prototype.removeBefore = function(e3, t4, r3) {
      if (r3 === t4 ? 1 << t4 : this.array.length === 0)
        return this;
      var n2 = r3 >>> t4 & 31;
      if (n2 >= this.array.length)
        return new ut([], e3);
      var i2, a2 = n2 === 0;
      if (t4 > 0) {
        var s2 = this.array[n2];
        if ((i2 = s2 && s2.removeBefore(e3, t4 - 5, r3)) === s2 && a2)
          return this;
      }
      if (a2 && !i2)
        return this;
      var o2 = mt(this, e3);
      if (!a2)
        for (var u2 = 0; u2 < n2; u2++)
          o2.array[u2] = void 0;
      return i2 && (o2.array[n2] = i2), o2;
    }, ut.prototype.removeAfter = function(e3, t4, r3) {
      if (r3 === (t4 ? 1 << t4 : 0) || this.array.length === 0)
        return this;
      var n2, i2 = r3 - 1 >>> t4 & 31;
      if (i2 >= this.array.length)
        return this;
      if (t4 > 0) {
        var a2 = this.array[i2];
        if ((n2 = a2 && a2.removeAfter(e3, t4 - 5, r3)) === a2 && i2 === this.array.length - 1)
          return this;
      }
      var s2 = mt(this, e3);
      return s2.array.splice(i2 + 1), n2 && (s2.array[i2] = n2), s2;
    };
    var ct, lt, ht = {};
    function dt(e3, t4) {
      var r3 = e3._origin, n2 = e3._capacity, i2 = vt(n2), a2 = e3._tail;
      return s2(e3._root, e3._level, 0);
      function s2(e4, o2, u2) {
        return o2 === 0 ? function(e5, s3) {
          var o3 = s3 === i2 ? a2 && a2.array : e5 && e5.array, u3 = s3 > r3 ? 0 : r3 - s3, c2 = n2 - s3;
          return c2 > 32 && (c2 = 32), function() {
            if (u3 === c2)
              return ht;
            var e6 = t4 ? --c2 : u3++;
            return o3 && o3[e6];
          };
        }(e4, u2) : function(e5, i3, a3) {
          var o3, u3 = e5 && e5.array, c2 = a3 > r3 ? 0 : r3 - a3 >> i3, l2 = 1 + (n2 - a3 >> i3);
          return l2 > 32 && (l2 = 32), function() {
            for (; ; ) {
              if (o3) {
                var e6 = o3();
                if (e6 !== ht)
                  return e6;
                o3 = null;
              }
              if (c2 === l2)
                return ht;
              var r4 = t4 ? --l2 : c2++;
              o3 = s2(u3 && u3[r4], i3 - 5, a3 + (r4 << i3));
            }
          };
        }(e4, o2, u2);
      }
    }
    function pt(e3, t4, r3, n2, i2, a2, s2) {
      var o2 = Object.create(ot);
      return o2.size = t4 - e3, o2._origin = e3, o2._capacity = t4, o2._level = r3, o2._root = n2, o2._tail = i2, o2.__ownerID = a2, o2.__hash = s2, o2.__altered = false, o2;
    }
    function ft() {
      return ct || (ct = pt(0, 0, 5));
    }
    function gt(e3, t4, r3, n2, i2, a2) {
      var s2, o2 = n2 >>> r3 & 31, u2 = e3 && o2 < e3.array.length;
      if (!u2 && i2 === void 0)
        return e3;
      if (r3 > 0) {
        var c2 = e3 && e3.array[o2], l2 = gt(c2, t4, r3 - 5, n2, i2, a2);
        return l2 === c2 ? e3 : ((s2 = mt(e3, t4)).array[o2] = l2, s2);
      }
      return u2 && e3.array[o2] === i2 ? e3 : (_(a2), s2 = mt(e3, t4), i2 === void 0 && o2 === s2.array.length - 1 ? s2.array.pop() : s2.array[o2] = i2, s2);
    }
    function mt(e3, t4) {
      return t4 && e3 && t4 === e3.ownerID ? e3 : new ut(e3 ? e3.array.slice() : [], t4);
    }
    function yt(e3, t4) {
      if (t4 >= vt(e3._capacity))
        return e3._tail;
      if (t4 < 1 << e3._level + 5) {
        for (var r3 = e3._root, n2 = e3._level; r3 && n2 > 0; )
          r3 = r3.array[t4 >>> n2 & 31], n2 -= 5;
        return r3;
      }
    }
    function bt(e3, t4, r3) {
      t4 !== void 0 && (t4 |= 0), r3 !== void 0 && (r3 |= 0);
      var n2 = e3.__ownerID || new v(), i2 = e3._origin, a2 = e3._capacity, s2 = i2 + t4, o2 = r3 === void 0 ? a2 : r3 < 0 ? a2 + r3 : i2 + r3;
      if (s2 === i2 && o2 === a2)
        return e3;
      if (s2 >= o2)
        return e3.clear();
      for (var u2 = e3._level, c2 = e3._root, l2 = 0; s2 + l2 < 0; )
        c2 = new ut(c2 && c2.array.length ? [void 0, c2] : [], n2), l2 += 1 << (u2 += 5);
      l2 && (s2 += l2, i2 += l2, o2 += l2, a2 += l2);
      for (var h2 = vt(a2), d2 = vt(o2); d2 >= 1 << u2 + 5; )
        c2 = new ut(c2 && c2.array.length ? [c2] : [], n2), u2 += 5;
      var p2 = e3._tail, f2 = d2 < h2 ? yt(e3, o2 - 1) : d2 > h2 ? new ut([], n2) : p2;
      if (p2 && d2 > h2 && s2 < a2 && p2.array.length) {
        for (var g2 = c2 = mt(c2, n2), m2 = u2; m2 > 5; m2 -= 5) {
          var y2 = h2 >>> m2 & 31;
          g2 = g2.array[y2] = mt(g2.array[y2], n2);
        }
        g2.array[h2 >>> 5 & 31] = p2;
      }
      if (o2 < a2 && (f2 = f2 && f2.removeAfter(n2, 0, o2)), s2 >= d2)
        s2 -= d2, o2 -= d2, u2 = 5, c2 = null, f2 = f2 && f2.removeBefore(n2, 0, s2);
      else if (s2 > i2 || d2 < h2) {
        for (l2 = 0; c2; ) {
          var b2 = s2 >>> u2 & 31;
          if (b2 !== d2 >>> u2 & 31)
            break;
          b2 && (l2 += (1 << u2) * b2), u2 -= 5, c2 = c2.array[b2];
        }
        c2 && s2 > i2 && (c2 = c2.removeBefore(n2, u2, s2 - l2)), c2 && d2 < h2 && (c2 = c2.removeAfter(n2, u2, d2 - l2)), l2 && (s2 -= l2, o2 -= l2);
      }
      return e3.__ownerID ? (e3.size = o2 - s2, e3._origin = s2, e3._capacity = o2, e3._level = u2, e3._root = c2, e3._tail = f2, e3.__hash = void 0, e3.__altered = true, e3) : pt(s2, o2, u2, c2, f2);
    }
    function _t(e3, t4, r3) {
      for (var n2 = [], a2 = 0, o2 = 0; o2 < r3.length; o2++) {
        var u2 = r3[o2], c2 = i(u2);
        c2.size > a2 && (a2 = c2.size), s(u2) || (c2 = c2.map(function(e4) {
          return ne(e4);
        })), n2.push(c2);
      }
      return a2 > e3.size && (e3 = e3.setSize(a2)), Ke(e3, t4, n2);
    }
    function vt(e3) {
      return e3 < 32 ? 0 : e3 - 1 >>> 5 << 5;
    }
    function wt(e3) {
      return e3 == null ? Et() : St(e3) ? e3 : Et().withMutations(function(t4) {
        var r3 = n(e3);
        Ie(r3.size), r3.forEach(function(e4, r4) {
          return t4.set(r4, e4);
        });
      });
    }
    function St(e3) {
      return Pe(e3) && l(e3);
    }
    function Tt(e3, t4, r3, n2) {
      var i2 = Object.create(wt.prototype);
      return i2.size = e3 ? e3.size : 0, i2._map = e3, i2._list = t4, i2.__ownerID = r3, i2.__hash = n2, i2;
    }
    function Et() {
      return lt || (lt = Tt(Ge(), ft()));
    }
    function xt(e3, t4, r3) {
      var n2, i2, a2 = e3._map, s2 = e3._list, o2 = a2.get(t4), u2 = o2 !== void 0;
      if (r3 === g) {
        if (!u2)
          return e3;
        s2.size >= 32 && s2.size >= 2 * a2.size ? (n2 = (i2 = s2.filter(function(e4, t5) {
          return e4 !== void 0 && o2 !== t5;
        })).toKeyedSeq().map(function(e4) {
          return e4[0];
        }).flip().toMap(), e3.__ownerID && (n2.__ownerID = i2.__ownerID = e3.__ownerID)) : (n2 = a2.remove(t4), i2 = o2 === s2.size - 1 ? s2.pop() : s2.set(o2, void 0));
      } else if (u2) {
        if (r3 === s2.get(o2)[1])
          return e3;
        n2 = a2, i2 = s2.set(o2, [t4, r3]);
      } else
        n2 = a2.set(t4, s2.size), i2 = s2.set(s2.size, [t4, r3]);
      return e3.__ownerID ? (e3.size = n2.size, e3._map = n2, e3._list = i2, e3.__hash = void 0, e3) : Tt(n2, i2);
    }
    function Ot(e3, t4) {
      this._iter = e3, this._useKeys = t4, this.size = e3.size;
    }
    function At(e3) {
      this._iter = e3, this.size = e3.size;
    }
    function Rt(e3) {
      this._iter = e3, this.size = e3.size;
    }
    function It(e3) {
      this._iter = e3, this.size = e3.size;
    }
    function Nt(e3) {
      var t4 = Qt(e3);
      return t4._iter = e3, t4.size = e3.size, t4.flip = function() {
        return e3;
      }, t4.reverse = function() {
        var t5 = e3.reverse.apply(this);
        return t5.flip = function() {
          return e3.reverse();
        }, t5;
      }, t4.has = function(t5) {
        return e3.includes(t5);
      }, t4.includes = function(t5) {
        return e3.has(t5);
      }, t4.cacheResult = Xt, t4.__iterateUncached = function(t5, r3) {
        var n2 = this;
        return e3.__iterate(function(e4, r4) {
          return t5(r4, e4, n2) !== false;
        }, r3);
      }, t4.__iteratorUncached = function(t5, r3) {
        if (t5 === 2) {
          var n2 = e3.__iterator(t5, r3);
          return new j(function() {
            var e4 = n2.next();
            if (!e4.done) {
              var t6 = e4.value[0];
              e4.value[0] = e4.value[1], e4.value[1] = t6;
            }
            return e4;
          });
        }
        return e3.__iterator(t5 === 1 ? 0 : 1, r3);
      }, t4;
    }
    function Pt(e3, t4, r3) {
      var n2 = Qt(e3);
      return n2.size = e3.size, n2.has = function(t5) {
        return e3.has(t5);
      }, n2.get = function(n3, i2) {
        var a2 = e3.get(n3, g);
        return a2 === g ? i2 : t4.call(r3, a2, n3, e3);
      }, n2.__iterateUncached = function(n3, i2) {
        var a2 = this;
        return e3.__iterate(function(e4, i3, s2) {
          return n3(t4.call(r3, e4, i3, s2), i3, a2) !== false;
        }, i2);
      }, n2.__iteratorUncached = function(n3, i2) {
        var a2 = e3.__iterator(2, i2);
        return new j(function() {
          var i3 = a2.next();
          if (i3.done)
            return i3;
          var s2 = i3.value, o2 = s2[0];
          return k(n3, o2, t4.call(r3, s2[1], o2, e3), i3);
        });
      }, n2;
    }
    function Ct(e3, t4) {
      var r3 = Qt(e3);
      return r3._iter = e3, r3.size = e3.size, r3.reverse = function() {
        return e3;
      }, e3.flip && (r3.flip = function() {
        var t5 = Nt(e3);
        return t5.reverse = function() {
          return e3.flip();
        }, t5;
      }), r3.get = function(r4, n2) {
        return e3.get(t4 ? r4 : -1 - r4, n2);
      }, r3.has = function(r4) {
        return e3.has(t4 ? r4 : -1 - r4);
      }, r3.includes = function(t5) {
        return e3.includes(t5);
      }, r3.cacheResult = Xt, r3.__iterate = function(t5, r4) {
        var n2 = this;
        return e3.__iterate(function(e4, r5) {
          return t5(e4, r5, n2);
        }, !r4);
      }, r3.__iterator = function(t5, r4) {
        return e3.__iterator(t5, !r4);
      }, r3;
    }
    function Dt(e3, t4, r3, n2) {
      var i2 = Qt(e3);
      return n2 && (i2.has = function(n3) {
        var i3 = e3.get(n3, g);
        return i3 !== g && !!t4.call(r3, i3, n3, e3);
      }, i2.get = function(n3, i3) {
        var a2 = e3.get(n3, g);
        return a2 !== g && t4.call(r3, a2, n3, e3) ? a2 : i3;
      }), i2.__iterateUncached = function(i3, a2) {
        var s2 = this, o2 = 0;
        return e3.__iterate(function(e4, a3, u2) {
          if (t4.call(r3, e4, a3, u2))
            return o2++, i3(e4, n2 ? a3 : o2 - 1, s2);
        }, a2), o2;
      }, i2.__iteratorUncached = function(i3, a2) {
        var s2 = e3.__iterator(2, a2), o2 = 0;
        return new j(function() {
          for (; ; ) {
            var a3 = s2.next();
            if (a3.done)
              return a3;
            var u2 = a3.value, c2 = u2[0], l2 = u2[1];
            if (t4.call(r3, l2, c2, e3))
              return k(i3, n2 ? c2 : o2++, l2, a3);
          }
        });
      }, i2;
    }
    function jt(e3, t4, r3, n2) {
      var i2 = e3.size;
      if (t4 !== void 0 && (t4 |= 0), r3 !== void 0 && (r3 === 1 / 0 ? r3 = i2 : r3 |= 0), x(t4, r3, i2))
        return e3;
      var a2 = O(t4, i2), s2 = A(r3, i2);
      if (a2 != a2 || s2 != s2)
        return jt(e3.toSeq().cacheResult(), t4, r3, n2);
      var o2, u2 = s2 - a2;
      u2 == u2 && (o2 = u2 < 0 ? 0 : u2);
      var c2 = Qt(e3);
      return c2.size = o2 === 0 ? o2 : e3.size && o2 || void 0, !n2 && J(e3) && o2 >= 0 && (c2.get = function(t5, r4) {
        return (t5 = T(this, t5)) >= 0 && t5 < o2 ? e3.get(t5 + a2, r4) : r4;
      }), c2.__iterateUncached = function(t5, r4) {
        var i3 = this;
        if (o2 === 0)
          return 0;
        if (r4)
          return this.cacheResult().__iterate(t5, r4);
        var s3 = 0, u3 = true, c3 = 0;
        return e3.__iterate(function(e4, r5) {
          if (!u3 || !(u3 = s3++ < a2))
            return c3++, t5(e4, n2 ? r5 : c3 - 1, i3) !== false && c3 !== o2;
        }), c3;
      }, c2.__iteratorUncached = function(t5, r4) {
        if (o2 !== 0 && r4)
          return this.cacheResult().__iterator(t5, r4);
        var i3 = o2 !== 0 && e3.__iterator(t5, r4), s3 = 0, u3 = 0;
        return new j(function() {
          for (; s3++ < a2; )
            i3.next();
          if (++u3 > o2)
            return {
              value: void 0,
              done: true
            };
          var e4 = i3.next();
          return n2 || t5 === 1 ? e4 : k(t5, u3 - 1, t5 === 0 ? void 0 : e4.value[1], e4);
        });
      }, c2;
    }
    function kt(e3, t4, r3, n2) {
      var i2 = Qt(e3);
      return i2.__iterateUncached = function(i3, a2) {
        var s2 = this;
        if (a2)
          return this.cacheResult().__iterate(i3, a2);
        var o2 = true, u2 = 0;
        return e3.__iterate(function(e4, a3, c2) {
          if (!o2 || !(o2 = t4.call(r3, e4, a3, c2)))
            return u2++, i3(e4, n2 ? a3 : u2 - 1, s2);
        }), u2;
      }, i2.__iteratorUncached = function(i3, a2) {
        var s2 = this;
        if (a2)
          return this.cacheResult().__iterator(i3, a2);
        var o2 = e3.__iterator(2, a2), u2 = true, c2 = 0;
        return new j(function() {
          var e4, a3, l2;
          do {
            if ((e4 = o2.next()).done)
              return n2 || i3 === 1 ? e4 : k(i3, c2++, i3 === 0 ? void 0 : e4.value[1], e4);
            var h2 = e4.value;
            a3 = h2[0], l2 = h2[1], u2 && (u2 = t4.call(r3, l2, a3, s2));
          } while (u2);
          return i3 === 2 ? e4 : k(i3, a3, l2, e4);
        });
      }, i2;
    }
    function Lt(e3, t4) {
      var r3 = o(e3), i2 = [e3].concat(t4).map(function(e4) {
        return s(e4) ? r3 && (e4 = n(e4)) : e4 = r3 ? K(e4) : Z(Array.isArray(e4) ? e4 : [e4]), e4;
      }).filter(function(e4) {
        return e4.size !== 0;
      });
      if (i2.length === 0)
        return e3;
      if (i2.length === 1) {
        var a2 = i2[0];
        if (a2 === e3 || r3 && o(a2) || u(e3) && u(a2))
          return a2;
      }
      var c2 = new Q(i2);
      return r3 ? c2 = c2.toKeyedSeq() : u(e3) || (c2 = c2.toSetSeq()), (c2 = c2.flatten(true)).size = i2.reduce(function(e4, t5) {
        if (e4 !== void 0) {
          var r4 = t5.size;
          if (r4 !== void 0)
            return e4 + r4;
        }
      }, 0), c2;
    }
    function Mt(e3, t4, r3) {
      var n2 = Qt(e3);
      return n2.__iterateUncached = function(n3, i2) {
        var a2 = 0, o2 = false;
        return function e4(u2, c2) {
          var l2 = this;
          u2.__iterate(function(i3, u3) {
            return (!t4 || c2 < t4) && s(i3) ? e4(i3, c2 + 1) : n3(i3, r3 ? u3 : a2++, l2) === false && (o2 = true), !o2;
          }, i2);
        }(e3, 0), a2;
      }, n2.__iteratorUncached = function(n3, i2) {
        var a2 = e3.__iterator(n3, i2), o2 = [], u2 = 0;
        return new j(function() {
          for (; a2; ) {
            var e4 = a2.next();
            if (e4.done === false) {
              var c2 = e4.value;
              if (n3 === 2 && (c2 = c2[1]), t4 && !(o2.length < t4) || !s(c2))
                return r3 ? e4 : k(n3, u2++, c2, e4);
              o2.push(a2), a2 = c2.__iterator(n3, i2);
            } else
              a2 = o2.pop();
          }
          return {
            value: void 0,
            done: true
          };
        });
      }, n2;
    }
    function Ft(e3, t4, r3) {
      t4 || (t4 = $t);
      var n2 = o(e3), i2 = 0, a2 = e3.toSeq().map(function(t5, n3) {
        return [n3, t5, i2++, r3 ? r3(t5, n3, e3) : t5];
      }).toArray();
      return a2.sort(function(e4, r4) {
        return t4(e4[3], r4[3]) || e4[2] - r4[2];
      }).forEach(n2 ? function(e4, t5) {
        a2[t5].length = 2;
      } : function(e4, t5) {
        a2[t5] = e4[1];
      }), n2 ? H(a2) : u(e3) ? G(a2) : z(a2);
    }
    function Bt(e3, t4, r3) {
      if (t4 || (t4 = $t), r3) {
        var n2 = e3.toSeq().map(function(t5, n3) {
          return [t5, r3(t5, n3, e3)];
        }).reduce(function(e4, r4) {
          return qt(t4, e4[1], r4[1]) ? r4 : e4;
        });
        return n2 && n2[0];
      }
      return e3.reduce(function(e4, r4) {
        return qt(t4, e4, r4) ? r4 : e4;
      });
    }
    function qt(e3, t4, r3) {
      var n2 = e3(r3, t4);
      return n2 === 0 && r3 !== t4 && (r3 == null || r3 != r3) || n2 > 0;
    }
    function Ut(e3, t4, n2) {
      var i2 = Qt(e3);
      return i2.size = new Q(n2).map(function(e4) {
        return e4.size;
      }).min(), i2.__iterate = function(e4, t5) {
        for (var r3, n3 = this.__iterator(1, t5), i3 = 0; !(r3 = n3.next()).done && e4(r3.value, i3++, this) !== false; )
          ;
        return i3;
      }, i2.__iteratorUncached = function(e4, i3) {
        var a2 = n2.map(function(e5) {
          return e5 = r2(e5), B(i3 ? e5.reverse() : e5);
        }), s2 = 0, o2 = false;
        return new j(function() {
          var r3;
          return o2 || (r3 = a2.map(function(e5) {
            return e5.next();
          }), o2 = r3.some(function(e5) {
            return e5.done;
          })), o2 ? {
            value: void 0,
            done: true
          } : k(e4, s2++, t4.apply(null, r3.map(function(e5) {
            return e5.value;
          })));
        });
      }, i2;
    }
    function Vt(e3, t4) {
      return J(e3) ? t4 : e3.constructor(t4);
    }
    function Ht(e3) {
      if (e3 !== Object(e3))
        throw new TypeError("Expected [K, V] tuple: " + e3);
    }
    function Gt(e3) {
      return Ie(e3.size), S(e3);
    }
    function zt(e3) {
      return o(e3) ? n : u(e3) ? i : a;
    }
    function Qt(e3) {
      return Object.create((o(e3) ? H : u(e3) ? G : z).prototype);
    }
    function Xt() {
      return this._iter.cacheResult ? (this._iter.cacheResult(), this.size = this._iter.size, this) : V.prototype.cacheResult.call(this);
    }
    function $t(e3, t4) {
      return e3 > t4 ? 1 : e3 < t4 ? -1 : 0;
    }
    function Yt(e3) {
      var t4 = B(e3);
      if (!t4) {
        if (!U(e3))
          throw new TypeError("Expected iterable or array-like: " + e3);
        t4 = B(r2(e3));
      }
      return t4;
    }
    function Jt(e3, t4) {
      var r3, n2 = function(a2) {
        if (a2 instanceof n2)
          return a2;
        if (!(this instanceof n2))
          return new n2(a2);
        if (!r3) {
          r3 = true;
          var s2 = Object.keys(e3);
          !function(e4, t5) {
            try {
              t5.forEach(er.bind(void 0, e4));
            } catch (e5) {
            }
          }(i2, s2), i2.size = s2.length, i2._name = t4, i2._keys = s2, i2._defaultValues = e3;
        }
        this._map = Ne(a2);
      }, i2 = n2.prototype = Object.create(Wt);
      return i2.constructor = n2, n2;
    }
    t3(wt, Ne), wt.of = function() {
      return this(arguments);
    }, wt.prototype.toString = function() {
      return this.__toString("OrderedMap {", "}");
    }, wt.prototype.get = function(e3, t4) {
      var r3 = this._map.get(e3);
      return r3 !== void 0 ? this._list.get(r3)[1] : t4;
    }, wt.prototype.clear = function() {
      return this.size === 0 ? this : this.__ownerID ? (this.size = 0, this._map.clear(), this._list.clear(), this) : Et();
    }, wt.prototype.set = function(e3, t4) {
      return xt(this, e3, t4);
    }, wt.prototype.remove = function(e3) {
      return xt(this, e3, g);
    }, wt.prototype.wasAltered = function() {
      return this._map.wasAltered() || this._list.wasAltered();
    }, wt.prototype.__iterate = function(e3, t4) {
      var r3 = this;
      return this._list.__iterate(function(t5) {
        return t5 && e3(t5[1], t5[0], r3);
      }, t4);
    }, wt.prototype.__iterator = function(e3, t4) {
      return this._list.fromEntrySeq().__iterator(e3, t4);
    }, wt.prototype.__ensureOwner = function(e3) {
      if (e3 === this.__ownerID)
        return this;
      var t4 = this._map.__ensureOwner(e3), r3 = this._list.__ensureOwner(e3);
      return e3 ? Tt(t4, r3, e3, this.__hash) : (this.__ownerID = e3, this._map = t4, this._list = r3, this);
    }, wt.isOrderedMap = St, wt.prototype[f] = true, wt.prototype.delete = wt.prototype.remove, t3(Ot, H), Ot.prototype.get = function(e3, t4) {
      return this._iter.get(e3, t4);
    }, Ot.prototype.has = function(e3) {
      return this._iter.has(e3);
    }, Ot.prototype.valueSeq = function() {
      return this._iter.valueSeq();
    }, Ot.prototype.reverse = function() {
      var e3 = this, t4 = Ct(this, true);
      return this._useKeys || (t4.valueSeq = function() {
        return e3._iter.toSeq().reverse();
      }), t4;
    }, Ot.prototype.map = function(e3, t4) {
      var r3 = this, n2 = Pt(this, e3, t4);
      return this._useKeys || (n2.valueSeq = function() {
        return r3._iter.toSeq().map(e3, t4);
      }), n2;
    }, Ot.prototype.__iterate = function(e3, t4) {
      var r3, n2 = this;
      return this._iter.__iterate(this._useKeys ? function(t5, r4) {
        return e3(t5, r4, n2);
      } : (r3 = t4 ? Gt(this) : 0, function(i2) {
        return e3(i2, t4 ? --r3 : r3++, n2);
      }), t4);
    }, Ot.prototype.__iterator = function(e3, t4) {
      if (this._useKeys)
        return this._iter.__iterator(e3, t4);
      var r3 = this._iter.__iterator(1, t4), n2 = t4 ? Gt(this) : 0;
      return new j(function() {
        var i2 = r3.next();
        return i2.done ? i2 : k(e3, t4 ? --n2 : n2++, i2.value, i2);
      });
    }, Ot.prototype[f] = true, t3(At, G), At.prototype.includes = function(e3) {
      return this._iter.includes(e3);
    }, At.prototype.__iterate = function(e3, t4) {
      var r3 = this, n2 = 0;
      return this._iter.__iterate(function(t5) {
        return e3(t5, n2++, r3);
      }, t4);
    }, At.prototype.__iterator = function(e3, t4) {
      var r3 = this._iter.__iterator(1, t4), n2 = 0;
      return new j(function() {
        var t5 = r3.next();
        return t5.done ? t5 : k(e3, n2++, t5.value, t5);
      });
    }, t3(Rt, z), Rt.prototype.has = function(e3) {
      return this._iter.includes(e3);
    }, Rt.prototype.__iterate = function(e3, t4) {
      var r3 = this;
      return this._iter.__iterate(function(t5) {
        return e3(t5, t5, r3);
      }, t4);
    }, Rt.prototype.__iterator = function(e3, t4) {
      var r3 = this._iter.__iterator(1, t4);
      return new j(function() {
        var t5 = r3.next();
        return t5.done ? t5 : k(e3, t5.value, t5.value, t5);
      });
    }, t3(It, H), It.prototype.entrySeq = function() {
      return this._iter.toSeq();
    }, It.prototype.__iterate = function(e3, t4) {
      var r3 = this;
      return this._iter.__iterate(function(t5) {
        if (t5) {
          Ht(t5);
          var n2 = s(t5);
          return e3(n2 ? t5.get(1) : t5[1], n2 ? t5.get(0) : t5[0], r3);
        }
      }, t4);
    }, It.prototype.__iterator = function(e3, t4) {
      var r3 = this._iter.__iterator(1, t4);
      return new j(function() {
        for (; ; ) {
          var t5 = r3.next();
          if (t5.done)
            return t5;
          var n2 = t5.value;
          if (n2) {
            Ht(n2);
            var i2 = s(n2);
            return k(e3, i2 ? n2.get(0) : n2[0], i2 ? n2.get(1) : n2[1], t5);
          }
        }
      });
    }, At.prototype.cacheResult = Ot.prototype.cacheResult = Rt.prototype.cacheResult = It.prototype.cacheResult = Xt, t3(Jt, de), Jt.prototype.toString = function() {
      return this.__toString(Zt(this) + " {", "}");
    }, Jt.prototype.has = function(e3) {
      return this._defaultValues.hasOwnProperty(e3);
    }, Jt.prototype.get = function(e3, t4) {
      if (!this.has(e3))
        return t4;
      var r3 = this._defaultValues[e3];
      return this._map ? this._map.get(e3, r3) : r3;
    }, Jt.prototype.clear = function() {
      if (this.__ownerID)
        return this._map && this._map.clear(), this;
      var e3 = this.constructor;
      return e3._empty || (e3._empty = Kt(this, Ge()));
    }, Jt.prototype.set = function(e3, t4) {
      if (!this.has(e3))
        throw new Error('Cannot set unknown key "' + e3 + '" on ' + Zt(this));
      if (this._map && !this._map.has(e3) && t4 === this._defaultValues[e3])
        return this;
      var r3 = this._map && this._map.set(e3, t4);
      return this.__ownerID || r3 === this._map ? this : Kt(this, r3);
    }, Jt.prototype.remove = function(e3) {
      if (!this.has(e3))
        return this;
      var t4 = this._map && this._map.remove(e3);
      return this.__ownerID || t4 === this._map ? this : Kt(this, t4);
    }, Jt.prototype.wasAltered = function() {
      return this._map.wasAltered();
    }, Jt.prototype.__iterator = function(e3, t4) {
      var r3 = this;
      return n(this._defaultValues).map(function(e4, t5) {
        return r3.get(t5);
      }).__iterator(e3, t4);
    }, Jt.prototype.__iterate = function(e3, t4) {
      var r3 = this;
      return n(this._defaultValues).map(function(e4, t5) {
        return r3.get(t5);
      }).__iterate(e3, t4);
    }, Jt.prototype.__ensureOwner = function(e3) {
      if (e3 === this.__ownerID)
        return this;
      var t4 = this._map && this._map.__ensureOwner(e3);
      return e3 ? Kt(this, t4, e3) : (this.__ownerID = e3, this._map = t4, this);
    };
    var Wt = Jt.prototype;
    function Kt(e3, t4, r3) {
      var n2 = Object.create(Object.getPrototypeOf(e3));
      return n2._map = t4, n2.__ownerID = r3, n2;
    }
    function Zt(e3) {
      return e3._name || e3.constructor.name || "Record";
    }
    function er(e3, t4) {
      Object.defineProperty(e3, t4, {
        get: function() {
          return this.get(t4);
        },
        set: function(e4) {
          ce(this.__ownerID, "Cannot set on an immutable record."), this.set(t4, e4);
        }
      });
    }
    function tr(e3) {
      return e3 == null ? ur() : rr(e3) && !l(e3) ? e3 : ur().withMutations(function(t4) {
        var r3 = a(e3);
        Ie(r3.size), r3.forEach(function(e4) {
          return t4.add(e4);
        });
      });
    }
    function rr(e3) {
      return !(!e3 || !e3[ir]);
    }
    Wt.delete = Wt.remove, Wt.deleteIn = Wt.removeIn = je.removeIn, Wt.merge = je.merge, Wt.mergeWith = je.mergeWith, Wt.mergeIn = je.mergeIn, Wt.mergeDeep = je.mergeDeep, Wt.mergeDeepWith = je.mergeDeepWith, Wt.mergeDeepIn = je.mergeDeepIn, Wt.setIn = je.setIn, Wt.update = je.update, Wt.updateIn = je.updateIn, Wt.withMutations = je.withMutations, Wt.asMutable = je.asMutable, Wt.asImmutable = je.asImmutable, t3(tr, fe), tr.of = function() {
      return this(arguments);
    }, tr.fromKeys = function(e3) {
      return this(n(e3).keySeq());
    }, tr.prototype.toString = function() {
      return this.__toString("Set {", "}");
    }, tr.prototype.has = function(e3) {
      return this._map.has(e3);
    }, tr.prototype.add = function(e3) {
      return sr(this, this._map.set(e3, true));
    }, tr.prototype.remove = function(e3) {
      return sr(this, this._map.remove(e3));
    }, tr.prototype.clear = function() {
      return sr(this, this._map.clear());
    }, tr.prototype.union = function() {
      var t4 = e2.call(arguments, 0);
      return (t4 = t4.filter(function(e3) {
        return e3.size !== 0;
      })).length === 0 ? this : this.size !== 0 || this.__ownerID || t4.length !== 1 ? this.withMutations(function(e3) {
        for (var r3 = 0; r3 < t4.length; r3++)
          a(t4[r3]).forEach(function(t5) {
            return e3.add(t5);
          });
      }) : this.constructor(t4[0]);
    }, tr.prototype.intersect = function() {
      var t4 = e2.call(arguments, 0);
      if (t4.length === 0)
        return this;
      t4 = t4.map(function(e3) {
        return a(e3);
      });
      var r3 = this;
      return this.withMutations(function(e3) {
        r3.forEach(function(r4) {
          t4.every(function(e4) {
            return e4.includes(r4);
          }) || e3.remove(r4);
        });
      });
    }, tr.prototype.subtract = function() {
      var t4 = e2.call(arguments, 0);
      if (t4.length === 0)
        return this;
      t4 = t4.map(function(e3) {
        return a(e3);
      });
      var r3 = this;
      return this.withMutations(function(e3) {
        r3.forEach(function(r4) {
          t4.some(function(e4) {
            return e4.includes(r4);
          }) && e3.remove(r4);
        });
      });
    }, tr.prototype.merge = function() {
      return this.union.apply(this, arguments);
    }, tr.prototype.mergeWith = function(t4) {
      var r3 = e2.call(arguments, 1);
      return this.union.apply(this, r3);
    }, tr.prototype.sort = function(e3) {
      return cr(Ft(this, e3));
    }, tr.prototype.sortBy = function(e3, t4) {
      return cr(Ft(this, t4, e3));
    }, tr.prototype.wasAltered = function() {
      return this._map.wasAltered();
    }, tr.prototype.__iterate = function(e3, t4) {
      var r3 = this;
      return this._map.__iterate(function(t5, n2) {
        return e3(n2, n2, r3);
      }, t4);
    }, tr.prototype.__iterator = function(e3, t4) {
      return this._map.map(function(e4, t5) {
        return t5;
      }).__iterator(e3, t4);
    }, tr.prototype.__ensureOwner = function(e3) {
      if (e3 === this.__ownerID)
        return this;
      var t4 = this._map.__ensureOwner(e3);
      return e3 ? this.__make(t4, e3) : (this.__ownerID = e3, this._map = t4, this);
    }, tr.isSet = rr;
    var nr, ir = "@@__IMMUTABLE_SET__@@", ar = tr.prototype;
    function sr(e3, t4) {
      return e3.__ownerID ? (e3.size = t4.size, e3._map = t4, e3) : t4 === e3._map ? e3 : t4.size === 0 ? e3.__empty() : e3.__make(t4);
    }
    function or(e3, t4) {
      var r3 = Object.create(ar);
      return r3.size = e3 ? e3.size : 0, r3._map = e3, r3.__ownerID = t4, r3;
    }
    function ur() {
      return nr || (nr = or(Ge()));
    }
    function cr(e3) {
      return e3 == null ? fr() : lr(e3) ? e3 : fr().withMutations(function(t4) {
        var r3 = a(e3);
        Ie(r3.size), r3.forEach(function(e4) {
          return t4.add(e4);
        });
      });
    }
    function lr(e3) {
      return rr(e3) && l(e3);
    }
    ar[ir] = true, ar.delete = ar.remove, ar.mergeDeep = ar.merge, ar.mergeDeepWith = ar.mergeWith, ar.withMutations = je.withMutations, ar.asMutable = je.asMutable, ar.asImmutable = je.asImmutable, ar.__empty = ur, ar.__make = or, t3(cr, tr), cr.of = function() {
      return this(arguments);
    }, cr.fromKeys = function(e3) {
      return this(n(e3).keySeq());
    }, cr.prototype.toString = function() {
      return this.__toString("OrderedSet {", "}");
    }, cr.isOrderedSet = lr;
    var hr, dr = cr.prototype;
    function pr(e3, t4) {
      var r3 = Object.create(dr);
      return r3.size = e3 ? e3.size : 0, r3._map = e3, r3.__ownerID = t4, r3;
    }
    function fr() {
      return hr || (hr = pr(Et()));
    }
    function gr(e3) {
      return e3 == null ? wr() : mr(e3) ? e3 : wr().unshiftAll(e3);
    }
    function mr(e3) {
      return !(!e3 || !e3[br]);
    }
    dr[f] = true, dr.__empty = fr, dr.__make = pr, t3(gr, pe), gr.of = function() {
      return this(arguments);
    }, gr.prototype.toString = function() {
      return this.__toString("Stack [", "]");
    }, gr.prototype.get = function(e3, t4) {
      var r3 = this._head;
      for (e3 = T(this, e3); r3 && e3--; )
        r3 = r3.next;
      return r3 ? r3.value : t4;
    }, gr.prototype.peek = function() {
      return this._head && this._head.value;
    }, gr.prototype.push = function() {
      if (arguments.length === 0)
        return this;
      for (var e3 = this.size + arguments.length, t4 = this._head, r3 = arguments.length - 1; r3 >= 0; r3--)
        t4 = {
          value: arguments[r3],
          next: t4
        };
      return this.__ownerID ? (this.size = e3, this._head = t4, this.__hash = void 0, this.__altered = true, this) : vr(e3, t4);
    }, gr.prototype.pushAll = function(e3) {
      if ((e3 = i(e3)).size === 0)
        return this;
      Ie(e3.size);
      var t4 = this.size, r3 = this._head;
      return e3.reverse().forEach(function(e4) {
        t4++, r3 = {
          value: e4,
          next: r3
        };
      }), this.__ownerID ? (this.size = t4, this._head = r3, this.__hash = void 0, this.__altered = true, this) : vr(t4, r3);
    }, gr.prototype.pop = function() {
      return this.slice(1);
    }, gr.prototype.unshift = function() {
      return this.push.apply(this, arguments);
    }, gr.prototype.unshiftAll = function(e3) {
      return this.pushAll(e3);
    }, gr.prototype.shift = function() {
      return this.pop.apply(this, arguments);
    }, gr.prototype.clear = function() {
      return this.size === 0 ? this : this.__ownerID ? (this.size = 0, this._head = void 0, this.__hash = void 0, this.__altered = true, this) : wr();
    }, gr.prototype.slice = function(e3, t4) {
      if (x(e3, t4, this.size))
        return this;
      var r3 = O(e3, this.size);
      if (A(t4, this.size) !== this.size)
        return pe.prototype.slice.call(this, e3, t4);
      for (var n2 = this.size - r3, i2 = this._head; r3--; )
        i2 = i2.next;
      return this.__ownerID ? (this.size = n2, this._head = i2, this.__hash = void 0, this.__altered = true, this) : vr(n2, i2);
    }, gr.prototype.__ensureOwner = function(e3) {
      return e3 === this.__ownerID ? this : e3 ? vr(this.size, this._head, e3, this.__hash) : (this.__ownerID = e3, this.__altered = false, this);
    }, gr.prototype.__iterate = function(e3, t4) {
      if (t4)
        return this.reverse().__iterate(e3);
      for (var r3 = 0, n2 = this._head; n2 && e3(n2.value, r3++, this) !== false; )
        n2 = n2.next;
      return r3;
    }, gr.prototype.__iterator = function(e3, t4) {
      if (t4)
        return this.reverse().__iterator(e3);
      var r3 = 0, n2 = this._head;
      return new j(function() {
        if (n2) {
          var t5 = n2.value;
          return n2 = n2.next, k(e3, r3++, t5);
        }
        return {
          value: void 0,
          done: true
        };
      });
    }, gr.isStack = mr;
    var yr, br = "@@__IMMUTABLE_STACK__@@", _r = gr.prototype;
    function vr(e3, t4, r3, n2) {
      var i2 = Object.create(_r);
      return i2.size = e3, i2._head = t4, i2.__ownerID = r3, i2.__hash = n2, i2.__altered = false, i2;
    }
    function wr() {
      return yr || (yr = vr(0));
    }
    function Sr(e3, t4) {
      var r3 = function(r4) {
        e3.prototype[r4] = t4[r4];
      };
      return Object.keys(t4).forEach(r3), Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(t4).forEach(r3), e3;
    }
    _r[br] = true, _r.withMutations = je.withMutations, _r.asMutable = je.asMutable, _r.asImmutable = je.asImmutable, _r.wasAltered = je.wasAltered, r2.Iterator = j, Sr(r2, {
      toArray: function() {
        Ie(this.size);
        var e3 = new Array(this.size || 0);
        return this.valueSeq().__iterate(function(t4, r3) {
          e3[r3] = t4;
        }), e3;
      },
      toIndexedSeq: function() {
        return new At(this);
      },
      toJS: function() {
        return this.toSeq().map(function(e3) {
          return e3 && typeof e3.toJS == "function" ? e3.toJS() : e3;
        }).__toJS();
      },
      toJSON: function() {
        return this.toSeq().map(function(e3) {
          return e3 && typeof e3.toJSON == "function" ? e3.toJSON() : e3;
        }).__toJS();
      },
      toKeyedSeq: function() {
        return new Ot(this, true);
      },
      toMap: function() {
        return Ne(this.toKeyedSeq());
      },
      toObject: function() {
        Ie(this.size);
        var e3 = {};
        return this.__iterate(function(t4, r3) {
          e3[r3] = t4;
        }), e3;
      },
      toOrderedMap: function() {
        return wt(this.toKeyedSeq());
      },
      toOrderedSet: function() {
        return cr(o(this) ? this.valueSeq() : this);
      },
      toSet: function() {
        return tr(o(this) ? this.valueSeq() : this);
      },
      toSetSeq: function() {
        return new Rt(this);
      },
      toSeq: function() {
        return u(this) ? this.toIndexedSeq() : o(this) ? this.toKeyedSeq() : this.toSetSeq();
      },
      toStack: function() {
        return gr(o(this) ? this.valueSeq() : this);
      },
      toList: function() {
        return it(o(this) ? this.valueSeq() : this);
      },
      toString: function() {
        return "[Iterable]";
      },
      __toString: function(e3, t4) {
        return this.size === 0 ? e3 + t4 : e3 + " " + this.toSeq().map(this.__toStringMapper).join(", ") + " " + t4;
      },
      concat: function() {
        var t4 = e2.call(arguments, 0);
        return Vt(this, Lt(this, t4));
      },
      includes: function(e3) {
        return this.some(function(t4) {
          return se(t4, e3);
        });
      },
      entries: function() {
        return this.__iterator(2);
      },
      every: function(e3, t4) {
        Ie(this.size);
        var r3 = true;
        return this.__iterate(function(n2, i2, a2) {
          if (!e3.call(t4, n2, i2, a2))
            return r3 = false, false;
        }), r3;
      },
      filter: function(e3, t4) {
        return Vt(this, Dt(this, e3, t4, true));
      },
      find: function(e3, t4, r3) {
        var n2 = this.findEntry(e3, t4);
        return n2 ? n2[1] : r3;
      },
      forEach: function(e3, t4) {
        return Ie(this.size), this.__iterate(t4 ? e3.bind(t4) : e3);
      },
      join: function(e3) {
        Ie(this.size), e3 = e3 !== void 0 ? "" + e3 : ",";
        var t4 = "", r3 = true;
        return this.__iterate(function(n2) {
          r3 ? r3 = false : t4 += e3, t4 += n2 != null ? n2.toString() : "";
        }), t4;
      },
      keys: function() {
        return this.__iterator(0);
      },
      map: function(e3, t4) {
        return Vt(this, Pt(this, e3, t4));
      },
      reduce: function(e3, t4, r3) {
        var n2, i2;
        return Ie(this.size), arguments.length < 2 ? i2 = true : n2 = t4, this.__iterate(function(t5, a2, s2) {
          i2 ? (i2 = false, n2 = t5) : n2 = e3.call(r3, n2, t5, a2, s2);
        }), n2;
      },
      reduceRight: function(e3, t4, r3) {
        var n2 = this.toKeyedSeq().reverse();
        return n2.reduce.apply(n2, arguments);
      },
      reverse: function() {
        return Vt(this, Ct(this, true));
      },
      slice: function(e3, t4) {
        return Vt(this, jt(this, e3, t4, true));
      },
      some: function(e3, t4) {
        return !this.every(Ar(e3), t4);
      },
      sort: function(e3) {
        return Vt(this, Ft(this, e3));
      },
      values: function() {
        return this.__iterator(1);
      },
      butLast: function() {
        return this.slice(0, -1);
      },
      isEmpty: function() {
        return this.size !== void 0 ? this.size === 0 : !this.some(function() {
          return true;
        });
      },
      count: function(e3, t4) {
        return S(e3 ? this.toSeq().filter(e3, t4) : this);
      },
      countBy: function(e3, t4) {
        return function(e4, t5, r3) {
          var n2 = Ne().asMutable();
          return e4.__iterate(function(i2, a2) {
            n2.update(t5.call(r3, i2, a2, e4), 0, function(e5) {
              return e5 + 1;
            });
          }), n2.asImmutable();
        }(this, e3, t4);
      },
      equals: function(e3) {
        return oe(this, e3);
      },
      entrySeq: function() {
        var e3 = this;
        if (e3._cache)
          return new Q(e3._cache);
        var t4 = e3.toSeq().map(Or).toIndexedSeq();
        return t4.fromEntrySeq = function() {
          return e3.toSeq();
        }, t4;
      },
      filterNot: function(e3, t4) {
        return this.filter(Ar(e3), t4);
      },
      findEntry: function(e3, t4, r3) {
        var n2 = r3;
        return this.__iterate(function(r4, i2, a2) {
          if (e3.call(t4, r4, i2, a2))
            return n2 = [i2, r4], false;
        }), n2;
      },
      findKey: function(e3, t4) {
        var r3 = this.findEntry(e3, t4);
        return r3 && r3[0];
      },
      findLast: function(e3, t4, r3) {
        return this.toKeyedSeq().reverse().find(e3, t4, r3);
      },
      findLastEntry: function(e3, t4, r3) {
        return this.toKeyedSeq().reverse().findEntry(e3, t4, r3);
      },
      findLastKey: function(e3, t4) {
        return this.toKeyedSeq().reverse().findKey(e3, t4);
      },
      first: function() {
        return this.find(E);
      },
      flatMap: function(e3, t4) {
        return Vt(this, function(e4, t5, r3) {
          var n2 = zt(e4);
          return e4.toSeq().map(function(i2, a2) {
            return n2(t5.call(r3, i2, a2, e4));
          }).flatten(true);
        }(this, e3, t4));
      },
      flatten: function(e3) {
        return Vt(this, Mt(this, e3, true));
      },
      fromEntrySeq: function() {
        return new It(this);
      },
      get: function(e3, t4) {
        return this.find(function(t5, r3) {
          return se(r3, e3);
        }, void 0, t4);
      },
      getIn: function(e3, t4) {
        for (var r3, n2 = this, i2 = Yt(e3); !(r3 = i2.next()).done; ) {
          var a2 = r3.value;
          if ((n2 = n2 && n2.get ? n2.get(a2, g) : g) === g)
            return t4;
        }
        return n2;
      },
      groupBy: function(e3, t4) {
        return function(e4, t5, r3) {
          var n2 = o(e4), i2 = (l(e4) ? wt() : Ne()).asMutable();
          e4.__iterate(function(a3, s2) {
            i2.update(t5.call(r3, a3, s2, e4), function(e5) {
              return (e5 = e5 || []).push(n2 ? [s2, a3] : a3), e5;
            });
          });
          var a2 = zt(e4);
          return i2.map(function(t6) {
            return Vt(e4, a2(t6));
          });
        }(this, e3, t4);
      },
      has: function(e3) {
        return this.get(e3, g) !== g;
      },
      hasIn: function(e3) {
        return this.getIn(e3, g) !== g;
      },
      isSubset: function(e3) {
        return e3 = typeof e3.includes == "function" ? e3 : r2(e3), this.every(function(t4) {
          return e3.includes(t4);
        });
      },
      isSuperset: function(e3) {
        return (e3 = typeof e3.isSubset == "function" ? e3 : r2(e3)).isSubset(this);
      },
      keyOf: function(e3) {
        return this.findKey(function(t4) {
          return se(t4, e3);
        });
      },
      keySeq: function() {
        return this.toSeq().map(xr).toIndexedSeq();
      },
      last: function() {
        return this.toSeq().reverse().first();
      },
      lastKeyOf: function(e3) {
        return this.toKeyedSeq().reverse().keyOf(e3);
      },
      max: function(e3) {
        return Bt(this, e3);
      },
      maxBy: function(e3, t4) {
        return Bt(this, t4, e3);
      },
      min: function(e3) {
        return Bt(this, e3 ? Rr(e3) : Pr);
      },
      minBy: function(e3, t4) {
        return Bt(this, t4 ? Rr(t4) : Pr, e3);
      },
      rest: function() {
        return this.slice(1);
      },
      skip: function(e3) {
        return this.slice(Math.max(0, e3));
      },
      skipLast: function(e3) {
        return Vt(this, this.toSeq().reverse().skip(e3).reverse());
      },
      skipWhile: function(e3, t4) {
        return Vt(this, kt(this, e3, t4, true));
      },
      skipUntil: function(e3, t4) {
        return this.skipWhile(Ar(e3), t4);
      },
      sortBy: function(e3, t4) {
        return Vt(this, Ft(this, t4, e3));
      },
      take: function(e3) {
        return this.slice(0, Math.max(0, e3));
      },
      takeLast: function(e3) {
        return Vt(this, this.toSeq().reverse().take(e3).reverse());
      },
      takeWhile: function(e3, t4) {
        return Vt(this, function(e4, t5, r3) {
          var n2 = Qt(e4);
          return n2.__iterateUncached = function(n3, i2) {
            var a2 = this;
            if (i2)
              return this.cacheResult().__iterate(n3, i2);
            var s2 = 0;
            return e4.__iterate(function(e5, i3, o2) {
              return t5.call(r3, e5, i3, o2) && ++s2 && n3(e5, i3, a2);
            }), s2;
          }, n2.__iteratorUncached = function(n3, i2) {
            var a2 = this;
            if (i2)
              return this.cacheResult().__iterator(n3, i2);
            var s2 = e4.__iterator(2, i2), o2 = true;
            return new j(function() {
              if (!o2)
                return {
                  value: void 0,
                  done: true
                };
              var e5 = s2.next();
              if (e5.done)
                return e5;
              var i3 = e5.value, u2 = i3[0], c2 = i3[1];
              return t5.call(r3, c2, u2, a2) ? n3 === 2 ? e5 : k(n3, u2, c2, e5) : (o2 = false, {
                value: void 0,
                done: true
              });
            });
          }, n2;
        }(this, e3, t4));
      },
      takeUntil: function(e3, t4) {
        return this.takeWhile(Ar(e3), t4);
      },
      valueSeq: function() {
        return this.toIndexedSeq();
      },
      hashCode: function() {
        return this.__hash || (this.__hash = function(e3) {
          if (e3.size === 1 / 0)
            return 0;
          var t4 = l(e3), r3 = o(e3), n2 = t4 ? 1 : 0;
          return function(e4, t5) {
            return t5 = ge(t5, 3432918353), t5 = ge(t5 << 15 | t5 >>> -15, 461845907), t5 = ge(t5 << 13 | t5 >>> -13, 5), t5 = ge((t5 = (t5 + 3864292196 | 0) ^ e4) ^ t5 >>> 16, 2246822507), t5 = me((t5 = ge(t5 ^ t5 >>> 13, 3266489909)) ^ t5 >>> 16);
          }(e3.__iterate(r3 ? t4 ? function(e4, t5) {
            n2 = 31 * n2 + Cr(ye(e4), ye(t5)) | 0;
          } : function(e4, t5) {
            n2 = n2 + Cr(ye(e4), ye(t5)) | 0;
          } : t4 ? function(e4) {
            n2 = 31 * n2 + ye(e4) | 0;
          } : function(e4) {
            n2 = n2 + ye(e4) | 0;
          }), n2);
        }(this));
      }
    });
    var Tr = r2.prototype;
    Tr[h] = true, Tr[D] = Tr.values, Tr.__toJS = Tr.toArray, Tr.__toStringMapper = Ir, Tr.inspect = Tr.toSource = function() {
      return this.toString();
    }, Tr.chain = Tr.flatMap, Tr.contains = Tr.includes, Sr(n, {
      flip: function() {
        return Vt(this, Nt(this));
      },
      mapEntries: function(e3, t4) {
        var r3 = this, n2 = 0;
        return Vt(this, this.toSeq().map(function(i2, a2) {
          return e3.call(t4, [a2, i2], n2++, r3);
        }).fromEntrySeq());
      },
      mapKeys: function(e3, t4) {
        var r3 = this;
        return Vt(this, this.toSeq().flip().map(function(n2, i2) {
          return e3.call(t4, n2, i2, r3);
        }).flip());
      }
    });
    var Er = n.prototype;
    function xr(e3, t4) {
      return t4;
    }
    function Or(e3, t4) {
      return [t4, e3];
    }
    function Ar(e3) {
      return function() {
        return !e3.apply(this, arguments);
      };
    }
    function Rr(e3) {
      return function() {
        return -e3.apply(this, arguments);
      };
    }
    function Ir(e3) {
      return typeof e3 == "string" ? JSON.stringify(e3) : String(e3);
    }
    function Nr() {
      return w(arguments);
    }
    function Pr(e3, t4) {
      return e3 < t4 ? 1 : e3 > t4 ? -1 : 0;
    }
    function Cr(e3, t4) {
      return e3 ^ t4 + 2654435769 + (e3 << 6) + (e3 >> 2) | 0;
    }
    return Er[d] = true, Er[D] = Tr.entries, Er.__toJS = Tr.toObject, Er.__toStringMapper = function(e3, t4) {
      return JSON.stringify(t4) + ": " + Ir(e3);
    }, Sr(i, {
      toKeyedSeq: function() {
        return new Ot(this, false);
      },
      filter: function(e3, t4) {
        return Vt(this, Dt(this, e3, t4, false));
      },
      findIndex: function(e3, t4) {
        var r3 = this.findEntry(e3, t4);
        return r3 ? r3[0] : -1;
      },
      indexOf: function(e3) {
        var t4 = this.keyOf(e3);
        return t4 === void 0 ? -1 : t4;
      },
      lastIndexOf: function(e3) {
        var t4 = this.lastKeyOf(e3);
        return t4 === void 0 ? -1 : t4;
      },
      reverse: function() {
        return Vt(this, Ct(this, false));
      },
      slice: function(e3, t4) {
        return Vt(this, jt(this, e3, t4, false));
      },
      splice: function(e3, t4) {
        var r3 = arguments.length;
        if (t4 = Math.max(0 | t4, 0), r3 === 0 || r3 === 2 && !t4)
          return this;
        e3 = O(e3, e3 < 0 ? this.count() : this.size);
        var n2 = this.slice(0, e3);
        return Vt(this, r3 === 1 ? n2 : n2.concat(w(arguments, 2), this.slice(e3 + t4)));
      },
      findLastIndex: function(e3, t4) {
        var r3 = this.findLastEntry(e3, t4);
        return r3 ? r3[0] : -1;
      },
      first: function() {
        return this.get(0);
      },
      flatten: function(e3) {
        return Vt(this, Mt(this, e3, false));
      },
      get: function(e3, t4) {
        return (e3 = T(this, e3)) < 0 || this.size === 1 / 0 || this.size !== void 0 && e3 > this.size ? t4 : this.find(function(t5, r3) {
          return r3 === e3;
        }, void 0, t4);
      },
      has: function(e3) {
        return (e3 = T(this, e3)) >= 0 && (this.size !== void 0 ? this.size === 1 / 0 || e3 < this.size : this.indexOf(e3) !== -1);
      },
      interpose: function(e3) {
        return Vt(this, function(e4, t4) {
          var r3 = Qt(e4);
          return r3.size = e4.size && 2 * e4.size - 1, r3.__iterateUncached = function(r4, n2) {
            var i2 = this, a2 = 0;
            return e4.__iterate(function(e5, n3) {
              return (!a2 || r4(t4, a2++, i2) !== false) && r4(e5, a2++, i2) !== false;
            }, n2), a2;
          }, r3.__iteratorUncached = function(r4, n2) {
            var i2, a2 = e4.__iterator(1, n2), s2 = 0;
            return new j(function() {
              return (!i2 || s2 % 2) && (i2 = a2.next()).done ? i2 : s2 % 2 ? k(r4, s2++, t4) : k(r4, s2++, i2.value, i2);
            });
          }, r3;
        }(this, e3));
      },
      interleave: function() {
        var e3 = [this].concat(w(arguments)), t4 = Ut(this.toSeq(), G.of, e3), r3 = t4.flatten(true);
        return t4.size && (r3.size = t4.size * e3.length), Vt(this, r3);
      },
      keySeq: function() {
        return le(0, this.size);
      },
      last: function() {
        return this.get(-1);
      },
      skipWhile: function(e3, t4) {
        return Vt(this, kt(this, e3, t4, false));
      },
      zip: function() {
        var e3 = [this].concat(w(arguments));
        return Vt(this, Ut(this, Nr, e3));
      },
      zipWith: function(e3) {
        var t4 = w(arguments);
        return t4[0] = this, Vt(this, Ut(this, e3, t4));
      }
    }), i.prototype[p] = true, i.prototype[f] = true, Sr(a, {
      get: function(e3, t4) {
        return this.has(e3) ? e3 : t4;
      },
      includes: function(e3) {
        return this.has(e3);
      },
      keySeq: function() {
        return this.valueSeq();
      }
    }), a.prototype.has = Tr.includes, a.prototype.contains = a.prototype.includes, Sr(H, n.prototype), Sr(G, i.prototype), Sr(z, a.prototype), Sr(de, n.prototype), Sr(pe, i.prototype), Sr(fe, a.prototype), {
      Iterable: r2,
      Seq: V,
      Collection: he,
      Map: Ne,
      OrderedMap: wt,
      List: it,
      Stack: gr,
      Set: tr,
      OrderedSet: cr,
      Record: Jt,
      Range: le,
      Repeat: ue,
      is: se,
      fromJS: ne
    };
  }();
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ExpressionType = void 0, function(e2) {
    e2.Aggregate = "aggregate", e2.Existence = "existence", e2.Named = "named", e2.Operator = "operator", e2.SpecialOperator = "specialOperator", e2.Term = "term", e2.Variable = "variable";
  }(t2.ExpressionType || (t2.ExpressionType = {}));
}, function(e, t2, r) {
  "use strict";
  var n = r(54), i = Object.keys || function(e2) {
    var t3 = [];
    for (var r2 in e2)
      t3.push(r2);
    return t3;
  };
  e.exports = h;
  var a = Object.create(r(43));
  a.inherits = r(12);
  var s = r(115), o = r(73);
  a.inherits(h, s);
  for (var u = i(o.prototype), c = 0; c < u.length; c++) {
    var l = u[c];
    h.prototype[l] || (h.prototype[l] = o.prototype[l]);
  }
  function h(e2) {
    if (!(this instanceof h))
      return new h(e2);
    s.call(this, e2), o.call(this, e2), e2 && e2.readable === false && (this.readable = false), e2 && e2.writable === false && (this.writable = false), this.allowHalfOpen = true, e2 && e2.allowHalfOpen === false && (this.allowHalfOpen = false), this.once("end", d);
  }
  function d() {
    this.allowHalfOpen || this._writableState.ended || n.nextTick(p, this);
  }
  function p(e2) {
    e2.end();
  }
  Object.defineProperty(h.prototype, "writableHighWaterMark", {
    enumerable: false,
    get: function() {
      return this._writableState.highWaterMark;
    }
  }), Object.defineProperty(h.prototype, "destroyed", {
    get: function() {
      return this._readableState !== void 0 && this._writableState !== void 0 && (this._readableState.destroyed && this._writableState.destroyed);
    },
    set: function(e2) {
      this._readableState !== void 0 && this._writableState !== void 0 && (this._readableState.destroyed = e2, this._writableState.destroyed = e2);
    }
  }), h.prototype._destroy = function(e2, t3) {
    this.push(null), this.end(), n.nextTick(t3, e2);
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(270), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  const n = r(9), i = r(5), a = r(170), s = r(84);
  class o {
    constructor(e2) {
      this.parsingContext = e2.parsingContext, this.dataFactory = e2.dataFactory || new i.DataFactory(), this.rdfFirst = this.dataFactory.namedNode(o.RDF + "first"), this.rdfRest = this.dataFactory.namedNode(o.RDF + "rest"), this.rdfNil = this.dataFactory.namedNode(o.RDF + "nil"), this.rdfType = this.dataFactory.namedNode(o.RDF + "type"), this.rdfJson = this.dataFactory.namedNode(o.RDF + "JSON");
    }
    static getContextValue(e2, t3, r2, n2) {
      const i2 = e2.getContextRaw()[r2];
      if (!i2)
        return n2;
      const a2 = i2[t3];
      return a2 === void 0 ? n2 : a2;
    }
    static getContextValueContainer(e2, t3) {
      return o.getContextValue(e2, "@container", t3, {
        "@set": true
      });
    }
    static getContextValueType(e2, t3) {
      const r2 = o.getContextValue(e2, "@type", t3, null);
      return r2 === "@none" ? null : r2;
    }
    static getContextValueLanguage(e2, t3) {
      return o.getContextValue(e2, "@language", t3, e2.getContextRaw()["@language"] || null);
    }
    static getContextValueDirection(e2, t3) {
      return o.getContextValue(e2, "@direction", t3, e2.getContextRaw()["@direction"] || null);
    }
    static isContextValueReverse(e2, t3) {
      return !!o.getContextValue(e2, "@reverse", t3, null);
    }
    static getContextValueIndex(e2, t3) {
      return o.getContextValue(e2, "@index", t3, e2.getContextRaw()["@index"] || null);
    }
    static isPropertyReverse(e2, t3, r2) {
      return r2 === "@reverse" !== o.isContextValueReverse(e2, t3);
    }
    static isValidIri(e2) {
      return e2 !== null && n.Util.isValidIri(e2);
    }
    static isPrefixArray(e2, t3) {
      if (e2.length > t3.length)
        return false;
      for (let r2 = 0; r2 < e2.length; r2++)
        if (e2[r2] !== t3[r2])
          return false;
      return true;
    }
    validateValueIndexes(e2) {
      return __async(this, null, function* () {
        if (this.parsingContext.validateValueIndexes) {
          const t3 = {};
          for (const r2 of e2)
            if (r2 && typeof r2 == "object") {
              const e3 = r2["@id"], i2 = r2["@index"];
              if (e3 && i2) {
                const r3 = t3[e3];
                if (r3 && r3 !== i2)
                  throw new n.ErrorCoded("Conflicting @index value for " + e3, n.ERROR_CODES.CONFLICTING_INDEXES);
                t3[e3] = i2;
              }
            }
        }
      });
    }
    valueToTerm(e2, t3, r2, i2, a2) {
      return __async(this, null, function* () {
        if (o.getContextValueType(e2, t3) === "@json")
          return [this.dataFactory.literal(this.valueToJsonString(r2), this.rdfJson)];
        const s2 = typeof r2;
        switch (s2) {
          case "object":
            if (r2 == null)
              return [];
            if (Array.isArray(r2))
              return "@list" in o.getContextValueContainer(e2, t3) ? r2.length === 0 ? [this.rdfNil] : this.parsingContext.idStack[i2 + 1] || [] : (yield this.validateValueIndexes(r2), []);
            if (e2 = yield this.getContextSelfOrPropertyScoped(e2, t3), "@context" in r2 && (e2 = yield this.parsingContext.parseContext(r2["@context"], (yield this.parsingContext.getContext(a2, 0)).getContextRaw())), "@value" in (r2 = yield this.unaliasKeywords(r2, a2, i2, e2))) {
              let s3, o2, u, c, l;
              for (t3 in r2) {
                const e3 = r2[t3];
                switch (t3) {
                  case "@value":
                    s3 = e3;
                    break;
                  case "@language":
                    o2 = e3;
                    break;
                  case "@direction":
                    u = e3;
                    break;
                  case "@type":
                    c = e3;
                    break;
                  case "@index":
                    l = e3;
                    break;
                  default:
                    throw new n.ErrorCoded(`Unknown value entry '${t3}' in @value: ${JSON.stringify(r2)}`, n.ERROR_CODES.INVALID_VALUE_OBJECT);
                }
              }
              if ((yield this.unaliasKeyword(c, a2, i2, true, e2)) === "@json")
                return [this.dataFactory.literal(this.valueToJsonString(s3), this.rdfJson)];
              if (s3 === null)
                return [];
              if (typeof s3 == "object")
                throw new n.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(s3)}'`, n.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);
              if (this.parsingContext.validateValueIndexes && l && typeof l != "string")
                throw new n.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(l)}'`, n.ERROR_CODES.INVALID_INDEX_VALUE);
              if (o2) {
                if (typeof s3 != "string")
                  throw new n.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(s3)}'`, n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);
                if (!n.ContextParser.validateLanguage(o2, this.parsingContext.strictValues, n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))
                  return [];
                (this.parsingContext.normalizeLanguageTags || this.parsingContext.activeProcessingMode === 1) && (o2 = o2.toLowerCase());
              }
              if (u) {
                if (typeof s3 != "string")
                  throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(s3)}'`);
                if (!n.ContextParser.validateDirection(u, this.parsingContext.strictValues))
                  return [];
              }
              if (o2 && u && this.parsingContext.rdfDirection) {
                if (c)
                  throw new n.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(r2)}'`, n.ERROR_CODES.INVALID_VALUE_OBJECT);
                return this.nullableTermToArray(this.createLanguageDirectionLiteral(i2, s3, o2, u));
              }
              if (o2) {
                if (c)
                  throw new n.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r2)}'`, n.ERROR_CODES.INVALID_VALUE_OBJECT);
                return [this.dataFactory.literal(s3, o2)];
              }
              if (u && this.parsingContext.rdfDirection) {
                if (c)
                  throw new n.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(r2)}'`, n.ERROR_CODES.INVALID_VALUE_OBJECT);
                return this.nullableTermToArray(this.createLanguageDirectionLiteral(i2, s3, o2, u));
              }
              if (c) {
                if (typeof c != "string")
                  throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(c)}'`, n.ERROR_CODES.INVALID_TYPED_VALUE);
                const t4 = this.createVocabOrBaseTerm(e2, c);
                if (!t4)
                  throw new n.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(c)}'`, n.ERROR_CODES.INVALID_TYPED_VALUE);
                if (t4.termType !== "NamedNode")
                  throw new n.ErrorCoded(`Illegal value type (${t4.termType}): ${c}`, n.ERROR_CODES.INVALID_TYPED_VALUE);
                return [this.dataFactory.literal(s3, t4)];
              }
              return yield this.valueToTerm(new n.JsonLdContextNormalized({}), t3, s3, i2, a2);
            }
            if ("@set" in r2) {
              if (Object.keys(r2).length > 1)
                throw new n.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${t3}'`, n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);
              return [];
            }
            if ("@list" in r2) {
              if (Object.keys(r2).length > 1)
                throw new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${t3}'`, n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);
              const e3 = r2["@list"];
              return Array.isArray(e3) ? e3.length === 0 ? [this.rdfNil] : this.parsingContext.idStack[i2 + 1] || [] : yield this.valueToTerm(yield this.parsingContext.getContext(a2), t3, e3, i2 - 1, a2.slice(0, -1));
            }
            if ("@reverse" in r2)
              return [];
            if ("@graph" in o.getContextValueContainer(yield this.parsingContext.getContext(a2), t3)) {
              const e3 = this.parsingContext.graphContainerTermStack[i2 + 1];
              return e3 ? Object.values(e3) : [this.dataFactory.blankNode()];
            }
            return "@id" in r2 ? (Object.keys(r2).length > 1 && (e2 = yield this.parsingContext.getContext(a2, 0)), "@context" in r2 && (e2 = yield this.parsingContext.parseContext(r2["@context"], e2.getContextRaw())), r2["@type"] === "@vocab" ? this.nullableTermToArray(this.createVocabOrBaseTerm(e2, r2["@id"])) : this.nullableTermToArray(this.resourceToTerm(e2, r2["@id"]))) : this.parsingContext.emittedStack[i2 + 1] || r2 && typeof r2 == "object" && Object.keys(r2).length === 0 ? this.parsingContext.idStack[i2 + 1] || (this.parsingContext.idStack[i2 + 1] = [this.dataFactory.blankNode()]) : [];
          case "string":
            return this.nullableTermToArray(this.stringValueToTerm(i2, yield this.getContextSelfOrPropertyScoped(e2, t3), t3, r2, null));
          case "boolean":
            return this.nullableTermToArray(this.stringValueToTerm(i2, yield this.getContextSelfOrPropertyScoped(e2, t3), t3, Boolean(r2).toString(), this.dataFactory.namedNode(o.XSD_BOOLEAN)));
          case "number":
            return this.nullableTermToArray(this.stringValueToTerm(i2, yield this.getContextSelfOrPropertyScoped(e2, t3), t3, r2, this.dataFactory.namedNode(r2 % 1 == 0 && r2 < 1e21 ? o.XSD_INTEGER : o.XSD_DOUBLE)));
          default:
            return this.parsingContext.emitError(new Error("Could not determine the RDF type of a " + s2)), [];
        }
      });
    }
    getContextSelfOrPropertyScoped(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.getContextRaw()[t3];
        return r2 && typeof r2 == "object" && "@context" in r2 && (e2 = yield this.parsingContext.parseContext(r2, e2.getContextRaw(), true)), e2;
      });
    }
    nullableTermToArray(e2) {
      return e2 ? [e2] : [];
    }
    predicateToTerm(e2, t3) {
      const r2 = e2.expandTerm(t3, true, this.parsingContext.getExpandOptions());
      return r2 ? r2[0] === "_" && r2[1] === ":" ? this.parsingContext.produceGeneralizedRdf ? this.dataFactory.blankNode(r2.substr(2)) : null : o.isValidIri(r2) ? this.dataFactory.namedNode(r2) : r2 && this.parsingContext.strictValues ? (this.parsingContext.emitError(new n.ErrorCoded("Invalid predicate IRI: " + r2, n.ERROR_CODES.INVALID_IRI_MAPPING)), null) : null : null;
    }
    resourceToTerm(e2, t3) {
      if (t3.startsWith("_:"))
        return this.dataFactory.blankNode(t3.substr(2));
      const r2 = e2.expandTerm(t3, false, this.parsingContext.getExpandOptions());
      if (!o.isValidIri(r2)) {
        if (!r2 || !this.parsingContext.strictValues)
          return null;
        this.parsingContext.emitError(new Error("Invalid resource IRI: " + r2));
      }
      return this.dataFactory.namedNode(r2);
    }
    createVocabOrBaseTerm(e2, t3) {
      if (t3.startsWith("_:"))
        return this.dataFactory.blankNode(t3.substr(2));
      const r2 = this.parsingContext.getExpandOptions();
      let n2 = e2.expandTerm(t3, true, r2);
      if (n2 === t3 && (n2 = e2.expandTerm(t3, false, r2)), !o.isValidIri(n2)) {
        if (!n2 || !this.parsingContext.strictValues)
          return null;
        this.parsingContext.emitError(new Error("Invalid term IRI: " + n2));
      }
      return this.dataFactory.namedNode(n2);
    }
    intToString(e2, t3) {
      if (typeof e2 == "number") {
        if (Number.isFinite(e2)) {
          return !(e2 % 1 == 0) || t3 && t3.value === o.XSD_DOUBLE ? e2.toExponential(15).replace(/(\d)0*e\+?/, "$1E") : Number(e2).toString();
        }
        return e2 > 0 ? "INF" : "-INF";
      }
      return e2;
    }
    stringValueToTerm(e2, t3, r2, n2, i2) {
      const a2 = o.getContextValueType(t3, r2);
      if (a2)
        if (a2 === "@id") {
          if (!i2)
            return this.resourceToTerm(t3, this.intToString(n2, i2));
        } else if (a2 === "@vocab") {
          if (!i2)
            return this.createVocabOrBaseTerm(t3, this.intToString(n2, i2));
        } else
          i2 = this.dataFactory.namedNode(a2);
      if (!i2) {
        const a3 = o.getContextValueLanguage(t3, r2), s2 = o.getContextValueDirection(t3, r2);
        return s2 && this.parsingContext.rdfDirection ? this.createLanguageDirectionLiteral(e2, this.intToString(n2, i2), a3, s2) : this.dataFactory.literal(this.intToString(n2, i2), a3);
      }
      return this.dataFactory.literal(this.intToString(n2, i2), i2);
    }
    createLanguageDirectionLiteral(e2, t3, r2, n2) {
      if (this.parsingContext.rdfDirection === "i18n-datatype")
        return r2 || (r2 = ""), this.dataFactory.literal(t3, this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${r2}_${n2}`));
      {
        const i2 = this.dataFactory.blankNode(), a2 = this.getDefaultGraph();
        return this.parsingContext.emitQuad(e2, this.dataFactory.quad(i2, this.dataFactory.namedNode(o.RDF + "value"), this.dataFactory.literal(t3), a2)), r2 && this.parsingContext.emitQuad(e2, this.dataFactory.quad(i2, this.dataFactory.namedNode(o.RDF + "language"), this.dataFactory.literal(r2), a2)), this.parsingContext.emitQuad(e2, this.dataFactory.quad(i2, this.dataFactory.namedNode(o.RDF + "direction"), this.dataFactory.literal(n2), a2)), i2;
      }
    }
    valueToJsonString(e2) {
      return s(e2);
    }
    unaliasKeyword(e2, t3, r2, i2, a2) {
      return __async(this, null, function* () {
        if (Number.isInteger(e2))
          return e2;
        if (!i2) {
          const e3 = this.parsingContext.unaliasedKeywordCacheStack[r2];
          if (e3)
            return e3;
        }
        if (!n.Util.isPotentialKeyword(e2)) {
          let r3 = (a2 = a2 || (yield this.parsingContext.getContext(t3))).getContextRaw()[e2];
          r3 && typeof r3 == "object" && (r3 = r3["@id"]), n.Util.isValidKeyword(r3) && (e2 = r3);
        }
        return i2 ? e2 : this.parsingContext.unaliasedKeywordCacheStack[r2] = e2;
      });
    }
    unaliasKeywordParent(e2, t3) {
      return __async(this, null, function* () {
        return yield this.unaliasKeyword(t3 > 0 && e2[t3 - 1], e2, t3 - 1);
      });
    }
    unaliasKeywords(e2, t3, r2, n2) {
      return __async(this, null, function* () {
        const i2 = {};
        for (const a2 in e2)
          i2[yield this.unaliasKeyword(a2, t3, r2 + 1, true, n2)] = e2[a2];
        return i2;
      });
    }
    isLiteral(e2) {
      for (let t3 = e2; t3 >= 0; t3--)
        if (this.parsingContext.literalStack[t3] || this.parsingContext.jsonLiteralStack[t3])
          return true;
      return false;
    }
    getDepthOffsetGraph(e2, t3) {
      return __async(this, null, function* () {
        for (let r2 = e2 - 1; r2 > 0; r2--)
          if ((yield this.unaliasKeyword(t3[r2], t3, r2)) === "@graph") {
            const n2 = (yield a.EntryHandlerContainer.getContainerHandler(this.parsingContext, t3, r2)).containers;
            return a.EntryHandlerContainer.isComplexGraphContainer(n2) ? -1 : e2 - r2 - 1;
          }
        return -1;
      });
    }
    validateReverseSubject(e2) {
      if (e2.termType === "Literal")
        throw new n.ErrorCoded("Found illegal literal in subject position: " + e2.value, n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE);
    }
    getDefaultGraph() {
      return this.parsingContext.defaultGraph || this.dataFactory.defaultGraph();
    }
    getGraphContainerValue(e2, t3) {
      return __async(this, null, function* () {
        let r2 = this.getDefaultGraph();
        const {
          containers: n2,
          depth: i2
        } = yield a.EntryHandlerContainer.getContainerHandler(this.parsingContext, e2, t3);
        if ("@graph" in n2) {
          const t4 = a.EntryHandlerContainer.getContainerGraphIndex(n2, i2, e2), s2 = this.parsingContext.graphContainerTermStack[i2];
          if (r2 = s2 ? s2[t4] : null, !r2) {
            let a2 = null;
            if ("@id" in n2) {
              const t5 = yield this.getContainerKey(e2[i2], e2, i2);
              t5 !== null && (a2 = yield this.resourceToTerm(yield this.parsingContext.getContext(e2), t5));
            }
            a2 || (a2 = this.dataFactory.blankNode()), this.parsingContext.graphContainerTermStack[i2] || (this.parsingContext.graphContainerTermStack[i2] = {}), r2 = this.parsingContext.graphContainerTermStack[i2][t4] = a2;
          }
        }
        return r2;
      });
    }
    getPropertiesDepth(e2, t3) {
      return __async(this, null, function* () {
        let r2 = t3;
        for (let n2 = t3 - 1; n2 > 0; n2--)
          if (typeof e2[n2] != "number") {
            const t4 = yield this.unaliasKeyword(e2[n2], e2, n2);
            if (t4 === "@reverse")
              return n2;
            if (t4 !== "@nest")
              return r2;
            r2 = n2;
          }
        return r2;
      });
    }
    getContainerKey(e2, t3, r2) {
      return __async(this, null, function* () {
        const n2 = yield this.unaliasKeyword(e2, t3, r2);
        return n2 === "@none" ? null : n2;
      });
    }
  }
  t2.Util = o, o.XSD = "http://www.w3.org/2001/XMLSchema#", o.XSD_BOOLEAN = o.XSD + "boolean", o.XSD_INTEGER = o.XSD + "integer", o.XSD_DOUBLE = o.XSD + "double", o.RDF = "http://www.w3.org/1999/02/22-rdf-syntax-ns#";
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeyword = void 0;
  t2.EntryHandlerKeyword = class {
    constructor(e2) {
      this.keyword = e2;
    }
    isPropertyHandler() {
      return false;
    }
    isStackProcessor() {
      return true;
    }
    validate(e2, t3, r2, n, i) {
      return __async(this, null, function* () {
        return false;
      });
    }
    test(e2, t3, r2, n, i) {
      return __async(this, null, function* () {
        return r2 === this.keyword;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(187), t2);
}, function(e, t2, r) {
  var n = r(201).Parser, i = r(214), a = r(102).Wildcard, s = r(41);
  e.exports = {
    Parser: function({
      prefixes: e2,
      baseIRI: t3,
      factory: r2,
      sparqlStar: i2
    } = {}) {
      var a2 = {};
      for (var o in e2 || {})
        a2[o] = e2[o];
      var u = new n();
      return u.parse = function() {
        return n.base = t3 || "", n.prefixes = Object.create(a2), n.factory = r2 || s.DataFactory, n.sparqlStar = Boolean(i2), n.prototype.parse.apply(u, arguments);
      }, u._resetBlanks = n._resetBlanks, u;
    },
    Generator: i,
    Wildcard: a
  };
}, function(e, t2, r) {
  "use strict";
  var n = {};
  function i(e2, t3, r2) {
    r2 || (r2 = Error);
    var i2 = function(e3) {
      var r3, n2;
      function i3(r4, n3, i4) {
        return e3.call(this, function(e4, r5, n4) {
          return typeof t3 == "string" ? t3 : t3(e4, r5, n4);
        }(r4, n3, i4)) || this;
      }
      return n2 = e3, (r3 = i3).prototype = Object.create(n2.prototype), r3.prototype.constructor = r3, r3.__proto__ = n2, i3;
    }(r2);
    i2.prototype.name = r2.name, i2.prototype.code = e2, n[e2] = i2;
  }
  function a(e2, t3) {
    if (Array.isArray(e2)) {
      var r2 = e2.length;
      return e2 = e2.map(function(e3) {
        return String(e3);
      }), r2 > 2 ? "one of ".concat(t3, " ").concat(e2.slice(0, r2 - 1).join(", "), ", or ") + e2[r2 - 1] : r2 === 2 ? "one of ".concat(t3, " ").concat(e2[0], " or ").concat(e2[1]) : "of ".concat(t3, " ").concat(e2[0]);
    }
    return "of ".concat(t3, " ").concat(String(e2));
  }
  i("ERR_INVALID_OPT_VALUE", function(e2, t3) {
    return 'The value "' + t3 + '" is invalid for option "' + e2 + '"';
  }, TypeError), i("ERR_INVALID_ARG_TYPE", function(e2, t3, r2) {
    var n2, i2, s, o;
    if (typeof t3 == "string" && (i2 = "not ", t3.substr(!s || s < 0 ? 0 : +s, i2.length) === i2) ? (n2 = "must not be", t3 = t3.replace(/^not /, "")) : n2 = "must be", function(e3, t4, r3) {
      return (r3 === void 0 || r3 > e3.length) && (r3 = e3.length), e3.substring(r3 - t4.length, r3) === t4;
    }(e2, " argument"))
      o = "The ".concat(e2, " ").concat(n2, " ").concat(a(t3, "type"));
    else {
      var u = function(e3, t4, r3) {
        return typeof r3 != "number" && (r3 = 0), !(r3 + t4.length > e3.length) && e3.indexOf(t4, r3) !== -1;
      }(e2, ".") ? "property" : "argument";
      o = 'The "'.concat(e2, '" ').concat(u, " ").concat(n2, " ").concat(a(t3, "type"));
    }
    return o += ". Received type ".concat(typeof r2);
  }, TypeError), i("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), i("ERR_METHOD_NOT_IMPLEMENTED", function(e2) {
    return "The " + e2 + " method is not implemented";
  }), i("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), i("ERR_STREAM_DESTROYED", function(e2) {
    return "Cannot call " + e2 + " after a stream was destroyed";
  }), i("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), i("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), i("ERR_STREAM_WRITE_AFTER_END", "write after end"), i("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), i("ERR_UNKNOWN_ENCODING", function(e2) {
    return "Unknown encoding: " + e2;
  }, TypeError), i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), e.exports.codes = n;
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    var n = Object.keys || function(e2) {
      var t4 = [];
      for (var r2 in e2)
        t4.push(r2);
      return t4;
    };
    e.exports = c;
    var i = r(104), a = r(108);
    r(12)(c, i);
    for (var s = n(a.prototype), o = 0; o < s.length; o++) {
      var u = s[o];
      c.prototype[u] || (c.prototype[u] = a.prototype[u]);
    }
    function c(e2) {
      if (!(this instanceof c))
        return new c(e2);
      i.call(this, e2), a.call(this, e2), this.allowHalfOpen = true, e2 && (e2.readable === false && (this.readable = false), e2.writable === false && (this.writable = false), e2.allowHalfOpen === false && (this.allowHalfOpen = false, this.once("end", l)));
    }
    function l() {
      this._writableState.ended || t3.nextTick(h, this);
    }
    function h(e2) {
      e2.end();
    }
    Object.defineProperty(c.prototype, "writableHighWaterMark", {
      enumerable: false,
      get: function() {
        return this._writableState.highWaterMark;
      }
    }), Object.defineProperty(c.prototype, "writableBuffer", {
      enumerable: false,
      get: function() {
        return this._writableState && this._writableState.getBuffer();
      }
    }), Object.defineProperty(c.prototype, "writableLength", {
      enumerable: false,
      get: function() {
        return this._writableState.length;
      }
    }), Object.defineProperty(c.prototype, "destroyed", {
      enumerable: false,
      get: function() {
        return this._readableState !== void 0 && this._writableState !== void 0 && (this._readableState.destroyed && this._writableState.destroyed);
      },
      set: function(e2) {
        this._readableState !== void 0 && this._writableState !== void 0 && (this._readableState.destroyed = e2, this._writableState.destroyed = e2);
      }
    });
  }).call(this, r(8));
}, function(e, t2, r) {
  "use strict";
  var n = r(207).Buffer, i = n.isEncoding || function(e2) {
    switch ((e2 = "" + e2) && e2.toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
      case "raw":
        return true;
      default:
        return false;
    }
  };
  function a(e2) {
    var t3;
    switch (this.encoding = function(e3) {
      var t4 = function(e4) {
        if (!e4)
          return "utf8";
        for (var t5; ; )
          switch (e4) {
            case "utf8":
            case "utf-8":
              return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return "utf16le";
            case "latin1":
            case "binary":
              return "latin1";
            case "base64":
            case "ascii":
            case "hex":
              return e4;
            default:
              if (t5)
                return;
              e4 = ("" + e4).toLowerCase(), t5 = true;
          }
      }(e3);
      if (typeof t4 != "string" && (n.isEncoding === i || !i(e3)))
        throw new Error("Unknown encoding: " + e3);
      return t4 || e3;
    }(e2), this.encoding) {
      case "utf16le":
        this.text = u, this.end = c, t3 = 4;
        break;
      case "utf8":
        this.fillLast = o, t3 = 4;
        break;
      case "base64":
        this.text = l, this.end = h, t3 = 3;
        break;
      default:
        return this.write = d, void (this.end = p);
    }
    this.lastNeed = 0, this.lastTotal = 0, this.lastChar = n.allocUnsafe(t3);
  }
  function s(e2) {
    return e2 <= 127 ? 0 : e2 >> 5 == 6 ? 2 : e2 >> 4 == 14 ? 3 : e2 >> 3 == 30 ? 4 : e2 >> 6 == 2 ? -1 : -2;
  }
  function o(e2) {
    var t3 = this.lastTotal - this.lastNeed, r2 = function(e3, t4, r3) {
      if ((192 & t4[0]) != 128)
        return e3.lastNeed = 0, "\uFFFD";
      if (e3.lastNeed > 1 && t4.length > 1) {
        if ((192 & t4[1]) != 128)
          return e3.lastNeed = 1, "\uFFFD";
        if (e3.lastNeed > 2 && t4.length > 2 && (192 & t4[2]) != 128)
          return e3.lastNeed = 2, "\uFFFD";
      }
    }(this, e2);
    return r2 !== void 0 ? r2 : this.lastNeed <= e2.length ? (e2.copy(this.lastChar, t3, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e2.copy(this.lastChar, t3, 0, e2.length), void (this.lastNeed -= e2.length));
  }
  function u(e2, t3) {
    if ((e2.length - t3) % 2 == 0) {
      var r2 = e2.toString("utf16le", t3);
      if (r2) {
        var n2 = r2.charCodeAt(r2.length - 1);
        if (n2 >= 55296 && n2 <= 56319)
          return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = e2[e2.length - 2], this.lastChar[1] = e2[e2.length - 1], r2.slice(0, -1);
      }
      return r2;
    }
    return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = e2[e2.length - 1], e2.toString("utf16le", t3, e2.length - 1);
  }
  function c(e2) {
    var t3 = e2 && e2.length ? this.write(e2) : "";
    if (this.lastNeed) {
      var r2 = this.lastTotal - this.lastNeed;
      return t3 + this.lastChar.toString("utf16le", 0, r2);
    }
    return t3;
  }
  function l(e2, t3) {
    var r2 = (e2.length - t3) % 3;
    return r2 === 0 ? e2.toString("base64", t3) : (this.lastNeed = 3 - r2, this.lastTotal = 3, r2 === 1 ? this.lastChar[0] = e2[e2.length - 1] : (this.lastChar[0] = e2[e2.length - 2], this.lastChar[1] = e2[e2.length - 1]), e2.toString("base64", t3, e2.length - r2));
  }
  function h(e2) {
    var t3 = e2 && e2.length ? this.write(e2) : "";
    return this.lastNeed ? t3 + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t3;
  }
  function d(e2) {
    return e2.toString(this.encoding);
  }
  function p(e2) {
    return e2 && e2.length ? this.write(e2) : "";
  }
  t2.StringDecoder = a, a.prototype.write = function(e2) {
    if (e2.length === 0)
      return "";
    var t3, r2;
    if (this.lastNeed) {
      if ((t3 = this.fillLast(e2)) === void 0)
        return "";
      r2 = this.lastNeed, this.lastNeed = 0;
    } else
      r2 = 0;
    return r2 < e2.length ? t3 ? t3 + this.text(e2, r2) : this.text(e2, r2) : t3 || "";
  }, a.prototype.end = function(e2) {
    var t3 = e2 && e2.length ? this.write(e2) : "";
    return this.lastNeed ? t3 + "\uFFFD" : t3;
  }, a.prototype.text = function(e2, t3) {
    var r2 = function(e3, t4, r3) {
      var n3 = t4.length - 1;
      if (n3 < r3)
        return 0;
      var i2 = s(t4[n3]);
      if (i2 >= 0)
        return i2 > 0 && (e3.lastNeed = i2 - 1), i2;
      if (--n3 < r3 || i2 === -2)
        return 0;
      if ((i2 = s(t4[n3])) >= 0)
        return i2 > 0 && (e3.lastNeed = i2 - 2), i2;
      if (--n3 < r3 || i2 === -2)
        return 0;
      if ((i2 = s(t4[n3])) >= 0)
        return i2 > 0 && (i2 === 2 ? i2 = 0 : e3.lastNeed = i2 - 3), i2;
      return 0;
    }(this, e2, t3);
    if (!this.lastNeed)
      return e2.toString("utf8", t3);
    this.lastTotal = r2;
    var n2 = e2.length - (r2 - this.lastNeed);
    return e2.copy(this.lastChar, 0, n2), e2.toString("utf8", t3, n2);
  }, a.prototype.fillLast = function(e2) {
    if (this.lastNeed <= e2.length)
      return e2.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
    e2.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e2.length), this.lastNeed -= e2.length;
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(119), t2), i(r(229), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  t2.Translator = class {
    constructor() {
      this.supportedRdfDatatypes = [], this.fromRdfHandlers = {}, this.toRdfHandlers = {};
    }
    static incorrectRdfDataType(e2) {
      throw new Error(`Invalid RDF ${e2.datatype.value} value: '${e2.value}'`);
    }
    registerHandler(e2, t3, r2) {
      for (const r3 of t3)
        this.supportedRdfDatatypes.push(r3), this.fromRdfHandlers[r3.value] = e2;
      for (const t4 of r2) {
        let r3 = this.toRdfHandlers[t4];
        r3 || (this.toRdfHandlers[t4] = r3 = []), r3.push(e2);
      }
    }
    fromRdf(e2, t3) {
      const r2 = this.fromRdfHandlers[e2.datatype.value];
      return r2 ? r2.fromRdf(e2, t3) : e2.value;
    }
    toRdf(e2, t3) {
      const r2 = this.toRdfHandlers[typeof e2];
      if (r2)
        for (const n of r2) {
          const r3 = n.toRdf(e2, t3);
          if (r3)
            return r3;
        }
      throw new Error(`Invalid JavaScript value: '${e2}'`);
    }
    getSupportedRdfDatatypes() {
      return this.supportedRdfDatatypes;
    }
    getSupportedJavaScriptPrimitives() {
      return Object.keys(this.toRdfHandlers);
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(246), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.hasChildren = t2.isComment = t2.isText = t2.isCDATA = t2.isTag = void 0;
  var n = r(59);
  t2.isTag = function(e2) {
    return n.isTag(e2);
  }, t2.isCDATA = function(e2) {
    return e2.type === "cdata";
  }, t2.isText = function(e2) {
    return e2.type === "text";
  }, t2.isComment = function(e2) {
    return e2.type === "comment";
  }, t2.hasChildren = function(e2) {
    return Object.prototype.hasOwnProperty.call(e2, "children");
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DirectiveNodeHandlerAdapter = void 0;
  t2.DirectiveNodeHandlerAdapter = class {
    constructor(e2, t3, r2) {
      this.targetKind = e2, this.util = t3, this.settings = r2;
    }
    getDirectiveConditionalValue(e2, t3) {
      const r2 = this.util.getArgument(e2.arguments, "if");
      if (!r2)
        throw new Error(`The directive ${e2.name.value} is missing an if-argument.`);
      const n = this.util.handleNodeValue(r2.value, r2.name.value, t3);
      if (n.terms.length !== 1)
        throw new Error(`Can not apply the directive ${e2.name.value} with a list.`);
      return n.terms[0];
    }
    isDirectiveScopeAll(e2) {
      const t3 = this.util.getArgument(e2.arguments, "scope");
      return t3 && t3.value.kind === "EnumValue" && t3.value.value === "all";
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.transformExistence = t2.transformAggregate = t2.transformNamed = t2.transformLiteral = t2.transformRDFTermUnsafe = t2.transformAlgebra = void 0;
  const n = r(4), i = r(6), a = r(40), s = r(14), o = r(20), u = r(65), c = r(89), l = r(14);
  function h(e2) {
    if (!e2)
      throw new o.InvalidExpression(e2);
    const t3 = i.Algebra.expressionTypes;
    switch (e2.expressionType) {
      case t3.TERM:
        return d(e2);
      case t3.OPERATOR:
        return function(e3) {
          if (s.SpecialOperators.contains(e3.operator)) {
            const t4 = e3.operator, r2 = e3.args.map((e4) => h(e4)), n2 = c.specialFunctions.get(t4);
            if (!n2.checkArity(r2))
              throw new o.InvalidArity(r2, t4);
            return new a.SpecialOperator(r2, n2.applyAsync, n2.applySync);
          }
          {
            if (!s.Operators.contains(e3.operator))
              throw new o.UnknownOperator(e3.operator);
            const t4 = e3.operator, r2 = e3.args.map((e4) => h(e4)), n2 = c.regularFunctions.get(t4);
            if (!function(e4, t5) {
              if (t5 === 1 / 0)
                return true;
              if (Array.isArray(t5))
                return t5.indexOf(e4.length) >= 0;
              return e4.length === t5;
            }(r2, n2.arity))
              throw new o.InvalidArity(r2, t4);
            return new a.Operator(r2, n2.apply);
          }
        }(e2);
      case t3.NAMED:
        return f(e2);
      case t3.EXISTENCE:
        return m(e2);
      case t3.AGGREGATE:
        return g(e2);
      case t3.WILDCARD:
        return function(e3) {
          if (!e3.wildcard)
            throw new o.InvalidExpression(e3);
          return new a.NamedNode(e3.wildcard.value);
        }(e2);
      default:
        throw new o.InvalidExpressionType(e2);
    }
  }
  function d(e2) {
    if (!e2.term)
      throw new o.InvalidExpression(e2);
    switch (e2.term.termType) {
      case "Variable":
        return new a.Variable(n.termToString(e2.term));
      case "Literal":
        return p(e2.term);
      case "NamedNode":
        return new a.NamedNode(e2.term.value);
      case "BlankNode":
        return new a.BlankNode(e2.term.value);
      default:
        throw new o.InvalidTermType(e2);
    }
  }
  function p(e2) {
    if (!e2.datatype)
      return e2.language ? new a.LangStringLiteral(e2.value, e2.language) : new a.StringLiteral(e2.value);
    switch (e2.datatype.value) {
      case null:
      case void 0:
      case "":
        return e2.language ? new a.LangStringLiteral(e2.value, e2.language) : new a.StringLiteral(e2.value);
      case l.TypeURL.XSD_STRING:
        return new a.StringLiteral(e2.value);
      case l.TypeURL.RDF_LANG_STRING:
        return new a.LangStringLiteral(e2.value, e2.language);
      case l.TypeURL.XSD_DATE_TIME:
      case l.TypeURL.XSD_DATE: {
        const t3 = new Date(e2.value);
        return isNaN(t3.getTime()) ? new a.NonLexicalLiteral(void 0, e2.datatype, e2.value) : new a.DateTimeLiteral(new Date(e2.value), e2.value);
      }
      case l.TypeURL.XSD_BOOLEAN:
        return e2.value !== "true" && e2.value !== "false" && e2.value !== "1" && e2.value !== "0" ? new a.NonLexicalLiteral(void 0, e2.datatype, e2.value) : new a.BooleanLiteral(e2.value === "true" || e2.value === "1", e2.value);
      case l.TypeURL.XSD_INTEGER:
      case l.TypeURL.XSD_DECIMAL:
      case l.TypeURL.XSD_NEGATIVE_INTEGER:
      case l.TypeURL.XSD_NON_NEGATIVE_INTEGER:
      case l.TypeURL.XSD_NON_POSITIVE_INTEGER:
      case l.TypeURL.XSD_POSITIVE_INTEGER:
      case l.TypeURL.XSD_LONG:
      case l.TypeURL.XSD_SHORT:
      case l.TypeURL.XSD_BYTE:
      case l.TypeURL.XSD_UNSIGNED_LONG:
      case l.TypeURL.XSD_UNSIGNED_INT:
      case l.TypeURL.XSD_UNSIGNED_SHORT:
      case l.TypeURL.XSD_UNSIGNED_BYTE:
      case l.TypeURL.XSD_INT: {
        const t3 = u.parseXSDDecimal(e2.value);
        return t3 === void 0 ? new a.NonLexicalLiteral(void 0, e2.datatype, e2.value) : new a.NumericLiteral(t3, e2.datatype, e2.value);
      }
      case l.TypeURL.XSD_FLOAT:
      case l.TypeURL.XSD_DOUBLE: {
        const t3 = u.parseXSDFloat(e2.value);
        return t3 === void 0 ? new a.NonLexicalLiteral(void 0, e2.datatype, e2.value) : new a.NumericLiteral(t3, e2.datatype, e2.value);
      }
      default:
        return new a.Literal(e2.value, e2.datatype, e2.value);
    }
  }
  function f(e2) {
    const t3 = e2.name.value;
    if (!s.NamedOperators.contains(t3))
      throw new o.UnknownNamedOperator(e2.name.value);
    const r2 = e2.name.value, n2 = e2.args.map((e3) => h(e3)), i2 = c.namedFunctions.get(r2);
    return new a.Named(e2.name, n2, i2.apply);
  }
  function g(e2) {
    const t3 = e2.aggregator;
    return new a.Aggregate(t3, e2);
  }
  function m(e2) {
    return new a.Existence(e2);
  }
  t2.transformAlgebra = h, t2.transformRDFTermUnsafe = function(e2) {
    return d({
      term: e2,
      type: "expression",
      expressionType: "term"
    });
  }, t2.transformLiteral = p, t2.transformNamed = f, t2.transformAggregate = g, t2.transformExistence = m;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(24), t2), i(r(526), t2), i(r(527), t2), i(r(528), t2), i(r(529), t2), i(r(530), t2), i(r(531), t2), i(r(532), t2);
}, function(e, t2, r) {
  "use strict";
  r.r(t2), r.d(t2, "Lexer", function() {
    return i.a;
  }), r.d(t2, "Parser", function() {
    return k;
  }), r.d(t2, "Writer", function() {
    return z;
  }), r.d(t2, "Store", function() {
    return $;
  }), r.d(t2, "StreamParser", function() {
    return J;
  }), r.d(t2, "StreamWriter", function() {
    return W;
  }), r.d(t2, "Util", function() {
    return n;
  }), r.d(t2, "DataFactory", function() {
    return w;
  }), r.d(t2, "Term", function() {
    return S;
  }), r.d(t2, "NamedNode", function() {
    return T;
  }), r.d(t2, "Literal", function() {
    return E;
  }), r.d(t2, "BlankNode", function() {
    return x;
  }), r.d(t2, "Variable", function() {
    return O;
  }), r.d(t2, "DefaultGraph", function() {
    return A;
  }), r.d(t2, "Quad", function() {
    return N;
  }), r.d(t2, "Triple", function() {
    return N;
  }), r.d(t2, "termFromId", function() {
    return R;
  }), r.d(t2, "termToId", function() {
    return I;
  });
  var n = {};
  r.r(n), r.d(n, "isNamedNode", function() {
    return s;
  }), r.d(n, "isBlankNode", function() {
    return o;
  }), r.d(n, "isLiteral", function() {
    return u;
  }), r.d(n, "isVariable", function() {
    return c;
  }), r.d(n, "isDefaultGraph", function() {
    return l;
  }), r.d(n, "inDefaultGraph", function() {
    return h;
  }), r.d(n, "prefix", function() {
    return d;
  }), r.d(n, "prefixes", function() {
    return p;
  });
  var i = r(67), a = r(7);
  function s(e2) {
    return !!e2 && e2.termType === "NamedNode";
  }
  function o(e2) {
    return !!e2 && e2.termType === "BlankNode";
  }
  function u(e2) {
    return !!e2 && e2.termType === "Literal";
  }
  function c(e2) {
    return !!e2 && e2.termType === "Variable";
  }
  function l(e2) {
    return !!e2 && e2.termType === "DefaultGraph";
  }
  function h(e2) {
    return l(e2.graph);
  }
  function d(e2, t3) {
    return p({
      "": e2
    }, t3)("");
  }
  function p(e2, t3) {
    var r2 = Object.create(null);
    for (var n2 in e2)
      i2(n2, e2[n2]);
    function i2(e3, n3) {
      if (typeof n3 == "string") {
        var i3 = Object.create(null);
        r2[e3] = function(e4) {
          return i3[e4] || (i3[e4] = t3.namedNode(n3 + e4));
        };
      } else if (!(e3 in r2))
        throw new Error("Unknown prefix: " + e3);
      return r2[e3];
    }
    return t3 = t3 || w, i2;
  }
  const {
    rdf: f,
    xsd: g
  } = a.a;
  let m, y = 0;
  const b = /^"(.*".*)(?="[^"]*$)/, _ = /^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/, v = {
    namedNode: function(e2) {
      return new T(e2);
    },
    blankNode: function(e2) {
      return new x(e2 || "n3-" + y++);
    },
    variable: function(e2) {
      return new O(e2);
    },
    literal: function(e2, t3) {
      if (typeof t3 == "string")
        return new E('"' + e2 + '"@' + t3.toLowerCase());
      let r2 = t3 ? t3.value : "";
      r2 === "" && (typeof e2 == "boolean" ? r2 = g.boolean : typeof e2 == "number" && (Number.isFinite(e2) ? r2 = Number.isInteger(e2) ? g.integer : g.double : (r2 = g.double, Number.isNaN(e2) || (e2 = e2 > 0 ? "INF" : "-INF"))));
      return r2 === "" || r2 === g.string ? new E('"' + e2 + '"') : new E('"' + e2 + '"^^' + r2);
    },
    defaultGraph: function() {
      return m;
    },
    quad: D,
    triple: D
  };
  var w = v;
  class S {
    constructor(e2) {
      this.id = e2;
    }
    get value() {
      return this.id;
    }
    equals(e2) {
      return e2 instanceof S ? this.id === e2.id : !!e2 && this.termType === e2.termType && this.value === e2.value;
    }
    toJSON() {
      return {
        termType: this.termType,
        value: this.value
      };
    }
  }
  class T extends S {
    get termType() {
      return "NamedNode";
    }
  }
  class E extends S {
    get termType() {
      return "Literal";
    }
    get value() {
      return this.id.substring(1, this.id.lastIndexOf('"'));
    }
    get language() {
      var e2 = this.id, t3 = e2.lastIndexOf('"') + 1;
      return t3 < e2.length && e2[t3++] === "@" ? e2.substr(t3).toLowerCase() : "";
    }
    get datatype() {
      return new T(this.datatypeString);
    }
    get datatypeString() {
      var e2, t3 = this.id, r2 = t3.lastIndexOf('"') + 1;
      return r2 < t3.length && (e2 = t3[r2]) === "^" ? t3.substr(r2 + 2) : e2 !== "@" ? g.string : f.langString;
    }
    equals(e2) {
      return e2 instanceof E ? this.id === e2.id : !!e2 && !!e2.datatype && this.termType === e2.termType && this.value === e2.value && this.language === e2.language && this.datatype.value === e2.datatype.value;
    }
    toJSON() {
      return {
        termType: this.termType,
        value: this.value,
        language: this.language,
        datatype: {
          termType: "NamedNode",
          value: this.datatypeString
        }
      };
    }
  }
  class x extends S {
    constructor(e2) {
      super("_:" + e2);
    }
    get termType() {
      return "BlankNode";
    }
    get value() {
      return this.id.substr(2);
    }
  }
  class O extends S {
    constructor(e2) {
      super("?" + e2);
    }
    get termType() {
      return "Variable";
    }
    get value() {
      return this.id.substr(1);
    }
  }
  class A extends S {
    constructor() {
      return super(""), m || this;
    }
    get termType() {
      return "DefaultGraph";
    }
    equals(e2) {
      return this === e2 || !!e2 && this.termType === e2.termType;
    }
  }
  function R(e2, t3) {
    if (t3 = t3 || v, !e2)
      return t3.defaultGraph();
    switch (e2[0]) {
      case "?":
        return t3.variable(e2.substr(1));
      case "_":
        return t3.blankNode(e2.substr(2));
      case '"':
        if (t3 === v)
          return new E(e2);
        if (e2[e2.length - 1] === '"')
          return t3.literal(e2.substr(1, e2.length - 2));
        var r2 = e2.lastIndexOf('"', e2.length - 1);
        return t3.literal(e2.substr(1, r2 - 1), e2[r2 + 1] === "@" ? e2.substr(r2 + 2) : t3.namedNode(e2.substr(r2 + 3)));
      case "<":
        const n2 = _.exec(e2);
        return t3.quad(R(C(n2[1]), t3), R(C(n2[2]), t3), R(C(n2[3]), t3), n2[4] && R(C(n2[4]), t3));
      default:
        return t3.namedNode(e2);
    }
  }
  function I(e2) {
    if (typeof e2 == "string")
      return e2;
    if (e2 instanceof S && e2.termType !== "Quad")
      return e2.id;
    if (!e2)
      return m.id;
    switch (e2.termType) {
      case "NamedNode":
        return e2.value;
      case "BlankNode":
        return "_:" + e2.value;
      case "Variable":
        return "?" + e2.value;
      case "DefaultGraph":
        return "";
      case "Literal":
        return '"' + e2.value + '"' + (e2.language ? "@" + e2.language : e2.datatype && e2.datatype.value !== g.string ? "^^" + e2.datatype.value : "");
      case "Quad":
        return `<<${P(I(e2.subject))} ${P(I(e2.predicate))} ${P(I(e2.object))}${l(e2.graph) ? "" : " " + I(e2.graph)}>>`;
      default:
        throw new Error("Unexpected termType: " + e2.termType);
    }
  }
  m = new A();
  class N extends S {
    constructor(e2, t3, r2, n2) {
      super(""), this.subject = e2, this.predicate = t3, this.object = r2, this.graph = n2 || m;
    }
    get termType() {
      return "Quad";
    }
    toJSON() {
      return {
        termType: this.termType,
        subject: this.subject.toJSON(),
        predicate: this.predicate.toJSON(),
        object: this.object.toJSON(),
        graph: this.graph.toJSON()
      };
    }
    equals(e2) {
      return !!e2 && this.subject.equals(e2.subject) && this.predicate.equals(e2.predicate) && this.object.equals(e2.object) && this.graph.equals(e2.graph);
    }
  }
  function P(e2) {
    return e2.replace(b, (e3, t3) => '"' + t3.replace(/"/g, '""'));
  }
  function C(e2) {
    return e2.replace(b, (e3, t3) => '"' + t3.replace(/""/g, '"'));
  }
  function D(e2, t3, r2, n2) {
    return new N(e2, t3, r2, n2);
  }
  let j = 0;
  class k {
    constructor(e2) {
      this._contextStack = [], this._graph = null, e2 = e2 || {}, this._setBase(e2.baseIRI), e2.factory && M(this, e2.factory);
      var t3 = typeof e2.format == "string" ? e2.format.match(/\w*$/)[0].toLowerCase() : "", r2 = /turtle/.test(t3), n2 = /trig/.test(t3), a2 = /triple/.test(t3), s2 = /quad/.test(t3), o2 = this._n3Mode = /n3/.test(t3), u2 = a2 || s2;
      (this._supportsNamedGraphs = !(r2 || o2)) || (this._readPredicateOrNamedGraph = this._readPredicate), this._supportsQuads = !(r2 || n2 || a2 || o2), this._supportsRDFStar = t3 === "" || /star|\*$/.test(t3), u2 && (this._resolveRelativeIRI = function(e3) {
        return null;
      }), this._blankNodePrefix = typeof e2.blankNodePrefix != "string" ? "" : e2.blankNodePrefix.replace(/^(?!_:)/, "_:"), this._lexer = e2.lexer || new i.a({
        lineMode: u2,
        n3: o2
      }), this._explicitQuantifiers = !!e2.explicitQuantifiers;
    }
    static _resetBlankNodePrefix() {
      j = 0;
    }
    _setBase(e2) {
      if (e2) {
        var t3 = e2.indexOf("#");
        t3 >= 0 && (e2 = e2.substr(0, t3)), this._base = e2, this._basePath = e2.indexOf("/") < 0 ? e2 : e2.replace(/[^\/?]*(?:\?.*)?$/, ""), e2 = e2.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i), this._baseRoot = e2[0], this._baseScheme = e2[1];
      } else
        this._base = "", this._basePath = "";
    }
    _saveContext(e2, t3, r2, n2, i2) {
      var a2 = this._n3Mode;
      this._contextStack.push({
        subject: r2,
        predicate: n2,
        object: i2,
        graph: t3,
        type: e2,
        inverse: !!a2 && this._inversePredicate,
        blankPrefix: a2 ? this._prefixes._ : "",
        quantified: a2 ? this._quantified : null
      }), a2 && (this._inversePredicate = false, this._prefixes._ = this._graph ? this._graph.id.substr(2) + "." : ".", this._quantified = Object.create(this._quantified));
    }
    _restoreContext() {
      var e2 = this._contextStack.pop(), t3 = this._n3Mode;
      this._subject = e2.subject, this._predicate = e2.predicate, this._object = e2.object, this._graph = e2.graph, t3 && (this._inversePredicate = e2.inverse, this._prefixes._ = e2.blankPrefix, this._quantified = e2.quantified);
    }
    _readInTopContext(e2) {
      switch (e2.type) {
        case "eof":
          return this._graph !== null ? this._error("Unclosed graph", e2) : (delete this._prefixes._, this._callback(null, null, this._prefixes));
        case "PREFIX":
          this._sparqlStyle = true;
        case "@prefix":
          return this._readPrefix;
        case "BASE":
          this._sparqlStyle = true;
        case "@base":
          return this._readBaseIRI;
        case "{":
          if (this._supportsNamedGraphs)
            return this._graph = "", this._subject = null, this._readSubject;
        case "GRAPH":
          if (this._supportsNamedGraphs)
            return this._readNamedGraphLabel;
        default:
          return this._readSubject(e2);
      }
    }
    _readEntity(e2, t3) {
      var r2;
      switch (e2.type) {
        case "IRI":
        case "typeIRI":
          var n2 = this._resolveIRI(e2.value);
          if (n2 === null)
            return this._error("Invalid IRI", e2);
          r2 = this._namedNode(n2);
          break;
        case "type":
        case "prefixed":
          var i2 = this._prefixes[e2.prefix];
          if (i2 === void 0)
            return this._error('Undefined prefix "' + e2.prefix + ':"', e2);
          r2 = this._namedNode(i2 + e2.value);
          break;
        case "blank":
          r2 = this._blankNode(this._prefixes[e2.prefix] + e2.value);
          break;
        case "var":
          r2 = this._variable(e2.value.substr(1));
          break;
        default:
          return this._error("Expected entity but got " + e2.type, e2);
      }
      return !t3 && this._n3Mode && r2.id in this._quantified && (r2 = this._quantified[r2.id]), r2;
    }
    _readSubject(e2) {
      switch (this._predicate = null, e2.type) {
        case "[":
          return this._saveContext("blank", this._graph, this._subject = this._blankNode(), null, null), this._readBlankNodeHead;
        case "(":
          return this._saveContext("list", this._graph, this.RDF_NIL, null, null), this._subject = null, this._readListItem;
        case "{":
          return this._n3Mode ? (this._saveContext("formula", this._graph, this._graph = this._blankNode(), null, null), this._readSubject) : this._error("Unexpected graph", e2);
        case "}":
          return this._readPunctuation(e2);
        case "@forSome":
          return this._n3Mode ? (this._subject = null, this._predicate = this.N3_FORSOME, this._quantifier = this._blankNode, this._readQuantifierList) : this._error('Unexpected "@forSome"', e2);
        case "@forAll":
          return this._n3Mode ? (this._subject = null, this._predicate = this.N3_FORALL, this._quantifier = this._variable, this._readQuantifierList) : this._error('Unexpected "@forAll"', e2);
        case "literal":
          if (!this._n3Mode)
            return this._error("Unexpected literal", e2);
          if (e2.prefix.length === 0)
            return this._literalValue = e2.value, this._completeSubjectLiteral;
          this._subject = this._literal(e2.value, this._namedNode(e2.prefix));
          break;
        case "<<":
          return this._supportsRDFStar ? (this._saveContext("<<", this._graph, null, null, null), this._graph = null, this._readSubject) : this._error("Unexpected RDF* syntax", e2);
        default:
          if ((this._subject = this._readEntity(e2)) === void 0)
            return;
          if (this._n3Mode)
            return this._getPathReader(this._readPredicateOrNamedGraph);
      }
      return this._readPredicateOrNamedGraph;
    }
    _readPredicate(e2) {
      var t3 = e2.type;
      switch (t3) {
        case "inverse":
          this._inversePredicate = true;
        case "abbreviation":
          this._predicate = this.ABBREVIATIONS[e2.value];
          break;
        case ".":
        case "]":
        case "}":
          return this._predicate === null ? this._error("Unexpected " + t3, e2) : (this._subject = null, t3 === "]" ? this._readBlankNodeTail(e2) : this._readPunctuation(e2));
        case ";":
          return this._predicate !== null ? this._readPredicate : this._error("Expected predicate but got ;", e2);
        case "blank":
          if (!this._n3Mode)
            return this._error("Disallowed blank node as predicate", e2);
        default:
          if ((this._predicate = this._readEntity(e2)) === void 0)
            return;
      }
      return this._readObject;
    }
    _readObject(e2) {
      switch (e2.type) {
        case "literal":
          if (e2.prefix.length === 0)
            return this._literalValue = e2.value, this._readDataTypeOrLang;
          this._object = this._literal(e2.value, this._namedNode(e2.prefix));
          break;
        case "[":
          return this._saveContext("blank", this._graph, this._subject, this._predicate, this._subject = this._blankNode()), this._readBlankNodeHead;
        case "(":
          return this._saveContext("list", this._graph, this._subject, this._predicate, this.RDF_NIL), this._subject = null, this._readListItem;
        case "{":
          return this._n3Mode ? (this._saveContext("formula", this._graph, this._subject, this._predicate, this._graph = this._blankNode()), this._readSubject) : this._error("Unexpected graph", e2);
        case "<<":
          return this._supportsRDFStar ? (this._saveContext("<<", this._graph, this._subject, this._predicate, null), this._graph = null, this._readSubject) : this._error("Unexpected RDF* syntax", e2);
        default:
          if ((this._object = this._readEntity(e2)) === void 0)
            return;
          if (this._n3Mode)
            return this._getPathReader(this._getContextEndReader());
      }
      return this._getContextEndReader();
    }
    _readPredicateOrNamedGraph(e2) {
      return e2.type === "{" ? this._readGraph(e2) : this._readPredicate(e2);
    }
    _readGraph(e2) {
      return e2.type !== "{" ? this._error("Expected graph but got " + e2.type, e2) : (this._graph = this._subject, this._subject = null, this._readSubject);
    }
    _readBlankNodeHead(e2) {
      return e2.type === "]" ? (this._subject = null, this._readBlankNodeTail(e2)) : (this._predicate = null, this._readPredicate(e2));
    }
    _readBlankNodeTail(e2) {
      if (e2.type !== "]")
        return this._readBlankNodePunctuation(e2);
      this._subject !== null && this._emit(this._subject, this._predicate, this._object, this._graph);
      var t3 = this._predicate === null;
      return this._restoreContext(), this._object === null ? t3 ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank : this._getContextEndReader();
    }
    _readPredicateAfterBlank(e2) {
      switch (e2.type) {
        case ".":
        case "}":
          return this._subject = null, this._readPunctuation(e2);
        default:
          return this._readPredicate(e2);
      }
    }
    _readListItem(e2) {
      var t3 = null, r2 = null, n2 = this._subject, i2 = this._contextStack, a2 = i2[i2.length - 1], s2 = this._readListItem;
      switch (e2.type) {
        case "[":
          this._saveContext("blank", this._graph, r2 = this._blankNode(), this.RDF_FIRST, this._subject = t3 = this._blankNode()), s2 = this._readBlankNodeHead;
          break;
        case "(":
          this._saveContext("list", this._graph, r2 = this._blankNode(), this.RDF_FIRST, this.RDF_NIL), this._subject = null;
          break;
        case ")":
          if (this._restoreContext(), i2.length !== 0 && i2[i2.length - 1].type === "list" && this._emit(this._subject, this._predicate, this._object, this._graph), this._predicate === null) {
            if (s2 = this._readPredicate, this._subject === this.RDF_NIL)
              return s2;
          } else if (s2 = this._getContextEndReader(), this._object === this.RDF_NIL)
            return s2;
          r2 = this.RDF_NIL;
          break;
        case "literal":
          e2.prefix.length === 0 ? (this._literalValue = e2.value, s2 = this._readListItemDataTypeOrLang) : (t3 = this._literal(e2.value, this._namedNode(e2.prefix)), s2 = this._getContextEndReader());
          break;
        case "{":
          return this._n3Mode ? (this._saveContext("formula", this._graph, this._subject, this._predicate, this._graph = this._blankNode()), this._readSubject) : this._error("Unexpected graph", e2);
        default:
          if ((t3 = this._readEntity(e2)) === void 0)
            return;
      }
      if (r2 === null && (this._subject = r2 = this._blankNode()), n2 === null ? a2.predicate === null ? a2.subject = r2 : a2.object = r2 : this._emit(n2, this.RDF_REST, r2, this._graph), t3 !== null) {
        if (this._n3Mode && (e2.type === "IRI" || e2.type === "prefixed"))
          return this._saveContext("item", this._graph, r2, this.RDF_FIRST, t3), this._subject = t3, this._predicate = null, this._getPathReader(this._readListItem);
        this._emit(r2, this.RDF_FIRST, t3, this._graph);
      }
      return s2;
    }
    _readDataTypeOrLang(e2) {
      return this._completeObjectLiteral(e2, false);
    }
    _readListItemDataTypeOrLang(e2) {
      return this._completeObjectLiteral(e2, true);
    }
    _completeLiteral(e2) {
      let t3 = this._literal(this._literalValue);
      switch (e2.type) {
        case "type":
        case "typeIRI":
          var r2 = this._readEntity(e2);
          if (r2 === void 0)
            return;
          t3 = this._literal(this._literalValue, r2), e2 = null;
          break;
        case "langcode":
          t3 = this._literal(this._literalValue, e2.value), e2 = null;
      }
      return {
        token: e2,
        literal: t3
      };
    }
    _completeSubjectLiteral(e2) {
      return this._subject = this._completeLiteral(e2).literal, this._readPredicateOrNamedGraph;
    }
    _completeObjectLiteral(e2, t3) {
      const r2 = this._completeLiteral(e2);
      if (r2)
        return this._object = r2.literal, t3 && this._emit(this._subject, this.RDF_FIRST, this._object, this._graph), r2.token === null ? this._getContextEndReader() : (this._readCallback = this._getContextEndReader(), this._readCallback(r2.token));
    }
    _readFormulaTail(e2) {
      return e2.type !== "}" ? this._readPunctuation(e2) : (this._subject !== null && this._emit(this._subject, this._predicate, this._object, this._graph), this._restoreContext(), this._object === null ? this._readPredicate : this._getContextEndReader());
    }
    _readPunctuation(e2) {
      var t3, r2 = this._subject, n2 = this._graph, i2 = this._inversePredicate;
      switch (e2.type) {
        case "}":
          if (this._graph === null)
            return this._error("Unexpected graph closing", e2);
          if (this._n3Mode)
            return this._readFormulaTail(e2);
          this._graph = null;
        case ".":
          this._subject = null, t3 = this._contextStack.length ? this._readSubject : this._readInTopContext, i2 && (this._inversePredicate = false);
          break;
        case ";":
          t3 = this._readPredicate;
          break;
        case ",":
          t3 = this._readObject;
          break;
        default:
          if (this._supportsQuads && this._graph === null && (n2 = this._readEntity(e2)) !== void 0) {
            t3 = this._readQuadPunctuation;
            break;
          }
          return this._error('Expected punctuation to follow "' + this._object.id + '"', e2);
      }
      if (r2 !== null) {
        var a2 = this._predicate, s2 = this._object;
        i2 ? this._emit(s2, a2, r2, n2) : this._emit(r2, a2, s2, n2);
      }
      return t3;
    }
    _readBlankNodePunctuation(e2) {
      var t3;
      switch (e2.type) {
        case ";":
          t3 = this._readPredicate;
          break;
        case ",":
          t3 = this._readObject;
          break;
        default:
          return this._error('Expected punctuation to follow "' + this._object.id + '"', e2);
      }
      return this._emit(this._subject, this._predicate, this._object, this._graph), t3;
    }
    _readQuadPunctuation(e2) {
      return e2.type !== "." ? this._error("Expected dot to follow quad", e2) : this._readInTopContext;
    }
    _readPrefix(e2) {
      return e2.type !== "prefix" ? this._error("Expected prefix to follow @prefix", e2) : (this._prefix = e2.value, this._readPrefixIRI);
    }
    _readPrefixIRI(e2) {
      if (e2.type !== "IRI")
        return this._error('Expected IRI to follow prefix "' + this._prefix + ':"', e2);
      var t3 = this._readEntity(e2);
      return this._prefixes[this._prefix] = t3.value, this._prefixCallback(this._prefix, t3), this._readDeclarationPunctuation;
    }
    _readBaseIRI(e2) {
      var t3 = e2.type === "IRI" && this._resolveIRI(e2.value);
      return t3 ? (this._setBase(t3), this._readDeclarationPunctuation) : this._error("Expected valid IRI to follow base declaration", e2);
    }
    _readNamedGraphLabel(e2) {
      switch (e2.type) {
        case "IRI":
        case "blank":
        case "prefixed":
          return this._readSubject(e2), this._readGraph;
        case "[":
          return this._readNamedGraphBlankLabel;
        default:
          return this._error("Invalid graph label", e2);
      }
    }
    _readNamedGraphBlankLabel(e2) {
      return e2.type !== "]" ? this._error("Invalid graph label", e2) : (this._subject = this._blankNode(), this._readGraph);
    }
    _readDeclarationPunctuation(e2) {
      return this._sparqlStyle ? (this._sparqlStyle = false, this._readInTopContext(e2)) : e2.type !== "." ? this._error("Expected declaration to end with a dot", e2) : this._readInTopContext;
    }
    _readQuantifierList(e2) {
      var t3;
      switch (e2.type) {
        case "IRI":
        case "prefixed":
          if ((t3 = this._readEntity(e2, true)) !== void 0)
            break;
        default:
          return this._error("Unexpected " + e2.type, e2);
      }
      return this._explicitQuantifiers ? (this._subject === null ? this._emit(this._graph || this.DEFAULTGRAPH, this._predicate, this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH) : this._emit(this._subject, this.RDF_REST, this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH), this._emit(this._subject, this.RDF_FIRST, t3, this.QUANTIFIERS_GRAPH)) : this._quantified[t3.id] = this._quantifier(this._blankNode().value), this._readQuantifierPunctuation;
    }
    _readQuantifierPunctuation(e2) {
      return e2.type === "," ? this._readQuantifierList : (this._explicitQuantifiers && (this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH), this._subject = null), this._readCallback = this._getContextEndReader(), this._readCallback(e2));
    }
    _getPathReader(e2) {
      return this._afterPath = e2, this._readPath;
    }
    _readPath(e2) {
      switch (e2.type) {
        case "!":
          return this._readForwardPath;
        case "^":
          return this._readBackwardPath;
        default:
          var t3 = this._contextStack, r2 = t3.length && t3[t3.length - 1];
          if (r2 && r2.type === "item") {
            var n2 = this._subject;
            this._restoreContext(), this._emit(this._subject, this.RDF_FIRST, n2, this._graph);
          }
          return this._afterPath(e2);
      }
    }
    _readForwardPath(e2) {
      var t3, r2, n2 = this._blankNode();
      if ((r2 = this._readEntity(e2)) !== void 0)
        return this._predicate === null ? (t3 = this._subject, this._subject = n2) : (t3 = this._object, this._object = n2), this._emit(t3, r2, n2, this._graph), this._readPath;
    }
    _readBackwardPath(e2) {
      var t3, r2, n2 = this._blankNode();
      if ((t3 = this._readEntity(e2)) !== void 0)
        return this._predicate === null ? (r2 = this._subject, this._subject = n2) : (r2 = this._object, this._object = n2), this._emit(n2, t3, r2, this._graph), this._readPath;
    }
    _readRDFStarTailOrGraph(e2) {
      return e2.type !== ">>" ? this._supportsQuads && this._graph === null && (this._graph = this._readEntity(e2)) !== void 0 ? this._readRDFStarTail : this._error('Expected >> to follow "' + this._object.id + '"', e2) : this._readRDFStarTail(e2);
    }
    _readRDFStarTail(e2) {
      if (e2.type !== ">>")
        return this._error("Expected >> but got " + e2.type, e2);
      const t3 = this._quad(this._subject, this._predicate, this._object, this._graph || this.DEFAULTGRAPH);
      return this._restoreContext(), this._subject === null ? (this._subject = t3, this._readPredicate) : (this._object = t3, this._getContextEndReader());
    }
    _getContextEndReader() {
      var e2 = this._contextStack;
      if (!e2.length)
        return this._readPunctuation;
      switch (e2[e2.length - 1].type) {
        case "blank":
          return this._readBlankNodeTail;
        case "list":
          return this._readListItem;
        case "formula":
          return this._readFormulaTail;
        case "<<":
          return this._readRDFStarTailOrGraph;
      }
    }
    _emit(e2, t3, r2, n2) {
      this._callback(null, this._quad(e2, t3, r2, n2 || this.DEFAULTGRAPH));
    }
    _error(e2, t3) {
      var r2 = new Error(e2 + " on line " + t3.line + ".");
      r2.context = {
        token: t3,
        line: t3.line,
        previousToken: this._lexer.previousToken
      }, this._callback(r2), this._callback = L;
    }
    _resolveIRI(e2) {
      return /^[a-z][a-z0-9+.-]*:/i.test(e2) ? e2 : this._resolveRelativeIRI(e2);
    }
    _resolveRelativeIRI(e2) {
      if (!e2.length)
        return this._base;
      switch (e2[0]) {
        case "#":
          return this._base + e2;
        case "?":
          return this._base.replace(/(?:\?.*)?$/, e2);
        case "/":
          return (e2[1] === "/" ? this._baseScheme : this._baseRoot) + this._removeDotSegments(e2);
        default:
          return /^[^/:]*:/.test(e2) ? null : this._removeDotSegments(this._basePath + e2);
      }
    }
    _removeDotSegments(e2) {
      if (!/(^|\/)\.\.?($|[/#?])/.test(e2))
        return e2;
      for (var t3 = "", r2 = e2.length, n2 = -1, i2 = -1, a2 = 0, s2 = "/"; n2 < r2; ) {
        switch (s2) {
          case ":":
            if (i2 < 0 && e2[++n2] === "/" && e2[++n2] === "/")
              for (; (i2 = n2 + 1) < r2 && e2[i2] !== "/"; )
                n2 = i2;
            break;
          case "?":
          case "#":
            n2 = r2;
            break;
          case "/":
            if (e2[n2 + 1] === ".")
              switch (s2 = e2[1 + ++n2]) {
                case "/":
                  t3 += e2.substring(a2, n2 - 1), a2 = n2 + 1;
                  break;
                case void 0:
                case "?":
                case "#":
                  return t3 + e2.substring(a2, n2) + e2.substr(n2 + 1);
                case ".":
                  if ((s2 = e2[1 + ++n2]) === void 0 || s2 === "/" || s2 === "?" || s2 === "#") {
                    if ((a2 = (t3 += e2.substring(a2, n2 - 2)).lastIndexOf("/")) >= i2 && (t3 = t3.substr(0, a2)), s2 !== "/")
                      return t3 + "/" + e2.substr(n2 + 1);
                    a2 = n2 + 1;
                  }
              }
        }
        s2 = e2[++n2];
      }
      return t3 + e2.substring(a2);
    }
    parse(e2, t3, r2) {
      var n2 = this;
      if (this._readCallback = this._readInTopContext, this._sparqlStyle = false, this._prefixes = Object.create(null), this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2) : "b" + j++ + "_", this._prefixCallback = r2 || L, this._inversePredicate = false, this._quantified = Object.create(null), !t3) {
        var i2, a2 = [];
        if (this._callback = function(e3, t4) {
          e3 ? i2 = e3 : t4 && a2.push(t4);
        }, this._lexer.tokenize(e2).every(function(e3) {
          return n2._readCallback = n2._readCallback(e3);
        }), i2)
          throw i2;
        return a2;
      }
      this._callback = t3, this._lexer.tokenize(e2, function(e3, t4) {
        e3 !== null ? (n2._callback(e3), n2._callback = L) : n2._readCallback && (n2._readCallback = n2._readCallback(t4));
      });
    }
  }
  function L() {
  }
  function M(e2, t3) {
    var r2 = t3.namedNode;
    e2._namedNode = r2, e2._blankNode = t3.blankNode, e2._literal = t3.literal, e2._variable = t3.variable, e2._quad = t3.quad, e2.DEFAULTGRAPH = t3.defaultGraph(), e2.RDF_FIRST = r2(a.a.rdf.first), e2.RDF_REST = r2(a.a.rdf.rest), e2.RDF_NIL = r2(a.a.rdf.nil), e2.N3_FORALL = r2(a.a.r.forAll), e2.N3_FORSOME = r2(a.a.r.forSome), e2.ABBREVIATIONS = {
      a: r2(a.a.rdf.type),
      "=": r2(a.a.owl.sameAs),
      ">": r2(a.a.log.implies)
    }, e2.QUANTIFIERS_GRAPH = r2("urn:n3:quantifiers");
  }
  M(k.prototype, w);
  const F = w.defaultGraph(), {
    rdf: B,
    xsd: q
  } = a.a;
  var U = /["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/, V = /["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g, H = {
    "\\": "\\\\",
    '"': '\\"',
    "	": "\\t",
    "\n": "\\n",
    "\r": "\\r",
    "\b": "\\b",
    "\f": "\\f"
  };
  class G extends S {
    equals() {
      return false;
    }
  }
  class z {
    constructor(e2, t3) {
      if (this._prefixRegex = /$0^/, e2 && typeof e2.write != "function" && (t3 = e2, e2 = null), t3 = t3 || {}, this._lists = t3.lists, e2)
        this._outputStream = e2, this._endStream = t3.end === void 0 || !!t3.end;
      else {
        var r2 = "";
        this._outputStream = {
          write(e3, t4, n2) {
            r2 += e3, n2 && n2();
          },
          end: function(e3) {
            e3 && e3(null, r2);
          }
        }, this._endStream = true;
      }
      this._subject = null, /triple|quad/i.test(t3.format) ? this._writeQuad = this._writeQuadLine : (this._graph = F, this._prefixIRIs = Object.create(null), t3.prefixes && this.addPrefixes(t3.prefixes));
    }
    get _inDefaultGraph() {
      return F.equals(this._graph);
    }
    _write(e2, t3) {
      this._outputStream.write(e2, "utf8", t3);
    }
    _writeQuad(e2, t3, r2, n2, i2) {
      try {
        n2.equals(this._graph) || (this._write((this._subject === null ? "" : this._inDefaultGraph ? ".\n" : "\n}\n") + (F.equals(n2) ? "" : this._encodeIriOrBlank(n2) + " {\n")), this._graph = n2, this._subject = null), e2.equals(this._subject) ? t3.equals(this._predicate) ? this._write(", " + this._encodeObject(r2), i2) : this._write(";\n    " + this._encodePredicate(this._predicate = t3) + " " + this._encodeObject(r2), i2) : this._write((this._subject === null ? "" : ".\n") + this._encodeSubject(this._subject = e2) + " " + this._encodePredicate(this._predicate = t3) + " " + this._encodeObject(r2), i2);
      } catch (e3) {
        i2 && i2(e3);
      }
    }
    _writeQuadLine(e2, t3, r2, n2, i2) {
      delete this._prefixMatch, this._write(this.quadToString(e2, t3, r2, n2), i2);
    }
    quadToString(e2, t3, r2, n2) {
      return this._encodeSubject(e2) + " " + this._encodeIriOrBlank(t3) + " " + this._encodeObject(r2) + (n2 && n2.value ? " " + this._encodeIriOrBlank(n2) + " .\n" : " .\n");
    }
    quadsToString(e2) {
      return e2.map(function(e3) {
        return this.quadToString(e3.subject, e3.predicate, e3.object, e3.graph);
      }, this).join("");
    }
    _encodeSubject(e2) {
      return e2.termType === "Quad" ? this._encodeQuad(e2) : this._encodeIriOrBlank(e2);
    }
    _encodeIriOrBlank(e2) {
      if (e2.termType !== "NamedNode")
        return this._lists && e2.value in this._lists && (e2 = this.list(this._lists[e2.value])), "id" in e2 ? e2.id : "_:" + e2.value;
      var t3 = e2.value;
      U.test(t3) && (t3 = t3.replace(V, Q));
      var r2 = this._prefixRegex.exec(t3);
      return r2 ? r2[1] ? this._prefixIRIs[r2[1]] + r2[2] : t3 : "<" + t3 + ">";
    }
    _encodeLiteral(e2) {
      var t3 = e2.value;
      return U.test(t3) && (t3 = t3.replace(V, Q)), e2.language ? '"' + t3 + '"@' + e2.language : e2.datatype.value !== q.string ? '"' + t3 + '"^^' + this._encodeIriOrBlank(e2.datatype) : '"' + t3 + '"';
    }
    _encodePredicate(e2) {
      return e2.value === B.type ? "a" : this._encodeIriOrBlank(e2);
    }
    _encodeObject(e2) {
      switch (e2.termType) {
        case "Quad":
          return this._encodeQuad(e2);
        case "Literal":
          return this._encodeLiteral(e2);
        default:
          return this._encodeIriOrBlank(e2);
      }
    }
    _encodeQuad({
      subject: e2,
      predicate: t3,
      object: r2,
      graph: n2
    }) {
      return `<<${this._encodeSubject(e2)} ${this._encodePredicate(t3)} ${this._encodeObject(r2)}${l(n2) ? "" : " " + this._encodeIriOrBlank(n2)}>>`;
    }
    _blockedWrite() {
      throw new Error("Cannot write because the writer has been closed.");
    }
    addQuad(e2, t3, r2, n2, i2) {
      r2 === void 0 ? this._writeQuad(e2.subject, e2.predicate, e2.object, e2.graph, t3) : typeof n2 == "function" ? this._writeQuad(e2, t3, r2, F, n2) : this._writeQuad(e2, t3, r2, n2 || F, i2);
    }
    addQuads(e2) {
      for (var t3 = 0; t3 < e2.length; t3++)
        this.addQuad(e2[t3]);
    }
    addPrefix(e2, t3, r2) {
      var n2 = {};
      n2[e2] = t3, this.addPrefixes(n2, r2);
    }
    addPrefixes(e2, t3) {
      var r2 = this._prefixIRIs, n2 = false;
      for (var i2 in e2) {
        var a2 = e2[i2];
        typeof a2 != "string" && (a2 = a2.value), n2 = true, this._subject !== null && (this._write(this._inDefaultGraph ? ".\n" : "\n}\n"), this._subject = null, this._graph = ""), r2[a2] = i2 += ":", this._write("@prefix " + i2 + " <" + a2 + ">.\n");
      }
      if (n2) {
        var s2 = "", o2 = "";
        for (var u2 in r2)
          s2 += s2 ? "|" + u2 : u2, o2 += (o2 ? "|" : "") + r2[u2];
        s2 = s2.replace(/[\]\/\(\)\*\+\?\.\\\$]/g, "\\$&"), this._prefixRegex = new RegExp("^(?:" + o2 + ")[^/]*$|^(" + s2 + ")([a-zA-Z][\\-_a-zA-Z0-9]*)$");
      }
      this._write(n2 ? "\n" : "", t3);
    }
    blank(e2, t3) {
      var r2, n2, i2 = e2;
      switch (e2 === void 0 ? i2 = [] : e2.termType ? i2 = [{
        predicate: e2,
        object: t3
      }] : "length" in e2 || (i2 = [e2]), n2 = i2.length) {
        case 0:
          return new G("[]");
        case 1:
          if (!((r2 = i2[0]).object instanceof G))
            return new G("[ " + this._encodePredicate(r2.predicate) + " " + this._encodeObject(r2.object) + " ]");
        default:
          for (var a2 = "[", s2 = 0; s2 < n2; s2++)
            (r2 = i2[s2]).predicate.equals(e2) ? a2 += ", " + this._encodeObject(r2.object) : (a2 += (s2 ? ";\n  " : "\n  ") + this._encodePredicate(r2.predicate) + " " + this._encodeObject(r2.object), e2 = r2.predicate);
          return new G(a2 + "\n]");
      }
    }
    list(e2) {
      for (var t3 = e2 && e2.length || 0, r2 = new Array(t3), n2 = 0; n2 < t3; n2++)
        r2[n2] = this._encodeObject(e2[n2]);
      return new G("(" + r2.join(" ") + ")");
    }
    end(e2) {
      this._subject !== null && (this._write(this._inDefaultGraph ? ".\n" : "\n}\n"), this._subject = null), this._write = this._blockedWrite;
      var t3 = e2 && function(r2, n2) {
        t3 = null, e2(r2, n2);
      };
      if (this._endStream)
        try {
          return this._outputStream.end(t3);
        } catch (e3) {
        }
      t3 && t3();
    }
  }
  function Q(e2) {
    var t3 = H[e2];
    return t3 === void 0 && (e2.length === 1 ? (t3 = e2.charCodeAt(0).toString(16), t3 = "\\u0000".substr(0, 6 - t3.length) + t3) : (t3 = (1024 * (e2.charCodeAt(0) - 55296) + e2.charCodeAt(1) + 9216).toString(16), t3 = "\\U00000000".substr(0, 10 - t3.length) + t3)), t3;
  }
  var X = r(42);
  class $ {
    constructor(e2, t3) {
      this._size = 0, this._graphs = Object.create(null), this._id = 0, this._ids = Object.create(null), this._ids["><"] = 0, this._entities = Object.create(null), this._blankNodeIndex = 0, t3 || !e2 || e2[0] || (t3 = e2, e2 = null), t3 = t3 || {}, this._factory = t3.factory || w, e2 && this.addQuads(e2);
    }
    get size() {
      var e2 = this._size;
      if (e2 !== null)
        return e2;
      e2 = 0;
      var t3, r2, n2 = this._graphs;
      for (var i2 in n2)
        for (var a2 in t3 = n2[i2].subjects)
          for (var s2 in r2 = t3[a2])
            e2 += Object.keys(r2[s2]).length;
      return this._size = e2;
    }
    _addToIndex(e2, t3, r2, n2) {
      var i2 = e2[t3] || (e2[t3] = {}), a2 = i2[r2] || (i2[r2] = {}), s2 = n2 in a2;
      return s2 || (a2[n2] = null), !s2;
    }
    _removeFromIndex(e2, t3, r2, n2) {
      var i2, a2 = e2[t3], s2 = a2[r2];
      for (i2 in delete s2[n2], s2)
        return;
      for (i2 in delete a2[r2], a2)
        return;
      delete e2[t3];
    }
    _findInIndex(e2, t3, r2, n2, i2, a2, s2, o2, u2, c2) {
      var l2, h2, d2, p2 = !t3 + !r2 + !n2 > 1 ? Object.keys(this._ids) : this._entities;
      for (var f2 in t3 && ((l2 = e2, e2 = {})[t3] = l2[t3]), e2) {
        var g2 = p2[f2];
        if (h2 = e2[f2])
          for (var m2 in r2 && ((l2 = h2, h2 = {})[r2] = l2[r2]), h2) {
            var y2 = p2[m2];
            if (d2 = h2[m2])
              for (var b2 = n2 ? n2 in d2 ? [n2] : [] : Object.keys(d2), _2 = 0; _2 < b2.length; _2++) {
                var v2 = {
                  subject: null,
                  predicate: null,
                  object: null
                };
                v2[i2] = R(g2, this._factory), v2[a2] = R(y2, this._factory), v2[s2] = R(p2[b2[_2]], this._factory);
                var w2 = this._factory.quad(v2.subject, v2.predicate, v2.object, R(o2, this._factory));
                if (c2)
                  c2.push(w2);
                else if (u2(w2))
                  return true;
              }
          }
      }
      return c2;
    }
    _loop(e2, t3) {
      for (var r2 in e2)
        t3(r2);
    }
    _loopByKey0(e2, t3, r2) {
      var n2, i2;
      if (n2 = e2[t3])
        for (i2 in n2)
          r2(i2);
    }
    _loopByKey1(e2, t3, r2) {
      var n2;
      for (n2 in e2)
        e2[n2][t3] && r2(n2);
    }
    _loopBy2Keys(e2, t3, r2, n2) {
      var i2, a2, s2;
      if ((i2 = e2[t3]) && (a2 = i2[r2]))
        for (s2 in a2)
          n2(s2);
    }
    _countInIndex(e2, t3, r2, n2) {
      var i2, a2, s2, o2 = 0;
      for (var u2 in t3 && ((i2 = e2, e2 = {})[t3] = i2[t3]), e2)
        if (a2 = e2[u2])
          for (var c2 in r2 && ((i2 = a2, a2 = {})[r2] = i2[r2]), a2)
            (s2 = a2[c2]) && (n2 ? n2 in s2 && o2++ : o2 += Object.keys(s2).length);
      return o2;
    }
    _getGraphs(e2) {
      if (!Y(e2))
        return this._graphs;
      var t3 = {};
      return t3[e2] = this._graphs[e2], t3;
    }
    _uniqueEntities(e2) {
      var t3 = Object.create(null), r2 = this._entities;
      return function(n2) {
        n2 in t3 || (t3[n2] = true, e2(R(r2[n2])));
      };
    }
    addQuad(e2, t3, r2, n2) {
      t3 || (n2 = e2.graph, r2 = e2.object, t3 = e2.predicate, e2 = e2.subject), e2 = I(e2), t3 = I(t3), r2 = I(r2), n2 = I(n2);
      var i2 = this._graphs[n2];
      i2 || (i2 = this._graphs[n2] = {
        subjects: {},
        predicates: {},
        objects: {}
      }, Object.freeze(i2));
      var a2 = this._ids, s2 = this._entities;
      e2 = a2[e2] || (a2[s2[++this._id] = e2] = this._id), t3 = a2[t3] || (a2[s2[++this._id] = t3] = this._id), r2 = a2[r2] || (a2[s2[++this._id] = r2] = this._id);
      var o2 = this._addToIndex(i2.subjects, e2, t3, r2);
      return this._addToIndex(i2.predicates, t3, r2, e2), this._addToIndex(i2.objects, r2, e2, t3), this._size = null, o2;
    }
    addQuads(e2) {
      for (var t3 = 0; t3 < e2.length; t3++)
        this.addQuad(e2[t3]);
    }
    import(e2) {
      var t3 = this;
      return e2.on("data", function(e3) {
        t3.addQuad(e3);
      }), e2;
    }
    removeQuad(e2, t3, r2, n2) {
      t3 || (n2 = e2.graph, r2 = e2.object, t3 = e2.predicate, e2 = e2.subject), e2 = I(e2), t3 = I(t3), r2 = I(r2), n2 = I(n2);
      var i2, a2, s2, o2 = this._ids, u2 = this._graphs;
      if (!((e2 = o2[e2]) && (t3 = o2[t3]) && (r2 = o2[r2]) && (i2 = u2[n2]) && (a2 = i2.subjects[e2]) && (s2 = a2[t3]) && r2 in s2))
        return false;
      for (e2 in this._removeFromIndex(i2.subjects, e2, t3, r2), this._removeFromIndex(i2.predicates, t3, r2, e2), this._removeFromIndex(i2.objects, r2, e2, t3), this._size !== null && this._size--, i2.subjects)
        return true;
      return delete u2[n2], true;
    }
    removeQuads(e2) {
      for (var t3 = 0; t3 < e2.length; t3++)
        this.removeQuad(e2[t3]);
    }
    remove(e2) {
      var t3 = this;
      return e2.on("data", function(e3) {
        t3.removeQuad(e3);
      }), e2;
    }
    removeMatches(e2, t3, r2, n2) {
      return this.remove(this.match(e2, t3, r2, n2));
    }
    deleteGraph(e2) {
      return this.removeMatches(null, null, null, e2);
    }
    getQuads(e2, t3, r2, n2) {
      e2 = e2 && I(e2), t3 = t3 && I(t3), r2 = r2 && I(r2), n2 = n2 && I(n2);
      var i2, a2, s2, o2, u2 = [], c2 = this._getGraphs(n2), l2 = this._ids;
      if (Y(e2) && !(a2 = l2[e2]) || Y(t3) && !(s2 = l2[t3]) || Y(r2) && !(o2 = l2[r2]))
        return u2;
      for (var h2 in c2)
        (i2 = c2[h2]) && (a2 ? o2 ? this._findInIndex(i2.objects, o2, a2, s2, "object", "subject", "predicate", h2, null, u2) : this._findInIndex(i2.subjects, a2, s2, null, "subject", "predicate", "object", h2, null, u2) : s2 ? this._findInIndex(i2.predicates, s2, o2, null, "predicate", "object", "subject", h2, null, u2) : o2 ? this._findInIndex(i2.objects, o2, null, null, "object", "subject", "predicate", h2, null, u2) : this._findInIndex(i2.subjects, null, null, null, "subject", "predicate", "object", h2, null, u2));
      return u2;
    }
    match(e2, t3, r2, n2) {
      var i2 = new X.Readable({
        objectMode: true
      });
      return i2._read = () => {
        for (var a2 of this.getQuads(e2, t3, r2, n2))
          i2.push(a2);
        i2.push(null);
      }, i2;
    }
    countQuads(e2, t3, r2, n2) {
      e2 = e2 && I(e2), t3 = t3 && I(t3), r2 = r2 && I(r2), n2 = n2 && I(n2);
      var i2, a2, s2, o2, u2 = 0, c2 = this._getGraphs(n2), l2 = this._ids;
      if (Y(e2) && !(a2 = l2[e2]) || Y(t3) && !(s2 = l2[t3]) || Y(r2) && !(o2 = l2[r2]))
        return 0;
      for (var h2 in c2)
        (i2 = c2[h2]) && (u2 += e2 ? r2 ? this._countInIndex(i2.objects, o2, a2, s2) : this._countInIndex(i2.subjects, a2, s2, o2) : t3 ? this._countInIndex(i2.predicates, s2, o2, a2) : this._countInIndex(i2.objects, o2, a2, s2));
      return u2;
    }
    forEach(e2, t3, r2, n2, i2) {
      this.some(function(t4) {
        return e2(t4), false;
      }, t3, r2, n2, i2);
    }
    every(e2, t3, r2, n2, i2) {
      var a2 = false, s2 = !this.some(function(t4) {
        return a2 = true, !e2(t4);
      }, t3, r2, n2, i2);
      return a2 && s2;
    }
    some(e2, t3, r2, n2, i2) {
      t3 = t3 && I(t3), r2 = r2 && I(r2), n2 = n2 && I(n2), i2 = i2 && I(i2);
      var a2, s2, o2, u2, c2 = this._getGraphs(i2), l2 = this._ids;
      if (Y(t3) && !(s2 = l2[t3]) || Y(r2) && !(o2 = l2[r2]) || Y(n2) && !(u2 = l2[n2]))
        return false;
      for (var h2 in c2)
        if (a2 = c2[h2]) {
          if (s2) {
            if (u2) {
              if (this._findInIndex(a2.objects, u2, s2, o2, "object", "subject", "predicate", h2, e2, null))
                return true;
            } else if (this._findInIndex(a2.subjects, s2, o2, null, "subject", "predicate", "object", h2, e2, null))
              return true;
          } else if (o2) {
            if (this._findInIndex(a2.predicates, o2, u2, null, "predicate", "object", "subject", h2, e2, null))
              return true;
          } else if (u2) {
            if (this._findInIndex(a2.objects, u2, null, null, "object", "subject", "predicate", h2, e2, null))
              return true;
          } else if (this._findInIndex(a2.subjects, null, null, null, "subject", "predicate", "object", h2, e2, null))
            return true;
        }
      return false;
    }
    getSubjects(e2, t3, r2) {
      var n2 = [];
      return this.forSubjects(function(e3) {
        n2.push(e3);
      }, e2, t3, r2), n2;
    }
    forSubjects(e2, t3, r2, n2) {
      t3 = t3 && I(t3), r2 = r2 && I(r2), n2 = n2 && I(n2);
      var i2, a2, s2, o2 = this._ids, u2 = this._getGraphs(n2);
      if (e2 = this._uniqueEntities(e2), !(Y(t3) && !(a2 = o2[t3]) || Y(r2) && !(s2 = o2[r2])))
        for (n2 in u2)
          (i2 = u2[n2]) && (a2 ? s2 ? this._loopBy2Keys(i2.predicates, a2, s2, e2) : this._loopByKey1(i2.subjects, a2, e2) : s2 ? this._loopByKey0(i2.objects, s2, e2) : this._loop(i2.subjects, e2));
    }
    getPredicates(e2, t3, r2) {
      var n2 = [];
      return this.forPredicates(function(e3) {
        n2.push(e3);
      }, e2, t3, r2), n2;
    }
    forPredicates(e2, t3, r2, n2) {
      t3 = t3 && I(t3), r2 = r2 && I(r2), n2 = n2 && I(n2);
      var i2, a2, s2, o2 = this._ids, u2 = this._getGraphs(n2);
      if (e2 = this._uniqueEntities(e2), !(Y(t3) && !(a2 = o2[t3]) || Y(r2) && !(s2 = o2[r2])))
        for (n2 in u2)
          (i2 = u2[n2]) && (a2 ? s2 ? this._loopBy2Keys(i2.objects, s2, a2, e2) : this._loopByKey0(i2.subjects, a2, e2) : s2 ? this._loopByKey1(i2.predicates, s2, e2) : this._loop(i2.predicates, e2));
    }
    getObjects(e2, t3, r2) {
      var n2 = [];
      return this.forObjects(function(e3) {
        n2.push(e3);
      }, e2, t3, r2), n2;
    }
    forObjects(e2, t3, r2, n2) {
      t3 = t3 && I(t3), r2 = r2 && I(r2), n2 = n2 && I(n2);
      var i2, a2, s2, o2 = this._ids, u2 = this._getGraphs(n2);
      if (e2 = this._uniqueEntities(e2), !(Y(t3) && !(a2 = o2[t3]) || Y(r2) && !(s2 = o2[r2])))
        for (n2 in u2)
          (i2 = u2[n2]) && (a2 ? s2 ? this._loopBy2Keys(i2.subjects, a2, s2, e2) : this._loopByKey1(i2.objects, a2, e2) : s2 ? this._loopByKey0(i2.predicates, s2, e2) : this._loop(i2.objects, e2));
    }
    getGraphs(e2, t3, r2) {
      var n2 = [];
      return this.forGraphs(function(e3) {
        n2.push(e3);
      }, e2, t3, r2), n2;
    }
    forGraphs(e2, t3, r2, n2) {
      for (var i2 in this._graphs)
        this.some(function(t4) {
          return e2(t4.graph), true;
        }, t3, r2, n2, i2);
    }
    createBlankNode(e2) {
      var t3, r2;
      if (e2)
        for (t3 = e2 = "_:" + e2, r2 = 1; this._ids[t3]; )
          t3 = e2 + r2++;
      else
        do {
          t3 = "_:b" + this._blankNodeIndex++;
        } while (this._ids[t3]);
      return this._ids[t3] = ++this._id, this._entities[this._id] = t3, this._factory.blankNode(t3.substr(2));
    }
    extractLists({
      remove: e2 = false,
      ignoreErrors: t3 = false
    } = {}) {
      var r2 = {}, n2 = t3 ? () => true : (e3, t4) => {
        throw new Error(`${e3.value} ${t4}`);
      }, i2 = this.getQuads(null, a.a.rdf.rest, a.a.rdf.nil, null), s2 = e2 ? [...i2] : [];
      return i2.forEach((t4) => {
        for (var i3, o2, u2 = [], c2 = false, l2 = t4.graph, h2 = t4.subject; h2 && !c2; ) {
          var d2, p2, f2 = this.getQuads(null, null, h2, null), g2 = this.getQuads(h2, null, null, null), m2 = null, y2 = null, b2 = null;
          for (d2 = 0; d2 < g2.length && !c2; d2++)
            (p2 = g2[d2]).graph.equals(l2) ? i3 ? c2 = n2(h2, "has non-list arcs out") : p2.predicate.value === a.a.rdf.first ? m2 ? c2 = n2(h2, "has multiple rdf:first arcs") : s2.push(m2 = p2) : p2.predicate.value === a.a.rdf.rest ? y2 ? c2 = n2(h2, "has multiple rdf:rest arcs") : s2.push(y2 = p2) : f2.length ? c2 = n2(h2, "can't be subject and object") : (i3 = p2, o2 = "subject") : c2 = n2(h2, "not confined to single graph");
          for (d2 = 0; d2 < f2.length && !c2; ++d2)
            p2 = f2[d2], i3 ? c2 = n2(h2, "can't have coreferences") : p2.predicate.value === a.a.rdf.rest ? b2 ? c2 = n2(h2, "has incoming rdf:rest arcs") : b2 = p2 : (i3 = p2, o2 = "object");
          m2 ? u2.unshift(m2.object) : c2 = n2(h2, "has no list head"), h2 = b2 && b2.subject;
        }
        c2 ? e2 = false : i3 && (r2[i3[o2].value] = u2);
      }), e2 && this.removeQuads(s2), r2;
    }
  }
  function Y(e2) {
    return typeof e2 == "string" || e2 instanceof String;
  }
  class J extends X.Transform {
    constructor(e2) {
      super({
        decodeStrings: true
      }), this._readableState.objectMode = true;
      var t3, r2, n2 = this;
      new k(e2).parse({
        on: function(e3, n3) {
          switch (e3) {
            case "data":
              t3 = n3;
              break;
            case "end":
              r2 = n3;
          }
        }
      }, function(e3, t4) {
        e3 && n2.emit("error", e3) || t4 && n2.push(t4);
      }, function(e3, t4) {
        n2.emit("prefix", e3, t4);
      }), this._transform = function(e3, r3, n3) {
        t3(e3), n3();
      }, this._flush = function(e3) {
        r2(), e3();
      };
    }
    import(e2) {
      var t3 = this;
      return e2.on("data", function(e3) {
        t3.write(e3);
      }), e2.on("end", function() {
        t3.end();
      }), e2.on("error", function(e3) {
        t3.emit("error", e3);
      }), this;
    }
  }
  class W extends X.Transform {
    constructor(e2) {
      super({
        encoding: "utf8"
      }), this._writableState.objectMode = true;
      var t3 = this, r2 = this._writer = new z({
        write: function(e3, r3, n2) {
          t3.push(e3), n2 && n2();
        },
        end: function(e3) {
          t3.push(null), e3 && e3();
        }
      }, e2);
      this._transform = function(e3, t4, n2) {
        r2.addQuad(e3, n2);
      }, this._flush = function(e3) {
        r2.end(e3);
      };
    }
    import(e2) {
      var t3 = this;
      return e2.on("data", function(e3) {
        t3.write(e3);
      }), e2.on("end", function() {
        t3.end();
      }), e2.on("error", function(e3) {
        t3.emit("error", e3);
      }), e2.on("prefix", function(e3, r2) {
        t3._writer.addPrefix(e3, r2);
      }), this;
    }
  }
}, function(e, t2, r) {
  (t2 = e.exports = r(104)).Stream = t2, t2.Readable = t2, t2.Writable = r(108), t2.Duplex = r(32), t2.Transform = r(110), t2.PassThrough = r(210), t2.finished = r(69), t2.pipeline = r(211);
}, function(e, t2, r) {
  (function(e2) {
    function r2(e3) {
      return Object.prototype.toString.call(e3);
    }
    t2.isArray = function(e3) {
      return Array.isArray ? Array.isArray(e3) : r2(e3) === "[object Array]";
    }, t2.isBoolean = function(e3) {
      return typeof e3 == "boolean";
    }, t2.isNull = function(e3) {
      return e3 === null;
    }, t2.isNullOrUndefined = function(e3) {
      return e3 == null;
    }, t2.isNumber = function(e3) {
      return typeof e3 == "number";
    }, t2.isString = function(e3) {
      return typeof e3 == "string";
    }, t2.isSymbol = function(e3) {
      return typeof e3 == "symbol";
    }, t2.isUndefined = function(e3) {
      return e3 === void 0;
    }, t2.isRegExp = function(e3) {
      return r2(e3) === "[object RegExp]";
    }, t2.isObject = function(e3) {
      return typeof e3 == "object" && e3 !== null;
    }, t2.isDate = function(e3) {
      return r2(e3) === "[object Date]";
    }, t2.isError = function(e3) {
      return r2(e3) === "[object Error]" || e3 instanceof Error;
    }, t2.isFunction = function(e3) {
      return typeof e3 == "function";
    }, t2.isPrimitive = function(e3) {
      return e3 === null || typeof e3 == "boolean" || typeof e3 == "number" || typeof e3 == "string" || typeof e3 == "symbol" || e3 === void 0;
    }, t2.isBuffer = e2.isBuffer;
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  (function(e2) {
    var n = e2 !== void 0 && e2 || typeof self != "undefined" && self || window, i = Function.prototype.apply;
    function a(e3, t3) {
      this._id = e3, this._clearFn = t3;
    }
    t2.setTimeout = function() {
      return new a(i.call(setTimeout, n, arguments), clearTimeout);
    }, t2.setInterval = function() {
      return new a(i.call(setInterval, n, arguments), clearInterval);
    }, t2.clearTimeout = t2.clearInterval = function(e3) {
      e3 && e3.close();
    }, a.prototype.unref = a.prototype.ref = function() {
    }, a.prototype.close = function() {
      this._clearFn.call(n, this._id);
    }, t2.enroll = function(e3, t3) {
      clearTimeout(e3._idleTimeoutId), e3._idleTimeout = t3;
    }, t2.unenroll = function(e3) {
      clearTimeout(e3._idleTimeoutId), e3._idleTimeout = -1;
    }, t2._unrefActive = t2.active = function(e3) {
      clearTimeout(e3._idleTimeoutId);
      var t3 = e3._idleTimeout;
      t3 >= 0 && (e3._idleTimeoutId = setTimeout(function() {
        e3._onTimeout && e3._onTimeout();
      }, t3));
    }, r(222), t2.setImmediate = typeof self != "undefined" && self.setImmediate || e2 !== void 0 && e2.setImmediate || this && this.setImmediate, t2.clearImmediate = typeof self != "undefined" && self.clearImmediate || e2 !== void 0 && e2.clearImmediate || this && this.clearImmediate;
  }).call(this, r(10));
}, function(e, t2) {
  !function(e2) {
    !function(t3) {
      var r = "URLSearchParams" in e2, n = "Symbol" in e2 && "iterator" in Symbol, i = "FileReader" in e2 && "Blob" in e2 && function() {
        try {
          return new Blob(), true;
        } catch (e3) {
          return false;
        }
      }(), a = "FormData" in e2, s = "ArrayBuffer" in e2;
      if (s)
        var o = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], u = ArrayBuffer.isView || function(e3) {
          return e3 && o.indexOf(Object.prototype.toString.call(e3)) > -1;
        };
      function c(e3) {
        if (typeof e3 != "string" && (e3 = String(e3)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e3))
          throw new TypeError("Invalid character in header field name");
        return e3.toLowerCase();
      }
      function l(e3) {
        return typeof e3 != "string" && (e3 = String(e3)), e3;
      }
      function h(e3) {
        var t4 = {
          next: function() {
            var t5 = e3.shift();
            return {
              done: t5 === void 0,
              value: t5
            };
          }
        };
        return n && (t4[Symbol.iterator] = function() {
          return t4;
        }), t4;
      }
      function d(e3) {
        this.map = {}, e3 instanceof d ? e3.forEach(function(e4, t4) {
          this.append(t4, e4);
        }, this) : Array.isArray(e3) ? e3.forEach(function(e4) {
          this.append(e4[0], e4[1]);
        }, this) : e3 && Object.getOwnPropertyNames(e3).forEach(function(t4) {
          this.append(t4, e3[t4]);
        }, this);
      }
      function p(e3) {
        if (e3.bodyUsed)
          return Promise.reject(new TypeError("Already read"));
        e3.bodyUsed = true;
      }
      function f(e3) {
        return new Promise(function(t4, r2) {
          e3.onload = function() {
            t4(e3.result);
          }, e3.onerror = function() {
            r2(e3.error);
          };
        });
      }
      function g(e3) {
        var t4 = new FileReader(), r2 = f(t4);
        return t4.readAsArrayBuffer(e3), r2;
      }
      function m(e3) {
        if (e3.slice)
          return e3.slice(0);
        var t4 = new Uint8Array(e3.byteLength);
        return t4.set(new Uint8Array(e3)), t4.buffer;
      }
      function y() {
        return this.bodyUsed = false, this._initBody = function(e3) {
          var t4;
          this._bodyInit = e3, e3 ? typeof e3 == "string" ? this._bodyText = e3 : i && Blob.prototype.isPrototypeOf(e3) ? this._bodyBlob = e3 : a && FormData.prototype.isPrototypeOf(e3) ? this._bodyFormData = e3 : r && URLSearchParams.prototype.isPrototypeOf(e3) ? this._bodyText = e3.toString() : s && i && ((t4 = e3) && DataView.prototype.isPrototypeOf(t4)) ? (this._bodyArrayBuffer = m(e3.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : s && (ArrayBuffer.prototype.isPrototypeOf(e3) || u(e3)) ? this._bodyArrayBuffer = m(e3) : this._bodyText = e3 = Object.prototype.toString.call(e3) : this._bodyText = "", this.headers.get("content-type") || (typeof e3 == "string" ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : r && URLSearchParams.prototype.isPrototypeOf(e3) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
        }, i && (this.blob = function() {
          var e3 = p(this);
          if (e3)
            return e3;
          if (this._bodyBlob)
            return Promise.resolve(this._bodyBlob);
          if (this._bodyArrayBuffer)
            return Promise.resolve(new Blob([this._bodyArrayBuffer]));
          if (this._bodyFormData)
            throw new Error("could not read FormData body as blob");
          return Promise.resolve(new Blob([this._bodyText]));
        }, this.arrayBuffer = function() {
          return this._bodyArrayBuffer ? p(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(g);
        }), this.text = function() {
          var e3, t4, r2, n2 = p(this);
          if (n2)
            return n2;
          if (this._bodyBlob)
            return e3 = this._bodyBlob, t4 = new FileReader(), r2 = f(t4), t4.readAsText(e3), r2;
          if (this._bodyArrayBuffer)
            return Promise.resolve(function(e4) {
              for (var t5 = new Uint8Array(e4), r3 = new Array(t5.length), n3 = 0; n3 < t5.length; n3++)
                r3[n3] = String.fromCharCode(t5[n3]);
              return r3.join("");
            }(this._bodyArrayBuffer));
          if (this._bodyFormData)
            throw new Error("could not read FormData body as text");
          return Promise.resolve(this._bodyText);
        }, a && (this.formData = function() {
          return this.text().then(v);
        }), this.json = function() {
          return this.text().then(JSON.parse);
        }, this;
      }
      d.prototype.append = function(e3, t4) {
        e3 = c(e3), t4 = l(t4);
        var r2 = this.map[e3];
        this.map[e3] = r2 ? r2 + ", " + t4 : t4;
      }, d.prototype.delete = function(e3) {
        delete this.map[c(e3)];
      }, d.prototype.get = function(e3) {
        return e3 = c(e3), this.has(e3) ? this.map[e3] : null;
      }, d.prototype.has = function(e3) {
        return this.map.hasOwnProperty(c(e3));
      }, d.prototype.set = function(e3, t4) {
        this.map[c(e3)] = l(t4);
      }, d.prototype.forEach = function(e3, t4) {
        for (var r2 in this.map)
          this.map.hasOwnProperty(r2) && e3.call(t4, this.map[r2], r2, this);
      }, d.prototype.keys = function() {
        var e3 = [];
        return this.forEach(function(t4, r2) {
          e3.push(r2);
        }), h(e3);
      }, d.prototype.values = function() {
        var e3 = [];
        return this.forEach(function(t4) {
          e3.push(t4);
        }), h(e3);
      }, d.prototype.entries = function() {
        var e3 = [];
        return this.forEach(function(t4, r2) {
          e3.push([r2, t4]);
        }), h(e3);
      }, n && (d.prototype[Symbol.iterator] = d.prototype.entries);
      var b = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
      function _(e3, t4) {
        var r2, n2, i2 = (t4 = t4 || {}).body;
        if (e3 instanceof _) {
          if (e3.bodyUsed)
            throw new TypeError("Already read");
          this.url = e3.url, this.credentials = e3.credentials, t4.headers || (this.headers = new d(e3.headers)), this.method = e3.method, this.mode = e3.mode, this.signal = e3.signal, i2 || e3._bodyInit == null || (i2 = e3._bodyInit, e3.bodyUsed = true);
        } else
          this.url = String(e3);
        if (this.credentials = t4.credentials || this.credentials || "same-origin", !t4.headers && this.headers || (this.headers = new d(t4.headers)), this.method = (r2 = t4.method || this.method || "GET", n2 = r2.toUpperCase(), b.indexOf(n2) > -1 ? n2 : r2), this.mode = t4.mode || this.mode || null, this.signal = t4.signal || this.signal, this.referrer = null, (this.method === "GET" || this.method === "HEAD") && i2)
          throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(i2);
      }
      function v(e3) {
        var t4 = new FormData();
        return e3.trim().split("&").forEach(function(e4) {
          if (e4) {
            var r2 = e4.split("="), n2 = r2.shift().replace(/\+/g, " "), i2 = r2.join("=").replace(/\+/g, " ");
            t4.append(decodeURIComponent(n2), decodeURIComponent(i2));
          }
        }), t4;
      }
      function w(e3, t4) {
        t4 || (t4 = {}), this.type = "default", this.status = t4.status === void 0 ? 200 : t4.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t4 ? t4.statusText : "OK", this.headers = new d(t4.headers), this.url = t4.url || "", this._initBody(e3);
      }
      _.prototype.clone = function() {
        return new _(this, {
          body: this._bodyInit
        });
      }, y.call(_.prototype), y.call(w.prototype), w.prototype.clone = function() {
        return new w(this._bodyInit, {
          status: this.status,
          statusText: this.statusText,
          headers: new d(this.headers),
          url: this.url
        });
      }, w.error = function() {
        var e3 = new w(null, {
          status: 0,
          statusText: ""
        });
        return e3.type = "error", e3;
      };
      var S = [301, 302, 303, 307, 308];
      w.redirect = function(e3, t4) {
        if (S.indexOf(t4) === -1)
          throw new RangeError("Invalid status code");
        return new w(null, {
          status: t4,
          headers: {
            location: e3
          }
        });
      }, t3.DOMException = e2.DOMException;
      try {
        new t3.DOMException();
      } catch (e3) {
        t3.DOMException = function(e4, t4) {
          this.message = e4, this.name = t4;
          var r2 = Error(e4);
          this.stack = r2.stack;
        }, t3.DOMException.prototype = Object.create(Error.prototype), t3.DOMException.prototype.constructor = t3.DOMException;
      }
      function T(e3, r2) {
        return new Promise(function(n2, a2) {
          var s2 = new _(e3, r2);
          if (s2.signal && s2.signal.aborted)
            return a2(new t3.DOMException("Aborted", "AbortError"));
          var o2 = new XMLHttpRequest();
          function u2() {
            o2.abort();
          }
          o2.onload = function() {
            var e4, t4, r3 = {
              status: o2.status,
              statusText: o2.statusText,
              headers: (e4 = o2.getAllResponseHeaders() || "", t4 = new d(), e4.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(e5) {
                var r4 = e5.split(":"), n3 = r4.shift().trim();
                if (n3) {
                  var i3 = r4.join(":").trim();
                  t4.append(n3, i3);
                }
              }), t4)
            };
            r3.url = "responseURL" in o2 ? o2.responseURL : r3.headers.get("X-Request-URL");
            var i2 = "response" in o2 ? o2.response : o2.responseText;
            n2(new w(i2, r3));
          }, o2.onerror = function() {
            a2(new TypeError("Network request failed"));
          }, o2.ontimeout = function() {
            a2(new TypeError("Network request failed"));
          }, o2.onabort = function() {
            a2(new t3.DOMException("Aborted", "AbortError"));
          }, o2.open(s2.method, s2.url, true), s2.credentials === "include" ? o2.withCredentials = true : s2.credentials === "omit" && (o2.withCredentials = false), "responseType" in o2 && i && (o2.responseType = "blob"), s2.headers.forEach(function(e4, t4) {
            o2.setRequestHeader(t4, e4);
          }), s2.signal && (s2.signal.addEventListener("abort", u2), o2.onreadystatechange = function() {
            o2.readyState === 4 && s2.signal.removeEventListener("abort", u2);
          }), o2.send(s2._bodyInit === void 0 ? null : s2._bodyInit);
        });
      }
      T.polyfill = true, e2.fetch || (e2.fetch = T, e2.Headers = d, e2.Request = _, e2.Response = w), t3.Headers = d, t3.Request = _, t3.Response = w, t3.fetch = T;
    }({});
  }(typeof self != "undefined" ? self : this);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(273), t2), i(r(274), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ERROR_CODES = t2.ErrorCoded = void 0;
  class n extends Error {
    constructor(e2, t3) {
      super(e2), this.code = t3;
    }
  }
  t2.ErrorCoded = n, function(e2) {
    e2.COLLIDING_KEYWORDS = "colliding keywords", e2.CONFLICTING_INDEXES = "conflicting indexes", e2.CYCLIC_IRI_MAPPING = "cyclic IRI mapping", e2.INVALID_ID_VALUE = "invalid @id value", e2.INVALID_INDEX_VALUE = "invalid @index value", e2.INVALID_NEST_VALUE = "invalid @nest value", e2.INVALID_PREFIX_VALUE = "invalid @prefix value", e2.INVALID_PROPAGATE_VALUE = "invalid @propagate value", e2.INVALID_REVERSE_VALUE = "invalid @reverse value", e2.INVALID_IMPORT_VALUE = "invalid @import value", e2.INVALID_VERSION_VALUE = "invalid @version value", e2.INVALID_BASE_IRI = "invalid base IRI", e2.INVALID_CONTAINER_MAPPING = "invalid container mapping", e2.INVALID_CONTEXT_ENTRY = "invalid context entry", e2.INVALID_CONTEXT_NULLIFICATION = "invalid context nullification", e2.INVALID_DEFAULT_LANGUAGE = "invalid default language", e2.INVALID_INCLUDED_VALUE = "invalid @included value", e2.INVALID_IRI_MAPPING = "invalid IRI mapping", e2.INVALID_JSON_LITERAL = "invalid JSON literal", e2.INVALID_KEYWORD_ALIAS = "invalid keyword alias", e2.INVALID_LANGUAGE_MAP_VALUE = "invalid language map value", e2.INVALID_LANGUAGE_MAPPING = "invalid language mapping", e2.INVALID_LANGUAGE_TAGGED_STRING = "invalid language-tagged string", e2.INVALID_LANGUAGE_TAGGED_VALUE = "invalid language-tagged value", e2.INVALID_LOCAL_CONTEXT = "invalid local context", e2.INVALID_REMOTE_CONTEXT = "invalid remote context", e2.INVALID_REVERSE_PROPERTY = "invalid reverse property", e2.INVALID_REVERSE_PROPERTY_MAP = "invalid reverse property map", e2.INVALID_REVERSE_PROPERTY_VALUE = "invalid reverse property value", e2.INVALID_SCOPED_CONTEXT = "invalid scoped context", e2.INVALID_SCRIPT_ELEMENT = "invalid script element", e2.INVALID_SET_OR_LIST_OBJECT = "invalid set or list object", e2.INVALID_TERM_DEFINITION = "invalid term definition", e2.INVALID_TYPE_MAPPING = "invalid type mapping", e2.INVALID_TYPE_VALUE = "invalid type value", e2.INVALID_TYPED_VALUE = "invalid typed value", e2.INVALID_VALUE_OBJECT = "invalid value object", e2.INVALID_VALUE_OBJECT_VALUE = "invalid value object value", e2.INVALID_VOCAB_MAPPING = "invalid vocab mapping", e2.IRI_CONFUSED_WITH_PREFIX = "IRI confused with prefix", e2.KEYWORD_REDEFINITION = "keyword redefinition", e2.LOADING_DOCUMENT_FAILED = "loading document failed", e2.LOADING_REMOTE_CONTEXT_FAILED = "loading remote context failed", e2.MULTIPLE_CONTEXT_LINK_HEADERS = "multiple context link headers", e2.PROCESSING_MODE_CONFLICT = "processing mode conflict", e2.PROTECTED_TERM_REDEFINITION = "protected term redefinition", e2.CONTEXT_OVERFLOW = "context overflow", e2.INVALID_BASE_DIRECTION = "invalid base direction", e2.RECURSIVE_CONTEXT_INCLUSION = "recursive context inclusion", e2.INVALID_STREAMING_KEY_ORDER = "invalid streaming key order";
  }(t2.ERROR_CODES || (t2.ERROR_CODES = {}));
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SingularizeState = void 0, function(e2) {
    e2[e2.SINGLE = 0] = "SINGLE", e2[e2.PLURAL = 1] = "PLURAL";
  }(t2.SingularizeState || (t2.SingularizeState = {}));
}, function(e, t2) {
  function r(e2, t3) {
    if (!e2)
      throw new Error(t3 || "Assertion failed");
  }
  e.exports = r, r.equal = function(e2, t3, r2) {
    if (e2 != t3)
      throw new Error(r2 || "Assertion failed: " + e2 + " != " + t3);
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(49);
  function a() {
    this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
  }
  t2.BlockHash = a, a.prototype.update = function(e2, t3) {
    if (e2 = n.toArray(e2, t3), this.pending ? this.pending = this.pending.concat(e2) : this.pending = e2, this.pendingTotal += e2.length, this.pending.length >= this._delta8) {
      var r2 = (e2 = this.pending).length % this._delta8;
      this.pending = e2.slice(e2.length - r2, e2.length), this.pending.length === 0 && (this.pending = null), e2 = n.join32(e2, 0, e2.length - r2, this.endian);
      for (var i2 = 0; i2 < e2.length; i2 += this._delta32)
        this._update(e2, i2, i2 + this._delta32);
    }
    return this;
  }, a.prototype.digest = function(e2) {
    return this.update(this._pad()), i(this.pending === null), this._digest(e2);
  }, a.prototype._pad = function() {
    var e2 = this.pendingTotal, t3 = this._delta8, r2 = t3 - (e2 + this.padLength) % t3, n2 = new Array(r2 + this.padLength);
    n2[0] = 128;
    for (var i2 = 1; i2 < r2; i2++)
      n2[i2] = 0;
    if (e2 <<= 3, this.endian === "big") {
      for (var a2 = 8; a2 < this.padLength; a2++)
        n2[i2++] = 0;
      n2[i2++] = 0, n2[i2++] = 0, n2[i2++] = 0, n2[i2++] = 0, n2[i2++] = e2 >>> 24 & 255, n2[i2++] = e2 >>> 16 & 255, n2[i2++] = e2 >>> 8 & 255, n2[i2++] = 255 & e2;
    } else
      for (n2[i2++] = 255 & e2, n2[i2++] = e2 >>> 8 & 255, n2[i2++] = e2 >>> 16 & 255, n2[i2++] = e2 >>> 24 & 255, n2[i2++] = 0, n2[i2++] = 0, n2[i2++] = 0, n2[i2++] = 0, a2 = 8; a2 < this.padLength; a2++)
        n2[i2++] = 0;
    return n2;
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.orderTypes = t2.isExpressionError = t2.ExpressionError = t2.AggregateEvaluator = t2.SyncEvaluator = t2.AsyncEvaluator = void 0;
  var n = r(525);
  Object.defineProperty(t2, "AsyncEvaluator", {
    enumerable: true,
    get: function() {
      return n.AsyncEvaluator;
    }
  });
  var i = r(186);
  Object.defineProperty(t2, "SyncEvaluator", {
    enumerable: true,
    get: function() {
      return i.SyncEvaluator;
    }
  });
  var a = r(539);
  Object.defineProperty(t2, "AggregateEvaluator", {
    enumerable: true,
    get: function() {
      return a.AggregateEvaluator;
    }
  });
  var s = r(20);
  Object.defineProperty(t2, "ExpressionError", {
    enumerable: true,
    get: function() {
      return s.ExpressionError;
    }
  }), Object.defineProperty(t2, "isExpressionError", {
    enumerable: true,
    get: function() {
      return s.isExpressionError;
    }
  });
  var o = r(540);
  Object.defineProperty(t2, "orderTypes", {
    enumerable: true,
    get: function() {
      return o.orderTypes;
    }
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.expressionTypes = t2.types = void 0, t2.types = Object.freeze({
    ALT: "alt",
    ASK: "ask",
    BGP: "bgp",
    CONSTRUCT: "construct",
    DESC: "desc",
    DESCRIBE: "describe",
    DISTINCT: "distinct",
    EXPRESSION: "expression",
    EXTEND: "extend",
    FILTER: "filter",
    FROM: "from",
    GRAPH: "graph",
    GROUP: "group",
    INV: "inv",
    JOIN: "join",
    LEFT_JOIN: "leftjoin",
    LINK: "link",
    MINUS: "minus",
    NPS: "nps",
    ONE_OR_MORE_PATH: "OneOrMorePath",
    ORDER_BY: "orderby",
    PATH: "path",
    PATTERN: "pattern",
    PROJECT: "project",
    REDUCED: "reduced",
    SEQ: "seq",
    SERVICE: "service",
    SLICE: "slice",
    UNION: "union",
    VALUES: "values",
    ZERO_OR_MORE_PATH: "ZeroOrMorePath",
    ZERO_OR_ONE_PATH: "ZeroOrOnePath",
    COMPOSITE_UPDATE: "compositeupdate",
    DELETE_INSERT: "deleteinsert",
    LOAD: "load",
    CLEAR: "clear",
    CREATE: "create",
    DROP: "drop",
    ADD: "add",
    MOVE: "move",
    COPY: "copy"
  }), t2.expressionTypes = Object.freeze({
    AGGREGATE: "aggregate",
    EXISTENCE: "existence",
    NAMED: "named",
    OPERATOR: "operator",
    TERM: "term",
    WILDCARD: "wildcard"
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(5), i = r(4), a = r(30).Wildcard;
  t2.default = class {
    constructor(e2) {
      this.dataFactory = e2 || new n.DataFactory(), this.stringType = this.createTerm("http://www.w3.org/2001/XMLSchema#string");
    }
    createAlt(e2, t3) {
      return {
        type: "alt",
        left: e2,
        right: t3
      };
    }
    createAsk(e2) {
      return {
        type: "ask",
        input: e2
      };
    }
    createBoundAggregate(e2, t3, r2, n2, i2) {
      let a2 = this.createAggregateExpression(t3, r2, n2, i2);
      return a2.variable = e2, a2;
    }
    createBgp(e2) {
      return {
        type: "bgp",
        patterns: e2
      };
    }
    createConstruct(e2, t3) {
      return {
        type: "construct",
        input: e2,
        template: t3
      };
    }
    createDescribe(e2, t3) {
      return {
        type: "describe",
        input: e2,
        terms: t3
      };
    }
    createDistinct(e2) {
      return {
        type: "distinct",
        input: e2
      };
    }
    createExtend(e2, t3, r2) {
      return {
        type: "extend",
        input: e2,
        variable: t3,
        expression: r2
      };
    }
    createFrom(e2, t3, r2) {
      return {
        type: "from",
        input: e2,
        default: t3,
        named: r2
      };
    }
    createFilter(e2, t3) {
      return {
        type: "filter",
        input: e2,
        expression: t3
      };
    }
    createGraph(e2, t3) {
      return {
        type: "graph",
        input: e2,
        name: t3
      };
    }
    createGroup(e2, t3, r2) {
      return {
        type: "group",
        input: e2,
        variables: t3,
        aggregates: r2
      };
    }
    createInv(e2) {
      return {
        type: "inv",
        path: e2
      };
    }
    createJoin(e2, t3) {
      return {
        type: "join",
        left: e2,
        right: t3
      };
    }
    createLeftJoin(e2, t3, r2) {
      return r2 ? {
        type: "leftjoin",
        left: e2,
        right: t3,
        expression: r2
      } : {
        type: "leftjoin",
        left: e2,
        right: t3
      };
    }
    createLink(e2) {
      return {
        type: "link",
        iri: e2
      };
    }
    createMinus(e2, t3) {
      return {
        type: "minus",
        left: e2,
        right: t3
      };
    }
    createNps(e2) {
      return {
        type: "nps",
        iris: e2
      };
    }
    createOneOrMorePath(e2) {
      return {
        type: "OneOrMorePath",
        path: e2
      };
    }
    createOrderBy(e2, t3) {
      return {
        type: "orderby",
        input: e2,
        expressions: t3
      };
    }
    createPath(e2, t3, r2, n2) {
      return n2 ? {
        type: "path",
        subject: e2,
        predicate: t3,
        object: r2,
        graph: n2
      } : {
        type: "path",
        subject: e2,
        predicate: t3,
        object: r2,
        graph: this.dataFactory.defaultGraph()
      };
    }
    createPattern(e2, t3, r2, n2) {
      let i2 = this.dataFactory.quad(e2, t3, r2, n2);
      return i2.type = "pattern", i2;
    }
    createProject(e2, t3) {
      return {
        type: "project",
        input: e2,
        variables: t3
      };
    }
    createReduced(e2) {
      return {
        type: "reduced",
        input: e2
      };
    }
    createSeq(e2, t3) {
      return {
        type: "seq",
        left: e2,
        right: t3
      };
    }
    createService(e2, t3, r2) {
      return {
        type: "service",
        input: e2,
        name: t3,
        silent: r2
      };
    }
    createSlice(e2, t3, r2) {
      return t3 === void 0 && (t3 = 0), r2 !== void 0 ? {
        type: "slice",
        input: e2,
        start: t3,
        length: r2
      } : {
        type: "slice",
        input: e2,
        start: t3
      };
    }
    createUnion(e2, t3) {
      return {
        type: "union",
        left: e2,
        right: t3
      };
    }
    createValues(e2, t3) {
      return {
        type: "values",
        variables: e2,
        bindings: t3
      };
    }
    createZeroOrMorePath(e2) {
      return {
        type: "ZeroOrMorePath",
        path: e2
      };
    }
    createZeroOrOnePath(e2) {
      return {
        type: "ZeroOrOnePath",
        path: e2
      };
    }
    createAggregateExpression(e2, t3, r2, n2) {
      return n2 ? {
        type: "expression",
        expressionType: "aggregate",
        aggregator: e2,
        expression: t3,
        separator: n2,
        distinct: r2
      } : {
        type: "expression",
        expressionType: "aggregate",
        aggregator: e2,
        expression: t3,
        distinct: r2
      };
    }
    createExistenceExpression(e2, t3) {
      return {
        type: "expression",
        expressionType: "existence",
        not: e2,
        input: t3
      };
    }
    createNamedExpression(e2, t3) {
      return {
        type: "expression",
        expressionType: "named",
        name: e2,
        args: t3
      };
    }
    createOperatorExpression(e2, t3) {
      return {
        type: "expression",
        expressionType: "operator",
        operator: e2,
        args: t3
      };
    }
    createTermExpression(e2) {
      return {
        type: "expression",
        expressionType: "term",
        term: e2
      };
    }
    createWildcardExpression() {
      return {
        type: "expression",
        expressionType: "wildcard",
        wildcard: new a()
      };
    }
    createTerm(e2) {
      return i.stringToTerm(e2, this.dataFactory);
    }
    createCompositeUpdate(e2) {
      return {
        type: "compositeupdate",
        updates: e2
      };
    }
    createDeleteInsert(e2, t3, r2) {
      const n2 = {
        type: "deleteinsert"
      };
      return e2 && (n2.delete = e2), t3 && (n2.insert = t3), r2 && (n2.where = r2), n2;
    }
    createLoad(e2, t3, r2) {
      const n2 = {
        type: "load",
        source: e2
      };
      return t3 && (n2.destination = t3), this.addSilent(n2, r2);
    }
    createClear(e2, t3) {
      return this.addSilent({
        type: "clear",
        source: e2
      }, t3);
    }
    createCreate(e2, t3) {
      return this.addSilent({
        type: "create",
        source: e2
      }, t3);
    }
    createDrop(e2, t3) {
      return this.addSilent({
        type: "drop",
        source: e2
      }, t3);
    }
    createAdd(e2, t3, r2) {
      return this.addSilent({
        type: "add",
        source: e2,
        destination: t3
      }, r2);
    }
    createMove(e2, t3, r2) {
      return this.addSilent({
        type: "move",
        source: e2,
        destination: t3
      }, r2);
    }
    createCopy(e2, t3, r2) {
      return this.addSilent({
        type: "copy",
        source: e2,
        destination: t3
      }, r2);
    }
    addSilent(e2, t3) {
      return t3 && (e2.silent = t3), e2;
    }
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    t3 === void 0 || !t3.version || t3.version.indexOf("v0.") === 0 || t3.version.indexOf("v1.") === 0 && t3.version.indexOf("v1.8.") !== 0 ? e.exports = {
      nextTick: function(e2, r2, n, i) {
        if (typeof e2 != "function")
          throw new TypeError('"callback" argument must be a function');
        var a, s, o = arguments.length;
        switch (o) {
          case 0:
          case 1:
            return t3.nextTick(e2);
          case 2:
            return t3.nextTick(function() {
              e2.call(null, r2);
            });
          case 3:
            return t3.nextTick(function() {
              e2.call(null, r2, n);
            });
          case 4:
            return t3.nextTick(function() {
              e2.call(null, r2, n, i);
            });
          default:
            for (a = new Array(o - 1), s = 0; s < a.length; )
              a[s++] = arguments[s];
            return t3.nextTick(function() {
              e2.apply(null, a);
            });
        }
      }
    } : e.exports = t3;
  }).call(this, r(8));
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(262), t2);
}, function(e) {
  e.exports = JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":" ","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":" ","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}');
}, function(e) {
  e.exports = JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DomHandler = void 0;
  var a = r(134);
  i(r(134), t2);
  var s = /\s+/g, o = {
    normalizeWhitespace: false,
    withStartIndices: false,
    withEndIndices: false
  }, u = function() {
    function e2(e3, t3, r2) {
      this.dom = [], this._done = false, this._tagStack = [], this._lastNode = null, this._parser = null, typeof t3 == "function" && (r2 = t3, t3 = o), typeof e3 == "object" && (t3 = e3, e3 = void 0), this._callback = e3 != null ? e3 : null, this._options = t3 != null ? t3 : o, this._elementCB = r2 != null ? r2 : null;
    }
    return e2.prototype.onparserinit = function(e3) {
      this._parser = e3;
    }, e2.prototype.onreset = function() {
      var e3;
      this.dom = [], this._done = false, this._tagStack = [], this._lastNode = null, this._parser = (e3 = this._parser) !== null && e3 !== void 0 ? e3 : null;
    }, e2.prototype.onend = function() {
      this._done || (this._done = true, this._parser = null, this.handleCallback(null));
    }, e2.prototype.onerror = function(e3) {
      this.handleCallback(e3);
    }, e2.prototype.onclosetag = function() {
      this._lastNode = null;
      var e3 = this._tagStack.pop();
      e3 && this._parser && (this._options.withEndIndices && (e3.endIndex = this._parser.endIndex), this._elementCB && this._elementCB(e3));
    }, e2.prototype.onopentag = function(e3, t3) {
      var r2 = new a.Element(e3, t3);
      this.addNode(r2), this._tagStack.push(r2);
    }, e2.prototype.ontext = function(e3) {
      var t3 = this._options.normalizeWhitespace, r2 = this._lastNode;
      if (r2 && r2.type === "text")
        t3 ? r2.data = (r2.data + e3).replace(s, " ") : r2.data += e3;
      else {
        t3 && (e3 = e3.replace(s, " "));
        var n2 = new a.Text(e3);
        this.addNode(n2), this._lastNode = n2;
      }
    }, e2.prototype.oncomment = function(e3) {
      if (this._lastNode && this._lastNode.type === "comment")
        this._lastNode.data += e3;
      else {
        var t3 = new a.Comment(e3);
        this.addNode(t3), this._lastNode = t3;
      }
    }, e2.prototype.oncommentend = function() {
      this._lastNode = null;
    }, e2.prototype.oncdatastart = function() {
      var e3 = new a.Text(""), t3 = new a.NodeWithChildren("cdata", [e3]);
      this.addNode(t3), e3.parent = t3, this._lastNode = e3;
    }, e2.prototype.oncdataend = function() {
      this._lastNode = null;
    }, e2.prototype.onprocessinginstruction = function(e3, t3) {
      var r2 = new a.ProcessingInstruction(e3, t3);
      this.addNode(r2);
    }, e2.prototype.handleCallback = function(e3) {
      if (typeof this._callback == "function")
        this._callback(e3, this.dom);
      else if (e3)
        throw e3;
    }, e2.prototype.addNode = function(e3) {
      var t3 = this._tagStack[this._tagStack.length - 1], r2 = t3 ? t3.children : this.dom, n2 = r2[r2.length - 1];
      this._parser && (this._options.withStartIndices && (e3.startIndex = this._parser.startIndex), this._options.withEndIndices && (e3.endIndex = this._parser.endIndex)), r2.push(e3), n2 && (e3.prev = n2, n2.next = e3), t3 && (e3.parent = t3), this._lastNode = null;
    }, e2.prototype.addDataNode = function(e3) {
      this.addNode(e3), this._lastNode = e3;
    }, e2;
  }();
  t2.DomHandler = u, t2.default = u;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Doctype = t2.CDATA = t2.Tag = t2.Style = t2.Script = t2.Comment = t2.Directive = t2.Text = t2.isTag = void 0, t2.isTag = function(e2) {
    return e2.type === "tag" || e2.type === "script" || e2.type === "style";
  }, t2.Text = "text", t2.Directive = "directive", t2.Comment = "comment", t2.Script = "script", t2.Style = "style", t2.Tag = "tag", t2.CDATA = "cdata", t2.Doctype = "doctype";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(290), t2), i(r(294), t2), i(r(295), t2), i(r(138), t2), i(r(296), t2), i(r(297), t2), i(r(37), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  const n = r(5), i = r(13);
  class a {
    constructor(e2, t3) {
      this.dataFactory = e2 || new n.DataFactory(), this.baseIRI = t3 || "";
    }
    static isValidIri(e2) {
      return a.IRI_REGEX.test(e2);
    }
    createVocabIris(e2, t3, r2) {
      return e2.split(/\s+/u).filter((e3) => !!e3).map((e3) => {
        if (!a.isValidIri(e3)) {
          if (!r2)
            return;
          e3 = `${t3.vocab || this.baseIRI + "#"}${e3}`;
        }
        return this.dataFactory.namedNode(e3);
      }).filter((e3) => !!e3);
    }
    getVocabularyExpansionType(e2, t3, r2) {
      const n2 = e2.split(/\s+/u);
      if (n2.includes("subPropertyOf") || n2.includes("equivalentProperty"))
        return [this.dataFactory.namedNode(a.RDF + "type")];
      if (t3.vocab && t3.vocab in r2 && r2[t3.vocab].properties) {
        let e3 = [];
        for (const [i2, a2] of Object.entries(r2[t3.vocab].properties))
          n2.includes(i2) && (e3 = e3.concat(Object.values(a2).map((e4) => this.dataFactory.namedNode(e4))));
        return e3;
      }
      return [];
    }
    createSubject(e2) {
      if (!a.isValidIri(e2))
        try {
          e2 = i.resolve(e2, this.baseIRI);
        } catch (e3) {
          return;
        }
      return this.dataFactory.namedNode(e2);
    }
    createLiteral(e2, t3) {
      return this.dataFactory.literal(e2, t3.language);
    }
    deriveVocab(e2, t3) {
      let r2;
      for (const n2 in t3)
        if (e2.startsWith(n2)) {
          r2 = n2, r2.endsWith("/") || (r2 += "#");
          break;
        }
      if (!r2) {
        const t4 = e2.indexOf("#");
        r2 = t4 > 0 ? e2.slice(0, t4 + 1) : i.resolve(".", e2);
      }
      return r2;
    }
  }
  t2.Util = a, a.RDF = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", a.XSD = "http://www.w3.org/2001/XMLSchema#", a.RDFA = "http://www.w3.org/ns/rdfa#", a.IRI_REGEX = /^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerAdapter = void 0;
  t2.NodeHandlerAdapter = class {
    constructor(e2, t3, r2) {
      this.targetKind = e2, this.util = t3, this.settings = r2;
    }
    getNodeQuadContextSelectionSet(e2, t3, r2) {
      const n = {};
      if (e2) {
        for (const t4 of e2.selections)
          if (t4.kind === "Field") {
            const e3 = t4;
            this.handleNodeQuadContextField(e3, r2, n, "id", "subject"), this.handleNodeQuadContextField(e3, r2, n, "graph", "graph");
          }
      }
      return n;
    }
    handleNodeQuadContextField(e2, t3, r2, n, i) {
      if (!r2[i] && e2.name.value === n) {
        if (!r2[i]) {
          const a = this.util.getArgument(e2.arguments, "_");
          if (a) {
            const s = this.util.handleNodeValue(a.value, e2.name.value, t3);
            if (s.terms.length !== 1)
              throw new Error(`Only single values can be set as ${n}, but got ${s.terms.length} at ${e2.name.value}`);
            r2[i] = s.terms[0], s.auxiliaryPatterns && (r2.auxiliaryPatterns || (r2.auxiliaryPatterns = []), r2.auxiliaryPatterns.concat(s.auxiliaryPatterns));
          }
        }
        if (!r2[i]) {
          const n2 = this.util.nameToVariable(this.util.getFieldLabel(e2), t3);
          t3.terminalVariables.push(n2), r2[i] = n2;
        }
      }
    }
    getDirectiveOutputs(e2, t3, r2) {
      const n = [];
      if (e2)
        for (const i of e2) {
          const e3 = this.util.handleDirectiveNode({
            directive: i,
            fieldLabel: t3
          }, r2);
          if (e3) {
            if (e3.ignore)
              return null;
            n.push(e3);
          }
        }
      return n;
    }
    handleDirectiveOutputs(e2, t3) {
      for (const r2 of e2) {
        if (r2.ignore)
          return this.util.operationFactory.createBgp([]);
        r2.operationOverrider && (t3 = r2.operationOverrider(t3));
      }
      return t3;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerSelectionAdapter = void 0;
  const n = r(6), i = r(48), a = r(62);
  class s extends a.NodeHandlerAdapter {
    constructor(e2, t3, r2) {
      super(e2, t3, r2);
    }
    getNodeQuadContextFieldNode(e2, t3, r2) {
      return this.getNodeQuadContextSelectionSet(e2.selectionSet, t3, Object.assign(Object.assign({}, r2), {
        path: this.util.appendFieldToPath(r2.path, t3)
      }));
    }
    fieldToOperation(e2, t3, r2, a2) {
      const s2 = r2;
      let o, u = 0;
      if ((t3.name.value === "id" || t3.name.value === "graph") && (r2 = false, t3.arguments))
        for (const r3 of t3.arguments)
          r3.name.value === "_" && this.util.handleNodeValue(r3.value, t3.name.value, e2);
      const c = this.util.getFieldLabel(t3);
      if (e2.singularizeState === i.SingularizeState.SINGLE && (e2.singularizeVariables[this.util.nameToVariable(c, e2).value] = true), r2) {
        const t4 = this.handleMetaField(e2, c, a2);
        if (t4)
          return t4;
      }
      const l = a2 ? [this.util.operationFactory.createBgp(a2)] : [], h = this.getNodeQuadContextFieldNode(t3, c, e2);
      let d = h.subject || this.util.nameToVariable(c, e2), p = h.graph || e2.graph;
      h.auxiliaryPatterns && l.push(this.util.operationFactory.createBgp(h.auxiliaryPatterns));
      let f = true, g = null;
      if (r2 && t3.arguments && t3.arguments.length)
        for (const n2 of t3.arguments) {
          if (n2.name.value === "_") {
            const i2 = this.util.handleNodeValue(n2.value, t3.name.value, e2);
            g = i2.terms, l.push(this.util.operationFactory.createBgp(i2.terms.map((r3) => this.util.createQuadPattern(e2.subject, t3.name, r3, e2.graph, e2.context)))), i2.auxiliaryPatterns && l.push(this.util.operationFactory.createBgp(h.auxiliaryPatterns)), r2 = false;
            break;
          }
          if (n2.name.value === "graph") {
            const r3 = this.util.handleNodeValue(n2.value, t3.name.value, e2);
            if (r3.terms.length !== 1)
              throw new Error(`Only single values can be set as graph, but got ${r3.terms.length} at ${t3.name.value}`);
            p = r3.terms[0], e2 = Object.assign(Object.assign({}, e2), {
              graph: p
            }), r3.auxiliaryPatterns && l.push(this.util.operationFactory.createBgp(h.auxiliaryPatterns));
            break;
          }
          if (n2.name.value === "alt") {
            let r3 = n2.value;
            r3.kind !== "ListValue" && (r3 = {
              kind: "ListValue",
              values: [r3]
            }), l.push(this.util.createQuadPath(e2.subject, t3.name, r3, d, e2.graph, e2.context)), f = false;
            break;
          }
        }
      if (r2 && f && l.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e2.subject, t3.name, d, e2.graph, e2.context)])), t3.arguments && t3.arguments.length)
        for (const r3 of t3.arguments)
          if (r3.name.value === "_" || r3.name.value === "graph" || r3.name.value === "alt")
            ;
          else if (r3.name.value === "first") {
            if (r3.value.kind !== "IntValue")
              throw new Error("Invalid value type for 'first' argument: " + r3.value.kind);
            o = parseInt(r3.value.value, 10);
          } else if (r3.name.value === "offset") {
            if (r3.value.kind !== "IntValue")
              throw new Error("Invalid value type for 'offset' argument: " + r3.value.kind);
            u = parseInt(r3.value.value, 10);
          } else {
            const t4 = this.util.handleNodeValue(r3.value, r3.name.value, e2);
            l.push(this.util.operationFactory.createBgp(t4.terms.map((t5) => this.util.createQuadPattern(d, r3.name, t5, e2.graph, e2.context)))), t4.auxiliaryPatterns && l.push(this.util.operationFactory.createBgp(h.auxiliaryPatterns));
          }
      const m = this.getDirectiveOutputs(t3.directives, c, e2);
      if (!m)
        return this.util.operationFactory.createBgp([]);
      let y = this.util.joinOperations(l);
      if (t3.selectionSet && t3.selectionSet.selections.length) {
        if (g) {
          if (g.length !== 1)
            throw new Error(`Only single values can be set as id, but got ${g.length} at ${t3.name.value}`);
          d = g[0];
        }
        const r3 = Object.assign(Object.assign(Object.assign({}, e2), s2 ? {
          path: this.util.appendFieldToPath(e2.path, c)
        } : {}), {
          graph: p,
          subject: s2 ? d : e2.subject
        });
        let n2 = false;
        const i2 = t3.selectionSet.selections.filter((e3) => e3.kind !== "Field" || e3.name.value !== "totalCount" || (n2 = true, false));
        let a3 = this.util.joinOperations(l.concat(i2.map((e3) => this.util.handleNode(e3, r3))));
        if (n2) {
          const t4 = this.util.dataFactory.variable("var" + this.settings.expressionVariableCounter++), r4 = this.util.dataFactory.variable(d.value + this.settings.variableDelimiter + "totalCount"), n3 = this.util.operationFactory.createBoundAggregate(t4, "count", this.util.operationFactory.createTermExpression(d), false), s3 = this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(y, [], [n3]), r4, this.util.operationFactory.createTermExpression(t4)), [r4]);
          e2.terminalVariables.push(r4), a3 = i2.length ? this.util.operationFactory.createJoin(this.util.operationFactory.createProject(a3, []), s3) : s3;
        }
        y = a3;
      } else
        r2 && d.termType === "Variable" && e2.terminalVariables.push(d);
      return (u || o) && (y = this.util.operationFactory.createSlice(this.util.operationFactory.createProject(y, n.Util.inScopeVariables(y)), u, o)), this.handleDirectiveOutputs(m, y);
    }
    handleMetaField(e2, t3, r2) {
      if (t3 === "__typename") {
        const n2 = this.util.nameToVariable(t3, e2);
        return e2.terminalVariables.push(n2), this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e2.subject, this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"), this.util.nameToVariable(t3, e2), e2.graph)].concat(r2 || []));
      }
      return null;
    }
  }
  t2.NodeHandlerSelectionAdapter = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerPredicate = void 0;
  const n = r(9), i = r(27);
  class a {
    static handlePredicateObject(e2, t3, r2, n2, i2, a2, s) {
      return __async(this, null, function* () {
        const o = yield t3.getPropertiesDepth(r2, n2), u = yield t3.getDepthOffsetGraph(n2, r2), c = n2 - u, l = e2.idStack[o];
        if (l)
          for (const h of l) {
            if (u >= 0) {
              const r3 = e2.idStack[c - 1];
              if (r3)
                for (const o2 of r3)
                  s ? (t3.validateReverseSubject(a2), e2.emitQuad(n2, t3.dataFactory.quad(a2, i2, h, o2))) : e2.emitQuad(n2, t3.dataFactory.quad(h, i2, a2, o2));
              else
                s ? (t3.validateReverseSubject(a2), e2.getUnidentifiedGraphBufferSafe(c - 1).push({
                  subject: a2,
                  predicate: i2,
                  object: h
                })) : e2.getUnidentifiedGraphBufferSafe(c - 1).push({
                  subject: h,
                  predicate: i2,
                  object: a2
                });
            } else {
              const u2 = yield t3.getGraphContainerValue(r2, o);
              s ? (t3.validateReverseSubject(a2), e2.emitQuad(n2, t3.dataFactory.quad(a2, i2, h, u2))) : e2.emitQuad(n2, t3.dataFactory.quad(h, i2, a2, u2));
            }
          }
        else
          s && t3.validateReverseSubject(a2), e2.getUnidentifiedValueBufferSafe(o).push({
            predicate: i2,
            object: a2,
            reverse: s
          });
      });
    }
    isPropertyHandler() {
      return true;
    }
    isStackProcessor() {
      return true;
    }
    validate(e2, t3, r2, n2, a2) {
      return __async(this, null, function* () {
        const s = r2[n2];
        if (s) {
          const a3 = yield e2.getContext(r2);
          if (yield t3.predicateToTerm(a3, r2[n2]))
            return i.Util.getContextValueType(a3, s) === "@json" && (e2.jsonLiteralStack[n2 + 1] = true), true;
        }
        return false;
      });
    }
    test(e2, t3, r2, n2, i2) {
      return __async(this, null, function* () {
        return n2[i2];
      });
    }
    handle(e2, t3, r2, s, o, u, c) {
      return __async(this, null, function* () {
        const l = s[u], h = yield e2.getContext(s), d = yield t3.predicateToTerm(h, r2);
        if (d) {
          const c2 = yield t3.valueToTerm(h, r2, o, u, s);
          if (c2.length)
            for (let p of c2) {
              const c3 = i.Util.isPropertyReverse(h, l, yield t3.unaliasKeywordParent(s, u));
              if (o) {
                const a2 = "@list" in i.Util.getContextValueContainer(h, r2);
                if (a2 || o["@list"]) {
                  if ((a2 && !Array.isArray(o) && !o["@list"] || o["@list"] && !Array.isArray(o["@list"])) && p !== t3.rdfNil) {
                    const r3 = t3.dataFactory.blankNode();
                    e2.emitQuad(u, t3.dataFactory.quad(r3, t3.rdfRest, t3.rdfNil, t3.getDefaultGraph())), e2.emitQuad(u, t3.dataFactory.quad(r3, t3.rdfFirst, p, t3.getDefaultGraph())), p = r3;
                  }
                  if (c3 && !e2.allowSubjectList)
                    throw new n.ErrorCoded("Found illegal list value in subject position at " + r2, n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE);
                }
              }
              yield a.handlePredicateObject(e2, t3, s, u, d, p, c3);
            }
        }
      });
    }
  }
  t2.EntryHandlerPredicate = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.parseXSDDateTime = t2.parseXSDInteger = t2.parseXSDDecimal = t2.parseXSDFloat = void 0, t2.parseXSDFloat = function(e2) {
    const t3 = Number(e2);
    return isNaN(t3) ? e2 === "NaN" ? NaN : e2 === "INF" ? 1 / 0 : e2 === "-INF" ? -1 / 0 : void 0 : t3;
  }, t2.parseXSDDecimal = function(e2) {
    const t3 = Number(e2);
    return isNaN(t3) ? void 0 : t3;
  }, t2.parseXSDInteger = function(e2) {
    const t3 = parseInt(e2, 10);
    return isNaN(t3) ? void 0 : t3;
  }, t2.parseXSDDateTime = function(e2) {
    const t3 = e2.indexOf("T"), r2 = t3 >= 0 ? e2.substr(0, t3) : e2, [n, i, a] = r2.split("-");
    let s = "", o = "", u = "", c = "";
    if (t3 >= 0) {
      const r3 = e2.substr(t3 + 1), [n2, i2] = r3.split(/[\+\-Z]/);
      [s, o, u] = n2.split(":");
      const a2 = new RegExp(/([\+\-Z].*)/).exec(r3);
      c = a2 ? a2[0] : "";
    } else
      s = "00", o = "00", u = "00", c = "";
    return {
      year: n,
      month: i,
      day: a,
      hours: s,
      minutes: o,
      seconds: u,
      timezone: c
    };
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.typeCheckLit = t2.log = t2.dateTime = t2.langString = t2.string = t2.numberFromString = t2.number = t2.bool = t2.map = t2.Impl = t2.Builder = t2.declare = void 0;
  const n = r(23), i = r(40), a = r(14), s = r(20), o = r(14), u = r(90);
  t2.declare = function() {
    return new c();
  };
  class c {
    constructor() {
      this.implementations = [];
    }
    collect() {
      return d(this.implementations);
    }
    log() {
      return console.log(this.implementations), this;
    }
    add(e2) {
      return this.implementations.push(e2), this;
    }
    set(e2, t3) {
      const r2 = n.List(e2);
      return this.add(new h({
        types: r2,
        func: t3
      }));
    }
    copy({
      from: e2,
      to: t3
    }) {
      const r2 = this.implementations.length - 1, i2 = n.List(e2);
      for (let e3 = r2; e3 >= 0; e3--) {
        const r3 = this.implementations[e3];
        if (r3.get("types").equals(i2))
          return this.set(t3, r3.get("func"));
      }
      throw new s.UnexpectedError("Tried to copy implementation, but types not found", {
        from: e2,
        to: t3
      });
    }
    onUnary(e2, t3) {
      return this.set([e2], ([e3]) => t3(e3));
    }
    onUnaryTyped(e2, t3) {
      return this.set([e2], ([e3]) => t3(e3.typedValue));
    }
    onBinary(e2, t3) {
      return this.set(e2, ([e3, r2]) => t3(e3, r2));
    }
    onBinaryTyped(e2, t3) {
      return this.set(e2, ([e3, r2]) => t3(e3.typedValue, r2.typedValue));
    }
    onTernaryTyped(e2, t3) {
      return this.set(e2, ([e3, r2, n2]) => t3(e3.typedValue, r2.typedValue, n2.typedValue));
    }
    onTernary(e2, t3) {
      return this.set(e2, ([e3, r2, n2]) => t3(e3, r2, n2));
    }
    onQuaternaryTyped(e2, t3) {
      return this.set(e2, ([e3, r2, n2, i2]) => t3(e3.typedValue, r2.typedValue, n2.typedValue, i2.typedValue));
    }
    unimplemented(e2) {
      for (let t3 = 0; t3 <= 5; t3++) {
        const r2 = Array(t3).fill("term"), n2 = (t4) => {
          throw new s.UnimplementedError(e2);
        };
        this.set(r2, n2);
      }
      return this;
    }
    onTerm1(e2) {
      return this.set(["term"], ([t3]) => e2(t3));
    }
    onLiteral1(e2) {
      return this.set(["literal"], ([t3]) => e2(t3));
    }
    onBoolean1(e2) {
      return this.set(["boolean"], ([t3]) => e2(t3));
    }
    onBoolean1Typed(e2) {
      return this.set(["boolean"], ([t3]) => e2(t3.typedValue));
    }
    onString1(e2) {
      return this.set(["string"], ([t3]) => e2(t3));
    }
    onString1Typed(e2) {
      return this.set(["string"], ([t3]) => e2(t3.typedValue));
    }
    onLangString1(e2) {
      return this.set(["langString"], ([t3]) => e2(t3));
    }
    onStringly1(e2) {
      return this.set(["string"], ([t3]) => e2(t3)).set(["langString"], ([t3]) => e2(t3));
    }
    onStringly1Typed(e2) {
      return this.set(["string"], ([t3]) => e2(t3.typedValue)).set(["langString"], ([t3]) => e2(t3.typedValue));
    }
    onNumeric1(e2) {
      return this.set(["integer"], ([t3]) => e2(t3)).set(["decimal"], ([t3]) => e2(t3)).set(["float"], ([t3]) => e2(t3)).set(["double"], ([t3]) => e2(t3)).invalidLexicalForm(["nonlexical"], 1);
    }
    onDateTime1(e2) {
      return this.set(["date"], ([t3]) => e2(t3)).invalidLexicalForm(["nonlexical"], 1);
    }
    arithmetic(e2) {
      return this.numeric(([t3, r2]) => {
        const n2 = u.promote(t3.type, r2.type), i2 = a.decategorize(n2);
        return f(e2(t3.typedValue, r2.typedValue), i2);
      });
    }
    numberTest(e2) {
      return this.numeric(([t3, r2]) => p(e2(t3.typedValue, r2.typedValue)));
    }
    stringTest(e2) {
      return this.set(["string", "string"], ([t3, r2]) => p(e2(t3.typedValue, r2.typedValue))).invalidLexicalForm(["nonlexical", "string"], 1).invalidLexicalForm(["string", "nonlexical"], 2);
    }
    booleanTest(e2) {
      return this.set(["boolean", "boolean"], ([t3, r2]) => p(e2(t3.typedValue, r2.typedValue))).invalidLexicalForm(["nonlexical", "boolean"], 1).invalidLexicalForm(["boolean", "nonlexical"], 2);
    }
    dateTimeTest(e2) {
      return this.set(["date", "date"], ([t3, r2]) => p(e2(t3.typedValue, r2.typedValue))).invalidLexicalForm(["nonlexical", "date"], 1).invalidLexicalForm(["date", "nonlexical"], 2);
    }
    numeric(e2) {
      return this.set(["integer", "integer"], e2).set(["integer", "decimal"], e2).set(["integer", "float"], e2).set(["integer", "double"], e2).invalidLexicalForm(["integer", "nonlexical"], 2).set(["decimal", "integer"], e2).set(["decimal", "decimal"], e2).set(["decimal", "float"], e2).set(["decimal", "double"], e2).invalidLexicalForm(["decimal", "nonlexical"], 2).set(["float", "integer"], e2).set(["float", "decimal"], e2).set(["float", "float"], e2).set(["float", "double"], e2).invalidLexicalForm(["float", "nonlexical"], 2).set(["double", "integer"], e2).set(["double", "decimal"], e2).set(["double", "float"], e2).set(["double", "double"], e2).invalidLexicalForm(["double", "nonlexical"], 2).invalidLexicalForm(["nonlexical", "integer"], 1).invalidLexicalForm(["nonlexical", "decimal"], 1).invalidLexicalForm(["nonlexical", "float"], 1).invalidLexicalForm(["nonlexical", "double"], 1);
    }
    invalidLexicalForm(e2, t3) {
      return this.set(e2, (e3) => {
        throw new s.InvalidLexicalForm(e3[t3 - 1].toRDF());
      });
    }
    chain(e2) {
      return this.implementations = this.implementations.concat(e2), this;
    }
  }
  t2.Builder = c;
  const l = {
    types: [],
    func() {
      throw new s.UnexpectedError("Implementation not set yet declared as implemented");
    }
  };
  class h extends n.Record(l) {
    constructor(e2) {
      super(e2);
    }
    get(e2) {
      return super.get(e2);
    }
    toPair() {
      return [this.get("types"), this.get("func")];
    }
  }
  function d(e2) {
    const t3 = e2.map((e3) => e3.toPair());
    return n.Map(t3);
  }
  function p(e2) {
    return new i.BooleanLiteral(e2);
  }
  function f(e2, t3) {
    return new i.NumericLiteral(e2, a.make(t3 || o.TypeURL.XSD_FLOAT), void 0);
  }
  t2.Impl = h, t2.map = d, t2.bool = p, t2.number = f, t2.numberFromString = function(e2, t3) {
    const r2 = Number(e2);
    return new i.NumericLiteral(r2, a.make(t3 || o.TypeURL.XSD_FLOAT), void 0);
  }, t2.string = function(e2) {
    return new i.StringLiteral(e2);
  }, t2.langString = function(e2, t3) {
    return new i.LangStringLiteral(e2, t3);
  }, t2.dateTime = function(e2, t3) {
    return new i.DateTimeLiteral(e2, t3);
  }, t2.log = function(e2, ...t3) {
    return console.log(e2, t3), e2;
  }, t2.typeCheckLit = function(e2, t3, r2, n2) {
    if (e2.termType !== "literal")
      throw new s.InvalidArgumentTypes(r2, n2);
    const i2 = e2;
    if (!t3.includes(i2.type))
      throw new s.InvalidArgumentTypes(r2, n2);
    return i2;
  };
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    r.d(t2, "a", function() {
      return d;
    });
    var n = r(7), i = r(189), a = r.n(i);
    const {
      xsd: s
    } = n.a;
    var o = /\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g, u = {
      "\\": "\\",
      "'": "'",
      '"': '"',
      n: "\n",
      r: "\r",
      t: "	",
      f: "\f",
      b: "\b",
      _: "_",
      "~": "~",
      ".": ".",
      "-": "-",
      "!": "!",
      $: "$",
      "&": "&",
      "(": "(",
      ")": ")",
      "*": "*",
      "+": "+",
      ",": ",",
      ";": ";",
      "=": "=",
      "/": "/",
      "?": "?",
      "#": "#",
      "@": "@",
      "%": "%"
    }, c = /[\x00-\x20<>\\"\{\}\|\^\`]/, l = {
      _iri: true,
      _unescapedIri: true,
      _simpleQuotedString: true,
      _langcode: true,
      _blank: true,
      _newline: true,
      _comment: true,
      _whitespace: true,
      _endOfFile: true
    }, h = /$0^/;
    class d {
      constructor(e3) {
        if (this._iri = /^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/, this._unescapedIri = /^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/, this._simpleQuotedString = /^"([^"\\\r\n]*)"(?=[^"])/, this._simpleApostropheString = /^'([^'\\\r\n]*)'(?=[^'])/, this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i, this._prefix = /^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/, this._prefixed = /^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/, this._variable = /^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/, this._blank = /^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/, this._number = /^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/, this._boolean = /^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/, this._keyword = /^@[a-z]+(?=[\s#<:])/i, this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i, this._shortPredicates = /^a(?=[\s()\[\]\{\}"'<>])/, this._newline = /^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/, this._comment = /#([^\n\r]*)/, this._whitespace = /^[ \t]+/, this._endOfFile = /^(?:#[^\n\r]*)?$/, e3 = e3 || {}, this._lineMode = !!e3.lineMode)
          for (var t3 in this._n3Mode = false, this)
            !(t3 in l) && this[t3] instanceof RegExp && (this[t3] = h);
        else
          this._n3Mode = e3.n3 !== false;
        this._comments = !!e3.comments, this._literalClosingPos = 0;
      }
      _tokenizeToEnd(e3, t3) {
        for (var r2 = this._input, n2 = this._comments; ; ) {
          for (var i2, a2; i2 = this._newline.exec(r2); )
            n2 && (a2 = this._comment.exec(i2[0])) && e3(null, {
              line: this._line,
              type: "comment",
              value: a2[1],
              prefix: ""
            }), r2 = r2.substr(i2[0].length, r2.length), this._line++;
          if (!i2 && (i2 = this._whitespace.exec(r2)) && (r2 = r2.substr(i2[0].length, r2.length)), this._endOfFile.test(r2))
            return t3 && (n2 && (a2 = this._comment.exec(r2)) && e3(null, {
              line: this._line,
              type: "comment",
              value: a2[1],
              prefix: ""
            }), e3(r2 = null, {
              line: this._line,
              type: "eof",
              value: "",
              prefix: ""
            })), this._input = r2;
          var o2 = this._line, u2 = "", l2 = "", h2 = "", d2 = r2[0], p = null, f = 0, g = false;
          switch (d2) {
            case "^":
              if (r2.length < 3)
                break;
              if (r2[1] !== "^") {
                this._n3Mode && (f = 1, u2 = "^");
                break;
              }
              if (this._previousMarker = "^^", (r2 = r2.substr(2))[0] !== "<") {
                g = true;
                break;
              }
            case "<":
              if (p = this._unescapedIri.exec(r2))
                u2 = "IRI", l2 = p[1];
              else if (p = this._iri.exec(r2)) {
                if ((l2 = this._unescape(p[1])) === null || c.test(l2))
                  return y(this);
                u2 = "IRI";
              } else
                r2.length > 1 && r2[1] === "<" ? (u2 = "<<", f = 2) : this._n3Mode && r2.length > 1 && r2[1] === "=" && (u2 = "inverse", f = 2, l2 = ">");
              break;
            case ">":
              r2.length > 1 && r2[1] === ">" && (u2 = ">>", f = 2);
              break;
            case "_":
              ((p = this._blank.exec(r2)) || t3 && (p = this._blank.exec(r2 + " "))) && (u2 = "blank", h2 = "_", l2 = p[1]);
              break;
            case '"':
              if (p = this._simpleQuotedString.exec(r2))
                l2 = p[1];
              else if ({
                value: l2,
                matchLength: f
              } = this._parseLiteral(r2), l2 === null)
                return y(this);
              p === null && f === 0 || (u2 = "literal", this._literalClosingPos = 0);
              break;
            case "'":
              if (!this._lineMode) {
                if (p = this._simpleApostropheString.exec(r2))
                  l2 = p[1];
                else if ({
                  value: l2,
                  matchLength: f
                } = this._parseLiteral(r2), l2 === null)
                  return y(this);
                p === null && f === 0 || (u2 = "literal", this._literalClosingPos = 0);
              }
              break;
            case "?":
              this._n3Mode && (p = this._variable.exec(r2)) && (u2 = "var", l2 = p[0]);
              break;
            case "@":
              this._previousMarker === "literal" && (p = this._langcode.exec(r2)) ? (u2 = "langcode", l2 = p[1]) : (p = this._keyword.exec(r2)) && (u2 = p[0]);
              break;
            case ".":
              if (r2.length === 1 ? t3 : r2[1] < "0" || r2[1] > "9") {
                u2 = ".", f = 1;
                break;
              }
            case "0":
            case "1":
            case "2":
            case "3":
            case "4":
            case "5":
            case "6":
            case "7":
            case "8":
            case "9":
            case "+":
            case "-":
              (p = this._number.exec(r2) || t3 && (p = this._number.exec(r2 + " "))) && (u2 = "literal", l2 = p[0], h2 = typeof p[1] == "string" ? s.double : typeof p[2] == "string" ? s.decimal : s.integer);
              break;
            case "B":
            case "b":
            case "p":
            case "P":
            case "G":
            case "g":
              (p = this._sparqlKeyword.exec(r2)) ? u2 = p[0].toUpperCase() : g = true;
              break;
            case "f":
            case "t":
              (p = this._boolean.exec(r2)) ? (u2 = "literal", l2 = p[0], h2 = s.boolean) : g = true;
              break;
            case "a":
              (p = this._shortPredicates.exec(r2)) ? (u2 = "abbreviation", l2 = "a") : g = true;
              break;
            case "=":
              this._n3Mode && r2.length > 1 && (u2 = "abbreviation", r2[1] !== ">" ? (f = 1, l2 = "=") : (f = 2, l2 = ">"));
              break;
            case "!":
              if (!this._n3Mode)
                break;
            case ",":
            case ";":
            case "[":
            case "]":
            case "(":
            case ")":
            case "{":
            case "}":
              this._lineMode || (f = 1, u2 = d2);
              break;
            default:
              g = true;
          }
          if (g && (this._previousMarker !== "@prefix" && this._previousMarker !== "PREFIX" || !(p = this._prefix.exec(r2)) ? ((p = this._prefixed.exec(r2)) || t3 && (p = this._prefixed.exec(r2 + " "))) && (u2 = "prefixed", h2 = p[1] || "", l2 = this._unescape(p[2])) : (u2 = "prefix", l2 = p[1] || "")), this._previousMarker === "^^")
            switch (u2) {
              case "prefixed":
                u2 = "type";
                break;
              case "IRI":
                u2 = "typeIRI";
                break;
              default:
                u2 = "";
            }
          if (!u2)
            return t3 || !/^'''|^"""/.test(r2) && /\n|\r/.test(r2) ? y(this) : this._input = r2;
          var m = {
            line: o2,
            type: u2,
            value: l2,
            prefix: h2
          };
          e3(null, m), this.previousToken = m, this._previousMarker = u2, r2 = r2.substr(f || p[0].length, r2.length);
        }
        function y(t4) {
          e3(t4._syntaxError(/^\S*/.exec(r2)[0]));
        }
      }
      _unescape(e3) {
        let t3 = false;
        const r2 = e3.replace(o, (e4, r3, n2, i2) => {
          if (typeof r3 == "string")
            return String.fromCharCode(Number.parseInt(r3, 16));
          if (typeof n2 == "string") {
            let e5 = Number.parseInt(n2, 16);
            return e5 <= 65535 ? String.fromCharCode(Number.parseInt(n2, 16)) : String.fromCharCode(55296 + ((e5 -= 65536) >> 10), 56320 + (1023 & e5));
          }
          return i2 in u ? u[i2] : (t3 = true, "");
        });
        return t3 ? null : r2;
      }
      _parseLiteral(e3) {
        if (e3.length >= 3) {
          const t3 = e3.match(/^(?:"""|"|'''|'|)/)[0], r2 = t3.length;
          let n2 = Math.max(this._literalClosingPos, r2);
          for (; (n2 = e3.indexOf(t3, n2)) > 0; ) {
            let t4 = 0;
            for (; e3[n2 - t4 - 1] === "\\"; )
              t4++;
            if (t4 % 2 == 0) {
              const t5 = e3.substring(r2, n2), i2 = t5.split(/\r\n|\r|\n/).length - 1, a2 = n2 + r2;
              if (r2 === 1 && i2 !== 0 || r2 === 3 && this._lineMode)
                break;
              return this._line += i2, {
                value: this._unescape(t5),
                matchLength: a2
              };
            }
            n2++;
          }
          this._literalClosingPos = e3.length - r2 + 1;
        }
        return {
          value: "",
          matchLength: 0
        };
      }
      _syntaxError(e3) {
        this._input = null;
        var t3 = new Error('Unexpected "' + e3 + '" on line ' + this._line + ".");
        return t3.context = {
          token: void 0,
          line: this._line,
          previousToken: this.previousToken
        }, t3;
      }
      tokenize(t3, r2) {
        var n2 = this;
        if (this._line = 1, typeof t3 == "string") {
          if (this._input = t3, typeof r2 != "function") {
            var i2, s2 = [];
            if (this._tokenizeToEnd(function(e3, t4) {
              e3 ? i2 = e3 : s2.push(t4);
            }, true), i2)
              throw i2;
            return s2;
          }
          a()(() => n2._tokenizeToEnd(r2, true));
        } else
          this._input = "", this._pendingBuffer = null, typeof t3.setEncoding == "function" && t3.setEncoding("utf8"), t3.on("data", function(t4) {
            n2._input !== null && t4.length !== 0 && (n2._pendingBuffer && (t4 = e2.concat([n2._pendingBuffer, t4]), n2._pendingBuffer = null), 128 & t4[t4.length - 1] ? n2._pendingBuffer = t4 : (n2._input += t4, n2._tokenizeToEnd(r2, false)));
          }), t3.on("end", function() {
            n2._input !== null && n2._tokenizeToEnd(r2, true);
          }), t3.on("error", r2);
      }
    }
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NamedNode = void 0;
  t2.NamedNode = class {
    constructor(e2) {
      this.termType = "NamedNode", this.value = e2;
    }
    equals(e2) {
      return !!e2 && e2.termType === "NamedNode" && e2.value === this.value;
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(31).codes.ERR_STREAM_PREMATURE_CLOSE;
  function i() {
  }
  e.exports = function e2(t3, r2, a) {
    if (typeof r2 == "function")
      return e2(t3, null, r2);
    r2 || (r2 = {}), a = function(e3) {
      var t4 = false;
      return function() {
        if (!t4) {
          t4 = true;
          for (var r3 = arguments.length, n2 = new Array(r3), i2 = 0; i2 < r3; i2++)
            n2[i2] = arguments[i2];
          e3.apply(this, n2);
        }
      };
    }(a || i);
    var s = r2.readable || r2.readable !== false && t3.readable, o = r2.writable || r2.writable !== false && t3.writable, u = function() {
      t3.writable || l();
    }, c = t3._writableState && t3._writableState.finished, l = function() {
      o = false, c = true, s || a.call(t3);
    }, h = t3._readableState && t3._readableState.endEmitted, d = function() {
      s = false, h = true, o || a.call(t3);
    }, p = function(e3) {
      a.call(t3, e3);
    }, f = function() {
      var e3;
      return s && !h ? (t3._readableState && t3._readableState.ended || (e3 = new n()), a.call(t3, e3)) : o && !c ? (t3._writableState && t3._writableState.ended || (e3 = new n()), a.call(t3, e3)) : void 0;
    }, g = function() {
      t3.req.on("finish", l);
    };
    return !function(e3) {
      return e3.setHeader && typeof e3.abort == "function";
    }(t3) ? o && !t3._writableState && (t3.on("end", u), t3.on("close", u)) : (t3.on("complete", l), t3.on("abort", f), t3.req ? g() : t3.on("request", g)), t3.on("end", d), t3.on("finish", l), r2.error !== false && t3.on("error", p), t3.on("close", f), function() {
      t3.removeListener("complete", l), t3.removeListener("abort", f), t3.removeListener("request", g), t3.req && t3.req.removeListener("finish", l), t3.removeListener("end", u), t3.removeListener("close", u), t3.removeListener("finish", l), t3.removeListener("end", d), t3.removeListener("error", p), t3.removeListener("close", f);
    };
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(52), i = r(53);
  class a {
    static flatten(e2) {
      return Array.prototype.concat(...e2).filter((e3) => e3);
    }
    static inScopeVariables(e2) {
      const t3 = [];
      function r2(e3) {
        t3.find((t4) => e3.value === t4.value) || t3.push(e3);
      }
      function i2(e3) {
        e3.subject.termType === "Variable" && r2(e3.subject), e3.predicate.termType === "Variable" && r2(e3.predicate), e3.object.termType === "Variable" && r2(e3.object), e3.graph.termType === "Variable" && r2(e3.graph), e3.subject.termType === "Quad" && i2(e3.subject), e3.predicate.termType === "Quad" && i2(e3.predicate), e3.object.termType === "Quad" && i2(e3.object), e3.graph.termType === "Quad" && i2(e3.graph);
      }
      return a.recurseOperation(e2, {
        [n.types.EXPRESSION]: (e3) => {
          let t4 = e3;
          if (t4.expressionType === "aggregate" && t4.variable) {
            r2(t4.variable);
          }
          return true;
        },
        [n.types.EXTEND]: (e3) => (r2(e3.variable), true),
        [n.types.GRAPH]: (e3) => {
          let t4 = e3;
          return t4.name.termType === "Variable" && r2(t4.name), true;
        },
        [n.types.GROUP]: (e3) => (e3.variables.forEach(r2), true),
        [n.types.PATH]: (e3) => {
          let t4 = e3;
          return t4.subject.termType === "Variable" && r2(t4.subject), t4.object.termType === "Variable" && r2(t4.object), t4.graph.termType === "Variable" && r2(t4.graph), t4.subject.termType === "Quad" && i2(t4.subject), t4.object.termType === "Quad" && i2(t4.object), t4.graph.termType === "Quad" && i2(t4.graph), true;
        },
        [n.types.PATTERN]: (e3) => (i2(e3), true),
        [n.types.PROJECT]: (e3) => (e3.variables.forEach(r2), false),
        [n.types.SERVICE]: (e3) => {
          let t4 = e3;
          return t4.name.termType === "Variable" && r2(t4.name), true;
        },
        [n.types.VALUES]: (e3) => (e3.variables.forEach(r2), true)
      }), t3;
    }
    static recurseOperation(e2, t3) {
      let r2 = e2, i2 = true;
      if (t3[e2.type] && (i2 = t3[e2.type](e2)), !i2)
        return;
      let s = (e3) => a.recurseOperation(e3, t3);
      switch (r2.type) {
        case n.types.ALT:
          const e3 = r2;
          s(e3.left), s(e3.right);
          break;
        case n.types.ASK:
          s(r2.input);
          break;
        case n.types.BGP:
          r2.patterns.forEach(s);
          break;
        case n.types.CONSTRUCT:
          const t4 = r2;
          s(t4.input), t4.template.map(s);
          break;
        case n.types.DESCRIBE:
          s(r2.input);
          break;
        case n.types.DISTINCT:
          s(r2.input);
          break;
        case n.types.EXPRESSION:
          const i3 = r2;
          if (i3.expressionType === n.expressionTypes.EXISTENCE) {
            s(i3.input);
          }
          break;
        case n.types.EXTEND:
          const a2 = r2;
          s(a2.input), s(a2.expression);
          break;
        case n.types.FILTER:
          const o = r2;
          s(o.input), s(o.expression);
          break;
        case n.types.FROM:
          s(r2.input);
          break;
        case n.types.GRAPH:
          s(r2.input);
          break;
        case n.types.GROUP:
          const u = r2;
          s(u.input), u.aggregates.forEach(s);
          break;
        case n.types.INV:
          s(r2.path);
          break;
        case n.types.JOIN:
          const c = r2;
          s(c.left), s(c.right);
          break;
        case n.types.LEFT_JOIN:
          const l = r2;
          s(l.left), s(l.right), l.expression && s(l.expression);
          break;
        case n.types.LINK:
          break;
        case n.types.MINUS:
          const h = r2;
          s(h.left), s(h.right);
          break;
        case n.types.NPS:
          break;
        case n.types.ONE_OR_MORE_PATH:
          s(r2.path);
          break;
        case n.types.ORDER_BY:
          const d = r2;
          s(d.input), d.expressions.forEach(s);
          break;
        case n.types.PATH:
          s(r2.predicate);
          break;
        case n.types.PATTERN:
          break;
        case n.types.PROJECT:
          s(r2.input);
          break;
        case n.types.REDUCED:
          s(r2.input);
          break;
        case n.types.SEQ:
          const p = r2;
          s(p.left), s(p.right);
          break;
        case n.types.SERVICE:
          s(r2.input);
          break;
        case n.types.SLICE:
          s(r2.input);
          break;
        case n.types.UNION:
          const f = r2;
          s(f.left), s(f.right);
          break;
        case n.types.VALUES:
          break;
        case n.types.ZERO_OR_MORE_PATH:
          s(r2.path);
          break;
        case n.types.ZERO_OR_ONE_PATH:
          s(r2.path);
          break;
        case n.types.COMPOSITE_UPDATE:
          r2.updates.forEach((e4) => s(e4));
          break;
        case n.types.DELETE_INSERT:
          const g = r2;
          g.delete && g.delete.forEach((e4) => s(e4)), g.insert && g.insert.forEach((e4) => s(e4)), g.where && s(g.where);
          break;
        case n.types.LOAD:
        case n.types.CLEAR:
        case n.types.CREATE:
        case n.types.DROP:
        case n.types.ADD:
        case n.types.MOVE:
        case n.types.COPY:
          break;
        default:
          throw new Error("Unknown Operation type " + r2.type);
      }
    }
    static mapOperation(e2, t3, r2) {
      let s = e2, o = true;
      if (r2 = r2 || new i.default(), t3[e2.type] && ({
        result: s,
        recurse: o
      } = t3[e2.type](e2, r2)), !o)
        return s;
      let u = (e3) => a.mapOperation(e3, t3, r2);
      switch (s.type) {
        case n.types.ALT:
          const e3 = s;
          return r2.createAlt(u(e3.left), u(e3.right));
        case n.types.ASK:
          const i2 = s;
          return r2.createAsk(u(i2.input));
        case n.types.BGP:
          const o2 = s;
          return r2.createBgp(o2.patterns.map(u));
        case n.types.CONSTRUCT:
          const c = s;
          return r2.createConstruct(u(c.input), c.template.map(u));
        case n.types.DESCRIBE:
          const l = s;
          return r2.createDescribe(u(l.input), l.terms);
        case n.types.DISTINCT:
          const h = s;
          return r2.createDistinct(u(h.input));
        case n.types.EXPRESSION:
          const d = s;
          return a.mapExpression(d, t3, r2);
        case n.types.EXTEND:
          const p = s;
          return r2.createExtend(u(p.input), p.variable, u(p.expression));
        case n.types.FILTER:
          const f = s;
          return r2.createFilter(u(f.input), u(f.expression));
        case n.types.FROM:
          const g = s;
          return r2.createFrom(u(g.input), [].concat(g.default), [].concat(g.named));
        case n.types.GRAPH:
          const m = s;
          return r2.createGraph(u(m.input), m.name);
        case n.types.GROUP:
          const y = s;
          return r2.createGroup(u(y.input), [].concat(y.variables), y.aggregates.map(u));
        case n.types.INV:
          const b = s;
          return r2.createInv(u(b.path));
        case n.types.JOIN:
          const _ = s;
          return r2.createJoin(u(_.left), u(_.right));
        case n.types.LEFT_JOIN:
          const v = s;
          return r2.createLeftJoin(u(v.left), u(v.right), v.expression ? u(v.expression) : void 0);
        case n.types.LINK:
          const w = s;
          return r2.createLink(w.iri);
        case n.types.MINUS:
          const S = s;
          return r2.createMinus(u(S.left), u(S.right));
        case n.types.NPS:
          const T = s;
          return r2.createNps([].concat(T.iris));
        case n.types.ONE_OR_MORE_PATH:
          const E = s;
          return r2.createOneOrMorePath(u(E.path));
        case n.types.ORDER_BY:
          const x = s;
          return r2.createOrderBy(u(x.input), x.expressions.map(u));
        case n.types.PATH:
          const O = s;
          return r2.createPath(O.subject, u(O.predicate), O.object, O.graph);
        case n.types.PATTERN:
          const A = s;
          return r2.createPattern(A.subject, A.predicate, A.object, A.graph);
        case n.types.PROJECT:
          const R = s;
          return r2.createProject(u(R.input), [].concat(R.variables));
        case n.types.REDUCED:
          const I = s;
          return r2.createReduced(u(I.input));
        case n.types.SEQ:
          const N = s;
          return r2.createSeq(u(N.left), u(N.right));
        case n.types.SERVICE:
          const P = s;
          return r2.createService(u(P.input), P.name, P.silent);
        case n.types.SLICE:
          const C = s;
          return r2.createSlice(u(C.input), C.start, C.length);
        case n.types.UNION:
          const D = s;
          return r2.createUnion(u(D.left), u(D.right));
        case n.types.VALUES:
          const j = s;
          return r2.createValues([].concat(j.variables), j.bindings.map((e4) => Object.assign({}, e4)));
        case n.types.ZERO_OR_MORE_PATH:
          const k = s;
          return r2.createZeroOrMorePath(u(k.path));
        case n.types.ZERO_OR_ONE_PATH:
          const L = s;
          return r2.createZeroOrOnePath(u(L.path));
        case n.types.COMPOSITE_UPDATE:
          const M = s;
          return r2.createCompositeUpdate(M.updates.map(u));
        case n.types.DELETE_INSERT:
          const F = s;
          return r2.createDeleteInsert(F.delete ? F.delete.map(u) : void 0, F.insert ? F.insert.map(u) : void 0, F.where ? u(F.where) : void 0);
        case n.types.LOAD:
          const B = s;
          return r2.createLoad(B.source, B.destination, B.silent);
        case n.types.CLEAR:
          const q = s;
          return r2.createClear(q.source, q.silent);
        case n.types.CREATE:
          const U = s;
          return r2.createCreate(U.source, U.silent);
        case n.types.DROP:
          const V = s;
          return r2.createDrop(V.source, V.silent);
        case n.types.ADD:
          const H = s;
          return r2.createAdd(H.source, H.destination);
        case n.types.MOVE:
          const G = s;
          return r2.createMove(G.source, G.destination);
        case n.types.COPY:
          const z = s;
          return r2.createCopy(z.source, z.destination);
        default:
          throw new Error("Unknown Operation type " + s);
      }
    }
    static mapExpression(e2, t3, r2) {
      let i2 = (e3) => a.mapOperation(e3, t3, r2);
      switch (e2.expressionType) {
        case n.expressionTypes.AGGREGATE:
          if (e2.variable) {
            const t5 = e2;
            return r2.createBoundAggregate(t5.variable, t5.aggregator, i2(t5.expression), t5.distinct, t5.separator);
          }
          const t4 = e2;
          return r2.createAggregateExpression(t4.aggregator, i2(t4.expression), t4.distinct, t4.separator);
        case n.expressionTypes.EXISTENCE:
          const a2 = e2;
          return r2.createExistenceExpression(a2.not, i2(a2.input));
        case n.expressionTypes.NAMED:
          const s = e2;
          return r2.createNamedExpression(s.name, s.args.map(i2));
        case n.expressionTypes.OPERATOR:
          const o = e2;
          return r2.createOperatorExpression(o.operator, o.args.map(i2));
        case n.expressionTypes.TERM:
          const u = e2;
          return r2.createTermExpression(u.term);
        case n.expressionTypes.WILDCARD:
          return r2.createWildcardExpression();
        default:
          throw new Error("Unknown Expression type " + e2.expressionType);
      }
    }
    static createUniqueVariable(e2, t3, r2) {
      let n2 = 0, i2 = e2;
      for (; t3[i2]; )
        i2 = e2 + n2++;
      return r2.variable(i2);
    }
    static isTerm(e2) {
      return e2.termType !== void 0 && e2.termType !== "Quad" && e2.termType !== "Wildcard";
    }
    static isWildcard(e2) {
      return e2.termType === "Wildcard";
    }
  }
  t2.default = a;
}, function(e, t2, r) {
  (t2 = e.exports = r(115)).Stream = t2, t2.Readable = t2, t2.Writable = r(73), t2.Duplex = r(25), t2.Transform = r(118), t2.PassThrough = r(223);
}, function(e, t2, r) {
  var n = r(11), i = n.Buffer;
  function a(e2, t3) {
    for (var r2 in e2)
      t3[r2] = e2[r2];
  }
  function s(e2, t3, r2) {
    return i(e2, t3, r2);
  }
  i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e.exports = n : (a(n, t2), t2.Buffer = s), a(i, s), s.from = function(e2, t3, r2) {
    if (typeof e2 == "number")
      throw new TypeError("Argument must not be a number");
    return i(e2, t3, r2);
  }, s.alloc = function(e2, t3, r2) {
    if (typeof e2 != "number")
      throw new TypeError("Argument must be a number");
    var n2 = i(e2);
    return t3 !== void 0 ? typeof r2 == "string" ? n2.fill(t3, r2) : n2.fill(t3) : n2.fill(0), n2;
  }, s.allocUnsafe = function(e2) {
    if (typeof e2 != "number")
      throw new TypeError("Argument must be a number");
    return i(e2);
  }, s.allocUnsafeSlow = function(e2) {
    if (typeof e2 != "number")
      throw new TypeError("Argument must be a number");
    return n.SlowBuffer(e2);
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3, n, i) {
    var a = r(54);
    function s(e2) {
      var t4 = this;
      this.next = null, this.entry = null, this.finish = function() {
        !function(e3, t5, r2) {
          var n2 = e3.entry;
          e3.entry = null;
          for (; n2; ) {
            var i2 = n2.callback;
            t5.pendingcb--, i2(r2), n2 = n2.next;
          }
          t5.corkedRequestsFree ? t5.corkedRequestsFree.next = e3 : t5.corkedRequestsFree = e3;
        }(t4, e2);
      };
    }
    e.exports = b;
    var o, u = !t3.browser && ["v0.10", "v0.9."].indexOf(t3.version.slice(0, 5)) > -1 ? n : a.nextTick;
    b.WritableState = y;
    var c = Object.create(r(43));
    c.inherits = r(12);
    var l = {
      deprecate: r(109)
    }, h = r(116), d = r(72).Buffer, p = i.Uint8Array || function() {
    };
    var f, g = r(117);
    function m() {
    }
    function y(e2, t4) {
      o = o || r(25), e2 = e2 || {};
      var n2 = t4 instanceof o;
      this.objectMode = !!e2.objectMode, n2 && (this.objectMode = this.objectMode || !!e2.writableObjectMode);
      var i2 = e2.highWaterMark, c2 = e2.writableHighWaterMark, l2 = this.objectMode ? 16 : 16384;
      this.highWaterMark = i2 || i2 === 0 ? i2 : n2 && (c2 || c2 === 0) ? c2 : l2, this.highWaterMark = Math.floor(this.highWaterMark), this.finalCalled = false, this.needDrain = false, this.ending = false, this.ended = false, this.finished = false, this.destroyed = false;
      var h2 = e2.decodeStrings === false;
      this.decodeStrings = !h2, this.defaultEncoding = e2.defaultEncoding || "utf8", this.length = 0, this.writing = false, this.corked = 0, this.sync = true, this.bufferProcessing = false, this.onwrite = function(e3) {
        !function(e4, t5) {
          var r2 = e4._writableState, n3 = r2.sync, i3 = r2.writecb;
          if (function(e5) {
            e5.writing = false, e5.writecb = null, e5.length -= e5.writelen, e5.writelen = 0;
          }(r2), t5)
            !function(e5, t6, r3, n4, i4) {
              --t6.pendingcb, r3 ? (a.nextTick(i4, n4), a.nextTick(E, e5, t6), e5._writableState.errorEmitted = true, e5.emit("error", n4)) : (i4(n4), e5._writableState.errorEmitted = true, e5.emit("error", n4), E(e5, t6));
            }(e4, r2, n3, t5, i3);
          else {
            var s2 = S(r2);
            s2 || r2.corked || r2.bufferProcessing || !r2.bufferedRequest || w(e4, r2), n3 ? u(v, e4, r2, s2, i3) : v(e4, r2, s2, i3);
          }
        }(t4, e3);
      }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = false, this.errorEmitted = false, this.bufferedRequestCount = 0, this.corkedRequestsFree = new s(this);
    }
    function b(e2) {
      if (o = o || r(25), !(f.call(b, this) || this instanceof o))
        return new b(e2);
      this._writableState = new y(e2, this), this.writable = true, e2 && (typeof e2.write == "function" && (this._write = e2.write), typeof e2.writev == "function" && (this._writev = e2.writev), typeof e2.destroy == "function" && (this._destroy = e2.destroy), typeof e2.final == "function" && (this._final = e2.final)), h.call(this);
    }
    function _(e2, t4, r2, n2, i2, a2, s2) {
      t4.writelen = n2, t4.writecb = s2, t4.writing = true, t4.sync = true, r2 ? e2._writev(i2, t4.onwrite) : e2._write(i2, a2, t4.onwrite), t4.sync = false;
    }
    function v(e2, t4, r2, n2) {
      r2 || function(e3, t5) {
        t5.length === 0 && t5.needDrain && (t5.needDrain = false, e3.emit("drain"));
      }(e2, t4), t4.pendingcb--, n2(), E(e2, t4);
    }
    function w(e2, t4) {
      t4.bufferProcessing = true;
      var r2 = t4.bufferedRequest;
      if (e2._writev && r2 && r2.next) {
        var n2 = t4.bufferedRequestCount, i2 = new Array(n2), a2 = t4.corkedRequestsFree;
        a2.entry = r2;
        for (var o2 = 0, u2 = true; r2; )
          i2[o2] = r2, r2.isBuf || (u2 = false), r2 = r2.next, o2 += 1;
        i2.allBuffers = u2, _(e2, t4, true, t4.length, i2, "", a2.finish), t4.pendingcb++, t4.lastBufferedRequest = null, a2.next ? (t4.corkedRequestsFree = a2.next, a2.next = null) : t4.corkedRequestsFree = new s(t4), t4.bufferedRequestCount = 0;
      } else {
        for (; r2; ) {
          var c2 = r2.chunk, l2 = r2.encoding, h2 = r2.callback;
          if (_(e2, t4, false, t4.objectMode ? 1 : c2.length, c2, l2, h2), r2 = r2.next, t4.bufferedRequestCount--, t4.writing)
            break;
        }
        r2 === null && (t4.lastBufferedRequest = null);
      }
      t4.bufferedRequest = r2, t4.bufferProcessing = false;
    }
    function S(e2) {
      return e2.ending && e2.length === 0 && e2.bufferedRequest === null && !e2.finished && !e2.writing;
    }
    function T(e2, t4) {
      e2._final(function(r2) {
        t4.pendingcb--, r2 && e2.emit("error", r2), t4.prefinished = true, e2.emit("prefinish"), E(e2, t4);
      });
    }
    function E(e2, t4) {
      var r2 = S(t4);
      return r2 && (!function(e3, t5) {
        t5.prefinished || t5.finalCalled || (typeof e3._final == "function" ? (t5.pendingcb++, t5.finalCalled = true, a.nextTick(T, e3, t5)) : (t5.prefinished = true, e3.emit("prefinish")));
      }(e2, t4), t4.pendingcb === 0 && (t4.finished = true, e2.emit("finish"))), r2;
    }
    c.inherits(b, h), y.prototype.getBuffer = function() {
      for (var e2 = this.bufferedRequest, t4 = []; e2; )
        t4.push(e2), e2 = e2.next;
      return t4;
    }, function() {
      try {
        Object.defineProperty(y.prototype, "buffer", {
          get: l.deprecate(function() {
            return this.getBuffer();
          }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
        });
      } catch (e2) {
      }
    }(), typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (f = Function.prototype[Symbol.hasInstance], Object.defineProperty(b, Symbol.hasInstance, {
      value: function(e2) {
        return !!f.call(this, e2) || this === b && (e2 && e2._writableState instanceof y);
      }
    })) : f = function(e2) {
      return e2 instanceof this;
    }, b.prototype.pipe = function() {
      this.emit("error", new Error("Cannot pipe, not readable"));
    }, b.prototype.write = function(e2, t4, r2) {
      var n2, i2 = this._writableState, s2 = false, o2 = !i2.objectMode && (n2 = e2, d.isBuffer(n2) || n2 instanceof p);
      return o2 && !d.isBuffer(e2) && (e2 = function(e3) {
        return d.from(e3);
      }(e2)), typeof t4 == "function" && (r2 = t4, t4 = null), o2 ? t4 = "buffer" : t4 || (t4 = i2.defaultEncoding), typeof r2 != "function" && (r2 = m), i2.ended ? function(e3, t5) {
        var r3 = new Error("write after end");
        e3.emit("error", r3), a.nextTick(t5, r3);
      }(this, r2) : (o2 || function(e3, t5, r3, n3) {
        var i3 = true, s3 = false;
        return r3 === null ? s3 = new TypeError("May not write null values to stream") : typeof r3 == "string" || r3 === void 0 || t5.objectMode || (s3 = new TypeError("Invalid non-string/buffer chunk")), s3 && (e3.emit("error", s3), a.nextTick(n3, s3), i3 = false), i3;
      }(this, i2, e2, r2)) && (i2.pendingcb++, s2 = function(e3, t5, r3, n3, i3, a2) {
        if (!r3) {
          var s3 = function(e4, t6, r4) {
            e4.objectMode || e4.decodeStrings === false || typeof t6 != "string" || (t6 = d.from(t6, r4));
            return t6;
          }(t5, n3, i3);
          n3 !== s3 && (r3 = true, i3 = "buffer", n3 = s3);
        }
        var o3 = t5.objectMode ? 1 : n3.length;
        t5.length += o3;
        var u2 = t5.length < t5.highWaterMark;
        u2 || (t5.needDrain = true);
        if (t5.writing || t5.corked) {
          var c2 = t5.lastBufferedRequest;
          t5.lastBufferedRequest = {
            chunk: n3,
            encoding: i3,
            isBuf: r3,
            callback: a2,
            next: null
          }, c2 ? c2.next = t5.lastBufferedRequest : t5.bufferedRequest = t5.lastBufferedRequest, t5.bufferedRequestCount += 1;
        } else
          _(e3, t5, false, o3, n3, i3, a2);
        return u2;
      }(this, i2, o2, e2, t4, r2)), s2;
    }, b.prototype.cork = function() {
      this._writableState.corked++;
    }, b.prototype.uncork = function() {
      var e2 = this._writableState;
      e2.corked && (e2.corked--, e2.writing || e2.corked || e2.finished || e2.bufferProcessing || !e2.bufferedRequest || w(this, e2));
    }, b.prototype.setDefaultEncoding = function(e2) {
      if (typeof e2 == "string" && (e2 = e2.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e2 + "").toLowerCase()) > -1))
        throw new TypeError("Unknown encoding: " + e2);
      return this._writableState.defaultEncoding = e2, this;
    }, Object.defineProperty(b.prototype, "writableHighWaterMark", {
      enumerable: false,
      get: function() {
        return this._writableState.highWaterMark;
      }
    }), b.prototype._write = function(e2, t4, r2) {
      r2(new Error("_write() is not implemented"));
    }, b.prototype._writev = null, b.prototype.end = function(e2, t4, r2) {
      var n2 = this._writableState;
      typeof e2 == "function" ? (r2 = e2, e2 = null, t4 = null) : typeof t4 == "function" && (r2 = t4, t4 = null), e2 != null && this.write(e2, t4), n2.corked && (n2.corked = 1, this.uncork()), n2.ending || n2.finished || function(e3, t5, r3) {
        t5.ending = true, E(e3, t5), r3 && (t5.finished ? a.nextTick(r3) : e3.once("finish", r3));
        t5.ended = true, e3.writable = false;
      }(this, n2, r2);
    }, Object.defineProperty(b.prototype, "destroyed", {
      get: function() {
        return this._writableState !== void 0 && this._writableState.destroyed;
      },
      set: function(e2) {
        this._writableState && (this._writableState.destroyed = e2);
      }
    }), b.prototype.destroy = g.destroy, b.prototype._undestroy = g.undestroy, b.prototype._destroy = function(e2, t4) {
      this.end(), t4(e2);
    };
  }).call(this, r(8), r(44).setImmediate, r(10));
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(238), t2), i(r(122), t2);
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    var n = r(123), i = r(239), a = e2.from && e2.from !== Uint8Array.from;
    function s(e3, t3) {
      return typeof e3 == "string" ? t3 == e3 : e3 && typeof e3.exec == "function" ? e3.exec(t3) : typeof e3 == "boolean" || typeof e3 == "object" ? e3 : typeof e3 == "function" && e3(t3);
    }
    t2.parse = function(t3, r2) {
      var o, u, c = new n(), l = i(function(t4) {
        typeof t4 == "string" && (t4 = a ? e2.from(t4) : new e2(t4)), c.write(t4);
      }, function(e3) {
        e3 && l.write(e3), o && l.emit("header", o), u && l.emit("footer", u), l.queue(null);
      });
      typeof t3 == "string" && (t3 = t3.split(".").map(function(e3) {
        return e3 === "$*" ? {
          emitKey: true
        } : e3 === "*" || (e3 === "" ? {
          recurse: true
        } : e3);
      }));
      return t3 && t3.length || (t3 = null), c.onValue = function(e3) {
        if (this.root || (l.root = e3), t3) {
          for (var n2 = 0, i2 = 0, a2 = false, u2 = false; n2 < t3.length; ) {
            var c2, d = t3[n2];
            if (i2++, d && !d.recurse) {
              if (!(c2 = i2 === this.stack.length ? this : this.stack[i2]))
                return;
              if (!s(d, c2.key))
                return void h(c2.key, e3);
              a2 = !!d.emitKey, u2 = !!d.emitPath, n2++;
            } else {
              n2++;
              var p = t3[n2];
              if (!p)
                return;
              for (; ; ) {
                if (!(c2 = i2 === this.stack.length ? this : this.stack[i2]))
                  return;
                if (s(p, c2.key)) {
                  n2++, Object.isFrozen(this.stack[i2]) || (this.stack[i2].value = null);
                  break;
                }
                h(c2.key, e3), i2++;
              }
            }
          }
          if (o && (l.emit("header", o), o = false), i2 === this.stack.length) {
            0;
            var f = this.stack.slice(1).map(function(e4) {
              return e4.key;
            }).concat([this.key]), g = e3;
            for (var m in g != null && (g = r2 ? r2(g, f) : g) != null && ((a2 || u2) && (g = {
              value: g
            }, a2 && (g.key = this.key), u2 && (g.path = f)), l.queue(g)), this.value && delete this.value[this.key], this.stack)
              Object.isFrozen(this.stack[m]) || (this.stack[m].value = null);
          }
        }
      }, c._onToken = c.onToken, c.onToken = function(e3, r3) {
        c._onToken(e3, r3), this.stack.length === 0 && l.root && (t3 || l.queue(l.root), 0, l.root = null);
      }, c.onError = function(e3) {
        e3.message.indexOf("at position") > -1 && (e3.message = "Invalid JSON (" + e3.message + ")"), l.emit("error", e3);
      }, l;
      function h(e3, t4) {
        o !== false && ((o = o || {})[e3] = t4), u !== false && o === false && ((u = u || {})[e3] = t4);
      }
    }, t2.stringify = function(e3, t3, r2, n2) {
      n2 = n2 || 0, e3 === false ? (e3 = "", t3 = "\n", r2 = "") : e3 == null && (e3 = "[\n", t3 = "\n,\n", r2 = "\n]\n");
      var a2, s2 = true, o = false;
      return a2 = i(function(r3) {
        o = true;
        try {
          var i2 = JSON.stringify(r3, null, n2);
        } catch (e4) {
          return a2.emit("error", e4);
        }
        s2 ? (s2 = false, a2.queue(e3 + i2)) : a2.queue(t3 + i2);
      }, function(t4) {
        o || a2.queue(e3), a2.queue(r2), a2.queue(null);
      });
    }, t2.stringifyObject = function(e3, t3, r2, n2) {
      n2 = n2 || 0, e3 === false ? (e3 = "", t3 = "\n", r2 = "") : e3 == null && (e3 = "{\n", t3 = "\n,\n", r2 = "\n}\n");
      var a2 = true, s2 = false;
      return i(function(r3) {
        s2 = true;
        var i2 = JSON.stringify(r3[0]) + ":" + JSON.stringify(r3[1], null, n2);
        a2 ? (a2 = false, this.queue(e3 + i2)) : this.queue(t3 + i2);
      }, function(t4) {
        s2 || this.queue(e3), this.queue(r2), this.queue(null);
      });
    };
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(243), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var i = n(r(289));
  t2.default = function(e2) {
    if (e2 >= 55296 && e2 <= 57343 || e2 > 1114111)
      return "\uFFFD";
    e2 in i.default && (e2 = i.default[e2]);
    var t3 = "";
    return e2 > 65535 && (e2 -= 65536, t3 += String.fromCharCode(e2 >>> 10 & 1023 | 55296), e2 = 56320 | 1023 & e2), t3 += String.fromCharCode(e2);
  };
}, function(e) {
  e.exports = JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":" ","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}');
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RDFA_CONTENTTYPES = t2.RDFA_FEATURES = void 0, t2.RDFA_FEATURES = {
    "": {
      baseTag: true,
      xmlBase: true,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: true,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: true,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: true,
      roleAttribute: true
    },
    core: {
      baseTag: false,
      xmlBase: false,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: false,
      datetimeAttribute: false,
      timeTag: false,
      htmlDatatype: false,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: false,
      roleAttribute: false
    },
    html: {
      baseTag: true,
      xmlBase: false,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: true,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: true,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: false,
      roleAttribute: true
    },
    xhtml: {
      baseTag: true,
      xmlBase: false,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: true,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: true,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: true,
      roleAttribute: true
    },
    xml: {
      baseTag: false,
      xmlBase: true,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: false,
      inheritSubjectInHeadBody: false,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: false,
      copyRdfaPatterns: false,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: false,
      roleAttribute: true
    }
  }, t2.RDFA_CONTENTTYPES = {
    "text/html": "html",
    "application/xhtml+xml": "xhtml",
    "application/xml": "xml",
    "text/xml": "xml",
    "image/svg+xml": "xml"
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Parser = void 0;
  var i = n(r(140)), a = new Set(["input", "option", "optgroup", "select", "button", "datalist", "textarea"]), s = new Set(["p"]), o = {
    tr: new Set(["tr", "th", "td"]),
    th: new Set(["th"]),
    td: new Set(["thead", "th", "td"]),
    body: new Set(["head", "link", "script"]),
    li: new Set(["li"]),
    p: s,
    h1: s,
    h2: s,
    h3: s,
    h4: s,
    h5: s,
    h6: s,
    select: a,
    input: a,
    output: a,
    button: a,
    datalist: a,
    textarea: a,
    option: new Set(["option"]),
    optgroup: new Set(["optgroup", "option"]),
    dd: new Set(["dt", "dd"]),
    dt: new Set(["dt", "dd"]),
    address: s,
    article: s,
    aside: s,
    blockquote: s,
    details: s,
    div: s,
    dl: s,
    fieldset: s,
    figcaption: s,
    figure: s,
    footer: s,
    form: s,
    header: s,
    hr: s,
    main: s,
    nav: s,
    ol: s,
    pre: s,
    section: s,
    table: s,
    ul: s,
    rt: new Set(["rt", "rp"]),
    rp: new Set(["rt", "rp"]),
    tbody: new Set(["thead", "tbody"]),
    tfoot: new Set(["thead", "tbody"])
  }, u = new Set(["area", "base", "basefont", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr"]), c = new Set(["math", "svg"]), l = new Set(["mi", "mo", "mn", "ms", "mtext", "annotation-xml", "foreignObject", "desc", "title"]), h = /\s|\//, d = function() {
    function e2(e3, t3) {
      var r2, n2, a2, s2, o2;
      t3 === void 0 && (t3 = {}), this.startIndex = 0, this.endIndex = null, this.tagname = "", this.attribname = "", this.attribvalue = "", this.attribs = null, this.stack = [], this.foreignContext = [], this.options = t3, this.cbs = e3 != null ? e3 : {}, this.lowerCaseTagNames = (r2 = t3.lowerCaseTags) !== null && r2 !== void 0 ? r2 : !t3.xmlMode, this.lowerCaseAttributeNames = (n2 = t3.lowerCaseAttributeNames) !== null && n2 !== void 0 ? n2 : !t3.xmlMode, this.tokenizer = new ((a2 = t3.Tokenizer) !== null && a2 !== void 0 ? a2 : i.default)(this.options, this), (o2 = (s2 = this.cbs).onparserinit) === null || o2 === void 0 || o2.call(s2, this);
    }
    return e2.prototype.updatePosition = function(e3) {
      this.endIndex === null ? this.tokenizer.sectionStart <= e3 ? this.startIndex = 0 : this.startIndex = this.tokenizer.sectionStart - e3 : this.startIndex = this.endIndex + 1, this.endIndex = this.tokenizer.getAbsoluteIndex();
    }, e2.prototype.ontext = function(e3) {
      var t3, r2;
      this.updatePosition(1), this.endIndex--, (r2 = (t3 = this.cbs).ontext) === null || r2 === void 0 || r2.call(t3, e3);
    }, e2.prototype.onopentagname = function(e3) {
      var t3, r2;
      if (this.lowerCaseTagNames && (e3 = e3.toLowerCase()), this.tagname = e3, !this.options.xmlMode && Object.prototype.hasOwnProperty.call(o, e3))
        for (var n2 = void 0; this.stack.length > 0 && o[e3].has(n2 = this.stack[this.stack.length - 1]); )
          this.onclosetag(n2);
      !this.options.xmlMode && u.has(e3) || (this.stack.push(e3), c.has(e3) ? this.foreignContext.push(true) : l.has(e3) && this.foreignContext.push(false)), (r2 = (t3 = this.cbs).onopentagname) === null || r2 === void 0 || r2.call(t3, e3), this.cbs.onopentag && (this.attribs = {});
    }, e2.prototype.onopentagend = function() {
      var e3, t3;
      this.updatePosition(1), this.attribs && ((t3 = (e3 = this.cbs).onopentag) === null || t3 === void 0 || t3.call(e3, this.tagname, this.attribs), this.attribs = null), !this.options.xmlMode && this.cbs.onclosetag && u.has(this.tagname) && this.cbs.onclosetag(this.tagname), this.tagname = "";
    }, e2.prototype.onclosetag = function(e3) {
      if (this.updatePosition(1), this.lowerCaseTagNames && (e3 = e3.toLowerCase()), (c.has(e3) || l.has(e3)) && this.foreignContext.pop(), !this.stack.length || !this.options.xmlMode && u.has(e3))
        this.options.xmlMode || e3 !== "br" && e3 !== "p" || (this.onopentagname(e3), this.closeCurrentTag());
      else {
        var t3 = this.stack.lastIndexOf(e3);
        if (t3 !== -1)
          if (this.cbs.onclosetag)
            for (t3 = this.stack.length - t3; t3--; )
              this.cbs.onclosetag(this.stack.pop());
          else
            this.stack.length = t3;
        else
          e3 !== "p" || this.options.xmlMode || (this.onopentagname(e3), this.closeCurrentTag());
      }
    }, e2.prototype.onselfclosingtag = function() {
      this.options.xmlMode || this.options.recognizeSelfClosing || this.foreignContext[this.foreignContext.length - 1] ? this.closeCurrentTag() : this.onopentagend();
    }, e2.prototype.closeCurrentTag = function() {
      var e3, t3, r2 = this.tagname;
      this.onopentagend(), this.stack[this.stack.length - 1] === r2 && ((t3 = (e3 = this.cbs).onclosetag) === null || t3 === void 0 || t3.call(e3, r2), this.stack.pop());
    }, e2.prototype.onattribname = function(e3) {
      this.lowerCaseAttributeNames && (e3 = e3.toLowerCase()), this.attribname = e3;
    }, e2.prototype.onattribdata = function(e3) {
      this.attribvalue += e3;
    }, e2.prototype.onattribend = function(e3) {
      var t3, r2;
      (r2 = (t3 = this.cbs).onattribute) === null || r2 === void 0 || r2.call(t3, this.attribname, this.attribvalue, e3), this.attribs && !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname) && (this.attribs[this.attribname] = this.attribvalue), this.attribname = "", this.attribvalue = "";
    }, e2.prototype.getInstructionName = function(e3) {
      var t3 = e3.search(h), r2 = t3 < 0 ? e3 : e3.substr(0, t3);
      return this.lowerCaseTagNames && (r2 = r2.toLowerCase()), r2;
    }, e2.prototype.ondeclaration = function(e3) {
      if (this.cbs.onprocessinginstruction) {
        var t3 = this.getInstructionName(e3);
        this.cbs.onprocessinginstruction("!" + t3, "!" + e3);
      }
    }, e2.prototype.onprocessinginstruction = function(e3) {
      if (this.cbs.onprocessinginstruction) {
        var t3 = this.getInstructionName(e3);
        this.cbs.onprocessinginstruction("?" + t3, "?" + e3);
      }
    }, e2.prototype.oncomment = function(e3) {
      var t3, r2, n2, i2;
      this.updatePosition(4), (r2 = (t3 = this.cbs).oncomment) === null || r2 === void 0 || r2.call(t3, e3), (i2 = (n2 = this.cbs).oncommentend) === null || i2 === void 0 || i2.call(n2);
    }, e2.prototype.oncdata = function(e3) {
      var t3, r2, n2, i2, a2, s2;
      this.updatePosition(1), this.options.xmlMode || this.options.recognizeCDATA ? ((r2 = (t3 = this.cbs).oncdatastart) === null || r2 === void 0 || r2.call(t3), (i2 = (n2 = this.cbs).ontext) === null || i2 === void 0 || i2.call(n2, e3), (s2 = (a2 = this.cbs).oncdataend) === null || s2 === void 0 || s2.call(a2)) : this.oncomment("[CDATA[" + e3 + "]]");
    }, e2.prototype.onerror = function(e3) {
      var t3, r2;
      (r2 = (t3 = this.cbs).onerror) === null || r2 === void 0 || r2.call(t3, e3);
    }, e2.prototype.onend = function() {
      var e3, t3;
      if (this.cbs.onclosetag)
        for (var r2 = this.stack.length; r2 > 0; this.cbs.onclosetag(this.stack[--r2]))
          ;
      (t3 = (e3 = this.cbs).onend) === null || t3 === void 0 || t3.call(e3);
    }, e2.prototype.reset = function() {
      var e3, t3, r2, n2;
      (t3 = (e3 = this.cbs).onreset) === null || t3 === void 0 || t3.call(e3), this.tokenizer.reset(), this.tagname = "", this.attribname = "", this.attribs = null, this.stack = [], (n2 = (r2 = this.cbs).onparserinit) === null || n2 === void 0 || n2.call(r2, this);
    }, e2.prototype.parseComplete = function(e3) {
      this.reset(), this.end(e3);
    }, e2.prototype.write = function(e3) {
      this.tokenizer.write(e3);
    }, e2.prototype.end = function(e3) {
      this.tokenizer.end(e3);
    }, e2.prototype.pause = function() {
      this.tokenizer.pause();
    }, e2.prototype.resume = function() {
      this.tokenizer.resume();
    }, e2.prototype.parseChunk = function(e3) {
      this.write(e3);
    }, e2.prototype.done = function(e3) {
      this.end(e3);
    }, e2;
  }();
  t2.Parser = d;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(308), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RDFA_CONTENTTYPES = t2.RDFA_FEATURES = void 0, t2.RDFA_FEATURES = {
    "": {
      baseTag: true,
      xmlBase: true,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: true,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: true,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: true,
      roleAttribute: true
    },
    core: {
      baseTag: false,
      xmlBase: false,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: false,
      datetimeAttribute: false,
      timeTag: false,
      htmlDatatype: false,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: false,
      roleAttribute: false
    },
    html: {
      baseTag: true,
      xmlBase: false,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: true,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: true,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: false,
      roleAttribute: true
    },
    xhtml: {
      baseTag: true,
      xmlBase: false,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: true,
      inheritSubjectInHeadBody: true,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: true,
      copyRdfaPatterns: true,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: true,
      roleAttribute: true
    },
    xml: {
      baseTag: false,
      xmlBase: true,
      langAttribute: true,
      onlyAllowUriRelRevIfProperty: false,
      inheritSubjectInHeadBody: false,
      datetimeAttribute: true,
      timeTag: true,
      htmlDatatype: false,
      copyRdfaPatterns: false,
      xmlnsPrefixMappings: true,
      xhtmlInitialContext: false,
      roleAttribute: true
    }
  }, t2.RDFA_CONTENTTYPES = {
    "text/html": "html",
    "application/xhtml+xml": "xhtml",
    "application/xml": "xml",
    "text/xml": "xml",
    "image/svg+xml": "xml"
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  class n {
    static isCompactIri(e2) {
      return e2.indexOf(":") > 0 && !(e2 && e2[0] === "#");
    }
    static getPrefix(e2, t3) {
      if (e2 && e2[0] === "#")
        return null;
      const r2 = e2.indexOf(":");
      if (r2 >= 0) {
        if (e2.length > r2 + 1 && e2.charAt(r2 + 1) === "/" && e2.charAt(r2 + 2) === "/")
          return null;
        const n2 = e2.substr(0, r2);
        if (n2 === "_")
          return null;
        if (t3[n2])
          return n2;
      }
      return null;
    }
    static getContextValueId(e2) {
      if (e2 === null || typeof e2 == "string")
        return e2;
      const t3 = e2["@id"];
      return t3 || null;
    }
    static isSimpleTermDefinitionPrefix(e2, t3) {
      return !n.isPotentialKeyword(e2) && (e2[0] === "_" || t3.allowPrefixNonGenDelims || n.isPrefixIriEndingWithGenDelim(e2));
    }
    static isPotentialKeyword(e2) {
      return typeof e2 == "string" && n.KEYWORD_REGEX.test(e2);
    }
    static isPrefixIriEndingWithGenDelim(e2) {
      return n.ENDS_WITH_GEN_DELIM.test(e2);
    }
    static isPrefixValue(e2) {
      return e2 && (typeof e2 == "string" || e2 && typeof e2 == "object");
    }
    static isValidIri(e2) {
      return n.IRI_REGEX.test(e2);
    }
    static isValidIriWeak(e2) {
      return !!e2 && e2[0] !== ":" && n.IRI_REGEX_WEAK.test(e2);
    }
    static isValidKeyword(e2) {
      return n.VALID_KEYWORDS[e2];
    }
    static isTermProtected(e2, t3) {
      const r2 = e2[t3];
      return !(typeof r2 == "string") && r2 && r2["@protected"];
    }
    static hasProtectedTerms(e2) {
      for (const t3 of Object.keys(e2))
        if (n.isTermProtected(e2, t3))
          return true;
      return false;
    }
    static isReservedInternalKeyword(e2) {
      return e2.startsWith("@__");
    }
  }
  t2.Util = n, n.IRI_REGEX = /^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/, n.IRI_REGEX_WEAK = /(?::[^:])|\//, n.KEYWORD_REGEX = /^@[a-z]+$/i, n.ENDS_WITH_GEN_DELIM = /[:/?#\[\]@]$/, n.REGEX_LANGUAGE_TAG = /^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/, n.REGEX_DIRECTION_TAG = /^(ltr)|(rtl)$/, n.VALID_KEYWORDS = {
    "@base": true,
    "@container": true,
    "@context": true,
    "@direction": true,
    "@graph": true,
    "@id": true,
    "@import": true,
    "@included": true,
    "@index": true,
    "@json": true,
    "@language": true,
    "@list": true,
    "@nest": true,
    "@none": true,
    "@prefix": true,
    "@propagate": true,
    "@protected": true,
    "@reverse": true,
    "@set": true,
    "@type": true,
    "@value": true,
    "@version": true,
    "@vocab": true
  }, n.EXPAND_KEYS_BLACKLIST = ["@base", "@vocab", "@language", "@version", "@direction"], n.ALIAS_DOMAIN_BLACKLIST = ["@container", "@graph", "@id", "@index", "@list", "@nest", "@none", "@prefix", "@reverse", "@set", "@type", "@value", "@version"], n.ALIAS_RANGE_BLACKLIST = ["@context", "@preserve"], n.CONTAINERS = ["@list", "@set", "@index", "@language", "@graph", "@id", "@type"], n.CONTAINERS_1_0 = ["@list", "@set", "@index"];
}, function(e, t2, r) {
  "use strict";
  e.exports = function(e2) {
    return function e3(t3) {
      if (t3 === null || typeof t3 != "object" || t3.toJSON != null)
        return JSON.stringify(t3);
      if (Array.isArray(t3) && t3.length === 0)
        return "[]";
      if (Array.isArray(t3) && t3.length === 1)
        return "[" + e3(t3[0]) + "]";
      if (Array.isArray(t3))
        return "[" + t3.reduce((t4, r3, n) => (t4 = n === 1 ? e3(t4) : t4) + "," + e3(r3)) + "]";
      const r2 = Object.keys(t3);
      if (r2.length === 0)
        return "{}";
      if (r2.length === 1)
        return "{" + e3(r2[0]) + ":" + e3(t3[r2[0]]) + "}";
      return "{" + r2.sort().reduce((r3, n, i) => (r3 = i === 1 ? e3(r3) + ":" + e3(t3[r3]) : r3) + "," + e3(n) + ":" + e3(t3[n])) + "}";
    }(e2);
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(158), t2), i(r(345), t2), i(r(164), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerDefinitionAdapter = void 0;
  const n = r(62);
  class i extends n.NodeHandlerAdapter {
    constructor(e2, t3, r2) {
      super(e2, t3, r2);
    }
  }
  t2.NodeHandlerDefinitionAdapter = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(380), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(515), t2), i(r(516), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.namedFunctions = t2.specialFunctions = t2.regularFunctions = void 0;
  const a = r(90), s = r(533), o = r(534), u = r(538);
  i(r(90), t2), t2.regularFunctions = o.definitions.map((e2, t3) => new a.RegularFunction(t3, e2)).toMap(), t2.specialFunctions = u.specialDefinitions.map((e2, t3) => new a.SpecialFunction(t3, e2)).toMap(), t2.namedFunctions = s.namedDefinitions.map((e2, t3) => new a.NamedFunction(t3, e2)).toMap();
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.promote = t2.SpecialFunction = t2.NamedFunction = t2.RegularFunction = t2.BaseFunction = void 0;
  const n = r(23), i = r(20);
  class a {
    constructor(e2, t3) {
      this.operator = e2, this.apply = (e3) => (this.monomorph(e3) || this.handleInvalidTypes(e3))(e3), this.arity = t3.arity, this.overloads = t3.overloads;
    }
    monomorph(e2) {
      return this.overloads.get(s.asConcreteTypes(e2)) || this.overloads.get(s.asTermTypes(e2)) || this.overloads.get(s.asGenericTerms(e2));
    }
  }
  t2.BaseFunction = a;
  class s {
    static asConcreteTypes(e2) {
      return n.List(e2.map((e3) => e3.type || e3.termType));
    }
    static asTermTypes(e2) {
      return n.List(e2.map((e3) => e3.termType));
    }
    static asGenericTerms(e2) {
      return n.List(Array(e2.length).fill("term"));
    }
  }
  t2.RegularFunction = class extends a {
    constructor(e2, t3) {
      super(e2, t3), this.functionClass = "regular";
    }
    handleInvalidTypes(e2) {
      throw new i.InvalidArgumentTypes(e2, this.operator);
    }
  };
  t2.NamedFunction = class extends a {
    constructor(e2, t3) {
      super(e2, t3), this.functionClass = "named";
    }
    handleInvalidTypes(e2) {
      throw new i.InvalidArgumentTypes(e2, this.operator);
    }
  };
  t2.SpecialFunction = class {
    constructor(e2, t3) {
      var r2;
      this.operator = e2, this.functionClass = "special", this.arity = t3.arity, this.applySync = t3.applySync, this.applyAsync = t3.applyAsync, this.checkArity = t3.checkArity || (r2 = this.arity, (e3) => r2 === 1 / 0 || (Array.isArray(r2) ? r2.indexOf(e3.length) >= 0 : e3.length === r2));
    }
  };
  const o = {
    integer: {
      integer: "integer",
      decimal: "decimal",
      float: "float",
      double: "double"
    },
    decimal: {
      integer: "decimal",
      decimal: "decimal",
      float: "float",
      double: "double"
    },
    float: {
      integer: "float",
      decimal: "float",
      float: "float",
      double: "double"
    },
    double: {
      integer: "double",
      decimal: "double",
      float: "double",
      double: "double"
    }
  };
  t2.promote = function(e2, t3) {
    return o[e2][t3];
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.evaluateQuery = t2.newEngine = t2.bindingsStreamToGraphQl = void 0, i(r(191), t2);
  var a = r(113);
  function s() {
    return r(240);
  }
  Object.defineProperty(t2, "bindingsStreamToGraphQl", {
    enumerable: true,
    get: function() {
      return a.bindingsStreamToGraphQl;
    }
  }), t2.newEngine = s, t2.evaluateQuery = function(e2, t3) {
    return s().query(e2, t3);
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Bus = void 0;
  t2.Bus = class {
    constructor(e2) {
      this.actors = [], this.observers = [], this.dependencyLinks = new Map(), Object.assign(this, e2);
    }
    subscribe(e2) {
      this.actors.push(e2), this.reorderForDependencies();
    }
    subscribeObserver(e2) {
      this.observers.push(e2);
    }
    unsubscribe(e2) {
      const t3 = this.actors.indexOf(e2);
      return t3 >= 0 && (this.actors.splice(t3, 1), true);
    }
    unsubscribeObserver(e2) {
      const t3 = this.observers.indexOf(e2);
      return t3 >= 0 && (this.observers.splice(t3, 1), true);
    }
    publish(e2) {
      return this.actors.map((t3) => ({
        actor: t3,
        reply: t3.test(e2)
      }));
    }
    onRun(e2, t3, r2) {
      for (const n of this.observers)
        n.onRun(e2, t3, r2);
    }
    addDependencies(e2, t3) {
      for (const r2 of t3) {
        let t4 = this.dependencyLinks.get(r2);
        t4 || (t4 = [], this.dependencyLinks.set(r2, t4)), t4.push(e2);
      }
      this.reorderForDependencies();
    }
    reorderForDependencies() {
      if (this.dependencyLinks.size > 0) {
        const e2 = [];
        for (const t3 of this.dependencyLinks.keys()) {
          const r2 = this.actors.indexOf(t3);
          r2 >= 0 && (this.actors.splice(r2, 1), e2.push(t3));
        }
        for (; e2.length > 0; ) {
          let t3 = -1;
          for (let r3 = 0; r3 < e2.length; r3++) {
            let n = true;
            for (const t4 of this.dependencyLinks.get(e2[r3]))
              if (!this.actors.includes(t4) && e2.includes(t4)) {
                n = false;
                break;
              }
            if (n) {
              t3 = r3;
              break;
            }
          }
          if (t3 < 0)
            throw new Error("Cyclic dependency links detected in bus " + this.name);
          const r2 = e2.splice(t3, 1)[0];
          this.actors.push(r2);
        }
      }
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.KEY_CONTEXT_LOG = t2.Logger = void 0;
  class n {
    static getLevelOrdinal(e2) {
      return n.LEVELS[e2];
    }
  }
  t2.Logger = n, n.LEVELS = {
    trace: 0,
    debug: 1,
    info: 2,
    warn: 3,
    error: 4,
    fatal: 5
  }, t2.KEY_CONTEXT_LOG = "@comunica/core:log";
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.getMetadata = t2.ActorQueryOperation = t2.KEY_CONTEXT_QUERY_TIMESTAMP = t2.KEY_CONTEXT_BASEIRI = t2.KEY_CONTEXT_PATTERN_PARENTMETADATA = t2.KEY_CONTEXT_BGP_PATTERNBINDINGS = t2.KEY_CONTEXT_BGP_PARENTMETADATA = t2.KEY_CONTEXT_BGP_CURRENTMETADATA = void 0;
  const n = r(0), i = r(95);
  t2.KEY_CONTEXT_BGP_CURRENTMETADATA = "@comunica/bus-query-operation:bgpCurrentMetadata", t2.KEY_CONTEXT_BGP_PARENTMETADATA = "@comunica/bus-query-operation:bgpParentMetadata", t2.KEY_CONTEXT_BGP_PATTERNBINDINGS = "@comunica/bus-query-operation:bgpPatternBindings", t2.KEY_CONTEXT_PATTERN_PARENTMETADATA = "@comunica/bus-query-operation:patternParentMetadata", t2.KEY_CONTEXT_BASEIRI = "@comunica/actor-init-sparql:baseIRI", t2.KEY_CONTEXT_QUERY_TIMESTAMP = "@comunica/actor-init-sparql:queryTimestamp";
  class a extends n.Actor {
    constructor(e2) {
      super(e2);
    }
    static getSafeBindings(e2) {
      return a.validateQueryOutput(e2, "bindings"), e2;
    }
    static getSafeQuads(e2) {
      return a.validateQueryOutput(e2, "quads"), e2;
    }
    static getSafeBoolean(e2) {
      return a.validateQueryOutput(e2, "boolean"), e2;
    }
    static cachifyMetadata(e2) {
      let t3;
      return e2 && (() => t3 || (t3 = e2()));
    }
    static validateQueryOutput(e2, t3) {
      if (e2.type !== t3)
        throw new Error(`Invalid query output type: Expected '${t3}' but got '${e2.type}'`);
    }
    static getExpressionContext(e2, r2) {
      if (e2) {
        const n2 = e2.get(t2.KEY_CONTEXT_QUERY_TIMESTAMP), i2 = e2.get(t2.KEY_CONTEXT_BASEIRI);
        return Object.assign({
          now: n2,
          baseIRI: i2
        }, r2 ? {
          exists: a.createExistenceResolver(e2, r2)
        } : {});
      }
      return {};
    }
    static createExistenceResolver(e2, t3) {
      return (r2, n2) => __async(this, null, function* () {
        const s = i.materializeOperation(r2.input, n2), o = yield t3.mediate({
          operation: s,
          context: e2
        }), u = a.getSafeBindings(o);
        return new Promise((e3, t4) => {
          u.bindingsStream.on("end", () => {
            e3(false);
          }), u.bindingsStream.on("error", t4), u.bindingsStream.on("data", () => {
            u.bindingsStream.close(), e3(true);
          });
        }).then((e3) => r2.not ? !e3 : e3);
      });
    }
  }
  t2.ActorQueryOperation = a, t2.getMetadata = function(e2) {
    return e2.metadata ? e2.metadata() : Promise.resolve({});
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.materializeOperation = t2.materializeTerm = t2.ensureBindings = t2.isBindings = t2.Bindings = void 0;
  const n = r(23), i = r(4), a = r(6);
  function s(e2) {
    return n.Map(e2);
  }
  function o(e2) {
    return n.Map.isMap(e2);
  }
  function u(e2, t3) {
    if (e2.termType === "Variable") {
      const r2 = t3.get(i.termToString(e2));
      if (r2)
        return r2;
    }
    return e2;
  }
  t2.Bindings = s, t2.isBindings = o, t2.ensureBindings = function(e2) {
    return o(e2) ? e2 : s(e2);
  }, t2.materializeTerm = u, t2.materializeOperation = function e2(t3, r2, n2 = false) {
    return a.Util.mapOperation(t3, {
      path: (e3, t4) => ({
        recurse: false,
        result: t4.createPath(u(e3.subject, r2), e3.predicate, u(e3.object, r2), u(e3.graph, r2))
      }),
      pattern: (e3, t4) => ({
        recurse: false,
        result: t4.createPattern(u(e3.subject, r2), u(e3.predicate, r2), u(e3.object, r2), u(e3.graph, r2))
      }),
      extend(t4) {
        if (r2.has(i.termToString(t4.variable))) {
          if (n2)
            throw new Error(`Tried to bind variable ${i.termToString(t4.variable)} in a BIND operator.`);
          return {
            recurse: true,
            result: e2(t4.input, r2, n2)
          };
        }
        return {
          recurse: true,
          result: t4
        };
      },
      group(e3, t4) {
        if (n2) {
          for (const t5 of e3.variables)
            if (r2.has(i.termToString(t5)))
              throw new Error(`Tried to bind variable ${i.termToString(t5)} in a GROUP BY operator.`);
          return {
            recurse: true,
            result: e3
          };
        }
        const a2 = e3.variables.filter((e4) => !r2.has(i.termToString(e4)));
        return {
          recurse: true,
          result: t4.createGroup(e3.input, a2, e3.aggregates)
        };
      },
      project(e3, t4) {
        if (n2) {
          for (const t5 of e3.variables)
            if (r2.has(i.termToString(t5)))
              throw new Error(`Tried to bind variable ${i.termToString(t5)} in a SELECT operator.`);
          return {
            recurse: true,
            result: e3
          };
        }
        const a2 = e3.variables.filter((e4) => !r2.has(i.termToString(e4)));
        return {
          recurse: true,
          result: t4.createProject(e3.input, a2)
        };
      },
      values(e3, t4) {
        if (!n2) {
          const n3 = e3.variables.filter((e4) => !r2.has(i.termToString(e4))), a2 = e3.bindings.map((e4) => {
            const t5 = Object.assign({}, e4);
            return r2.forEach((e5, r3) => delete t5[r3]), t5;
          });
          return {
            recurse: true,
            result: t4.createValues(n3, a2)
          };
        }
        for (const t5 of e3.variables)
          if (r2.has(i.termToString(t5)))
            throw new Error(`Tried to bind variable ${i.termToString(t5)} in a VALUES operator.`);
        return {
          recurse: false,
          result: e3
        };
      },
      expression(e3, t4) {
        if (e3.expressionType === "term")
          return {
            recurse: false,
            result: t4.createTermExpression(u(e3.term, r2))
          };
        if (e3.expressionType === "aggregate" && "variable" in e3 && r2.has(i.termToString(e3.variable))) {
          if (n2)
            throw new Error(`Tried to bind ${i.termToString(e3.variable)} in a ${e3.aggregator} aggregate.`);
          return {
            recurse: true,
            result: e3
          };
        }
        return {
          recurse: true,
          result: e3
        };
      }
    });
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.BlankNode = void 0;
  t2.BlankNode = class {
    constructor(e2) {
      this.termType = "BlankNode", this.value = e2;
    }
    equals(e2) {
      return !!e2 && e2.termType === "BlankNode" && e2.value === this.value;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DefaultGraph = void 0;
  class n {
    constructor() {
      this.termType = "DefaultGraph", this.value = "";
    }
    equals(e2) {
      return !!e2 && e2.termType === "DefaultGraph";
    }
  }
  t2.DefaultGraph = n, n.INSTANCE = new n();
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Literal = void 0;
  const n = r(68);
  class i {
    constructor(e2, t3) {
      this.termType = "Literal", this.value = e2, typeof t3 == "string" ? (this.language = t3, this.datatype = i.RDF_LANGUAGE_STRING) : t3 ? (this.language = "", this.datatype = t3) : (this.language = "", this.datatype = i.XSD_STRING);
    }
    equals(e2) {
      return !!e2 && e2.termType === "Literal" && e2.value === this.value && e2.language === this.language && e2.datatype.equals(this.datatype);
    }
  }
  t2.Literal = i, i.RDF_LANGUAGE_STRING = new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"), i.XSD_STRING = new n.NamedNode("http://www.w3.org/2001/XMLSchema#string");
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Quad = void 0;
  t2.Quad = class {
    constructor(e2, t3, r2, n) {
      this.termType = "Quad", this.value = "", this.subject = e2, this.predicate = t3, this.object = r2, this.graph = n;
    }
    equals(e2) {
      return !!e2 && (e2.termType === "Quad" || !e2.termType) && this.subject.equals(e2.subject) && this.predicate.equals(e2.predicate) && this.object.equals(e2.object) && this.graph.equals(e2.graph);
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Variable = void 0;
  t2.Variable = class {
    constructor(e2) {
      this.termType = "Variable", this.value = e2;
    }
    equals(e2) {
      return !!e2 && e2.termType === "Variable" && e2.value === this.value;
    }
  };
}, function(e, t2) {
  e.exports = function(e2) {
    return e2.webpackPolyfill || (e2.deprecate = function() {
    }, e2.paths = [], e2.children || (e2.children = []), Object.defineProperty(e2, "loaded", {
      enumerable: true,
      get: function() {
        return e2.l;
      }
    }), Object.defineProperty(e2, "id", {
      enumerable: true,
      get: function() {
        return e2.i;
      }
    }), e2.webpackPolyfill = 1), e2;
  };
}, function(e, t2, r) {
  const {
    Term: n
  } = r(41);
  class i extends n {
    constructor() {
      return super(""), a || this;
    }
    equals(e2) {
      return e2 && this.termType === e2.termType;
    }
  }
  Object.defineProperty(i.prototype, "value", {
    enumerable: true,
    value: "*"
  }), Object.defineProperty(i.prototype, "termType", {
    enumerable: true,
    value: "Wildcard"
  });
  var a = new i();
  e.exports.Wildcard = i;
}, function(e, t2) {
  var r = {}.toString;
  e.exports = Array.isArray || function(e2) {
    return r.call(e2) == "[object Array]";
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3, n) {
    var i;
    e.exports = x, x.ReadableState = E;
    r(22).EventEmitter;
    var a = function(e2, t4) {
      return e2.listeners(t4).length;
    }, s = r(105), o = r(11).Buffer, u = t3.Uint8Array || function() {
    };
    var c, l = r(204);
    c = l && l.debuglog ? l.debuglog("stream") : function() {
    };
    var h, d, p, f = r(205), g = r(106), m = r(107).getHighWaterMark, y = r(31).codes, b = y.ERR_INVALID_ARG_TYPE, _ = y.ERR_STREAM_PUSH_AFTER_EOF, v = y.ERR_METHOD_NOT_IMPLEMENTED, w = y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
    r(12)(x, s);
    var S = g.errorOrDestroy, T = ["error", "close", "destroy", "pause", "resume"];
    function E(e2, t4, n2) {
      i = i || r(32), e2 = e2 || {}, typeof n2 != "boolean" && (n2 = t4 instanceof i), this.objectMode = !!e2.objectMode, n2 && (this.objectMode = this.objectMode || !!e2.readableObjectMode), this.highWaterMark = m(this, e2, "readableHighWaterMark", n2), this.buffer = new f(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = false, this.endEmitted = false, this.reading = false, this.sync = true, this.needReadable = false, this.emittedReadable = false, this.readableListening = false, this.resumeScheduled = false, this.paused = true, this.emitClose = e2.emitClose !== false, this.autoDestroy = !!e2.autoDestroy, this.destroyed = false, this.defaultEncoding = e2.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = false, this.decoder = null, this.encoding = null, e2.encoding && (h || (h = r(33).StringDecoder), this.decoder = new h(e2.encoding), this.encoding = e2.encoding);
    }
    function x(e2) {
      if (i = i || r(32), !(this instanceof x))
        return new x(e2);
      var t4 = this instanceof i;
      this._readableState = new E(e2, this, t4), this.readable = true, e2 && (typeof e2.read == "function" && (this._read = e2.read), typeof e2.destroy == "function" && (this._destroy = e2.destroy)), s.call(this);
    }
    function O(e2, t4, r2, n2, i2) {
      c("readableAddChunk", t4);
      var a2, s2 = e2._readableState;
      if (t4 === null)
        s2.reading = false, function(e3, t5) {
          if (c("onEofChunk"), t5.ended)
            return;
          if (t5.decoder) {
            var r3 = t5.decoder.end();
            r3 && r3.length && (t5.buffer.push(r3), t5.length += t5.objectMode ? 1 : r3.length);
          }
          t5.ended = true, t5.sync ? I(e3) : (t5.needReadable = false, t5.emittedReadable || (t5.emittedReadable = true, N(e3)));
        }(e2, s2);
      else if (i2 || (a2 = function(e3, t5) {
        var r3;
        n3 = t5, o.isBuffer(n3) || n3 instanceof u || typeof t5 == "string" || t5 === void 0 || e3.objectMode || (r3 = new b("chunk", ["string", "Buffer", "Uint8Array"], t5));
        var n3;
        return r3;
      }(s2, t4)), a2)
        S(e2, a2);
      else if (s2.objectMode || t4 && t4.length > 0)
        if (typeof t4 == "string" || s2.objectMode || Object.getPrototypeOf(t4) === o.prototype || (t4 = function(e3) {
          return o.from(e3);
        }(t4)), n2)
          s2.endEmitted ? S(e2, new w()) : A(e2, s2, t4, true);
        else if (s2.ended)
          S(e2, new _());
        else {
          if (s2.destroyed)
            return false;
          s2.reading = false, s2.decoder && !r2 ? (t4 = s2.decoder.write(t4), s2.objectMode || t4.length !== 0 ? A(e2, s2, t4, false) : P(e2, s2)) : A(e2, s2, t4, false);
        }
      else
        n2 || (s2.reading = false, P(e2, s2));
      return !s2.ended && (s2.length < s2.highWaterMark || s2.length === 0);
    }
    function A(e2, t4, r2, n2) {
      t4.flowing && t4.length === 0 && !t4.sync ? (t4.awaitDrain = 0, e2.emit("data", r2)) : (t4.length += t4.objectMode ? 1 : r2.length, n2 ? t4.buffer.unshift(r2) : t4.buffer.push(r2), t4.needReadable && I(e2)), P(e2, t4);
    }
    Object.defineProperty(x.prototype, "destroyed", {
      enumerable: false,
      get: function() {
        return this._readableState !== void 0 && this._readableState.destroyed;
      },
      set: function(e2) {
        this._readableState && (this._readableState.destroyed = e2);
      }
    }), x.prototype.destroy = g.destroy, x.prototype._undestroy = g.undestroy, x.prototype._destroy = function(e2, t4) {
      t4(e2);
    }, x.prototype.push = function(e2, t4) {
      var r2, n2 = this._readableState;
      return n2.objectMode ? r2 = true : typeof e2 == "string" && ((t4 = t4 || n2.defaultEncoding) !== n2.encoding && (e2 = o.from(e2, t4), t4 = ""), r2 = true), O(this, e2, t4, false, r2);
    }, x.prototype.unshift = function(e2) {
      return O(this, e2, null, true, false);
    }, x.prototype.isPaused = function() {
      return this._readableState.flowing === false;
    }, x.prototype.setEncoding = function(e2) {
      h || (h = r(33).StringDecoder);
      var t4 = new h(e2);
      this._readableState.decoder = t4, this._readableState.encoding = this._readableState.decoder.encoding;
      for (var n2 = this._readableState.buffer.head, i2 = ""; n2 !== null; )
        i2 += t4.write(n2.data), n2 = n2.next;
      return this._readableState.buffer.clear(), i2 !== "" && this._readableState.buffer.push(i2), this._readableState.length = i2.length, this;
    };
    function R(e2, t4) {
      return e2 <= 0 || t4.length === 0 && t4.ended ? 0 : t4.objectMode ? 1 : e2 != e2 ? t4.flowing && t4.length ? t4.buffer.head.data.length : t4.length : (e2 > t4.highWaterMark && (t4.highWaterMark = function(e3) {
        return e3 >= 1073741824 ? e3 = 1073741824 : (e3--, e3 |= e3 >>> 1, e3 |= e3 >>> 2, e3 |= e3 >>> 4, e3 |= e3 >>> 8, e3 |= e3 >>> 16, e3++), e3;
      }(e2)), e2 <= t4.length ? e2 : t4.ended ? t4.length : (t4.needReadable = true, 0));
    }
    function I(e2) {
      var t4 = e2._readableState;
      c("emitReadable", t4.needReadable, t4.emittedReadable), t4.needReadable = false, t4.emittedReadable || (c("emitReadable", t4.flowing), t4.emittedReadable = true, n.nextTick(N, e2));
    }
    function N(e2) {
      var t4 = e2._readableState;
      c("emitReadable_", t4.destroyed, t4.length, t4.ended), t4.destroyed || !t4.length && !t4.ended || (e2.emit("readable"), t4.emittedReadable = false), t4.needReadable = !t4.flowing && !t4.ended && t4.length <= t4.highWaterMark, L(e2);
    }
    function P(e2, t4) {
      t4.readingMore || (t4.readingMore = true, n.nextTick(C, e2, t4));
    }
    function C(e2, t4) {
      for (; !t4.reading && !t4.ended && (t4.length < t4.highWaterMark || t4.flowing && t4.length === 0); ) {
        var r2 = t4.length;
        if (c("maybeReadMore read 0"), e2.read(0), r2 === t4.length)
          break;
      }
      t4.readingMore = false;
    }
    function D(e2) {
      var t4 = e2._readableState;
      t4.readableListening = e2.listenerCount("readable") > 0, t4.resumeScheduled && !t4.paused ? t4.flowing = true : e2.listenerCount("data") > 0 && e2.resume();
    }
    function j(e2) {
      c("readable nexttick read 0"), e2.read(0);
    }
    function k(e2, t4) {
      c("resume", t4.reading), t4.reading || e2.read(0), t4.resumeScheduled = false, e2.emit("resume"), L(e2), t4.flowing && !t4.reading && e2.read(0);
    }
    function L(e2) {
      var t4 = e2._readableState;
      for (c("flow", t4.flowing); t4.flowing && e2.read() !== null; )
        ;
    }
    function M(e2, t4) {
      return t4.length === 0 ? null : (t4.objectMode ? r2 = t4.buffer.shift() : !e2 || e2 >= t4.length ? (r2 = t4.decoder ? t4.buffer.join("") : t4.buffer.length === 1 ? t4.buffer.first() : t4.buffer.concat(t4.length), t4.buffer.clear()) : r2 = t4.buffer.consume(e2, t4.decoder), r2);
      var r2;
    }
    function F(e2) {
      var t4 = e2._readableState;
      c("endReadable", t4.endEmitted), t4.endEmitted || (t4.ended = true, n.nextTick(B, t4, e2));
    }
    function B(e2, t4) {
      if (c("endReadableNT", e2.endEmitted, e2.length), !e2.endEmitted && e2.length === 0 && (e2.endEmitted = true, t4.readable = false, t4.emit("end"), e2.autoDestroy)) {
        var r2 = t4._writableState;
        (!r2 || r2.autoDestroy && r2.finished) && t4.destroy();
      }
    }
    function q(e2, t4) {
      for (var r2 = 0, n2 = e2.length; r2 < n2; r2++)
        if (e2[r2] === t4)
          return r2;
      return -1;
    }
    x.prototype.read = function(e2) {
      c("read", e2), e2 = parseInt(e2, 10);
      var t4 = this._readableState, r2 = e2;
      if (e2 !== 0 && (t4.emittedReadable = false), e2 === 0 && t4.needReadable && ((t4.highWaterMark !== 0 ? t4.length >= t4.highWaterMark : t4.length > 0) || t4.ended))
        return c("read: emitReadable", t4.length, t4.ended), t4.length === 0 && t4.ended ? F(this) : I(this), null;
      if ((e2 = R(e2, t4)) === 0 && t4.ended)
        return t4.length === 0 && F(this), null;
      var n2, i2 = t4.needReadable;
      return c("need readable", i2), (t4.length === 0 || t4.length - e2 < t4.highWaterMark) && c("length less than watermark", i2 = true), t4.ended || t4.reading ? c("reading or ended", i2 = false) : i2 && (c("do read"), t4.reading = true, t4.sync = true, t4.length === 0 && (t4.needReadable = true), this._read(t4.highWaterMark), t4.sync = false, t4.reading || (e2 = R(r2, t4))), (n2 = e2 > 0 ? M(e2, t4) : null) === null ? (t4.needReadable = t4.length <= t4.highWaterMark, e2 = 0) : (t4.length -= e2, t4.awaitDrain = 0), t4.length === 0 && (t4.ended || (t4.needReadable = true), r2 !== e2 && t4.ended && F(this)), n2 !== null && this.emit("data", n2), n2;
    }, x.prototype._read = function(e2) {
      S(this, new v("_read()"));
    }, x.prototype.pipe = function(e2, t4) {
      var r2 = this, i2 = this._readableState;
      switch (i2.pipesCount) {
        case 0:
          i2.pipes = e2;
          break;
        case 1:
          i2.pipes = [i2.pipes, e2];
          break;
        default:
          i2.pipes.push(e2);
      }
      i2.pipesCount += 1, c("pipe count=%d opts=%j", i2.pipesCount, t4);
      var s2 = (!t4 || t4.end !== false) && e2 !== n.stdout && e2 !== n.stderr ? u2 : m2;
      function o2(t5, n2) {
        c("onunpipe"), t5 === r2 && n2 && n2.hasUnpiped === false && (n2.hasUnpiped = true, c("cleanup"), e2.removeListener("close", f2), e2.removeListener("finish", g2), e2.removeListener("drain", l2), e2.removeListener("error", p2), e2.removeListener("unpipe", o2), r2.removeListener("end", u2), r2.removeListener("end", m2), r2.removeListener("data", d2), h2 = true, !i2.awaitDrain || e2._writableState && !e2._writableState.needDrain || l2());
      }
      function u2() {
        c("onend"), e2.end();
      }
      i2.endEmitted ? n.nextTick(s2) : r2.once("end", s2), e2.on("unpipe", o2);
      var l2 = function(e3) {
        return function() {
          var t5 = e3._readableState;
          c("pipeOnDrain", t5.awaitDrain), t5.awaitDrain && t5.awaitDrain--, t5.awaitDrain === 0 && a(e3, "data") && (t5.flowing = true, L(e3));
        };
      }(r2);
      e2.on("drain", l2);
      var h2 = false;
      function d2(t5) {
        c("ondata");
        var n2 = e2.write(t5);
        c("dest.write", n2), n2 === false && ((i2.pipesCount === 1 && i2.pipes === e2 || i2.pipesCount > 1 && q(i2.pipes, e2) !== -1) && !h2 && (c("false write response, pause", i2.awaitDrain), i2.awaitDrain++), r2.pause());
      }
      function p2(t5) {
        c("onerror", t5), m2(), e2.removeListener("error", p2), a(e2, "error") === 0 && S(e2, t5);
      }
      function f2() {
        e2.removeListener("finish", g2), m2();
      }
      function g2() {
        c("onfinish"), e2.removeListener("close", f2), m2();
      }
      function m2() {
        c("unpipe"), r2.unpipe(e2);
      }
      return r2.on("data", d2), function(e3, t5, r3) {
        if (typeof e3.prependListener == "function")
          return e3.prependListener(t5, r3);
        e3._events && e3._events[t5] ? Array.isArray(e3._events[t5]) ? e3._events[t5].unshift(r3) : e3._events[t5] = [r3, e3._events[t5]] : e3.on(t5, r3);
      }(e2, "error", p2), e2.once("close", f2), e2.once("finish", g2), e2.emit("pipe", r2), i2.flowing || (c("pipe resume"), r2.resume()), e2;
    }, x.prototype.unpipe = function(e2) {
      var t4 = this._readableState, r2 = {
        hasUnpiped: false
      };
      if (t4.pipesCount === 0)
        return this;
      if (t4.pipesCount === 1)
        return e2 && e2 !== t4.pipes || (e2 || (e2 = t4.pipes), t4.pipes = null, t4.pipesCount = 0, t4.flowing = false, e2 && e2.emit("unpipe", this, r2)), this;
      if (!e2) {
        var n2 = t4.pipes, i2 = t4.pipesCount;
        t4.pipes = null, t4.pipesCount = 0, t4.flowing = false;
        for (var a2 = 0; a2 < i2; a2++)
          n2[a2].emit("unpipe", this, {
            hasUnpiped: false
          });
        return this;
      }
      var s2 = q(t4.pipes, e2);
      return s2 === -1 || (t4.pipes.splice(s2, 1), t4.pipesCount -= 1, t4.pipesCount === 1 && (t4.pipes = t4.pipes[0]), e2.emit("unpipe", this, r2)), this;
    }, x.prototype.on = function(e2, t4) {
      var r2 = s.prototype.on.call(this, e2, t4), i2 = this._readableState;
      return e2 === "data" ? (i2.readableListening = this.listenerCount("readable") > 0, i2.flowing !== false && this.resume()) : e2 === "readable" && (i2.endEmitted || i2.readableListening || (i2.readableListening = i2.needReadable = true, i2.flowing = false, i2.emittedReadable = false, c("on readable", i2.length, i2.reading), i2.length ? I(this) : i2.reading || n.nextTick(j, this))), r2;
    }, x.prototype.addListener = x.prototype.on, x.prototype.removeListener = function(e2, t4) {
      var r2 = s.prototype.removeListener.call(this, e2, t4);
      return e2 === "readable" && n.nextTick(D, this), r2;
    }, x.prototype.removeAllListeners = function(e2) {
      var t4 = s.prototype.removeAllListeners.apply(this, arguments);
      return e2 !== "readable" && e2 !== void 0 || n.nextTick(D, this), t4;
    }, x.prototype.resume = function() {
      var e2 = this._readableState;
      return e2.flowing || (c("resume"), e2.flowing = !e2.readableListening, function(e3, t4) {
        t4.resumeScheduled || (t4.resumeScheduled = true, n.nextTick(k, e3, t4));
      }(this, e2)), e2.paused = false, this;
    }, x.prototype.pause = function() {
      return c("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== false && (c("pause"), this._readableState.flowing = false, this.emit("pause")), this._readableState.paused = true, this;
    }, x.prototype.wrap = function(e2) {
      var t4 = this, r2 = this._readableState, n2 = false;
      for (var i2 in e2.on("end", function() {
        if (c("wrapped end"), r2.decoder && !r2.ended) {
          var e3 = r2.decoder.end();
          e3 && e3.length && t4.push(e3);
        }
        t4.push(null);
      }), e2.on("data", function(i3) {
        (c("wrapped data"), r2.decoder && (i3 = r2.decoder.write(i3)), r2.objectMode && i3 == null) || (r2.objectMode || i3 && i3.length) && (t4.push(i3) || (n2 = true, e2.pause()));
      }), e2)
        this[i2] === void 0 && typeof e2[i2] == "function" && (this[i2] = function(t5) {
          return function() {
            return e2[t5].apply(e2, arguments);
          };
        }(i2));
      for (var a2 = 0; a2 < T.length; a2++)
        e2.on(T[a2], this.emit.bind(this, T[a2]));
      return this._read = function(t5) {
        c("wrapped _read", t5), n2 && (n2 = false, e2.resume());
      }, this;
    }, typeof Symbol == "function" && (x.prototype[Symbol.asyncIterator] = function() {
      return d === void 0 && (d = r(208)), d(this);
    }), Object.defineProperty(x.prototype, "readableHighWaterMark", {
      enumerable: false,
      get: function() {
        return this._readableState.highWaterMark;
      }
    }), Object.defineProperty(x.prototype, "readableBuffer", {
      enumerable: false,
      get: function() {
        return this._readableState && this._readableState.buffer;
      }
    }), Object.defineProperty(x.prototype, "readableFlowing", {
      enumerable: false,
      get: function() {
        return this._readableState.flowing;
      },
      set: function(e2) {
        this._readableState && (this._readableState.flowing = e2);
      }
    }), x._fromList = M, Object.defineProperty(x.prototype, "readableLength", {
      enumerable: false,
      get: function() {
        return this._readableState.length;
      }
    }), typeof Symbol == "function" && (x.from = function(e2, t4) {
      return p === void 0 && (p = r(209)), p(x, e2, t4);
    });
  }).call(this, r(10), r(8));
}, function(e, t2, r) {
  e.exports = r(22).EventEmitter;
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    function r2(e2, t4) {
      i(e2, t4), n(e2);
    }
    function n(e2) {
      e2._writableState && !e2._writableState.emitClose || e2._readableState && !e2._readableState.emitClose || e2.emit("close");
    }
    function i(e2, t4) {
      e2.emit("error", t4);
    }
    e.exports = {
      destroy: function(e2, a) {
        var s = this, o = this._readableState && this._readableState.destroyed, u = this._writableState && this._writableState.destroyed;
        return o || u ? (a ? a(e2) : e2 && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = true, t3.nextTick(i, this, e2)) : t3.nextTick(i, this, e2)), this) : (this._readableState && (this._readableState.destroyed = true), this._writableState && (this._writableState.destroyed = true), this._destroy(e2 || null, function(e3) {
          !a && e3 ? s._writableState ? s._writableState.errorEmitted ? t3.nextTick(n, s) : (s._writableState.errorEmitted = true, t3.nextTick(r2, s, e3)) : t3.nextTick(r2, s, e3) : a ? (t3.nextTick(n, s), a(e3)) : t3.nextTick(n, s);
        }), this);
      },
      undestroy: function() {
        this._readableState && (this._readableState.destroyed = false, this._readableState.reading = false, this._readableState.ended = false, this._readableState.endEmitted = false), this._writableState && (this._writableState.destroyed = false, this._writableState.ended = false, this._writableState.ending = false, this._writableState.finalCalled = false, this._writableState.prefinished = false, this._writableState.finished = false, this._writableState.errorEmitted = false);
      },
      errorOrDestroy: function(e2, t4) {
        var r3 = e2._readableState, n2 = e2._writableState;
        r3 && r3.autoDestroy || n2 && n2.autoDestroy ? e2.destroy(t4) : e2.emit("error", t4);
      }
    };
  }).call(this, r(8));
}, function(e, t2, r) {
  "use strict";
  var n = r(31).codes.ERR_INVALID_OPT_VALUE;
  e.exports = {
    getHighWaterMark: function(e2, t3, r2, i) {
      var a = function(e3, t4, r3) {
        return e3.highWaterMark != null ? e3.highWaterMark : t4 ? e3[r3] : null;
      }(t3, i, r2);
      if (a != null) {
        if (!isFinite(a) || Math.floor(a) !== a || a < 0)
          throw new n(i ? r2 : "highWaterMark", a);
        return Math.floor(a);
      }
      return e2.objectMode ? 16 : 16384;
    }
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3, n) {
    function i(e2) {
      var t4 = this;
      this.next = null, this.entry = null, this.finish = function() {
        !function(e3, t5, r2) {
          var n2 = e3.entry;
          e3.entry = null;
          for (; n2; ) {
            var i2 = n2.callback;
            t5.pendingcb--, i2(r2), n2 = n2.next;
          }
          t5.corkedRequestsFree.next = e3;
        }(t4, e2);
      };
    }
    var a;
    e.exports = x, x.WritableState = E;
    var s = {
      deprecate: r(109)
    }, o = r(105), u = r(11).Buffer, c = t3.Uint8Array || function() {
    };
    var l, h = r(106), d = r(107).getHighWaterMark, p = r(31).codes, f = p.ERR_INVALID_ARG_TYPE, g = p.ERR_METHOD_NOT_IMPLEMENTED, m = p.ERR_MULTIPLE_CALLBACK, y = p.ERR_STREAM_CANNOT_PIPE, b = p.ERR_STREAM_DESTROYED, _ = p.ERR_STREAM_NULL_VALUES, v = p.ERR_STREAM_WRITE_AFTER_END, w = p.ERR_UNKNOWN_ENCODING, S = h.errorOrDestroy;
    function T() {
    }
    function E(e2, t4, s2) {
      a = a || r(32), e2 = e2 || {}, typeof s2 != "boolean" && (s2 = t4 instanceof a), this.objectMode = !!e2.objectMode, s2 && (this.objectMode = this.objectMode || !!e2.writableObjectMode), this.highWaterMark = d(this, e2, "writableHighWaterMark", s2), this.finalCalled = false, this.needDrain = false, this.ending = false, this.ended = false, this.finished = false, this.destroyed = false;
      var o2 = e2.decodeStrings === false;
      this.decodeStrings = !o2, this.defaultEncoding = e2.defaultEncoding || "utf8", this.length = 0, this.writing = false, this.corked = 0, this.sync = true, this.bufferProcessing = false, this.onwrite = function(e3) {
        !function(e4, t5) {
          var r2 = e4._writableState, i2 = r2.sync, a2 = r2.writecb;
          if (typeof a2 != "function")
            throw new m();
          if (function(e5) {
            e5.writing = false, e5.writecb = null, e5.length -= e5.writelen, e5.writelen = 0;
          }(r2), t5)
            !function(e5, t6, r3, i3, a3) {
              --t6.pendingcb, r3 ? (n.nextTick(a3, i3), n.nextTick(P, e5, t6), e5._writableState.errorEmitted = true, S(e5, i3)) : (a3(i3), e5._writableState.errorEmitted = true, S(e5, i3), P(e5, t6));
            }(e4, r2, i2, t5, a2);
          else {
            var s3 = I(r2) || e4.destroyed;
            s3 || r2.corked || r2.bufferProcessing || !r2.bufferedRequest || R(e4, r2), i2 ? n.nextTick(A, e4, r2, s3, a2) : A(e4, r2, s3, a2);
          }
        }(t4, e3);
      }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = false, this.errorEmitted = false, this.emitClose = e2.emitClose !== false, this.autoDestroy = !!e2.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new i(this);
    }
    function x(e2) {
      var t4 = this instanceof (a = a || r(32));
      if (!t4 && !l.call(x, this))
        return new x(e2);
      this._writableState = new E(e2, this, t4), this.writable = true, e2 && (typeof e2.write == "function" && (this._write = e2.write), typeof e2.writev == "function" && (this._writev = e2.writev), typeof e2.destroy == "function" && (this._destroy = e2.destroy), typeof e2.final == "function" && (this._final = e2.final)), o.call(this);
    }
    function O(e2, t4, r2, n2, i2, a2, s2) {
      t4.writelen = n2, t4.writecb = s2, t4.writing = true, t4.sync = true, t4.destroyed ? t4.onwrite(new b("write")) : r2 ? e2._writev(i2, t4.onwrite) : e2._write(i2, a2, t4.onwrite), t4.sync = false;
    }
    function A(e2, t4, r2, n2) {
      r2 || function(e3, t5) {
        t5.length === 0 && t5.needDrain && (t5.needDrain = false, e3.emit("drain"));
      }(e2, t4), t4.pendingcb--, n2(), P(e2, t4);
    }
    function R(e2, t4) {
      t4.bufferProcessing = true;
      var r2 = t4.bufferedRequest;
      if (e2._writev && r2 && r2.next) {
        var n2 = t4.bufferedRequestCount, a2 = new Array(n2), s2 = t4.corkedRequestsFree;
        s2.entry = r2;
        for (var o2 = 0, u2 = true; r2; )
          a2[o2] = r2, r2.isBuf || (u2 = false), r2 = r2.next, o2 += 1;
        a2.allBuffers = u2, O(e2, t4, true, t4.length, a2, "", s2.finish), t4.pendingcb++, t4.lastBufferedRequest = null, s2.next ? (t4.corkedRequestsFree = s2.next, s2.next = null) : t4.corkedRequestsFree = new i(t4), t4.bufferedRequestCount = 0;
      } else {
        for (; r2; ) {
          var c2 = r2.chunk, l2 = r2.encoding, h2 = r2.callback;
          if (O(e2, t4, false, t4.objectMode ? 1 : c2.length, c2, l2, h2), r2 = r2.next, t4.bufferedRequestCount--, t4.writing)
            break;
        }
        r2 === null && (t4.lastBufferedRequest = null);
      }
      t4.bufferedRequest = r2, t4.bufferProcessing = false;
    }
    function I(e2) {
      return e2.ending && e2.length === 0 && e2.bufferedRequest === null && !e2.finished && !e2.writing;
    }
    function N(e2, t4) {
      e2._final(function(r2) {
        t4.pendingcb--, r2 && S(e2, r2), t4.prefinished = true, e2.emit("prefinish"), P(e2, t4);
      });
    }
    function P(e2, t4) {
      var r2 = I(t4);
      if (r2 && (function(e3, t5) {
        t5.prefinished || t5.finalCalled || (typeof e3._final != "function" || t5.destroyed ? (t5.prefinished = true, e3.emit("prefinish")) : (t5.pendingcb++, t5.finalCalled = true, n.nextTick(N, e3, t5)));
      }(e2, t4), t4.pendingcb === 0 && (t4.finished = true, e2.emit("finish"), t4.autoDestroy))) {
        var i2 = e2._readableState;
        (!i2 || i2.autoDestroy && i2.endEmitted) && e2.destroy();
      }
      return r2;
    }
    r(12)(x, o), E.prototype.getBuffer = function() {
      for (var e2 = this.bufferedRequest, t4 = []; e2; )
        t4.push(e2), e2 = e2.next;
      return t4;
    }, function() {
      try {
        Object.defineProperty(E.prototype, "buffer", {
          get: s.deprecate(function() {
            return this.getBuffer();
          }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
        });
      } catch (e2) {
      }
    }(), typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (l = Function.prototype[Symbol.hasInstance], Object.defineProperty(x, Symbol.hasInstance, {
      value: function(e2) {
        return !!l.call(this, e2) || this === x && (e2 && e2._writableState instanceof E);
      }
    })) : l = function(e2) {
      return e2 instanceof this;
    }, x.prototype.pipe = function() {
      S(this, new y());
    }, x.prototype.write = function(e2, t4, r2) {
      var i2, a2 = this._writableState, s2 = false, o2 = !a2.objectMode && (i2 = e2, u.isBuffer(i2) || i2 instanceof c);
      return o2 && !u.isBuffer(e2) && (e2 = function(e3) {
        return u.from(e3);
      }(e2)), typeof t4 == "function" && (r2 = t4, t4 = null), o2 ? t4 = "buffer" : t4 || (t4 = a2.defaultEncoding), typeof r2 != "function" && (r2 = T), a2.ending ? function(e3, t5) {
        var r3 = new v();
        S(e3, r3), n.nextTick(t5, r3);
      }(this, r2) : (o2 || function(e3, t5, r3, i3) {
        var a3;
        return r3 === null ? a3 = new _() : typeof r3 == "string" || t5.objectMode || (a3 = new f("chunk", ["string", "Buffer"], r3)), !a3 || (S(e3, a3), n.nextTick(i3, a3), false);
      }(this, a2, e2, r2)) && (a2.pendingcb++, s2 = function(e3, t5, r3, n2, i3, a3) {
        if (!r3) {
          var s3 = function(e4, t6, r4) {
            e4.objectMode || e4.decodeStrings === false || typeof t6 != "string" || (t6 = u.from(t6, r4));
            return t6;
          }(t5, n2, i3);
          n2 !== s3 && (r3 = true, i3 = "buffer", n2 = s3);
        }
        var o3 = t5.objectMode ? 1 : n2.length;
        t5.length += o3;
        var c2 = t5.length < t5.highWaterMark;
        c2 || (t5.needDrain = true);
        if (t5.writing || t5.corked) {
          var l2 = t5.lastBufferedRequest;
          t5.lastBufferedRequest = {
            chunk: n2,
            encoding: i3,
            isBuf: r3,
            callback: a3,
            next: null
          }, l2 ? l2.next = t5.lastBufferedRequest : t5.bufferedRequest = t5.lastBufferedRequest, t5.bufferedRequestCount += 1;
        } else
          O(e3, t5, false, o3, n2, i3, a3);
        return c2;
      }(this, a2, o2, e2, t4, r2)), s2;
    }, x.prototype.cork = function() {
      this._writableState.corked++;
    }, x.prototype.uncork = function() {
      var e2 = this._writableState;
      e2.corked && (e2.corked--, e2.writing || e2.corked || e2.bufferProcessing || !e2.bufferedRequest || R(this, e2));
    }, x.prototype.setDefaultEncoding = function(e2) {
      if (typeof e2 == "string" && (e2 = e2.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e2 + "").toLowerCase()) > -1))
        throw new w(e2);
      return this._writableState.defaultEncoding = e2, this;
    }, Object.defineProperty(x.prototype, "writableBuffer", {
      enumerable: false,
      get: function() {
        return this._writableState && this._writableState.getBuffer();
      }
    }), Object.defineProperty(x.prototype, "writableHighWaterMark", {
      enumerable: false,
      get: function() {
        return this._writableState.highWaterMark;
      }
    }), x.prototype._write = function(e2, t4, r2) {
      r2(new g("_write()"));
    }, x.prototype._writev = null, x.prototype.end = function(e2, t4, r2) {
      var i2 = this._writableState;
      return typeof e2 == "function" ? (r2 = e2, e2 = null, t4 = null) : typeof t4 == "function" && (r2 = t4, t4 = null), e2 != null && this.write(e2, t4), i2.corked && (i2.corked = 1, this.uncork()), i2.ending || function(e3, t5, r3) {
        t5.ending = true, P(e3, t5), r3 && (t5.finished ? n.nextTick(r3) : e3.once("finish", r3));
        t5.ended = true, e3.writable = false;
      }(this, i2, r2), this;
    }, Object.defineProperty(x.prototype, "writableLength", {
      enumerable: false,
      get: function() {
        return this._writableState.length;
      }
    }), Object.defineProperty(x.prototype, "destroyed", {
      enumerable: false,
      get: function() {
        return this._writableState !== void 0 && this._writableState.destroyed;
      },
      set: function(e2) {
        this._writableState && (this._writableState.destroyed = e2);
      }
    }), x.prototype.destroy = h.destroy, x.prototype._undestroy = h.undestroy, x.prototype._destroy = function(e2, t4) {
      t4(e2);
    };
  }).call(this, r(10), r(8));
}, function(e, t2, r) {
  (function(t3) {
    function r2(e2) {
      try {
        if (!t3.localStorage)
          return false;
      } catch (e3) {
        return false;
      }
      var r3 = t3.localStorage[e2];
      return r3 != null && String(r3).toLowerCase() === "true";
    }
    e.exports = function(e2, t4) {
      if (r2("noDeprecation"))
        return e2;
      var n = false;
      return function() {
        if (!n) {
          if (r2("throwDeprecation"))
            throw new Error(t4);
          r2("traceDeprecation") ? console.trace(t4) : console.warn(t4), n = true;
        }
        return e2.apply(this, arguments);
      };
    };
  }).call(this, r(10));
}, function(e, t2, r) {
  "use strict";
  e.exports = l;
  var n = r(31).codes, i = n.ERR_METHOD_NOT_IMPLEMENTED, a = n.ERR_MULTIPLE_CALLBACK, s = n.ERR_TRANSFORM_ALREADY_TRANSFORMING, o = n.ERR_TRANSFORM_WITH_LENGTH_0, u = r(32);
  function c(e2, t3) {
    var r2 = this._transformState;
    r2.transforming = false;
    var n2 = r2.writecb;
    if (n2 === null)
      return this.emit("error", new a());
    r2.writechunk = null, r2.writecb = null, t3 != null && this.push(t3), n2(e2);
    var i2 = this._readableState;
    i2.reading = false, (i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
  }
  function l(e2) {
    if (!(this instanceof l))
      return new l(e2);
    u.call(this, e2), this._transformState = {
      afterTransform: c.bind(this),
      needTransform: false,
      transforming: false,
      writecb: null,
      writechunk: null,
      writeencoding: null
    }, this._readableState.needReadable = true, this._readableState.sync = false, e2 && (typeof e2.transform == "function" && (this._transform = e2.transform), typeof e2.flush == "function" && (this._flush = e2.flush)), this.on("prefinish", h);
  }
  function h() {
    var e2 = this;
    typeof this._flush != "function" || this._readableState.destroyed ? d(this, null, null) : this._flush(function(t3, r2) {
      d(e2, t3, r2);
    });
  }
  function d(e2, t3, r2) {
    if (t3)
      return e2.emit("error", t3);
    if (r2 != null && e2.push(r2), e2._writableState.length)
      throw new o();
    if (e2._transformState.transforming)
      throw new s();
    return e2.push(null);
  }
  r(12)(l, u), l.prototype.push = function(e2, t3) {
    return this._transformState.needTransform = false, u.prototype.push.call(this, e2, t3);
  }, l.prototype._transform = function(e2, t3, r2) {
    r2(new i("_transform()"));
  }, l.prototype._write = function(e2, t3, r2) {
    var n2 = this._transformState;
    if (n2.writecb = r2, n2.writechunk = e2, n2.writeencoding = t3, !n2.transforming) {
      var i2 = this._readableState;
      (n2.needTransform || i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
    }
  }, l.prototype._read = function(e2) {
    var t3 = this._transformState;
    t3.writechunk === null || t3.transforming ? t3.needTransform = true : (t3.transforming = true, this._transform(t3.writechunk, t3.writeencoding, t3.afterTransform));
  }, l.prototype._destroy = function(e2, t3) {
    u.prototype._destroy.call(this, e2, function(e3) {
      t3(e3);
    });
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationTyped = t2.KEY_CONTEXT_QUERYOPERATION = void 0;
  const n = r(94);
  t2.KEY_CONTEXT_QUERYOPERATION = "@comunica/bus-query-operation:operation";
  class i extends n.ActorQueryOperation {
    constructor(e2, t3) {
      if (super(Object.assign(Object.assign({}, e2), {
        operationName: t3
      })), !this.operationName)
        throw new Error('A valid "operationName" argument must be provided.');
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!e2.operation)
          throw new Error("Missing field 'operation' in a query operation action.");
        if (e2.operation.type !== this.operationName)
          throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${e2.operation.type}`);
        const t3 = e2.operation;
        return this.testOperation(t3, e2.context);
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const r2 = e2.operation, i2 = e2.context && e2.context.set(t2.KEY_CONTEXT_QUERYOPERATION, r2), a = yield this.runOperation(r2, i2);
        return a.metadata && (a.metadata = n.ActorQueryOperation.cachifyMetadata(a.metadata)), a;
      });
    }
  }
  t2.ActorQueryOperationTyped = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveQuadPattern = t2.getDataSourceContext = t2.getDataSourceValue = t2.getDataSourceType = t2.isDataSourceRawType = t2.KEY_CONTEXT_SOURCE = t2.KEY_CONTEXT_SOURCES = void 0;
  const n = r(0);
  function i(e2) {
    return typeof e2 == "string" || "match" in e2;
  }
  function a(e2) {
    return typeof e2 == "string" ? "" : "match" in e2 ? "rdfjsSource" : e2.type;
  }
  function s(e2) {
    return i(e2) ? e2 : e2.value;
  }
  t2.KEY_CONTEXT_SOURCES = "@comunica/bus-rdf-resolve-quad-pattern:sources", t2.KEY_CONTEXT_SOURCE = "@comunica/bus-rdf-resolve-quad-pattern:source", t2.isDataSourceRawType = i, t2.getDataSourceType = a, t2.getDataSourceValue = s, t2.getDataSourceContext = function(e2, t3) {
    return typeof e2 == "string" || "match" in e2 || !e2.context ? t3 : t3.merge(e2.context);
  };
  class o extends n.Actor {
    constructor(e2) {
      super(e2);
    }
    getContextSources(e2) {
      return e2 ? e2.get(t2.KEY_CONTEXT_SOURCES) : void 0;
    }
    getContextSource(e2) {
      return e2 ? e2.get(t2.KEY_CONTEXT_SOURCE) : void 0;
    }
    getContextSourceUrl(e2) {
      if (e2) {
        let t3 = s(e2);
        if (typeof t3 == "string") {
          const e3 = t3.indexOf("#");
          return e3 >= 0 && (t3 = t3.slice(0, e3)), t3;
        }
      }
    }
    hasContextSingleSource(e2) {
      const t3 = this.getContextSource(e2);
      return Boolean(t3 && (i(t3) || t3.value));
    }
    hasContextSingleSourceOfType(e2, t3) {
      const r2 = this.getContextSource(t3);
      return Boolean(r2 && a(r2) === e2 && s(r2));
    }
  }
  t2.ActorRdfResolveQuadPattern = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.bindingsStreamToGraphQl = void 0, i(r(114), t2);
  const a = r(114), {
    bindingsStreamToGraphQl: s
  } = a.ActorSparqlSerializeTree;
  t2.bindingsStreamToGraphQl = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeTree = void 0;
  const n = r(2), i = r(15), a = r(0), s = r(120);
  class o extends i.ActorSparqlSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    static bindingsStreamToGraphQl(e2, t3, r2) {
      const n2 = a.ensureActionContext(t3);
      return new Promise((t4, i2) => {
        const a2 = [], o2 = new s.Converter(r2), u = {
          singularizeVariables: n2.get("@comunica/actor-init-sparql:singularizeVariables") || {}
        };
        e2.on("error", i2), e2.on("data", (e3) => {
          const t5 = e3.toJS(), r3 = {};
          for (const e4 in t5)
            r3[e4.slice(1)] = t5[e4];
          a2.push(r3);
        }), e2.on("end", () => {
          t4(o2.bindingsToTree(a2, u));
        });
      });
    }
    testHandleChecked(e2) {
      return __async(this, null, function* () {
        if (e2.type !== "bindings")
          throw new Error("This actor can only handle bindings streams.");
        return true;
      });
    }
    runHandle(e2, t3) {
      return __async(this, null, function* () {
        const r2 = new n.Readable();
        r2._read = () => {
        };
        const i2 = e2.bindingsStream;
        return i2.on("error", (e3) => r2.emit("error", e3)), o.bindingsStreamToGraphQl(i2, e2.context, {
          materializeRdfJsTerms: true
        }).then((e3) => {
          r2.push(JSON.stringify(e3, null, "  ")), r2.push(null);
        }).catch((e3) => r2.emit("error", e3)), {
          data: r2
        };
      });
    }
  }
  t2.ActorSparqlSerializeTree = o;
}, function(e, t2, r) {
  "use strict";
  (function(t3, n) {
    var i = r(54);
    e.exports = _;
    var a, s = r(103);
    _.ReadableState = b;
    r(22).EventEmitter;
    var o = function(e2, t4) {
      return e2.listeners(t4).length;
    }, u = r(116), c = r(72).Buffer, l = t3.Uint8Array || function() {
    };
    var h = Object.create(r(43));
    h.inherits = r(12);
    var d = r(219), p = void 0;
    p = d && d.debuglog ? d.debuglog("stream") : function() {
    };
    var f, g = r(220), m = r(117);
    h.inherits(_, u);
    var y = ["error", "close", "destroy", "pause", "resume"];
    function b(e2, t4) {
      e2 = e2 || {};
      var n2 = t4 instanceof (a = a || r(25));
      this.objectMode = !!e2.objectMode, n2 && (this.objectMode = this.objectMode || !!e2.readableObjectMode);
      var i2 = e2.highWaterMark, s2 = e2.readableHighWaterMark, o2 = this.objectMode ? 16 : 16384;
      this.highWaterMark = i2 || i2 === 0 ? i2 : n2 && (s2 || s2 === 0) ? s2 : o2, this.highWaterMark = Math.floor(this.highWaterMark), this.buffer = new g(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = false, this.endEmitted = false, this.reading = false, this.sync = true, this.needReadable = false, this.emittedReadable = false, this.readableListening = false, this.resumeScheduled = false, this.destroyed = false, this.defaultEncoding = e2.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = false, this.decoder = null, this.encoding = null, e2.encoding && (f || (f = r(33).StringDecoder), this.decoder = new f(e2.encoding), this.encoding = e2.encoding);
    }
    function _(e2) {
      if (a = a || r(25), !(this instanceof _))
        return new _(e2);
      this._readableState = new b(e2, this), this.readable = true, e2 && (typeof e2.read == "function" && (this._read = e2.read), typeof e2.destroy == "function" && (this._destroy = e2.destroy)), u.call(this);
    }
    function v(e2, t4, r2, n2, i2) {
      var a2, s2 = e2._readableState;
      t4 === null ? (s2.reading = false, function(e3, t5) {
        if (t5.ended)
          return;
        if (t5.decoder) {
          var r3 = t5.decoder.end();
          r3 && r3.length && (t5.buffer.push(r3), t5.length += t5.objectMode ? 1 : r3.length);
        }
        t5.ended = true, T(e3);
      }(e2, s2)) : (i2 || (a2 = function(e3, t5) {
        var r3;
        n3 = t5, c.isBuffer(n3) || n3 instanceof l || typeof t5 == "string" || t5 === void 0 || e3.objectMode || (r3 = new TypeError("Invalid non-string/buffer chunk"));
        var n3;
        return r3;
      }(s2, t4)), a2 ? e2.emit("error", a2) : s2.objectMode || t4 && t4.length > 0 ? (typeof t4 == "string" || s2.objectMode || Object.getPrototypeOf(t4) === c.prototype || (t4 = function(e3) {
        return c.from(e3);
      }(t4)), n2 ? s2.endEmitted ? e2.emit("error", new Error("stream.unshift() after end event")) : w(e2, s2, t4, true) : s2.ended ? e2.emit("error", new Error("stream.push() after EOF")) : (s2.reading = false, s2.decoder && !r2 ? (t4 = s2.decoder.write(t4), s2.objectMode || t4.length !== 0 ? w(e2, s2, t4, false) : x(e2, s2)) : w(e2, s2, t4, false))) : n2 || (s2.reading = false));
      return function(e3) {
        return !e3.ended && (e3.needReadable || e3.length < e3.highWaterMark || e3.length === 0);
      }(s2);
    }
    function w(e2, t4, r2, n2) {
      t4.flowing && t4.length === 0 && !t4.sync ? (e2.emit("data", r2), e2.read(0)) : (t4.length += t4.objectMode ? 1 : r2.length, n2 ? t4.buffer.unshift(r2) : t4.buffer.push(r2), t4.needReadable && T(e2)), x(e2, t4);
    }
    Object.defineProperty(_.prototype, "destroyed", {
      get: function() {
        return this._readableState !== void 0 && this._readableState.destroyed;
      },
      set: function(e2) {
        this._readableState && (this._readableState.destroyed = e2);
      }
    }), _.prototype.destroy = m.destroy, _.prototype._undestroy = m.undestroy, _.prototype._destroy = function(e2, t4) {
      this.push(null), t4(e2);
    }, _.prototype.push = function(e2, t4) {
      var r2, n2 = this._readableState;
      return n2.objectMode ? r2 = true : typeof e2 == "string" && ((t4 = t4 || n2.defaultEncoding) !== n2.encoding && (e2 = c.from(e2, t4), t4 = ""), r2 = true), v(this, e2, t4, false, r2);
    }, _.prototype.unshift = function(e2) {
      return v(this, e2, null, true, false);
    }, _.prototype.isPaused = function() {
      return this._readableState.flowing === false;
    }, _.prototype.setEncoding = function(e2) {
      return f || (f = r(33).StringDecoder), this._readableState.decoder = new f(e2), this._readableState.encoding = e2, this;
    };
    function S(e2, t4) {
      return e2 <= 0 || t4.length === 0 && t4.ended ? 0 : t4.objectMode ? 1 : e2 != e2 ? t4.flowing && t4.length ? t4.buffer.head.data.length : t4.length : (e2 > t4.highWaterMark && (t4.highWaterMark = function(e3) {
        return e3 >= 8388608 ? e3 = 8388608 : (e3--, e3 |= e3 >>> 1, e3 |= e3 >>> 2, e3 |= e3 >>> 4, e3 |= e3 >>> 8, e3 |= e3 >>> 16, e3++), e3;
      }(e2)), e2 <= t4.length ? e2 : t4.ended ? t4.length : (t4.needReadable = true, 0));
    }
    function T(e2) {
      var t4 = e2._readableState;
      t4.needReadable = false, t4.emittedReadable || (p("emitReadable", t4.flowing), t4.emittedReadable = true, t4.sync ? i.nextTick(E, e2) : E(e2));
    }
    function E(e2) {
      p("emit readable"), e2.emit("readable"), I(e2);
    }
    function x(e2, t4) {
      t4.readingMore || (t4.readingMore = true, i.nextTick(O, e2, t4));
    }
    function O(e2, t4) {
      for (var r2 = t4.length; !t4.reading && !t4.flowing && !t4.ended && t4.length < t4.highWaterMark && (p("maybeReadMore read 0"), e2.read(0), r2 !== t4.length); )
        r2 = t4.length;
      t4.readingMore = false;
    }
    function A(e2) {
      p("readable nexttick read 0"), e2.read(0);
    }
    function R(e2, t4) {
      t4.reading || (p("resume read 0"), e2.read(0)), t4.resumeScheduled = false, t4.awaitDrain = 0, e2.emit("resume"), I(e2), t4.flowing && !t4.reading && e2.read(0);
    }
    function I(e2) {
      var t4 = e2._readableState;
      for (p("flow", t4.flowing); t4.flowing && e2.read() !== null; )
        ;
    }
    function N(e2, t4) {
      return t4.length === 0 ? null : (t4.objectMode ? r2 = t4.buffer.shift() : !e2 || e2 >= t4.length ? (r2 = t4.decoder ? t4.buffer.join("") : t4.buffer.length === 1 ? t4.buffer.head.data : t4.buffer.concat(t4.length), t4.buffer.clear()) : r2 = function(e3, t5, r3) {
        var n2;
        e3 < t5.head.data.length ? (n2 = t5.head.data.slice(0, e3), t5.head.data = t5.head.data.slice(e3)) : n2 = e3 === t5.head.data.length ? t5.shift() : r3 ? function(e4, t6) {
          var r4 = t6.head, n3 = 1, i2 = r4.data;
          e4 -= i2.length;
          for (; r4 = r4.next; ) {
            var a2 = r4.data, s2 = e4 > a2.length ? a2.length : e4;
            if (s2 === a2.length ? i2 += a2 : i2 += a2.slice(0, e4), (e4 -= s2) === 0) {
              s2 === a2.length ? (++n3, r4.next ? t6.head = r4.next : t6.head = t6.tail = null) : (t6.head = r4, r4.data = a2.slice(s2));
              break;
            }
            ++n3;
          }
          return t6.length -= n3, i2;
        }(e3, t5) : function(e4, t6) {
          var r4 = c.allocUnsafe(e4), n3 = t6.head, i2 = 1;
          n3.data.copy(r4), e4 -= n3.data.length;
          for (; n3 = n3.next; ) {
            var a2 = n3.data, s2 = e4 > a2.length ? a2.length : e4;
            if (a2.copy(r4, r4.length - e4, 0, s2), (e4 -= s2) === 0) {
              s2 === a2.length ? (++i2, n3.next ? t6.head = n3.next : t6.head = t6.tail = null) : (t6.head = n3, n3.data = a2.slice(s2));
              break;
            }
            ++i2;
          }
          return t6.length -= i2, r4;
        }(e3, t5);
        return n2;
      }(e2, t4.buffer, t4.decoder), r2);
      var r2;
    }
    function P(e2) {
      var t4 = e2._readableState;
      if (t4.length > 0)
        throw new Error('"endReadable()" called on non-empty stream');
      t4.endEmitted || (t4.ended = true, i.nextTick(C, t4, e2));
    }
    function C(e2, t4) {
      e2.endEmitted || e2.length !== 0 || (e2.endEmitted = true, t4.readable = false, t4.emit("end"));
    }
    function D(e2, t4) {
      for (var r2 = 0, n2 = e2.length; r2 < n2; r2++)
        if (e2[r2] === t4)
          return r2;
      return -1;
    }
    _.prototype.read = function(e2) {
      p("read", e2), e2 = parseInt(e2, 10);
      var t4 = this._readableState, r2 = e2;
      if (e2 !== 0 && (t4.emittedReadable = false), e2 === 0 && t4.needReadable && (t4.length >= t4.highWaterMark || t4.ended))
        return p("read: emitReadable", t4.length, t4.ended), t4.length === 0 && t4.ended ? P(this) : T(this), null;
      if ((e2 = S(e2, t4)) === 0 && t4.ended)
        return t4.length === 0 && P(this), null;
      var n2, i2 = t4.needReadable;
      return p("need readable", i2), (t4.length === 0 || t4.length - e2 < t4.highWaterMark) && p("length less than watermark", i2 = true), t4.ended || t4.reading ? p("reading or ended", i2 = false) : i2 && (p("do read"), t4.reading = true, t4.sync = true, t4.length === 0 && (t4.needReadable = true), this._read(t4.highWaterMark), t4.sync = false, t4.reading || (e2 = S(r2, t4))), (n2 = e2 > 0 ? N(e2, t4) : null) === null ? (t4.needReadable = true, e2 = 0) : t4.length -= e2, t4.length === 0 && (t4.ended || (t4.needReadable = true), r2 !== e2 && t4.ended && P(this)), n2 !== null && this.emit("data", n2), n2;
    }, _.prototype._read = function(e2) {
      this.emit("error", new Error("_read() is not implemented"));
    }, _.prototype.pipe = function(e2, t4) {
      var r2 = this, a2 = this._readableState;
      switch (a2.pipesCount) {
        case 0:
          a2.pipes = e2;
          break;
        case 1:
          a2.pipes = [a2.pipes, e2];
          break;
        default:
          a2.pipes.push(e2);
      }
      a2.pipesCount += 1, p("pipe count=%d opts=%j", a2.pipesCount, t4);
      var u2 = (!t4 || t4.end !== false) && e2 !== n.stdout && e2 !== n.stderr ? l2 : _2;
      function c2(t5, n2) {
        p("onunpipe"), t5 === r2 && n2 && n2.hasUnpiped === false && (n2.hasUnpiped = true, p("cleanup"), e2.removeListener("close", y2), e2.removeListener("finish", b2), e2.removeListener("drain", h2), e2.removeListener("error", m2), e2.removeListener("unpipe", c2), r2.removeListener("end", l2), r2.removeListener("end", _2), r2.removeListener("data", g2), d2 = true, !a2.awaitDrain || e2._writableState && !e2._writableState.needDrain || h2());
      }
      function l2() {
        p("onend"), e2.end();
      }
      a2.endEmitted ? i.nextTick(u2) : r2.once("end", u2), e2.on("unpipe", c2);
      var h2 = function(e3) {
        return function() {
          var t5 = e3._readableState;
          p("pipeOnDrain", t5.awaitDrain), t5.awaitDrain && t5.awaitDrain--, t5.awaitDrain === 0 && o(e3, "data") && (t5.flowing = true, I(e3));
        };
      }(r2);
      e2.on("drain", h2);
      var d2 = false;
      var f2 = false;
      function g2(t5) {
        p("ondata"), f2 = false, e2.write(t5) !== false || f2 || ((a2.pipesCount === 1 && a2.pipes === e2 || a2.pipesCount > 1 && D(a2.pipes, e2) !== -1) && !d2 && (p("false write response, pause", r2._readableState.awaitDrain), r2._readableState.awaitDrain++, f2 = true), r2.pause());
      }
      function m2(t5) {
        p("onerror", t5), _2(), e2.removeListener("error", m2), o(e2, "error") === 0 && e2.emit("error", t5);
      }
      function y2() {
        e2.removeListener("finish", b2), _2();
      }
      function b2() {
        p("onfinish"), e2.removeListener("close", y2), _2();
      }
      function _2() {
        p("unpipe"), r2.unpipe(e2);
      }
      return r2.on("data", g2), function(e3, t5, r3) {
        if (typeof e3.prependListener == "function")
          return e3.prependListener(t5, r3);
        e3._events && e3._events[t5] ? s(e3._events[t5]) ? e3._events[t5].unshift(r3) : e3._events[t5] = [r3, e3._events[t5]] : e3.on(t5, r3);
      }(e2, "error", m2), e2.once("close", y2), e2.once("finish", b2), e2.emit("pipe", r2), a2.flowing || (p("pipe resume"), r2.resume()), e2;
    }, _.prototype.unpipe = function(e2) {
      var t4 = this._readableState, r2 = {
        hasUnpiped: false
      };
      if (t4.pipesCount === 0)
        return this;
      if (t4.pipesCount === 1)
        return e2 && e2 !== t4.pipes || (e2 || (e2 = t4.pipes), t4.pipes = null, t4.pipesCount = 0, t4.flowing = false, e2 && e2.emit("unpipe", this, r2)), this;
      if (!e2) {
        var n2 = t4.pipes, i2 = t4.pipesCount;
        t4.pipes = null, t4.pipesCount = 0, t4.flowing = false;
        for (var a2 = 0; a2 < i2; a2++)
          n2[a2].emit("unpipe", this, r2);
        return this;
      }
      var s2 = D(t4.pipes, e2);
      return s2 === -1 || (t4.pipes.splice(s2, 1), t4.pipesCount -= 1, t4.pipesCount === 1 && (t4.pipes = t4.pipes[0]), e2.emit("unpipe", this, r2)), this;
    }, _.prototype.on = function(e2, t4) {
      var r2 = u.prototype.on.call(this, e2, t4);
      if (e2 === "data")
        this._readableState.flowing !== false && this.resume();
      else if (e2 === "readable") {
        var n2 = this._readableState;
        n2.endEmitted || n2.readableListening || (n2.readableListening = n2.needReadable = true, n2.emittedReadable = false, n2.reading ? n2.length && T(this) : i.nextTick(A, this));
      }
      return r2;
    }, _.prototype.addListener = _.prototype.on, _.prototype.resume = function() {
      var e2 = this._readableState;
      return e2.flowing || (p("resume"), e2.flowing = true, function(e3, t4) {
        t4.resumeScheduled || (t4.resumeScheduled = true, i.nextTick(R, e3, t4));
      }(this, e2)), this;
    }, _.prototype.pause = function() {
      return p("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== false && (p("pause"), this._readableState.flowing = false, this.emit("pause")), this;
    }, _.prototype.wrap = function(e2) {
      var t4 = this, r2 = this._readableState, n2 = false;
      for (var i2 in e2.on("end", function() {
        if (p("wrapped end"), r2.decoder && !r2.ended) {
          var e3 = r2.decoder.end();
          e3 && e3.length && t4.push(e3);
        }
        t4.push(null);
      }), e2.on("data", function(i3) {
        (p("wrapped data"), r2.decoder && (i3 = r2.decoder.write(i3)), r2.objectMode && i3 == null) || (r2.objectMode || i3 && i3.length) && (t4.push(i3) || (n2 = true, e2.pause()));
      }), e2)
        this[i2] === void 0 && typeof e2[i2] == "function" && (this[i2] = function(t5) {
          return function() {
            return e2[t5].apply(e2, arguments);
          };
        }(i2));
      for (var a2 = 0; a2 < y.length; a2++)
        e2.on(y[a2], this.emit.bind(this, y[a2]));
      return this._read = function(t5) {
        p("wrapped _read", t5), n2 && (n2 = false, e2.resume());
      }, this;
    }, Object.defineProperty(_.prototype, "readableHighWaterMark", {
      enumerable: false,
      get: function() {
        return this._readableState.highWaterMark;
      }
    }), _._fromList = N;
  }).call(this, r(10), r(8));
}, function(e, t2, r) {
  e.exports = r(22).EventEmitter;
}, function(e, t2, r) {
  "use strict";
  var n = r(54);
  function i(e2, t3) {
    e2.emit("error", t3);
  }
  e.exports = {
    destroy: function(e2, t3) {
      var r2 = this, a = this._readableState && this._readableState.destroyed, s = this._writableState && this._writableState.destroyed;
      return a || s ? (t3 ? t3(e2) : !e2 || this._writableState && this._writableState.errorEmitted || n.nextTick(i, this, e2), this) : (this._readableState && (this._readableState.destroyed = true), this._writableState && (this._writableState.destroyed = true), this._destroy(e2 || null, function(e3) {
        !t3 && e3 ? (n.nextTick(i, r2, e3), r2._writableState && (r2._writableState.errorEmitted = true)) : t3 && t3(e3);
      }), this);
    },
    undestroy: function() {
      this._readableState && (this._readableState.destroyed = false, this._readableState.reading = false, this._readableState.ended = false, this._readableState.endEmitted = false), this._writableState && (this._writableState.destroyed = false, this._writableState.ended = false, this._writableState.ending = false, this._writableState.finished = false, this._writableState.errorEmitted = false);
    }
  };
}, function(e, t2, r) {
  "use strict";
  e.exports = s;
  var n = r(25), i = Object.create(r(43));
  function a(e2, t3) {
    var r2 = this._transformState;
    r2.transforming = false;
    var n2 = r2.writecb;
    if (!n2)
      return this.emit("error", new Error("write callback called multiple times"));
    r2.writechunk = null, r2.writecb = null, t3 != null && this.push(t3), n2(e2);
    var i2 = this._readableState;
    i2.reading = false, (i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
  }
  function s(e2) {
    if (!(this instanceof s))
      return new s(e2);
    n.call(this, e2), this._transformState = {
      afterTransform: a.bind(this),
      needTransform: false,
      transforming: false,
      writecb: null,
      writechunk: null,
      writeencoding: null
    }, this._readableState.needReadable = true, this._readableState.sync = false, e2 && (typeof e2.transform == "function" && (this._transform = e2.transform), typeof e2.flush == "function" && (this._flush = e2.flush)), this.on("prefinish", o);
  }
  function o() {
    var e2 = this;
    typeof this._flush == "function" ? this._flush(function(t3, r2) {
      u(e2, t3, r2);
    }) : u(this, null, null);
  }
  function u(e2, t3, r2) {
    if (t3)
      return e2.emit("error", t3);
    if (r2 != null && e2.push(r2), e2._writableState.length)
      throw new Error("Calling transform done when ws.length != 0");
    if (e2._transformState.transforming)
      throw new Error("Calling transform done when still transforming");
    return e2.push(null);
  }
  i.inherits = r(12), i.inherits(s, n), s.prototype.push = function(e2, t3) {
    return this._transformState.needTransform = false, n.prototype.push.call(this, e2, t3);
  }, s.prototype._transform = function(e2, t3, r2) {
    throw new Error("_transform() is not implemented");
  }, s.prototype._write = function(e2, t3, r2) {
    var n2 = this._transformState;
    if (n2.writecb = r2, n2.writechunk = e2, n2.writeencoding = t3, !n2.transforming) {
      var i2 = this._readableState;
      (n2.needTransform || i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
    }
  }, s.prototype._read = function(e2) {
    var t3 = this._transformState;
    t3.writechunk !== null && t3.writecb && !t3.transforming ? (t3.transforming = true, this._transform(t3.writechunk, t3.writeencoding, t3.afterTransform)) : t3.needTransform = true;
  }, s.prototype._destroy = function(e2, t3) {
    var r2 = this;
    n.prototype._destroy.call(this, e2, function(e3) {
      t3(e3), r2.emit("close");
    });
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorAbstractMediaTyped = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
    run(e2) {
      return __async(this, null, function* () {
        if ("handle" in e2) {
          const t3 = e2;
          return {
            handle: yield this.runHandle(t3.handle, t3.handleMediaType, e2.context)
          };
        }
        if ("mediaTypes" in e2)
          return {
            mediaTypes: yield this.getMediaTypes(e2.context)
          };
        if ("mediaTypeFormats" in e2)
          return {
            mediaTypeFormats: yield this.getMediaTypeFormats(e2.context)
          };
        throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided");
      });
    }
    test(e2) {
      return __async(this, null, function* () {
        if ("handle" in e2) {
          const t3 = e2;
          return {
            handle: yield this.testHandle(t3.handle, t3.handleMediaType, e2.context)
          };
        }
        if ("mediaTypes" in e2)
          return {
            mediaTypes: yield this.testMediaType(e2.context)
          };
        if ("mediaTypeFormats" in e2)
          return {
            mediaTypeFormats: yield this.testMediaTypeFormats(e2.context)
          };
        throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided");
      });
    }
  }
  t2.ActorAbstractMediaTyped = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(231), t2);
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    for (var r2 in e2)
      t2.hasOwnProperty(r2) || (t2[r2] = e2[r2]);
  }
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), n(r(233)), n(r(234)), n(r(235)), n(r(236)), n(r(237));
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SparqlJsonBindingsTransformer = void 0;
  const n = r(2);
  class i extends n.Transform {
    constructor(e2) {
      super({
        objectMode: true
      }), this.parser = e2;
    }
    _transform(e2, t3, r2) {
      r2(null, this.parser.parseJsonBindings(e2));
    }
  }
  t2.SparqlJsonBindingsTransformer = i;
}, function(e, t2, r) {
  (function(t3) {
    var r2 = {}, n = r2.LEFT_BRACE = 1, i = r2.RIGHT_BRACE = 2, a = r2.LEFT_BRACKET = 3, s = r2.RIGHT_BRACKET = 4, o = r2.COLON = 5, u = r2.COMMA = 6, c = r2.TRUE = 7, l = r2.FALSE = 8, h = r2.NULL = 9, d = r2.STRING = 10, p = r2.NUMBER = 11, f = r2.START = 17, g = r2.STOP = 18, m = r2.TRUE1 = 33, y = r2.TRUE2 = 34, b = r2.TRUE3 = 35, _ = r2.FALSE1 = 49, v = r2.FALSE2 = 50, w = r2.FALSE3 = 51, S = r2.FALSE4 = 52, T = r2.NULL1 = 65, E = r2.NULL2 = 66, x = r2.NULL3 = 67, O = r2.NUMBER1 = 81, A = r2.NUMBER3 = 83, R = r2.STRING1 = 97, I = r2.STRING2 = 98, N = r2.STRING3 = 99, P = r2.STRING4 = 100, C = r2.STRING5 = 101, D = r2.STRING6 = 102, j = r2.VALUE = 113, k = r2.KEY = 114, L = r2.OBJECT = 129, M = r2.ARRAY = 130, F = "\\".charCodeAt(0), B = "/".charCodeAt(0), q = "\b".charCodeAt(0), U = "\f".charCodeAt(0), V = "\n".charCodeAt(0), H = "\r".charCodeAt(0), G = "	".charCodeAt(0);
    function z() {
      this.tState = f, this.value = void 0, this.string = void 0, this.stringBuffer = t3.alloc ? t3.alloc(65536) : new t3(65536), this.stringBufferOffset = 0, this.unicode = void 0, this.highSurrogate = void 0, this.key = void 0, this.mode = void 0, this.stack = [], this.state = j, this.bytes_remaining = 0, this.bytes_in_sequence = 0, this.temp_buffs = {
        2: new t3(2),
        3: new t3(3),
        4: new t3(4)
      }, this.offset = -1;
    }
    z.toknam = function(e2) {
      for (var t4 = Object.keys(r2), n2 = 0, i2 = t4.length; n2 < i2; n2++) {
        var a2 = t4[n2];
        if (r2[a2] === e2)
          return a2;
      }
      return e2 && "0x" + e2.toString(16);
    };
    var Q = z.prototype;
    Q.onError = function(e2) {
      throw e2;
    }, Q.charError = function(e2, t4) {
      this.tState = g, this.onError(new Error("Unexpected " + JSON.stringify(String.fromCharCode(e2[t4])) + " at position " + t4 + " in state " + z.toknam(this.tState)));
    }, Q.appendStringChar = function(e2) {
      this.stringBufferOffset >= 65536 && (this.string += this.stringBuffer.toString("utf8"), this.stringBufferOffset = 0), this.stringBuffer[this.stringBufferOffset++] = e2;
    }, Q.appendStringBuf = function(e2, t4, r3) {
      var n2 = e2.length;
      typeof t4 == "number" && (n2 = typeof r3 == "number" ? r3 < 0 ? e2.length - t4 + r3 : r3 - t4 : e2.length - t4), n2 < 0 && (n2 = 0), this.stringBufferOffset + n2 > 65536 && (this.string += this.stringBuffer.toString("utf8", 0, this.stringBufferOffset), this.stringBufferOffset = 0), e2.copy(this.stringBuffer, this.stringBufferOffset, t4, r3), this.stringBufferOffset += n2;
    }, Q.write = function(e2) {
      var r3;
      typeof e2 == "string" && (e2 = new t3(e2));
      for (var g2 = 0, j2 = e2.length; g2 < j2; g2++)
        if (this.tState === f) {
          if (r3 = e2[g2], this.offset++, r3 === 123)
            this.onToken(n, "{");
          else if (r3 === 125)
            this.onToken(i, "}");
          else if (r3 === 91)
            this.onToken(a, "[");
          else if (r3 === 93)
            this.onToken(s, "]");
          else if (r3 === 58)
            this.onToken(o, ":");
          else if (r3 === 44)
            this.onToken(u, ",");
          else if (r3 === 116)
            this.tState = m;
          else if (r3 === 102)
            this.tState = _;
          else if (r3 === 110)
            this.tState = T;
          else if (r3 === 34)
            this.string = "", this.stringBufferOffset = 0, this.tState = R;
          else if (r3 === 45)
            this.string = "-", this.tState = O;
          else if (r3 >= 48 && r3 < 64)
            this.string = String.fromCharCode(r3), this.tState = A;
          else if (r3 !== 32 && r3 !== 9 && r3 !== 10 && r3 !== 13)
            return this.charError(e2, g2);
        } else if (this.tState === R)
          if (r3 = e2[g2], this.bytes_remaining > 0) {
            for (var k2 = 0; k2 < this.bytes_remaining; k2++)
              this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence - this.bytes_remaining + k2] = e2[k2];
            this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]), this.bytes_in_sequence = this.bytes_remaining = 0, g2 = g2 + k2 - 1;
          } else if (this.bytes_remaining === 0 && r3 >= 128) {
            if (r3 <= 193 || r3 > 244)
              return this.onError(new Error("Invalid UTF-8 character at position " + g2 + " in state " + z.toknam(this.tState)));
            if (r3 >= 194 && r3 <= 223 && (this.bytes_in_sequence = 2), r3 >= 224 && r3 <= 239 && (this.bytes_in_sequence = 3), r3 >= 240 && r3 <= 244 && (this.bytes_in_sequence = 4), this.bytes_in_sequence + g2 > e2.length) {
              for (var L2 = 0; L2 <= e2.length - 1 - g2; L2++)
                this.temp_buffs[this.bytes_in_sequence][L2] = e2[g2 + L2];
              this.bytes_remaining = g2 + this.bytes_in_sequence - e2.length, g2 = e2.length - 1;
            } else
              this.appendStringBuf(e2, g2, g2 + this.bytes_in_sequence), g2 = g2 + this.bytes_in_sequence - 1;
          } else if (r3 === 34)
            this.tState = f, this.string += this.stringBuffer.toString("utf8", 0, this.stringBufferOffset), this.stringBufferOffset = 0, this.onToken(d, this.string), this.offset += t3.byteLength(this.string, "utf8") + 1, this.string = void 0;
          else if (r3 === 92)
            this.tState = I;
          else {
            if (!(r3 >= 32))
              return this.charError(e2, g2);
            this.appendStringChar(r3);
          }
        else if (this.tState === I)
          if ((r3 = e2[g2]) === 34)
            this.appendStringChar(r3), this.tState = R;
          else if (r3 === 92)
            this.appendStringChar(F), this.tState = R;
          else if (r3 === 47)
            this.appendStringChar(B), this.tState = R;
          else if (r3 === 98)
            this.appendStringChar(q), this.tState = R;
          else if (r3 === 102)
            this.appendStringChar(U), this.tState = R;
          else if (r3 === 110)
            this.appendStringChar(V), this.tState = R;
          else if (r3 === 114)
            this.appendStringChar(H), this.tState = R;
          else if (r3 === 116)
            this.appendStringChar(G), this.tState = R;
          else {
            if (r3 !== 117)
              return this.charError(e2, g2);
            this.unicode = "", this.tState = N;
          }
        else if (this.tState === N || this.tState === P || this.tState === C || this.tState === D) {
          if (!((r3 = e2[g2]) >= 48 && r3 < 64 || r3 > 64 && r3 <= 70 || r3 > 96 && r3 <= 102))
            return this.charError(e2, g2);
          if (this.unicode += String.fromCharCode(r3), this.tState++ === D) {
            var M2 = parseInt(this.unicode, 16);
            this.unicode = void 0, this.highSurrogate !== void 0 && M2 >= 56320 && M2 < 57344 ? (this.appendStringBuf(new t3(String.fromCharCode(this.highSurrogate, M2))), this.highSurrogate = void 0) : this.highSurrogate === void 0 && M2 >= 55296 && M2 < 56320 ? this.highSurrogate = M2 : (this.highSurrogate !== void 0 && (this.appendStringBuf(new t3(String.fromCharCode(this.highSurrogate))), this.highSurrogate = void 0), this.appendStringBuf(new t3(String.fromCharCode(M2)))), this.tState = R;
          }
        } else if (this.tState === O || this.tState === A)
          switch (r3 = e2[g2]) {
            case 48:
            case 49:
            case 50:
            case 51:
            case 52:
            case 53:
            case 54:
            case 55:
            case 56:
            case 57:
            case 46:
            case 101:
            case 69:
            case 43:
            case 45:
              this.string += String.fromCharCode(r3), this.tState = A;
              break;
            default:
              this.tState = f;
              var Q2 = Number(this.string);
              if (isNaN(Q2))
                return this.charError(e2, g2);
              this.string.match(/[0-9]+/) == this.string && Q2.toString() != this.string ? this.onToken(d, this.string) : this.onToken(p, Q2), this.offset += this.string.length - 1, this.string = void 0, g2--;
          }
        else if (this.tState === m) {
          if (e2[g2] !== 114)
            return this.charError(e2, g2);
          this.tState = y;
        } else if (this.tState === y) {
          if (e2[g2] !== 117)
            return this.charError(e2, g2);
          this.tState = b;
        } else if (this.tState === b) {
          if (e2[g2] !== 101)
            return this.charError(e2, g2);
          this.tState = f, this.onToken(c, true), this.offset += 3;
        } else if (this.tState === _) {
          if (e2[g2] !== 97)
            return this.charError(e2, g2);
          this.tState = v;
        } else if (this.tState === v) {
          if (e2[g2] !== 108)
            return this.charError(e2, g2);
          this.tState = w;
        } else if (this.tState === w) {
          if (e2[g2] !== 115)
            return this.charError(e2, g2);
          this.tState = S;
        } else if (this.tState === S) {
          if (e2[g2] !== 101)
            return this.charError(e2, g2);
          this.tState = f, this.onToken(l, false), this.offset += 4;
        } else if (this.tState === T) {
          if (e2[g2] !== 117)
            return this.charError(e2, g2);
          this.tState = E;
        } else if (this.tState === E) {
          if (e2[g2] !== 108)
            return this.charError(e2, g2);
          this.tState = x;
        } else if (this.tState === x) {
          if (e2[g2] !== 108)
            return this.charError(e2, g2);
          this.tState = f, this.onToken(h, null), this.offset += 3;
        }
    }, Q.onToken = function(e2, t4) {
    }, Q.parseError = function(e2, t4) {
      this.tState = g, this.onError(new Error("Unexpected " + z.toknam(e2) + (t4 ? "(" + JSON.stringify(t4) + ")" : "") + " in state " + z.toknam(this.state)));
    }, Q.push = function() {
      this.stack.push({
        value: this.value,
        key: this.key,
        mode: this.mode
      });
    }, Q.pop = function() {
      var e2 = this.value, t4 = this.stack.pop();
      this.value = t4.value, this.key = t4.key, this.mode = t4.mode, this.emit(e2), this.mode || (this.state = j);
    }, Q.emit = function(e2) {
      this.mode && (this.state = u), this.onValue(e2);
    }, Q.onValue = function(e2) {
    }, Q.onToken = function(e2, t4) {
      if (this.state === j)
        if (e2 === d || e2 === p || e2 === c || e2 === l || e2 === h)
          this.value && (this.value[this.key] = t4), this.emit(t4);
        else if (e2 === n)
          this.push(), this.value ? this.value = this.value[this.key] = {} : this.value = {}, this.key = void 0, this.state = k, this.mode = L;
        else if (e2 === a)
          this.push(), this.value ? this.value = this.value[this.key] = [] : this.value = [], this.key = 0, this.mode = M, this.state = j;
        else if (e2 === i) {
          if (this.mode !== L)
            return this.parseError(e2, t4);
          this.pop();
        } else {
          if (e2 !== s)
            return this.parseError(e2, t4);
          if (this.mode !== M)
            return this.parseError(e2, t4);
          this.pop();
        }
      else if (this.state === k)
        if (e2 === d)
          this.key = t4, this.state = o;
        else {
          if (e2 !== i)
            return this.parseError(e2, t4);
          this.pop();
        }
      else if (this.state === o) {
        if (e2 !== o)
          return this.parseError(e2, t4);
        this.state = j;
      } else {
        if (this.state !== u)
          return this.parseError(e2, t4);
        if (e2 === u)
          this.mode === M ? (this.key++, this.state = j) : this.mode === L && (this.state = k);
        else {
          if (!(e2 === s && this.mode === M || e2 === i && this.mode === L))
            return this.parseError(e2, t4);
          this.pop();
        }
      }
    }, z.C = r2, e.exports = z;
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  "use strict";
  const n = (e2) => e2 !== null && typeof e2 == "object" && typeof e2.pipe == "function";
  n.writable = (e2) => n(e2) && e2.writable !== false && typeof e2._write == "function" && typeof e2._writableState == "object", n.readable = (e2) => n(e2) && e2.readable !== false && typeof e2._read == "function" && typeof e2._readableState == "object", n.duplex = (e2) => n.writable(e2) && n.readable(e2), n.transform = (e2) => n.duplex(e2) && typeof e2._transform == "function" && typeof e2._transformState == "object", e.exports = n;
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    r(2);
    const n = r(247), i = r(248);
    e.exports = r(126), e.exports.toNodeReadable = function(t4) {
      if (t4 instanceof e.exports.ReadableStream || t4 && typeof t4.getReader == "function")
        return i.readable.webToNode(t4);
      throw new TypeError("Expected a ReadableStream.");
    }, e.exports.toWebReadableStream = function(e2) {
      if (n(e2) && e2.readable)
        return i.readable.nodeToWeb(e2);
      if (Array.isArray(e2))
        return i.readable.arrayToWeb(e2);
      if (t3.isBuffer(e2) || typeof e2 == "string")
        return i.readable.arrayToWeb([e2]);
      throw new TypeError("Expected a Node streams.Readable, an Array, Buffer or String.");
    };
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  (function(t3) {
    e.exports = function e2(t4, r2, n) {
      function i(s2, o) {
        if (!r2[s2]) {
          if (!t4[s2]) {
            if (a)
              return a(s2, true);
            var u = new Error("Cannot find module '" + s2 + "'");
            throw u.code = "MODULE_NOT_FOUND", u;
          }
          var c = r2[s2] = {
            exports: {}
          };
          t4[s2][0].call(c.exports, function(e3) {
            var r3 = t4[s2][1][e3];
            return i(r3 || e3);
          }, c, c.exports, e2, t4, r2, n);
        }
        return r2[s2].exports;
      }
      for (var a = false, s = 0; s < n.length; s++)
        i(n[s]);
      return i;
    }({
      1: [function(e2, t4, r2) {
        "use strict";
        Object.defineProperty(r2, "__esModule", {
          value: true
        });
        var n = e2("./spec/reference-implementation/lib/readable-stream").ReadableStream, i = e2("./spec/reference-implementation/lib/writable-stream").WritableStream, a = e2("./spec/reference-implementation/lib/byte-length-queuing-strategy"), s = e2("./spec/reference-implementation/lib/count-queuing-strategy"), o = e2("./spec/reference-implementation/lib/transform-stream").TransformStream;
        r2.ByteLengthQueuingStrategy = a, r2.CountQueuingStrategy = s, r2.ReadableStream = n, r2.WritableStream = i, r2.TransformStream = o;
        var u = {
          ReadableStream: n,
          WritableStream: i,
          ByteLengthQueuingStrategy: a,
          CountQueuingStrategy: s,
          TransformStream: o
        };
        r2.default = u;
      }, {
        "./spec/reference-implementation/lib/byte-length-queuing-strategy": 8,
        "./spec/reference-implementation/lib/count-queuing-strategy": 9,
        "./spec/reference-implementation/lib/readable-stream": 12,
        "./spec/reference-implementation/lib/transform-stream": 13,
        "./spec/reference-implementation/lib/writable-stream": 15
      }],
      2: [function(e2, r2, n) {
        (function(t4) {
          "use strict";
          function n2(e3, t5) {
            if (e3 === t5)
              return 0;
            for (var r3 = e3.length, n3 = t5.length, i2 = 0, a2 = Math.min(r3, n3); i2 < a2; ++i2)
              if (e3[i2] !== t5[i2]) {
                r3 = e3[i2], n3 = t5[i2];
                break;
              }
            return r3 < n3 ? -1 : n3 < r3 ? 1 : 0;
          }
          function i(e3) {
            return t4.Buffer && typeof t4.Buffer.isBuffer == "function" ? t4.Buffer.isBuffer(e3) : !(e3 == null || !e3._isBuffer);
          }
          function a(e3) {
            return Object.prototype.toString.call(e3);
          }
          function s(e3) {
            return !i(e3) && typeof t4.ArrayBuffer == "function" && (typeof ArrayBuffer.isView == "function" ? ArrayBuffer.isView(e3) : !!e3 && (e3 instanceof DataView || !!(e3.buffer && e3.buffer instanceof ArrayBuffer)));
          }
          function o(e3) {
            if (m.isFunction(e3)) {
              if (_)
                return e3.name;
              var t5 = e3.toString().match(w);
              return t5 && t5[1];
            }
          }
          function u(e3, t5) {
            return typeof e3 == "string" ? e3.length < t5 ? e3 : e3.slice(0, t5) : e3;
          }
          function c(e3) {
            if (_ || !m.isFunction(e3))
              return m.inspect(e3);
            var t5 = o(e3);
            return "[Function" + (t5 ? ": " + t5 : "") + "]";
          }
          function l(e3, t5, r3, n3, i2) {
            throw new v.AssertionError({
              message: r3,
              actual: e3,
              expected: t5,
              operator: n3,
              stackStartFunction: i2
            });
          }
          function h(e3, t5) {
            e3 || l(e3, true, t5, "==", v.ok);
          }
          function d(e3, t5, r3, o2) {
            if (e3 === t5)
              return true;
            if (i(e3) && i(t5))
              return n2(e3, t5) === 0;
            if (m.isDate(e3) && m.isDate(t5))
              return e3.getTime() === t5.getTime();
            if (m.isRegExp(e3) && m.isRegExp(t5))
              return e3.source === t5.source && e3.global === t5.global && e3.multiline === t5.multiline && e3.lastIndex === t5.lastIndex && e3.ignoreCase === t5.ignoreCase;
            if (e3 !== null && typeof e3 == "object" || t5 !== null && typeof t5 == "object") {
              if (s(e3) && s(t5) && a(e3) === a(t5) && !(e3 instanceof Float32Array || e3 instanceof Float64Array))
                return n2(new Uint8Array(e3.buffer), new Uint8Array(t5.buffer)) === 0;
              if (i(e3) !== i(t5))
                return false;
              var u2 = (o2 = o2 || {
                actual: [],
                expected: []
              }).actual.indexOf(e3);
              return u2 !== -1 && u2 === o2.expected.indexOf(t5) || (o2.actual.push(e3), o2.expected.push(t5), function(e4, t6, r4, n3) {
                if (e4 == null || t6 == null)
                  return false;
                if (m.isPrimitive(e4) || m.isPrimitive(t6))
                  return e4 === t6;
                if (r4 && Object.getPrototypeOf(e4) !== Object.getPrototypeOf(t6))
                  return false;
                var i2 = p(e4), a2 = p(t6);
                if (i2 && !a2 || !i2 && a2)
                  return false;
                if (i2)
                  return e4 = b.call(e4), t6 = b.call(t6), d(e4, t6, r4);
                var s2, o3, u3 = S(e4), c2 = S(t6);
                if (u3.length !== c2.length)
                  return false;
                for (u3.sort(), c2.sort(), o3 = u3.length - 1; o3 >= 0; o3--)
                  if (u3[o3] !== c2[o3])
                    return false;
                for (o3 = u3.length - 1; o3 >= 0; o3--)
                  if (s2 = u3[o3], !d(e4[s2], t6[s2], r4, n3))
                    return false;
                return true;
              }(e3, t5, r3, o2));
            }
            return r3 ? e3 === t5 : e3 == t5;
          }
          function p(e3) {
            return Object.prototype.toString.call(e3) == "[object Arguments]";
          }
          function f(e3, t5) {
            if (!e3 || !t5)
              return false;
            if (Object.prototype.toString.call(t5) == "[object RegExp]")
              return t5.test(e3);
            try {
              if (e3 instanceof t5)
                return true;
            } catch (e4) {
            }
            return !Error.isPrototypeOf(t5) && t5.call({}, e3) === true;
          }
          function g(e3, t5, r3, n3) {
            var i2;
            if (typeof t5 != "function")
              throw new TypeError('"block" argument must be a function');
            typeof r3 == "string" && (n3 = r3, r3 = null), i2 = function(e4) {
              var t6;
              try {
                e4();
              } catch (e5) {
                t6 = e5;
              }
              return t6;
            }(t5), n3 = (r3 && r3.name ? " (" + r3.name + ")." : ".") + (n3 ? " " + n3 : "."), e3 && !i2 && l(i2, r3, "Missing expected exception" + n3);
            var a2 = typeof n3 == "string", s2 = !e3 && i2 && !r3;
            if ((!e3 && m.isError(i2) && a2 && f(i2, r3) || s2) && l(i2, r3, "Got unwanted exception" + n3), e3 && i2 && r3 && !f(i2, r3) || !e3 && i2)
              throw i2;
          }
          var m = e2("util/"), y = Object.prototype.hasOwnProperty, b = Array.prototype.slice, _ = function() {
          }.name === "foo", v = r2.exports = h, w = /\s*function\s+([^\(\s]*)\s*/;
          v.AssertionError = function(e3) {
            this.name = "AssertionError", this.actual = e3.actual, this.expected = e3.expected, this.operator = e3.operator, e3.message ? (this.message = e3.message, this.generatedMessage = false) : (this.message = function(e4) {
              return u(c(e4.actual), 128) + " " + e4.operator + " " + u(c(e4.expected), 128);
            }(this), this.generatedMessage = true);
            var t5 = e3.stackStartFunction || l;
            if (Error.captureStackTrace)
              Error.captureStackTrace(this, t5);
            else {
              var r3 = new Error();
              if (r3.stack) {
                var n3 = r3.stack, i2 = o(t5), a2 = n3.indexOf("\n" + i2);
                if (a2 >= 0) {
                  var s2 = n3.indexOf("\n", a2 + 1);
                  n3 = n3.substring(s2 + 1);
                }
                this.stack = n3;
              }
            }
          }, m.inherits(v.AssertionError, Error), v.fail = l, v.ok = h, v.equal = function(e3, t5, r3) {
            e3 != t5 && l(e3, t5, r3, "==", v.equal);
          }, v.notEqual = function(e3, t5, r3) {
            e3 == t5 && l(e3, t5, r3, "!=", v.notEqual);
          }, v.deepEqual = function(e3, t5, r3) {
            d(e3, t5, false) || l(e3, t5, r3, "deepEqual", v.deepEqual);
          }, v.deepStrictEqual = function(e3, t5, r3) {
            d(e3, t5, true) || l(e3, t5, r3, "deepStrictEqual", v.deepStrictEqual);
          }, v.notDeepEqual = function(e3, t5, r3) {
            d(e3, t5, false) && l(e3, t5, r3, "notDeepEqual", v.notDeepEqual);
          }, v.notDeepStrictEqual = function e3(t5, r3, n3) {
            d(t5, r3, true) && l(t5, r3, n3, "notDeepStrictEqual", e3);
          }, v.strictEqual = function(e3, t5, r3) {
            e3 !== t5 && l(e3, t5, r3, "===", v.strictEqual);
          }, v.notStrictEqual = function(e3, t5, r3) {
            e3 === t5 && l(e3, t5, r3, "!==", v.notStrictEqual);
          }, v.throws = function(e3, t5, r3) {
            g(true, e3, t5, r3);
          }, v.doesNotThrow = function(e3, t5, r3) {
            g(false, e3, t5, r3);
          }, v.ifError = function(e3) {
            if (e3)
              throw e3;
          };
          var S = Object.keys || function(e3) {
            var t5 = [];
            for (var r3 in e3)
              y.call(e3, r3) && t5.push(r3);
            return t5;
          };
        }).call(this, t3 !== void 0 ? t3 : typeof self != "undefined" ? self : typeof window != "undefined" ? window : {});
      }, {
        "util/": 7
      }],
      3: [function(e2, t4, r2) {
      }, {}],
      4: [function(e2, t4, r2) {
        function n() {
          throw new Error("setTimeout has not been defined");
        }
        function i() {
          throw new Error("clearTimeout has not been defined");
        }
        function a(e3) {
          if (l === setTimeout)
            return setTimeout(e3, 0);
          if ((l === n || !l) && setTimeout)
            return l = setTimeout, setTimeout(e3, 0);
          try {
            return l(e3, 0);
          } catch (t5) {
            try {
              return l.call(null, e3, 0);
            } catch (t6) {
              return l.call(this, e3, 0);
            }
          }
        }
        function s() {
          g && p && (g = false, p.length ? f = p.concat(f) : m = -1, f.length && o());
        }
        function o() {
          if (!g) {
            var e3 = a(s);
            g = true;
            for (var t5 = f.length; t5; ) {
              for (p = f, f = []; ++m < t5; )
                p && p[m].run();
              m = -1, t5 = f.length;
            }
            p = null, g = false, function(e4) {
              if (h === clearTimeout)
                return clearTimeout(e4);
              if ((h === i || !h) && clearTimeout)
                return h = clearTimeout, clearTimeout(e4);
              try {
                h(e4);
              } catch (t6) {
                try {
                  return h.call(null, e4);
                } catch (t7) {
                  return h.call(this, e4);
                }
              }
            }(e3);
          }
        }
        function u(e3, t5) {
          this.fun = e3, this.array = t5;
        }
        function c() {
        }
        var l, h, d = t4.exports = {};
        !function() {
          try {
            l = typeof setTimeout == "function" ? setTimeout : n;
          } catch (e3) {
            l = n;
          }
          try {
            h = typeof clearTimeout == "function" ? clearTimeout : i;
          } catch (e3) {
            h = i;
          }
        }();
        var p, f = [], g = false, m = -1;
        d.nextTick = function(e3) {
          var t5 = new Array(arguments.length - 1);
          if (arguments.length > 1)
            for (var r3 = 1; r3 < arguments.length; r3++)
              t5[r3 - 1] = arguments[r3];
          f.push(new u(e3, t5)), f.length !== 1 || g || a(o);
        }, u.prototype.run = function() {
          this.fun.apply(null, this.array);
        }, d.title = "browser", d.browser = true, d.env = {}, d.argv = [], d.version = "", d.versions = {}, d.on = c, d.addListener = c, d.once = c, d.off = c, d.removeListener = c, d.removeAllListeners = c, d.emit = c, d.prependListener = c, d.prependOnceListener = c, d.listeners = function(e3) {
          return [];
        }, d.binding = function(e3) {
          throw new Error("process.binding is not supported");
        }, d.cwd = function() {
          return "/";
        }, d.chdir = function(e3) {
          throw new Error("process.chdir is not supported");
        }, d.umask = function() {
          return 0;
        };
      }, {}],
      5: [function(e2, t4, r2) {
        typeof Object.create == "function" ? t4.exports = function(e3, t5) {
          e3.super_ = t5, e3.prototype = Object.create(t5.prototype, {
            constructor: {
              value: e3,
              enumerable: false,
              writable: true,
              configurable: true
            }
          });
        } : t4.exports = function(e3, t5) {
          e3.super_ = t5;
          var r3 = function() {
          };
          r3.prototype = t5.prototype, e3.prototype = new r3(), e3.prototype.constructor = e3;
        };
      }, {}],
      6: [function(e2, t4, r2) {
        t4.exports = function(e3) {
          return e3 && typeof e3 == "object" && typeof e3.copy == "function" && typeof e3.fill == "function" && typeof e3.readUInt8 == "function";
        };
      }, {}],
      7: [function(e2, r2, n) {
        (function(t4, r3) {
          function i(e3, t5) {
            var r4 = {
              seen: [],
              stylize: s
            };
            return arguments.length >= 3 && (r4.depth = arguments[2]), arguments.length >= 4 && (r4.colors = arguments[3]), h(t5) ? r4.showHidden = t5 : t5 && n._extend(r4, t5), g(r4.showHidden) && (r4.showHidden = false), g(r4.depth) && (r4.depth = 2), g(r4.colors) && (r4.colors = false), g(r4.customInspect) && (r4.customInspect = true), r4.colors && (r4.stylize = a), o(r4, e3, r4.depth);
          }
          function a(e3, t5) {
            var r4 = i.styles[t5];
            return r4 ? "[" + i.colors[r4][0] + "m" + e3 + "[" + i.colors[r4][1] + "m" : e3;
          }
          function s(e3, t5) {
            return e3;
          }
          function o(e3, t5, r4) {
            if (e3.customInspect && t5 && v(t5.inspect) && t5.inspect !== n.inspect && (!t5.constructor || t5.constructor.prototype !== t5)) {
              var i2 = t5.inspect(r4, e3);
              return f(i2) || (i2 = o(e3, i2, r4)), i2;
            }
            var a2 = function(e4, t6) {
              if (g(t6))
                return e4.stylize("undefined", "undefined");
              if (f(t6)) {
                var r5 = "'" + JSON.stringify(t6).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                return e4.stylize(r5, "string");
              }
              return p(t6) ? e4.stylize("" + t6, "number") : h(t6) ? e4.stylize("" + t6, "boolean") : d(t6) ? e4.stylize("null", "null") : void 0;
            }(e3, t5);
            if (a2)
              return a2;
            var s2 = Object.keys(t5), y2 = function(e4) {
              var t6 = {};
              return e4.forEach(function(e5, r5) {
                t6[e5] = true;
              }), t6;
            }(s2);
            if (e3.showHidden && (s2 = Object.getOwnPropertyNames(t5)), _(t5) && (s2.indexOf("message") >= 0 || s2.indexOf("description") >= 0))
              return u(t5);
            if (s2.length === 0) {
              if (v(t5)) {
                var w2 = t5.name ? ": " + t5.name : "";
                return e3.stylize("[Function" + w2 + "]", "special");
              }
              if (m(t5))
                return e3.stylize(RegExp.prototype.toString.call(t5), "regexp");
              if (b(t5))
                return e3.stylize(Date.prototype.toString.call(t5), "date");
              if (_(t5))
                return u(t5);
            }
            var S2, T2 = "", x2 = false, O2 = ["{", "}"];
            return l(t5) && (x2 = true, O2 = ["[", "]"]), v(t5) && (T2 = " [Function" + (t5.name ? ": " + t5.name : "") + "]"), m(t5) && (T2 = " " + RegExp.prototype.toString.call(t5)), b(t5) && (T2 = " " + Date.prototype.toUTCString.call(t5)), _(t5) && (T2 = " " + u(t5)), s2.length !== 0 || x2 && t5.length != 0 ? r4 < 0 ? m(t5) ? e3.stylize(RegExp.prototype.toString.call(t5), "regexp") : e3.stylize("[Object]", "special") : (e3.seen.push(t5), S2 = x2 ? function(e4, t6, r5, n2, i3) {
              for (var a3 = [], s3 = 0, o2 = t6.length; s3 < o2; ++s3)
                E(t6, String(s3)) ? a3.push(c(e4, t6, r5, n2, String(s3), true)) : a3.push("");
              return i3.forEach(function(i4) {
                i4.match(/^\d+$/) || a3.push(c(e4, t6, r5, n2, i4, true));
              }), a3;
            }(e3, t5, r4, y2, s2) : s2.map(function(n2) {
              return c(e3, t5, r4, y2, n2, x2);
            }), e3.seen.pop(), function(e4, t6, r5) {
              return e4.reduce(function(e5, t7) {
                return t7.indexOf("\n"), e5 + t7.replace(/\u001b\[\d\d?m/g, "").length + 1;
              }, 0) > 60 ? r5[0] + (t6 === "" ? "" : t6 + "\n ") + " " + e4.join(",\n  ") + " " + r5[1] : r5[0] + t6 + " " + e4.join(", ") + " " + r5[1];
            }(S2, T2, O2)) : O2[0] + T2 + O2[1];
          }
          function u(e3) {
            return "[" + Error.prototype.toString.call(e3) + "]";
          }
          function c(e3, t5, r4, n2, i2, a2) {
            var s2, u2, c2;
            if ((c2 = Object.getOwnPropertyDescriptor(t5, i2) || {
              value: t5[i2]
            }).get ? u2 = c2.set ? e3.stylize("[Getter/Setter]", "special") : e3.stylize("[Getter]", "special") : c2.set && (u2 = e3.stylize("[Setter]", "special")), E(n2, i2) || (s2 = "[" + i2 + "]"), u2 || (e3.seen.indexOf(c2.value) < 0 ? (u2 = d(r4) ? o(e3, c2.value, null) : o(e3, c2.value, r4 - 1)).indexOf("\n") > -1 && (u2 = a2 ? u2.split("\n").map(function(e4) {
              return "  " + e4;
            }).join("\n").substr(2) : "\n" + u2.split("\n").map(function(e4) {
              return "   " + e4;
            }).join("\n")) : u2 = e3.stylize("[Circular]", "special")), g(s2)) {
              if (a2 && i2.match(/^\d+$/))
                return u2;
              (s2 = JSON.stringify("" + i2)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (s2 = s2.substr(1, s2.length - 2), s2 = e3.stylize(s2, "name")) : (s2 = s2.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), s2 = e3.stylize(s2, "string"));
            }
            return s2 + ": " + u2;
          }
          function l(e3) {
            return Array.isArray(e3);
          }
          function h(e3) {
            return typeof e3 == "boolean";
          }
          function d(e3) {
            return e3 === null;
          }
          function p(e3) {
            return typeof e3 == "number";
          }
          function f(e3) {
            return typeof e3 == "string";
          }
          function g(e3) {
            return e3 === void 0;
          }
          function m(e3) {
            return y(e3) && w(e3) === "[object RegExp]";
          }
          function y(e3) {
            return typeof e3 == "object" && e3 !== null;
          }
          function b(e3) {
            return y(e3) && w(e3) === "[object Date]";
          }
          function _(e3) {
            return y(e3) && (w(e3) === "[object Error]" || e3 instanceof Error);
          }
          function v(e3) {
            return typeof e3 == "function";
          }
          function w(e3) {
            return Object.prototype.toString.call(e3);
          }
          function S(e3) {
            return e3 < 10 ? "0" + e3.toString(10) : e3.toString(10);
          }
          function T() {
            var e3 = new Date(), t5 = [S(e3.getHours()), S(e3.getMinutes()), S(e3.getSeconds())].join(":");
            return [e3.getDate(), R[e3.getMonth()], t5].join(" ");
          }
          function E(e3, t5) {
            return Object.prototype.hasOwnProperty.call(e3, t5);
          }
          var x = /%[sdj%]/g;
          n.format = function(e3) {
            if (!f(e3)) {
              for (var t5 = [], r4 = 0; r4 < arguments.length; r4++)
                t5.push(i(arguments[r4]));
              return t5.join(" ");
            }
            r4 = 1;
            for (var n2 = arguments, a2 = n2.length, s2 = String(e3).replace(x, function(e4) {
              if (e4 === "%%")
                return "%";
              if (r4 >= a2)
                return e4;
              switch (e4) {
                case "%s":
                  return String(n2[r4++]);
                case "%d":
                  return Number(n2[r4++]);
                case "%j":
                  try {
                    return JSON.stringify(n2[r4++]);
                  } catch (e5) {
                    return "[Circular]";
                  }
                default:
                  return e4;
              }
            }), o2 = n2[r4]; r4 < a2; o2 = n2[++r4])
              d(o2) || !y(o2) ? s2 += " " + o2 : s2 += " " + i(o2);
            return s2;
          }, n.deprecate = function(e3, i2) {
            if (g(r3.process))
              return function() {
                return n.deprecate(e3, i2).apply(this, arguments);
              };
            if (t4.noDeprecation === true)
              return e3;
            var a2 = false;
            return function() {
              if (!a2) {
                if (t4.throwDeprecation)
                  throw new Error(i2);
                t4.traceDeprecation ? console.trace(i2) : console.error(i2), a2 = true;
              }
              return e3.apply(this, arguments);
            };
          };
          var O, A = {};
          n.debuglog = function(e3) {
            if (g(O) && (O = t4.env.NODE_DEBUG || ""), e3 = e3.toUpperCase(), !A[e3])
              if (new RegExp("\\b" + e3 + "\\b", "i").test(O)) {
                var r4 = t4.pid;
                A[e3] = function() {
                  var t5 = n.format.apply(n, arguments);
                  console.error("%s %d: %s", e3, r4, t5);
                };
              } else
                A[e3] = function() {
                };
            return A[e3];
          }, n.inspect = i, i.colors = {
            bold: [1, 22],
            italic: [3, 23],
            underline: [4, 24],
            inverse: [7, 27],
            white: [37, 39],
            grey: [90, 39],
            black: [30, 39],
            blue: [34, 39],
            cyan: [36, 39],
            green: [32, 39],
            magenta: [35, 39],
            red: [31, 39],
            yellow: [33, 39]
          }, i.styles = {
            special: "cyan",
            number: "yellow",
            boolean: "yellow",
            undefined: "grey",
            null: "bold",
            string: "green",
            date: "magenta",
            regexp: "red"
          }, n.isArray = l, n.isBoolean = h, n.isNull = d, n.isNullOrUndefined = function(e3) {
            return e3 == null;
          }, n.isNumber = p, n.isString = f, n.isSymbol = function(e3) {
            return typeof e3 == "symbol";
          }, n.isUndefined = g, n.isRegExp = m, n.isObject = y, n.isDate = b, n.isError = _, n.isFunction = v, n.isPrimitive = function(e3) {
            return e3 === null || typeof e3 == "boolean" || typeof e3 == "number" || typeof e3 == "string" || typeof e3 == "symbol" || e3 === void 0;
          }, n.isBuffer = e2("./support/isBuffer");
          var R = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
          n.log = function() {
            console.log("%s - %s", T(), n.format.apply(n, arguments));
          }, n.inherits = e2("inherits"), n._extend = function(e3, t5) {
            if (!t5 || !y(t5))
              return e3;
            for (var r4 = Object.keys(t5), n2 = r4.length; n2--; )
              e3[r4[n2]] = t5[r4[n2]];
            return e3;
          };
        }).call(this, e2("_process"), t3 !== void 0 ? t3 : typeof self != "undefined" ? self : typeof window != "undefined" ? window : {});
      }, {
        "./support/isBuffer": 6,
        _process: 4,
        inherits: 5
      }],
      8: [function(e2, t4, r2) {
        "use strict";
        var n = function() {
          function e3(e4, t5) {
            for (var r3 = 0; r3 < t5.length; r3++) {
              var n2 = t5[r3];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e4, n2.key, n2);
            }
          }
          return function(t5, r3, n2) {
            return r3 && e3(t5.prototype, r3), n2 && e3(t5, n2), t5;
          };
        }(), i = e2("./helpers.js").createDataProperty;
        t4.exports = function() {
          function e3(t5) {
            var r3 = t5.highWaterMark;
            (function(e4, t6) {
              if (!(e4 instanceof t6))
                throw new TypeError("Cannot call a class as a function");
            })(this, e3), i(this, "highWaterMark", r3);
          }
          return n(e3, [{
            key: "size",
            value: function(e4) {
              return e4.byteLength;
            }
          }]), e3;
        }();
      }, {
        "./helpers.js": 10
      }],
      9: [function(e2, t4, r2) {
        "use strict";
        var n = function() {
          function e3(e4, t5) {
            for (var r3 = 0; r3 < t5.length; r3++) {
              var n2 = t5[r3];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e4, n2.key, n2);
            }
          }
          return function(t5, r3, n2) {
            return r3 && e3(t5.prototype, r3), n2 && e3(t5, n2), t5;
          };
        }(), i = e2("./helpers.js").createDataProperty;
        t4.exports = function() {
          function e3(t5) {
            var r3 = t5.highWaterMark;
            (function(e4, t6) {
              if (!(e4 instanceof t6))
                throw new TypeError("Cannot call a class as a function");
            })(this, e3), i(this, "highWaterMark", r3);
          }
          return n(e3, [{
            key: "size",
            value: function() {
              return 1;
            }
          }]), e3;
        }();
      }, {
        "./helpers.js": 10
      }],
      10: [function(e2, t4, r2) {
        "use strict";
        function n(e3, t5, r3) {
          if (typeof e3 != "function")
            throw new TypeError("Argument is not a function");
          return Function.prototype.apply.call(e3, t5, r3);
        }
        function i(e3, t5, r3) {
          try {
            return Promise.resolve(n(e3, t5, r3));
          } catch (e4) {
            return Promise.reject(e4);
          }
        }
        var a = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e3) {
          return typeof e3;
        } : function(e3) {
          return e3 && typeof Symbol == "function" && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
        }, s = (e2("better-assert"), Symbol('is "detached" for our purposes'));
        r2.typeIsObject = function(e3) {
          return (e3 === void 0 ? "undefined" : a(e3)) === "object" && e3 !== null || typeof e3 == "function";
        }, r2.createDataProperty = function(e3, t5, r3) {
          Object.defineProperty(e3, t5, {
            value: r3,
            writable: true,
            enumerable: true,
            configurable: true
          });
        }, r2.createArrayFromList = function(e3) {
          return e3.slice();
        }, r2.ArrayBufferCopy = function(e3, t5, r3, n2, i2) {
          new Uint8Array(e3).set(new Uint8Array(r3, n2, i2), t5);
        }, r2.CreateIterResultObject = function(e3, t5) {
          var r3 = {};
          return Object.defineProperty(r3, "value", {
            value: e3,
            enumerable: true,
            writable: true,
            configurable: true
          }), Object.defineProperty(r3, "done", {
            value: t5,
            enumerable: true,
            writable: true,
            configurable: true
          }), r3;
        }, r2.IsFiniteNonNegativeNumber = function(e3) {
          return r2.IsNonNegativeNumber(e3) !== false && e3 !== 1 / 0;
        }, r2.IsNonNegativeNumber = function(e3) {
          return !(typeof e3 != "number" || Number.isNaN(e3) || e3 < 0);
        }, r2.Call = n, r2.CreateAlgorithmFromUnderlyingMethod = function(e3, t5, r3, n2) {
          var a2 = e3[t5];
          if (a2 !== void 0) {
            if (typeof a2 != "function")
              throw new TypeError(a2 + " is not a method");
            switch (r3) {
              case 0:
                return function() {
                  return i(a2, e3, n2);
                };
              case 1:
                return function(t6) {
                  var r4 = [t6].concat(n2);
                  return i(a2, e3, r4);
                };
            }
          }
          return function() {
            return Promise.resolve();
          };
        }, r2.InvokeOrNoop = function(e3, t5, r3) {
          var i2 = e3[t5];
          if (i2 !== void 0)
            return n(i2, e3, r3);
        }, r2.PromiseCall = i, r2.TransferArrayBuffer = function(e3) {
          var t5 = e3.slice();
          return Object.defineProperty(e3, "byteLength", {
            get: function() {
              return 0;
            }
          }), e3[s] = true, t5;
        }, r2.IsDetachedBuffer = function(e3) {
          return s in e3;
        }, r2.ValidateAndNormalizeHighWaterMark = function(e3) {
          if (e3 = Number(e3), Number.isNaN(e3) || e3 < 0)
            throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");
          return e3;
        }, r2.MakeSizeAlgorithmFromSizeFunction = function(e3) {
          if (e3 === void 0)
            return function() {
              return 1;
            };
          if (typeof e3 != "function")
            throw new TypeError("size property of a queuing strategy must be a function");
          return function(t5) {
            return e3(t5);
          };
        };
      }, {
        "better-assert": 16
      }],
      11: [function(e2, t4, r2) {
        "use strict";
        e2("better-assert");
        var n = e2("./helpers.js").IsFiniteNonNegativeNumber;
        r2.DequeueValue = function(e3) {
          var t5 = e3._queue.shift();
          return e3._queueTotalSize -= t5.size, e3._queueTotalSize < 0 && (e3._queueTotalSize = 0), t5.value;
        }, r2.EnqueueValueWithSize = function(e3, t5, r3) {
          if (r3 = Number(r3), !n(r3))
            throw new RangeError("Size must be a finite, non-NaN, non-negative number.");
          e3._queue.push({
            value: t5,
            size: r3
          }), e3._queueTotalSize += r3;
        }, r2.PeekQueueValue = function(e3) {
          return e3._queue[0].value;
        }, r2.ResetQueue = function(e3) {
          e3._queue = [], e3._queueTotalSize = 0;
        };
      }, {
        "./helpers.js": 10,
        "better-assert": 16
      }],
      12: [function(e2, t4, r2) {
        "use strict";
        function n(e3, t5) {
          if (!(e3 instanceof t5))
            throw new TypeError("Cannot call a class as a function");
        }
        function i(e3) {
          return new Ue(e3);
        }
        function a(e3) {
          return new qe(e3);
        }
        function s(e3, t5, r3) {
          var n2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1, i2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : function() {
            return 1;
          }, a2 = Object.create(Be.prototype);
          return o(a2), L(a2, Object.create(Ve.prototype), e3, t5, r3, n2, i2), a2;
        }
        function o(e3) {
          e3._state = "readable", e3._reader = void 0, e3._storedError = void 0, e3._disturbed = false;
        }
        function u(e3) {
          return !!Se(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_readableStreamController");
        }
        function c(e3) {
          return e3._reader !== void 0;
        }
        function l(e3) {
          return new Promise(function(t5, r3) {
            var n2 = {
              _resolve: t5,
              _reject: r3
            };
            e3._reader._readIntoRequests.push(n2);
          });
        }
        function h(e3) {
          return new Promise(function(t5, r3) {
            var n2 = {
              _resolve: t5,
              _reject: r3
            };
            e3._reader._readRequests.push(n2);
          });
        }
        function d(e3, t5) {
          return e3._disturbed = true, e3._state === "closed" ? Promise.resolve(void 0) : e3._state === "errored" ? Promise.reject(e3._storedError) : (p(e3), e3._readableStreamController[Me](t5).then(function() {
          }));
        }
        function p(e3) {
          e3._state = "closed";
          var t5 = e3._reader;
          if (t5 !== void 0) {
            if (w(t5) === true) {
              var r3 = true, n2 = false, i2 = void 0;
              try {
                for (var a2, s2 = t5._readRequests[Symbol.iterator](); !(r3 = (a2 = s2.next()).done); r3 = true)
                  (0, a2.value._resolve)(fe(void 0, true));
              } catch (e4) {
                n2 = true, i2 = e4;
              } finally {
                try {
                  !r3 && s2.return && s2.return();
                } finally {
                  if (n2)
                    throw i2;
                }
              }
              t5._readRequests = [];
            }
            !function(e4) {
              e4._closedPromise_resolve(void 0), e4._closedPromise_resolve = void 0, e4._closedPromise_reject = void 0;
            }(t5);
          }
        }
        function f(e3, t5) {
          e3._state = "errored", e3._storedError = t5;
          var r3 = e3._reader;
          if (r3 !== void 0) {
            if (w(r3) === true) {
              var n2 = true, i2 = false, a2 = void 0;
              try {
                for (var s2, o2 = r3._readRequests[Symbol.iterator](); !(n2 = (s2 = o2.next()).done); n2 = true)
                  s2.value._reject(t5);
              } catch (e4) {
                i2 = true, a2 = e4;
              } finally {
                try {
                  !n2 && o2.return && o2.return();
                } finally {
                  if (i2)
                    throw a2;
                }
              }
              r3._readRequests = [];
            } else {
              var u2 = true, c2 = false, l2 = void 0;
              try {
                for (var h2, d2 = r3._readIntoRequests[Symbol.iterator](); !(u2 = (h2 = d2.next()).done); u2 = true)
                  h2.value._reject(t5);
              } catch (e4) {
                c2 = true, l2 = e4;
              } finally {
                try {
                  !u2 && d2.return && d2.return();
                } finally {
                  if (c2)
                    throw l2;
                }
              }
              r3._readIntoRequests = [];
            }
            ae(r3, t5), r3._closedPromise.catch(function() {
            });
          }
        }
        function g(e3, t5, r3) {
          e3._reader._readRequests.shift()._resolve(fe(t5, r3));
        }
        function m(e3) {
          return e3._reader._readIntoRequests.length;
        }
        function y(e3) {
          return e3._reader._readRequests.length;
        }
        function b(e3) {
          var t5 = e3._reader;
          return t5 !== void 0 && v(t5) !== false;
        }
        function _(e3) {
          var t5 = e3._reader;
          return t5 !== void 0 && w(t5) !== false;
        }
        function v(e3) {
          return !!Se(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_readIntoRequests");
        }
        function w(e3) {
          return !!Se(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_readRequests");
        }
        function S(e3, t5) {
          e3._ownerReadableStream = t5, t5._reader = e3, t5._state === "readable" ? function(e4) {
            e4._closedPromise = new Promise(function(t6, r3) {
              e4._closedPromise_resolve = t6, e4._closedPromise_reject = r3;
            });
          }(e3) : t5._state === "closed" ? function(e4) {
            e4._closedPromise = Promise.resolve(void 0), e4._closedPromise_resolve = void 0, e4._closedPromise_reject = void 0;
          }(e3) : (function(e4, t6) {
            e4._closedPromise = Promise.reject(t6), e4._closedPromise_resolve = void 0, e4._closedPromise_reject = void 0;
          }(e3, t5._storedError), e3._closedPromise.catch(function() {
          }));
        }
        function T(e3, t5) {
          return d(e3._ownerReadableStream, t5);
        }
        function E(e3) {
          e3._ownerReadableStream._state === "readable" ? ae(e3, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")) : function(e4, t5) {
            e4._closedPromise = Promise.reject(t5);
          }(e3, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")), e3._closedPromise.catch(function() {
          }), e3._ownerReadableStream._reader = void 0, e3._ownerReadableStream = void 0;
        }
        function x(e3, t5) {
          var r3 = e3._ownerReadableStream;
          return r3._disturbed = true, r3._state === "errored" ? Promise.reject(r3._storedError) : function(e4, t6) {
            var r4 = e4._controlledReadableByteStream, n2 = 1;
            t6.constructor !== DataView && (n2 = t6.constructor.BYTES_PER_ELEMENT);
            var i2 = t6.constructor, a2 = {
              buffer: be(t6.buffer),
              byteOffset: t6.byteOffset,
              byteLength: t6.byteLength,
              bytesFilled: 0,
              elementSize: n2,
              ctor: i2,
              readerType: "byob"
            };
            if (e4._pendingPullIntos.length > 0)
              return e4._pendingPullIntos.push(a2), l(r4);
            if (r4._state === "closed") {
              var s2 = new t6.constructor(a2.buffer, a2.byteOffset, 0);
              return Promise.resolve(fe(s2, true));
            }
            if (e4._queueTotalSize > 0) {
              if (z(e4, a2) === true) {
                var o2 = H(a2);
                return X(e4), Promise.resolve(fe(o2, false));
              }
              if (e4._closeRequested === true) {
                var u2 = new TypeError("Insufficient bytes to fill elements in the given buffer");
                return K(e4, u2), Promise.reject(u2);
              }
            }
            e4._pendingPullIntos.push(a2);
            var c2 = l(r4);
            return q(e4), c2;
          }(r3._readableStreamController, t5);
        }
        function O(e3) {
          var t5 = e3._ownerReadableStream;
          return t5._disturbed = true, t5._state === "closed" ? Promise.resolve(fe(void 0, true)) : t5._state === "errored" ? Promise.reject(t5._storedError) : t5._readableStreamController[Fe]();
        }
        function A(e3) {
          return !!Se(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_controlledReadableStream");
        }
        function R(e3) {
          I(e3) !== false && (e3._pulling !== true ? (e3._pulling = true, e3._pullAlgorithm().then(function() {
            if (e3._pulling = false, e3._pullAgain === true)
              return e3._pullAgain = false, R(e3);
          }, function(t5) {
            D(e3, t5);
          }).catch(Te)) : e3._pullAgain = true);
        }
        function I(e3) {
          var t5 = e3._controlledReadableStream;
          return k(e3) !== false && e3._started !== false && (c(t5) === true && y(t5) > 0 || j(e3) > 0);
        }
        function N(e3) {
          var t5 = e3._controlledReadableStream;
          e3._closeRequested = true, e3._queue.length === 0 && p(t5);
        }
        function P(e3, t5) {
          var r3 = e3._controlledReadableStream;
          if (c(r3) === true && y(r3) > 0)
            g(r3, t5, false);
          else {
            var n2 = void 0;
            try {
              n2 = e3._strategySizeAlgorithm(t5);
            } catch (t6) {
              throw D(e3, t6), t6;
            }
            try {
              Oe(e3, t5, n2);
            } catch (t6) {
              throw D(e3, t6), t6;
            }
          }
          R(e3);
        }
        function C(e3, t5) {
          var r3 = e3._controlledReadableStream;
          Ae(e3), f(r3, t5);
        }
        function D(e3, t5) {
          e3._controlledReadableStream._state === "readable" && C(e3, t5);
        }
        function j(e3) {
          var t5 = e3._controlledReadableStream._state;
          return t5 === "errored" ? null : t5 === "closed" ? 0 : e3._strategyHWM - e3._queueTotalSize;
        }
        function k(e3) {
          var t5 = e3._controlledReadableStream._state;
          return e3._closeRequested === false && t5 === "readable";
        }
        function L(e3, t5, r3, n2, i2, a2, s2) {
          t5._controlledReadableStream = e3, t5._queue = void 0, t5._queueTotalSize = void 0, Ae(t5), t5._started = false, t5._closeRequested = false, t5._pullAgain = false, t5._pulling = false, t5._strategySizeAlgorithm = s2, t5._strategyHWM = a2, t5._pullAlgorithm = n2, t5._cancelAlgorithm = i2, e3._readableStreamController = t5;
          var o2 = r3();
          Promise.resolve(o2).then(function() {
            t5._started = true, R(t5);
          }, function(e4) {
            D(t5, e4);
          }).catch(Te);
        }
        function M(e3, t5, r3, n2) {
          var i2 = Object.create(Ve.prototype), a2 = pe(t5, "pull", 0, [i2]), s2 = pe(t5, "cancel", 1, []);
          L(e3, i2, function() {
            return me(t5, "start", [i2]);
          }, a2, s2, r3, n2);
        }
        function F(e3) {
          return !!Se(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_controlledReadableByteStream");
        }
        function B(e3) {
          return !!Se(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_associatedReadableByteStreamController");
        }
        function q(e3) {
          (function(e4) {
            var t5 = e4._controlledReadableByteStream;
            return t5._state === "readable" && e4._closeRequested !== true && e4._started !== false && (_(t5) === true && y(t5) > 0 || b(t5) === true && m(t5) > 0 || Z(e4) > 0);
          })(e3) !== false && (e3._pulling !== true ? (e3._pulling = true, e3._pullAlgorithm().then(function() {
            e3._pulling = false, e3._pullAgain === true && (e3._pullAgain = false, q(e3));
          }, function(t5) {
            e3._controlledReadableByteStream._state === "readable" && K(e3, t5);
          }).catch(Te)) : e3._pullAgain = true);
        }
        function U(e3) {
          $(e3), e3._pendingPullIntos = [];
        }
        function V(e3, t5) {
          var r3 = false;
          e3._state === "closed" && (r3 = true);
          var n2 = H(t5);
          t5.readerType === "default" ? g(e3, n2, r3) : function(e4, t6, r4) {
            e4._reader._readIntoRequests.shift()._resolve(fe(t6, r4));
          }(e3, n2, r3);
        }
        function H(e3) {
          var t5 = e3.bytesFilled, r3 = e3.elementSize;
          return new e3.ctor(e3.buffer, e3.byteOffset, t5 / r3);
        }
        function G(e3, t5, r3, n2) {
          e3._queue.push({
            buffer: t5,
            byteOffset: r3,
            byteLength: n2
          }), e3._queueTotalSize += n2;
        }
        function z(e3, t5) {
          var r3 = t5.elementSize, n2 = t5.bytesFilled - t5.bytesFilled % r3, i2 = Math.min(e3._queueTotalSize, t5.byteLength - t5.bytesFilled), a2 = t5.bytesFilled + i2, s2 = a2 - a2 % r3, o2 = i2, u2 = false;
          s2 > n2 && (o2 = s2 - t5.bytesFilled, u2 = true);
          for (var c2 = e3._queue; o2 > 0; ) {
            var l2 = c2[0], h2 = Math.min(o2, l2.byteLength), d2 = t5.byteOffset + t5.bytesFilled;
            de(t5.buffer, d2, l2.buffer, l2.byteOffset, h2), l2.byteLength === h2 ? c2.shift() : (l2.byteOffset += h2, l2.byteLength -= h2), e3._queueTotalSize -= h2, Q(e3, h2, t5), o2 -= h2;
          }
          return u2;
        }
        function Q(e3, t5, r3) {
          $(e3), r3.bytesFilled += t5;
        }
        function X(e3) {
          e3._queueTotalSize === 0 && e3._closeRequested === true ? p(e3._controlledReadableByteStream) : q(e3);
        }
        function $(e3) {
          e3._byobRequest !== void 0 && (e3._byobRequest._associatedReadableByteStreamController = void 0, e3._byobRequest._view = void 0, e3._byobRequest = void 0);
        }
        function Y(e3) {
          for (; e3._pendingPullIntos.length > 0; ) {
            if (e3._queueTotalSize === 0)
              return;
            var t5 = e3._pendingPullIntos[0];
            z(e3, t5) === true && (W(e3), V(e3._controlledReadableByteStream, t5));
          }
        }
        function J(e3, t5) {
          var r3 = e3._pendingPullIntos[0];
          if (e3._controlledReadableByteStream._state === "closed") {
            if (t5 !== 0)
              throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");
            !function(e4, t6) {
              t6.buffer = be(t6.buffer);
              var r4 = e4._controlledReadableByteStream;
              if (b(r4) === true)
                for (; m(r4) > 0; )
                  V(r4, W(e4));
            }(e3, r3);
          } else
            !function(e4, t6, r4) {
              if (r4.bytesFilled + t6 > r4.byteLength)
                throw new RangeError("bytesWritten out of range");
              if (Q(e4, t6, r4), !(r4.bytesFilled < r4.elementSize)) {
                W(e4);
                var n2 = r4.bytesFilled % r4.elementSize;
                if (n2 > 0) {
                  var i2 = r4.byteOffset + r4.bytesFilled, a2 = r4.buffer.slice(i2 - n2, i2);
                  G(e4, a2, 0, a2.byteLength);
                }
                r4.buffer = be(r4.buffer), r4.bytesFilled -= n2, V(e4._controlledReadableByteStream, r4), Y(e4);
              }
            }(e3, t5, r3);
        }
        function W(e3) {
          var t5 = e3._pendingPullIntos.shift();
          return $(e3), t5;
        }
        function K(e3, t5) {
          var r3 = e3._controlledReadableByteStream;
          U(e3), Ae(e3), f(r3, t5);
        }
        function Z(e3) {
          var t5 = e3._controlledReadableByteStream._state;
          return t5 === "errored" ? null : t5 === "closed" ? 0 : e3._strategyHWM - e3._queueTotalSize;
        }
        function ee(e3, t5, r3, n2, i2, a2, s2) {
          t5._controlledReadableByteStream = e3, t5._pullAgain = false, t5._pulling = false, U(t5), t5._queue = t5._queueTotalSize = void 0, Ae(t5), t5._closeRequested = false, t5._started = false, t5._strategyHWM = _e(a2), t5._pullAlgorithm = n2, t5._cancelAlgorithm = i2, t5._autoAllocateChunkSize = s2, t5._pendingPullIntos = [], e3._readableStreamController = t5;
          var o2 = r3();
          Promise.resolve(o2).then(function() {
            t5._started = true, q(t5);
          }, function(r4) {
            e3._state === "readable" && K(t5, r4);
          }).catch(Te);
        }
        function te(e3, t5, r3) {
          var n2 = Object.create(Ge.prototype), i2 = pe(t5, "pull", 0, [n2]), a2 = pe(t5, "cancel", 1, []), s2 = t5.autoAllocateChunkSize;
          if (s2 !== void 0 && (Number.isInteger(s2) === false || s2 <= 0))
            throw new RangeError("autoAllocateChunkSize must be a positive integer");
          ee(e3, n2, function() {
            return me(t5, "start", [n2]);
          }, i2, a2, r3, s2);
        }
        function re(e3) {
          return new TypeError("ReadableStream.prototype." + e3 + " can only be used on a ReadableStream");
        }
        function ne(e3) {
          return new TypeError("Cannot " + e3 + " a stream using a released reader");
        }
        function ie(e3) {
          return new TypeError("ReadableStreamDefaultReader.prototype." + e3 + " can only be used on a ReadableStreamDefaultReader");
        }
        function ae(e3, t5) {
          e3._closedPromise_reject(t5), e3._closedPromise_resolve = void 0, e3._closedPromise_reject = void 0;
        }
        function se(e3) {
          return new TypeError("ReadableStreamBYOBReader.prototype." + e3 + " can only be used on a ReadableStreamBYOBReader");
        }
        function oe(e3) {
          return new TypeError("ReadableStreamDefaultController.prototype." + e3 + " can only be used on a ReadableStreamDefaultController");
        }
        function ue(e3) {
          return new TypeError("ReadableStreamBYOBRequest.prototype." + e3 + " can only be used on a ReadableStreamBYOBRequest");
        }
        function ce(e3) {
          return new TypeError("ReadableByteStreamController.prototype." + e3 + " can only be used on a ReadableByteStreamController");
        }
        var le = function() {
          function e3(e4, t5) {
            for (var r3 = 0; r3 < t5.length; r3++) {
              var n2 = t5[r3];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e4, n2.key, n2);
            }
          }
          return function(t5, r3, n2) {
            return r3 && e3(t5.prototype, r3), n2 && e3(t5, n2), t5;
          };
        }(), he = (e2("better-assert"), e2("./helpers.js")), de = he.ArrayBufferCopy, pe = he.CreateAlgorithmFromUnderlyingMethod, fe = he.CreateIterResultObject, ge = he.IsFiniteNonNegativeNumber, me = he.InvokeOrNoop, ye = he.IsDetachedBuffer, be = he.TransferArrayBuffer, _e = he.ValidateAndNormalizeHighWaterMark, ve = (he.IsNonNegativeNumber, he.MakeSizeAlgorithmFromSizeFunction), we = he.createArrayFromList, Se = he.typeIsObject, Te = e2("./utils.js").rethrowAssertionErrorRejection, Ee = e2("./queue-with-sizes.js"), xe = Ee.DequeueValue, Oe = Ee.EnqueueValueWithSize, Ae = Ee.ResetQueue, Re = e2("./writable-stream.js"), Ie = Re.AcquireWritableStreamDefaultWriter, Ne = Re.IsWritableStream, Pe = Re.IsWritableStreamLocked, Ce = Re.WritableStreamAbort, De = Re.WritableStreamDefaultWriterCloseWithErrorPropagation, je = Re.WritableStreamDefaultWriterRelease, ke = Re.WritableStreamDefaultWriterWrite, Le = Re.WritableStreamCloseQueuedOrInFlight, Me = Symbol("[[CancelSteps]]"), Fe = Symbol("[[PullSteps]]"), Be = function() {
          function e3() {
            var t5 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, r3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, i2 = r3.size, a2 = r3.highWaterMark;
            n(this, e3), o(this);
            var s2 = t5.type;
            if (String(s2) === "bytes") {
              if (a2 === void 0 && (a2 = 0), a2 = _e(a2), i2 !== void 0)
                throw new RangeError("The strategy for a byte stream cannot have a size function");
              te(this, t5, a2);
            } else {
              if (s2 !== void 0)
                throw new RangeError("Invalid type is specified");
              a2 === void 0 && (a2 = 1), M(this, t5, a2 = _e(a2), ve(i2));
            }
          }
          return le(e3, [{
            key: "cancel",
            value: function(e4) {
              return u(this) === false ? Promise.reject(re("cancel")) : c(this) === true ? Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")) : d(this, e4);
            }
          }, {
            key: "getReader",
            value: function() {
              var e4 = (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}).mode;
              if (u(this) === false)
                throw re("getReader");
              if (e4 === void 0)
                return a(this);
              if ((e4 = String(e4)) === "byob")
                return i(this);
              throw new RangeError("Invalid mode is specified");
            }
          }, {
            key: "pipeThrough",
            value: function(e4, t5) {
              var r3 = e4.writable, n2 = e4.readable;
              if (r3 === void 0 || n2 === void 0)
                throw new TypeError("readable and writable arguments must be defined");
              return function(e5) {
                try {
                  Promise.prototype.then.call(e5, void 0, function() {
                  });
                } catch (e6) {
                }
              }(this.pipeTo(r3, t5)), n2;
            }
          }, {
            key: "pipeTo",
            value: function(e4) {
              var t5 = this, r3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n2 = r3.preventClose, i2 = r3.preventAbort, s2 = r3.preventCancel;
              if (u(this) === false)
                return Promise.reject(re("pipeTo"));
              if (Ne(e4) === false)
                return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));
              if (n2 = Boolean(n2), i2 = Boolean(i2), s2 = Boolean(s2), c(this) === true)
                return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
              if (Pe(e4) === true)
                return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));
              var o2 = a(this), l2 = Ie(e4), h2 = false, p2 = Promise.resolve();
              return new Promise(function(r4, a2) {
                function u2() {
                  var e5 = p2;
                  return p2.then(function() {
                    return e5 !== p2 ? u2() : void 0;
                  });
                }
                function c2(e5, t6, r5) {
                  e5._state === "errored" ? r5(e5._storedError) : t6.catch(r5).catch(Te);
                }
                function f2(t6, r5, n3) {
                  function i3() {
                    t6().then(function() {
                      return m2(r5, n3);
                    }, function(e5) {
                      return m2(true, e5);
                    }).catch(Te);
                  }
                  h2 !== true && (h2 = true, e4._state === "writable" && Le(e4) === false ? u2().then(i3) : i3());
                }
                function g2(t6, r5) {
                  h2 !== true && (h2 = true, e4._state === "writable" && Le(e4) === false ? u2().then(function() {
                    return m2(t6, r5);
                  }).catch(Te) : m2(t6, r5));
                }
                function m2(e5, t6) {
                  je(l2), E(o2), e5 ? a2(t6) : r4(void 0);
                }
                if (c2(t5, o2._closedPromise, function(t6) {
                  i2 === false ? f2(function() {
                    return Ce(e4, t6);
                  }, true, t6) : g2(true, t6);
                }), c2(e4, l2._closedPromise, function(e5) {
                  s2 === false ? f2(function() {
                    return d(t5, e5);
                  }, true, e5) : g2(true, e5);
                }), function(e5, t6, r5) {
                  e5._state === "closed" ? r5() : t6.then(r5).catch(Te);
                }(t5, o2._closedPromise, function() {
                  n2 === false ? f2(function() {
                    return De(l2);
                  }) : g2();
                }), Le(e4) === true || e4._state === "closed") {
                  var y2 = new TypeError("the destination writable stream closed before all data could be piped to it");
                  s2 === false ? f2(function() {
                    return d(t5, y2);
                  }, true, y2) : g2(true, y2);
                }
                (function e5() {
                  return h2 === true ? Promise.resolve() : l2._readyPromise.then(function() {
                    return O(o2).then(function(e6) {
                      var t6 = e6.value;
                      e6.done !== true && (p2 = ke(l2, t6).catch(function() {
                      }));
                    });
                  }).then(e5);
                })().catch(function(e5) {
                  p2 = Promise.resolve(), Te(e5);
                });
              });
            }
          }, {
            key: "tee",
            value: function() {
              if (u(this) === false)
                throw re("tee");
              var e4 = function(e5, t5) {
                function r3() {
                  return O(i2).then(function(e6) {
                    var t6 = e6.value;
                    if (e6.done === true && o2 === false && (u2 === false && N(p2._readableStreamController), c2 === false && N(f2._readableStreamController), o2 = true), o2 !== true) {
                      var r4 = t6, n3 = t6;
                      u2 === false && P(p2._readableStreamController, r4), c2 === false && P(f2._readableStreamController, n3);
                    }
                  });
                }
                function n2() {
                }
                var i2 = a(e5), o2 = false, u2 = false, c2 = false, l2 = void 0, h2 = void 0, p2 = void 0, f2 = void 0, g2 = void 0, m2 = new Promise(function(e6) {
                  g2 = e6;
                });
                return p2 = s(n2, r3, function(t6) {
                  if (u2 = true, l2 = t6, c2 === true) {
                    var r4 = we([l2, h2]), n3 = d(e5, r4);
                    g2(n3);
                  }
                  return m2;
                }), f2 = s(n2, r3, function(t6) {
                  if (c2 = true, h2 = t6, u2 === true) {
                    var r4 = we([l2, h2]), n3 = d(e5, r4);
                    g2(n3);
                  }
                  return m2;
                }), i2._closedPromise.catch(function(e6) {
                  o2 !== true && (D(p2._readableStreamController, e6), D(f2._readableStreamController, e6), o2 = true);
                }), [p2, f2];
              }(this);
              return we(e4);
            }
          }, {
            key: "locked",
            get: function() {
              if (u(this) === false)
                throw re("locked");
              return c(this);
            }
          }]), e3;
        }();
        t4.exports = {
          CreateReadableByteStream: function(e3, t5, r3) {
            var n2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, i2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : void 0, a2 = Object.create(Be.prototype);
            return o(a2), ee(a2, Object.create(Ge.prototype), e3, t5, r3, n2, i2), a2;
          },
          CreateReadableStream: s,
          ReadableStream: Be,
          IsReadableStreamDisturbed: function(e3) {
            return e3._disturbed;
          },
          ReadableStreamDefaultControllerClose: N,
          ReadableStreamDefaultControllerEnqueue: P,
          ReadableStreamDefaultControllerError: C,
          ReadableStreamDefaultControllerGetDesiredSize: j,
          ReadableStreamDefaultControllerHasBackpressure: function(e3) {
            return I(e3) !== true;
          },
          ReadableStreamDefaultControllerCanCloseOrEnqueue: k
        };
        var qe = function() {
          function e3(t5) {
            if (n(this, e3), u(t5) === false)
              throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
            if (c(t5) === true)
              throw new TypeError("This stream has already been locked for exclusive reading by another reader");
            S(this, t5), this._readRequests = [];
          }
          return le(e3, [{
            key: "cancel",
            value: function(e4) {
              return w(this) === false ? Promise.reject(ie("cancel")) : this._ownerReadableStream === void 0 ? Promise.reject(ne("cancel")) : T(this, e4);
            }
          }, {
            key: "read",
            value: function() {
              return w(this) === false ? Promise.reject(ie("read")) : this._ownerReadableStream === void 0 ? Promise.reject(ne("read from")) : O(this);
            }
          }, {
            key: "releaseLock",
            value: function() {
              if (w(this) === false)
                throw ie("releaseLock");
              if (this._ownerReadableStream !== void 0) {
                if (this._readRequests.length > 0)
                  throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
                E(this);
              }
            }
          }, {
            key: "closed",
            get: function() {
              return w(this) === false ? Promise.reject(ie("closed")) : this._closedPromise;
            }
          }]), e3;
        }(), Ue = function() {
          function e3(t5) {
            if (n(this, e3), !u(t5))
              throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
            if (F(t5._readableStreamController) === false)
              throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
            if (c(t5))
              throw new TypeError("This stream has already been locked for exclusive reading by another reader");
            S(this, t5), this._readIntoRequests = [];
          }
          return le(e3, [{
            key: "cancel",
            value: function(e4) {
              return v(this) ? this._ownerReadableStream === void 0 ? Promise.reject(ne("cancel")) : T(this, e4) : Promise.reject(se("cancel"));
            }
          }, {
            key: "read",
            value: function(e4) {
              return v(this) ? this._ownerReadableStream === void 0 ? Promise.reject(ne("read from")) : ArrayBuffer.isView(e4) ? ye(e4.buffer) === true ? Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")) : e4.byteLength === 0 ? Promise.reject(new TypeError("view must have non-zero byteLength")) : x(this, e4) : Promise.reject(new TypeError("view must be an array buffer view")) : Promise.reject(se("read"));
            }
          }, {
            key: "releaseLock",
            value: function() {
              if (!v(this))
                throw se("releaseLock");
              if (this._ownerReadableStream !== void 0) {
                if (this._readIntoRequests.length > 0)
                  throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
                E(this);
              }
            }
          }, {
            key: "closed",
            get: function() {
              return v(this) ? this._closedPromise : Promise.reject(se("closed"));
            }
          }]), e3;
        }(), Ve = function() {
          function e3() {
            throw n(this, e3), new TypeError();
          }
          return le(e3, [{
            key: "close",
            value: function() {
              if (A(this) === false)
                throw oe("close");
              if (k(this) === false)
                throw new TypeError("The stream is not in a state that permits close");
              N(this);
            }
          }, {
            key: "enqueue",
            value: function(e4) {
              if (A(this) === false)
                throw oe("enqueue");
              if (k(this) === false)
                throw new TypeError("The stream is not in a state that permits enqueue");
              return P(this, e4);
            }
          }, {
            key: "error",
            value: function(e4) {
              if (A(this) === false)
                throw oe("error");
              var t5 = this._controlledReadableStream;
              if (t5._state !== "readable")
                throw new TypeError("The stream is " + t5._state + " and so cannot be errored");
              C(this, e4);
            }
          }, {
            key: Me,
            value: function(e4) {
              return Ae(this), this._cancelAlgorithm(e4);
            }
          }, {
            key: Fe,
            value: function() {
              var e4 = this._controlledReadableStream;
              if (this._queue.length > 0) {
                var t5 = xe(this);
                return this._closeRequested === true && this._queue.length === 0 ? p(e4) : R(this), Promise.resolve(fe(t5, false));
              }
              var r3 = h(e4);
              return R(this), r3;
            }
          }, {
            key: "desiredSize",
            get: function() {
              if (A(this) === false)
                throw oe("desiredSize");
              return j(this);
            }
          }]), e3;
        }(), He = function() {
          function e3() {
            throw n(this, e3), new TypeError("ReadableStreamBYOBRequest cannot be used directly");
          }
          return le(e3, [{
            key: "respond",
            value: function(e4) {
              if (B(this) === false)
                throw ue("respond");
              if (this._associatedReadableByteStreamController === void 0)
                throw new TypeError("This BYOB request has been invalidated");
              if (ye(this._view.buffer) === true)
                throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");
              !function(e5, t5) {
                if (t5 = Number(t5), ge(t5) === false)
                  throw new RangeError("bytesWritten must be a finite");
                J(e5, t5);
              }(this._associatedReadableByteStreamController, e4);
            }
          }, {
            key: "respondWithNewView",
            value: function(e4) {
              if (B(this) === false)
                throw ue("respond");
              if (this._associatedReadableByteStreamController === void 0)
                throw new TypeError("This BYOB request has been invalidated");
              if (!ArrayBuffer.isView(e4))
                throw new TypeError("You can only respond with array buffer views");
              if (ye(e4.buffer) === true)
                throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");
              !function(e5, t5) {
                var r3 = e5._pendingPullIntos[0];
                if (r3.byteOffset + r3.bytesFilled !== t5.byteOffset)
                  throw new RangeError("The region specified by view does not match byobRequest");
                if (r3.byteLength !== t5.byteLength)
                  throw new RangeError("The buffer of view has different capacity than byobRequest");
                r3.buffer = t5.buffer, J(e5, t5.byteLength);
              }(this._associatedReadableByteStreamController, e4);
            }
          }, {
            key: "view",
            get: function() {
              if (B(this) === false)
                throw ue("view");
              return this._view;
            }
          }]), e3;
        }(), Ge = function() {
          function e3() {
            throw n(this, e3), new TypeError("ReadableByteStreamController constructor cannot be used directly");
          }
          return le(e3, [{
            key: "close",
            value: function() {
              if (F(this) === false)
                throw ce("close");
              if (this._closeRequested === true)
                throw new TypeError("The stream has already been closed; do not close it again!");
              var e4 = this._controlledReadableByteStream._state;
              if (e4 !== "readable")
                throw new TypeError("The stream (in " + e4 + " state) is not in the readable state and cannot be closed");
              !function(e5) {
                var t5 = e5._controlledReadableByteStream;
                if (e5._queueTotalSize > 0)
                  e5._closeRequested = true;
                else {
                  if (e5._pendingPullIntos.length > 0 && e5._pendingPullIntos[0].bytesFilled > 0) {
                    var r3 = new TypeError("Insufficient bytes to fill elements in the given buffer");
                    throw K(e5, r3), r3;
                  }
                  p(t5);
                }
              }(this);
            }
          }, {
            key: "enqueue",
            value: function(e4) {
              if (F(this) === false)
                throw ce("enqueue");
              if (this._closeRequested === true)
                throw new TypeError("stream is closed or draining");
              var t5 = this._controlledReadableByteStream._state;
              if (t5 !== "readable")
                throw new TypeError("The stream (in " + t5 + " state) is not in the readable state and cannot be enqueued to");
              if (!ArrayBuffer.isView(e4))
                throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");
              if (ye(e4.buffer) === true)
                throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");
              !function(e5, t6) {
                var r3 = e5._controlledReadableByteStream, n2 = t6.buffer, i2 = t6.byteOffset, a2 = t6.byteLength, s2 = be(n2);
                _(r3) === true ? y(r3) === 0 ? G(e5, s2, i2, a2) : g(r3, new Uint8Array(s2, i2, a2), false) : b(r3) === true ? (G(e5, s2, i2, a2), Y(e5)) : G(e5, s2, i2, a2);
              }(this, e4);
            }
          }, {
            key: "error",
            value: function(e4) {
              if (F(this) === false)
                throw ce("error");
              var t5 = this._controlledReadableByteStream;
              if (t5._state !== "readable")
                throw new TypeError("The stream is " + t5._state + " and so cannot be errored");
              K(this, e4);
            }
          }, {
            key: Me,
            value: function(e4) {
              return this._pendingPullIntos.length > 0 && (this._pendingPullIntos[0].bytesFilled = 0), Ae(this), this._cancelAlgorithm(e4);
            }
          }, {
            key: Fe,
            value: function() {
              var e4 = this._controlledReadableByteStream;
              if (this._queueTotalSize > 0) {
                var t5 = this._queue.shift();
                this._queueTotalSize -= t5.byteLength, X(this);
                var r3 = void 0;
                try {
                  r3 = new Uint8Array(t5.buffer, t5.byteOffset, t5.byteLength);
                } catch (e5) {
                  return Promise.reject(e5);
                }
                return Promise.resolve(fe(r3, false));
              }
              var n2 = this._autoAllocateChunkSize;
              if (n2 !== void 0) {
                var i2 = void 0;
                try {
                  i2 = new ArrayBuffer(n2);
                } catch (e5) {
                  return Promise.reject(e5);
                }
                var a2 = {
                  buffer: i2,
                  byteOffset: 0,
                  byteLength: n2,
                  bytesFilled: 0,
                  elementSize: 1,
                  ctor: Uint8Array,
                  readerType: "default"
                };
                this._pendingPullIntos.push(a2);
              }
              var s2 = h(e4);
              return q(this), s2;
            }
          }, {
            key: "byobRequest",
            get: function() {
              if (F(this) === false)
                throw ce("byobRequest");
              if (this._byobRequest === void 0 && this._pendingPullIntos.length > 0) {
                var e4 = this._pendingPullIntos[0], t5 = new Uint8Array(e4.buffer, e4.byteOffset + e4.bytesFilled, e4.byteLength - e4.bytesFilled), r3 = Object.create(He.prototype);
                (function(e5, t6, r4) {
                  e5._associatedReadableByteStreamController = t6, e5._view = r4;
                })(r3, this, t5), this._byobRequest = r3;
              }
              return this._byobRequest;
            }
          }, {
            key: "desiredSize",
            get: function() {
              if (F(this) === false)
                throw ce("desiredSize");
              return Z(this);
            }
          }]), e3;
        }();
      }, {
        "./helpers.js": 10,
        "./queue-with-sizes.js": 11,
        "./utils.js": 14,
        "./writable-stream.js": 15,
        "better-assert": 16
      }],
      13: [function(e2, t4, r2) {
        "use strict";
        function n(e3, t5) {
          if (!(e3 instanceof t5))
            throw new TypeError("Cannot call a class as a function");
        }
        function i(e3, t5, r3, n2, i2, a2) {
          function c2() {
            return t5;
          }
          e3._writable = D(c2, function(t6) {
            return function(e4, t7) {
              m("TransformStreamDefaultSinkWriteAlgorithm()");
              var r4 = e4._transformStreamController;
              return e4._backpressure === true ? e4._backpressureChangePromise.then(function() {
                var n3 = e4._writable;
                if (n3._state === "erroring")
                  throw n3._storedError;
                return r4._transformAlgorithm(t7);
              }) : r4._transformAlgorithm(t7);
            }(e3, t6);
          }, function() {
            return function(e4) {
              m("TransformStreamDefaultSinkCloseAlgorithm()");
              var t6 = e4._readable;
              return e4._transformStreamController._flushAlgorithm().then(function() {
                if (t6._state === "errored")
                  throw t6._storedError;
                var e5 = t6._readableStreamController;
                P(e5) === true && O(e5);
              }).catch(function(r4) {
                throw s(e4, r4), t6._storedError;
              });
            }(e3);
          }, function() {
            return function(e4) {
              return s(e4, new TypeError("Writable side aborted")), Promise.resolve();
            }(e3);
          }, r3, n2), e3._readable = x(c2, function() {
            return function(e4) {
              return m("TransformStreamDefaultSourcePullAlgorithm()"), u(e4, false), e4._backpressureChangePromise;
            }(e3);
          }, function(t6) {
            return o(e3, t6), Promise.resolve();
          }, i2, a2), e3._backpressure = void 0, e3._backpressureChangePromise = void 0, e3._backpressureChangePromise_resolve = void 0, u(e3, true), e3._transformStreamController = void 0;
        }
        function a(e3) {
          return !!w(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_transformStreamController");
        }
        function s(e3, t5) {
          m("TransformStreamError()"), e3._readable._state === "readable" && R(e3._readable._readableStreamController, t5), o(e3, t5);
        }
        function o(e3, t5) {
          j(e3._writable._writableStreamController, t5), e3._backpressure === true && u(e3, false);
        }
        function u(e3, t5) {
          m("TransformStreamSetBackpressure() [backpressure = " + t5 + "]"), e3._backpressureChangePromise !== void 0 && e3._backpressureChangePromise_resolve(), e3._backpressureChangePromise = new Promise(function(t6) {
            e3._backpressureChangePromise_resolve = t6;
          }), e3._backpressure = t5;
        }
        function c(e3) {
          return !!w(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_controlledTransformStream");
        }
        function l(e3, t5, r3, n2) {
          t5._controlledTransformStream = e3, e3._transformStreamController = t5, t5._transformAlgorithm = r3, t5._flushAlgorithm = n2;
        }
        function h(e3, t5) {
          var r3 = Object.create(L.prototype), n2 = function(e4) {
            try {
              return d(r3, e4), Promise.resolve();
            } catch (e5) {
              return Promise.reject(e5);
            }
          }, i2 = t5.transform;
          if (i2 !== void 0) {
            if (typeof i2 != "function")
              throw new TypeError("transform is not a method");
            n2 = function(n3) {
              return v(i2, t5, [n3, r3]).catch(function(t6) {
                throw s(e3, t6), t6;
              });
            };
          }
          var a2 = _(t5, "flush", 0, [r3]);
          l(e3, r3, n2, a2);
        }
        function d(e3, t5) {
          m("TransformStreamDefaultControllerEnqueue()");
          var r3 = e3._controlledTransformStream, n2 = r3._readable._readableStreamController;
          if (P(n2) === false)
            throw new TypeError("Readable side is not in a state that permits enqueue");
          try {
            A(n2, t5);
          } catch (e4) {
            throw o(r3, e4), r3._readable._storedError;
          }
          N(n2) !== r3._backpressure && u(r3, true);
        }
        function p(e3) {
          return new TypeError("TransformStreamDefaultController.prototype." + e3 + " can only be used on a TransformStreamDefaultController");
        }
        function f(e3) {
          return new TypeError("TransformStream.prototype." + e3 + " can only be used on a TransformStream");
        }
        var g = function() {
          function e3(e4, t5) {
            for (var r3 = 0; r3 < t5.length; r3++) {
              var n2 = t5[r3];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e4, n2.key, n2);
            }
          }
          return function(t5, r3, n2) {
            return r3 && e3(t5.prototype, r3), n2 && e3(t5, n2), t5;
          };
        }(), m = (e2("better-assert"), e2("debug")("streams:transform-stream:verbose")), y = e2("./helpers.js"), b = y.InvokeOrNoop, _ = y.CreateAlgorithmFromUnderlyingMethod, v = y.PromiseCall, w = y.typeIsObject, S = y.ValidateAndNormalizeHighWaterMark, T = (y.IsNonNegativeNumber, y.MakeSizeAlgorithmFromSizeFunction), E = e2("./readable-stream.js"), x = E.CreateReadableStream, O = E.ReadableStreamDefaultControllerClose, A = E.ReadableStreamDefaultControllerEnqueue, R = E.ReadableStreamDefaultControllerError, I = E.ReadableStreamDefaultControllerGetDesiredSize, N = E.ReadableStreamDefaultControllerHasBackpressure, P = E.ReadableStreamDefaultControllerCanCloseOrEnqueue, C = e2("./writable-stream.js"), D = C.CreateWritableStream, j = C.WritableStreamDefaultControllerErrorIfNeeded, k = function() {
          function e3() {
            var t5 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, r3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, a2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
            if (n(this, e3), t5.readableType !== void 0)
              throw new RangeError("Invalid readable type specified");
            if (t5.writableType !== void 0)
              throw new RangeError("Invalid writable type specified");
            var s2 = r3.size, o2 = T(s2), u2 = r3.highWaterMark;
            u2 === void 0 && (u2 = 1), u2 = S(u2);
            var c2 = a2.size, l2 = T(c2), d2 = a2.highWaterMark;
            d2 === void 0 && (d2 = 0), d2 = S(d2);
            var p2 = void 0;
            i(this, new Promise(function(e4) {
              p2 = e4;
            }), u2, o2, d2, l2), h(this, t5);
            var f2 = b(t5, "start", [this._transformStreamController]);
            p2(f2);
          }
          return g(e3, [{
            key: "readable",
            get: function() {
              if (a(this) === false)
                throw f("readable");
              return this._readable;
            }
          }, {
            key: "writable",
            get: function() {
              if (a(this) === false)
                throw f("writable");
              return this._writable;
            }
          }]), e3;
        }(), L = function() {
          function e3() {
            throw n(this, e3), new TypeError("TransformStreamDefaultController instances cannot be created directly");
          }
          return g(e3, [{
            key: "enqueue",
            value: function(e4) {
              if (c(this) === false)
                throw p("enqueue");
              d(this, e4);
            }
          }, {
            key: "error",
            value: function(e4) {
              if (c(this) === false)
                throw p("error");
              !function(e5, t5) {
                s(e5._controlledTransformStream, t5);
              }(this, e4);
            }
          }, {
            key: "terminate",
            value: function() {
              if (c(this) === false)
                throw p("terminate");
              !function(e4) {
                m("TransformStreamDefaultControllerTerminate()");
                var t5 = e4._controlledTransformStream, r3 = t5._readable._readableStreamController;
                P(r3) === true && O(r3), o(t5, new TypeError("TransformStream terminated"));
              }(this);
            }
          }, {
            key: "desiredSize",
            get: function() {
              if (c(this) === false)
                throw p("desiredSize");
              var e4 = this._controlledTransformStream._readable._readableStreamController;
              return I(e4);
            }
          }]), e3;
        }();
        t4.exports = {
          CreateTransformStream: function(e3, t5, r3) {
            var n2 = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1, a2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : function() {
              return 1;
            }, s2 = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : 0, o2 = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : function() {
              return 1;
            }, u2 = Object.create(k.prototype), c2 = void 0;
            i(u2, new Promise(function(e4) {
              c2 = e4;
            }), n2, a2, s2, o2), l(u2, Object.create(L.prototype), t5, r3);
            var h2 = e3();
            return c2(h2), u2;
          },
          TransformStream: k
        };
      }, {
        "./helpers.js": 10,
        "./readable-stream.js": 12,
        "./writable-stream.js": 15,
        "better-assert": 16,
        debug: 18
      }],
      14: [function(e2, t4, r2) {
        "use strict";
        var n = e2("better-assert");
        r2.rethrowAssertionErrorRejection = function(e3) {
          e3 && e3.constructor === n.AssertionError && setTimeout(function() {
            throw e3;
          }, 0);
        };
      }, {
        "better-assert": 16
      }],
      15: [function(e2, t4, r2) {
        "use strict";
        function n(e3, t5) {
          if (!(e3 instanceof t5))
            throw new TypeError("Cannot call a class as a function");
        }
        function i(e3) {
          return new Z(e3);
        }
        function a(e3) {
          e3._state = "writable", e3._storedError = void 0, e3._writer = void 0, e3._writableStreamController = void 0, e3._writeRequests = [], e3._inFlightWriteRequest = void 0, e3._closeRequest = void 0, e3._inFlightCloseRequest = void 0, e3._pendingAbortRequest = void 0, e3._backpressure = false;
        }
        function s(e3) {
          return !!H(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_writableStreamController");
        }
        function o(e3) {
          return e3._writer !== void 0;
        }
        function u(e3, t5) {
          var r3 = e3._state;
          if (r3 === "closed")
            return Promise.resolve(void 0);
          if (r3 === "errored")
            return Promise.reject(e3._storedError);
          var n2 = new TypeError("Requested to abort");
          if (e3._pendingAbortRequest !== void 0)
            return Promise.reject(n2);
          var i2 = false;
          r3 === "erroring" && (i2 = true, t5 = void 0);
          var a2 = new Promise(function(r4, n3) {
            e3._pendingAbortRequest = {
              _resolve: r4,
              _reject: n3,
              _reason: t5,
              _wasAlreadyErroring: i2
            };
          });
          return i2 === false && l(e3, n2), a2;
        }
        function c(e3, t5) {
          M("WritableStreamDealWithRejection(stream, %o)", t5), e3._state !== "writable" ? h(e3) : l(e3, t5);
        }
        function l(e3, t5) {
          M("WritableStreamStartErroring(stream, %o)", t5);
          var r3 = e3._writableStreamController;
          e3._state = "erroring", e3._storedError = t5;
          var n2 = e3._writer;
          n2 !== void 0 && b(n2, t5), function(e4) {
            return e4._inFlightWriteRequest === void 0 && e4._inFlightCloseRequest === void 0 ? (M("WritableStreamHasOperationMarkedInFlight() is false"), false) : (M("WritableStreamHasOperationMarkedInFlight() is true"), true);
          }(e3) === false && r3._started === true && h(e3);
        }
        function h(e3) {
          M("WritableStreamFinishErroring()"), e3._state = "errored", e3._writableStreamController[W]();
          var t5 = e3._storedError, r3 = true, n2 = false, i2 = void 0;
          try {
            for (var a2, s2 = e3._writeRequests[Symbol.iterator](); !(r3 = (a2 = s2.next()).done); r3 = true)
              a2.value._reject(t5);
          } catch (e4) {
            n2 = true, i2 = e4;
          } finally {
            try {
              !r3 && s2.return && s2.return();
            } finally {
              if (n2)
                throw i2;
            }
          }
          if (e3._writeRequests = [], e3._pendingAbortRequest !== void 0) {
            var o2 = e3._pendingAbortRequest;
            if (e3._pendingAbortRequest = void 0, o2._wasAlreadyErroring === true)
              return o2._reject(t5), void p(e3);
            e3._writableStreamController[J](o2._reason).then(function() {
              o2._resolve(), p(e3);
            }, function(t6) {
              o2._reject(t6), p(e3);
            });
          } else
            p(e3);
        }
        function d(e3) {
          return e3._closeRequest !== void 0 || e3._inFlightCloseRequest !== void 0;
        }
        function p(e3) {
          M("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"), e3._closeRequest !== void 0 && (e3._closeRequest._reject(e3._storedError), e3._closeRequest = void 0);
          var t5 = e3._writer;
          t5 !== void 0 && (C(t5, e3._storedError), t5._closedPromise.catch(function() {
          }));
        }
        function f(e3, t5) {
          var r3 = e3._writer;
          r3 !== void 0 && t5 !== e3._backpressure && (t5 === true ? function(e4) {
            M("defaultWriterReadyPromiseReset()"), e4._readyPromise = new Promise(function(t6, r4) {
              e4._readyPromise_resolve = t6, e4._readyPromise_reject = r4;
            }), e4._readyPromiseState = "pending";
          }(r3) : k(r3)), e3._backpressure = t5;
        }
        function g(e3) {
          return !!H(e3) && !!Object.prototype.hasOwnProperty.call(e3, "_ownerWritableStream");
        }
        function m(e3) {
          var t5 = e3._ownerWritableStream, r3 = t5._state;
          if (r3 === "closed" || r3 === "errored")
            return Promise.reject(new TypeError("The stream (in " + r3 + " state) is not in the writable state and cannot be closed"));
          var n2 = new Promise(function(e4, r4) {
            var n3 = {
              _resolve: e4,
              _reject: r4
            };
            t5._closeRequest = n3;
          });
          return t5._backpressure === true && r3 === "writable" && k(e3), function(e4) {
            X(e4, "close", 0), E(e4);
          }(t5._writableStreamController), n2;
        }
        function y(e3, t5) {
          e3._closedPromiseState === "pending" ? C(e3, t5) : function(e4, t6) {
            e4._closedPromise = Promise.reject(t6), e4._closedPromiseState = "rejected";
          }(e3, t5), e3._closedPromise.catch(function() {
          });
        }
        function b(e3, t5) {
          M("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)", t5), e3._readyPromiseState === "pending" ? function(e4, t6) {
            M("defaultWriterReadyPromiseReject(writer, %o)", t6), e4._readyPromise_reject(t6), e4._readyPromise_resolve = void 0, e4._readyPromise_reject = void 0, e4._readyPromiseState = "rejected";
          }(e3, t5) : function(e4, t6) {
            M("defaultWriterReadyPromiseResetToRejected(writer, %o)", t6), e4._readyPromise = Promise.reject(t6), e4._readyPromiseState = "rejected";
          }(e3, t5), e3._readyPromise.catch(function() {
          });
        }
        function _(e3) {
          var t5 = e3._ownerWritableStream, r3 = new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
          b(e3, r3), y(e3, r3), t5._writer = void 0, e3._ownerWritableStream = void 0;
        }
        function v(e3, t5) {
          var r3 = e3._ownerWritableStream, n2 = r3._writableStreamController, i2 = function(e4, t6) {
            try {
              return e4._strategySizeAlgorithm(t6);
            } catch (t7) {
              return x(e4, t7), 1;
            }
          }(n2, t5);
          if (r3 !== e3._ownerWritableStream)
            return Promise.reject(N("write to"));
          var a2 = r3._state;
          if (a2 === "errored")
            return Promise.reject(r3._storedError);
          if (d(r3) === true || a2 === "closed")
            return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
          if (a2 === "erroring")
            return Promise.reject(r3._storedError);
          var s2 = function(e4) {
            return new Promise(function(t6, r4) {
              var n3 = {
                _resolve: t6,
                _reject: r4
              };
              e4._writeRequests.push(n3);
            });
          }(r3);
          return function(e4, t6, r4) {
            var n3 = {
              chunk: t6
            };
            try {
              X(e4, n3, r4);
            } catch (t7) {
              return void x(e4, t7);
            }
            var i3 = e4._controlledWritableStream;
            d(i3) === false && i3._state === "writable" && f(i3, O(e4)), E(e4);
          }(n2, t5, i2), s2;
        }
        function w(e3, t5, r3, n2, i2, a2, s2, o2) {
          t5._controlledWritableStream = e3, e3._writableStreamController = t5, t5._queue = void 0, t5._queueTotalSize = void 0, Y(t5), t5._started = false, t5._strategySizeAlgorithm = o2, t5._strategyHWM = s2, t5._writeAlgorithm = n2, t5._closeAlgorithm = i2, t5._abortAlgorithm = a2;
          var u2 = O(t5);
          f(e3, u2);
          var l2 = r3();
          Promise.resolve(l2).then(function() {
            t5._started = true, E(t5);
          }, function(r4) {
            t5._started = true, c(e3, r4);
          }).catch(G);
        }
        function S(e3, t5, r3, n2) {
          var i2 = Object.create(ee.prototype), a2 = B(t5, "write", 1, [i2]), s2 = B(t5, "close", 0, []), o2 = B(t5, "abort", 1, []);
          w(e3, i2, function() {
            return q(t5, "start", [i2]);
          }, a2, s2, o2, r3, n2);
        }
        function T(e3) {
          return e3._strategyHWM - e3._queueTotalSize;
        }
        function E(e3) {
          M("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");
          var t5 = e3._controlledWritableStream;
          if (e3._started !== false && t5._inFlightWriteRequest === void 0) {
            var r3 = t5._state;
            if (r3 !== "closed" && r3 !== "errored")
              if (r3 !== "erroring") {
                if (e3._queue.length !== 0) {
                  var n2 = $(e3);
                  n2 === "close" ? function(e4) {
                    var t6 = e4._controlledWritableStream;
                    (function(e5) {
                      e5._inFlightCloseRequest = e5._closeRequest, e5._closeRequest = void 0;
                    })(t6), Q(e4), e4._closeAlgorithm().then(function() {
                      !function(e5) {
                        e5._inFlightCloseRequest._resolve(void 0), e5._inFlightCloseRequest = void 0, e5._state === "erroring" && (e5._storedError = void 0, e5._pendingAbortRequest !== void 0 && (e5._pendingAbortRequest._resolve(), e5._pendingAbortRequest = void 0)), e5._state = "closed";
                        var t7 = e5._writer;
                        t7 !== void 0 && function(e6) {
                          e6._closedPromise_resolve(void 0), e6._closedPromise_resolve = void 0, e6._closedPromise_reject = void 0, e6._closedPromiseState = "resolved";
                        }(t7);
                      }(t6);
                    }, function(e5) {
                      !function(e6, t7) {
                        e6._inFlightCloseRequest._reject(t7), e6._inFlightCloseRequest = void 0, e6._pendingAbortRequest !== void 0 && (e6._pendingAbortRequest._reject(t7), e6._pendingAbortRequest = void 0), c(e6, t7);
                      }(t6, e5);
                    }).catch(G);
                  }(e3) : function(e4, t6) {
                    var r4 = e4._controlledWritableStream;
                    (function(e5) {
                      e5._inFlightWriteRequest = e5._writeRequests.shift();
                    })(r4), e4._writeAlgorithm(t6).then(function() {
                      !function(e5) {
                        e5._inFlightWriteRequest._resolve(void 0), e5._inFlightWriteRequest = void 0;
                      }(r4);
                      var t7 = r4._state;
                      if (Q(e4), d(r4) === false && t7 === "writable") {
                        var n3 = O(e4);
                        f(r4, n3);
                      }
                      E(e4);
                    }, function(e5) {
                      !function(e6, t7) {
                        e6._inFlightWriteRequest._reject(t7), e6._inFlightWriteRequest = void 0, c(e6, t7);
                      }(r4, e5);
                    }).catch(G);
                  }(e3, n2.chunk);
                }
              } else
                h(t5);
          }
        }
        function x(e3, t5) {
          e3._controlledWritableStream._state === "writable" && A(e3, t5);
        }
        function O(e3) {
          return T(e3) <= 0;
        }
        function A(e3, t5) {
          l(e3._controlledWritableStream, t5);
        }
        function R(e3) {
          return new TypeError("WritableStream.prototype." + e3 + " can only be used on a WritableStream");
        }
        function I(e3) {
          return new TypeError("WritableStreamDefaultWriter.prototype." + e3 + " can only be used on a WritableStreamDefaultWriter");
        }
        function N(e3) {
          return new TypeError("Cannot " + e3 + " a stream using a released writer");
        }
        function P(e3) {
          e3._closedPromise = new Promise(function(t5, r3) {
            e3._closedPromise_resolve = t5, e3._closedPromise_reject = r3, e3._closedPromiseState = "pending";
          });
        }
        function C(e3, t5) {
          e3._closedPromise_reject(t5), e3._closedPromise_resolve = void 0, e3._closedPromise_reject = void 0, e3._closedPromiseState = "rejected";
        }
        function D(e3, t5) {
          M("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)", t5), e3._readyPromise = Promise.reject(t5), e3._readyPromise_resolve = void 0, e3._readyPromise_reject = void 0, e3._readyPromiseState = "rejected";
        }
        function j(e3) {
          M("defaultWriterReadyPromiseInitializeAsResolved()"), e3._readyPromise = Promise.resolve(void 0), e3._readyPromise_resolve = void 0, e3._readyPromise_reject = void 0, e3._readyPromiseState = "fulfilled";
        }
        function k(e3) {
          M("defaultWriterReadyPromiseResolve()"), e3._readyPromise_resolve(void 0), e3._readyPromise_resolve = void 0, e3._readyPromise_reject = void 0, e3._readyPromiseState = "fulfilled";
        }
        var L = function() {
          function e3(e4, t5) {
            for (var r3 = 0; r3 < t5.length; r3++) {
              var n2 = t5[r3];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e4, n2.key, n2);
            }
          }
          return function(t5, r3, n2) {
            return r3 && e3(t5.prototype, r3), n2 && e3(t5, n2), t5;
          };
        }(), M = (e2("better-assert"), e2("debug")("streams:writable-stream:verbose")), F = e2("./helpers.js"), B = F.CreateAlgorithmFromUnderlyingMethod, q = F.InvokeOrNoop, U = F.ValidateAndNormalizeHighWaterMark, V = (F.IsNonNegativeNumber, F.MakeSizeAlgorithmFromSizeFunction), H = F.typeIsObject, G = e2("./utils.js").rethrowAssertionErrorRejection, z = e2("./queue-with-sizes.js"), Q = z.DequeueValue, X = z.EnqueueValueWithSize, $ = z.PeekQueueValue, Y = z.ResetQueue, J = Symbol("[[AbortSteps]]"), W = Symbol("[[ErrorSteps]]"), K = function() {
          function e3() {
            var t5 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, r3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, i2 = r3.size, s2 = r3.highWaterMark, o2 = s2 === void 0 ? 1 : s2;
            if (n(this, e3), a(this), t5.type !== void 0)
              throw new RangeError("Invalid type is specified");
            var u2 = V(i2);
            S(this, t5, o2 = U(o2), u2);
          }
          return L(e3, [{
            key: "abort",
            value: function(e4) {
              return s(this) === false ? Promise.reject(R("abort")) : o(this) === true ? Promise.reject(new TypeError("Cannot abort a stream that already has a writer")) : u(this, e4);
            }
          }, {
            key: "getWriter",
            value: function() {
              if (s(this) === false)
                throw R("getWriter");
              return i(this);
            }
          }, {
            key: "locked",
            get: function() {
              if (s(this) === false)
                throw R("locked");
              return o(this);
            }
          }]), e3;
        }();
        t4.exports = {
          AcquireWritableStreamDefaultWriter: i,
          CreateWritableStream: function(e3, t5, r3, n2) {
            var i2 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 1, s2 = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : function() {
              return 1;
            }, o2 = Object.create(K.prototype);
            return a(o2), w(o2, Object.create(ee.prototype), e3, t5, r3, n2, i2, s2), o2;
          },
          IsWritableStream: s,
          IsWritableStreamLocked: o,
          WritableStream: K,
          WritableStreamAbort: u,
          WritableStreamDefaultControllerErrorIfNeeded: x,
          WritableStreamDefaultWriterCloseWithErrorPropagation: function(e3) {
            var t5 = e3._ownerWritableStream, r3 = t5._state;
            return d(t5) === true || r3 === "closed" ? Promise.resolve() : r3 === "errored" ? Promise.reject(t5._storedError) : m(e3);
          },
          WritableStreamDefaultWriterRelease: _,
          WritableStreamDefaultWriterWrite: v,
          WritableStreamCloseQueuedOrInFlight: d
        };
        var Z = function() {
          function e3(t5) {
            if (n(this, e3), s(t5) === false)
              throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");
            if (o(t5) === true)
              throw new TypeError("This stream has already been locked for exclusive writing by another writer");
            this._ownerWritableStream = t5, t5._writer = this;
            var r3 = t5._state;
            if (r3 === "writable")
              d(t5) === false && t5._backpressure === true ? function(e4) {
                M("defaultWriterReadyPromiseInitialize()"), e4._readyPromise = new Promise(function(t6, r4) {
                  e4._readyPromise_resolve = t6, e4._readyPromise_reject = r4;
                }), e4._readyPromiseState = "pending";
              }(this) : j(this), P(this);
            else if (r3 === "erroring")
              D(this, t5._storedError), this._readyPromise.catch(function() {
              }), P(this);
            else if (r3 === "closed")
              j(this), function(e4) {
                e4._closedPromise = Promise.resolve(void 0), e4._closedPromise_resolve = void 0, e4._closedPromise_reject = void 0, e4._closedPromiseState = "resolved";
              }(this);
            else {
              var i2 = t5._storedError;
              D(this, i2), this._readyPromise.catch(function() {
              }), function(e4, t6) {
                e4._closedPromise = Promise.reject(t6), e4._closedPromise_resolve = void 0, e4._closedPromise_reject = void 0, e4._closedPromiseState = "rejected";
              }(this, i2), this._closedPromise.catch(function() {
              });
            }
          }
          return L(e3, [{
            key: "abort",
            value: function(e4) {
              return g(this) === false ? Promise.reject(I("abort")) : this._ownerWritableStream === void 0 ? Promise.reject(N("abort")) : function(e5, t5) {
                return u(e5._ownerWritableStream, t5);
              }(this, e4);
            }
          }, {
            key: "close",
            value: function() {
              if (g(this) === false)
                return Promise.reject(I("close"));
              var e4 = this._ownerWritableStream;
              return e4 === void 0 ? Promise.reject(N("close")) : d(e4) === true ? Promise.reject(new TypeError("cannot close an already-closing stream")) : m(this);
            }
          }, {
            key: "releaseLock",
            value: function() {
              if (g(this) === false)
                throw I("releaseLock");
              this._ownerWritableStream !== void 0 && _(this);
            }
          }, {
            key: "write",
            value: function(e4) {
              return g(this) === false ? Promise.reject(I("write")) : this._ownerWritableStream === void 0 ? Promise.reject(N("write to")) : v(this, e4);
            }
          }, {
            key: "closed",
            get: function() {
              return g(this) === false ? Promise.reject(I("closed")) : this._closedPromise;
            }
          }, {
            key: "desiredSize",
            get: function() {
              if (g(this) === false)
                throw I("desiredSize");
              if (this._ownerWritableStream === void 0)
                throw N("desiredSize");
              return e4 = this._ownerWritableStream, (t5 = e4._state) === "errored" || t5 === "erroring" ? null : t5 === "closed" ? 0 : T(e4._writableStreamController);
              var e4, t5;
            }
          }, {
            key: "ready",
            get: function() {
              return g(this) === false ? Promise.reject(I("ready")) : this._readyPromise;
            }
          }]), e3;
        }(), ee = function() {
          function e3() {
            throw n(this, e3), new TypeError("WritableStreamDefaultController cannot be constructed explicitly");
          }
          return L(e3, [{
            key: "error",
            value: function(e4) {
              if (function(e5) {
                return !!H(e5) && !!Object.prototype.hasOwnProperty.call(e5, "_controlledWritableStream");
              }(this) === false)
                throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");
              this._controlledWritableStream._state === "writable" && A(this, e4);
            }
          }, {
            key: J,
            value: function(e4) {
              return this._abortAlgorithm(e4);
            }
          }, {
            key: W,
            value: function() {
              Y(this);
            }
          }]), e3;
        }();
      }, {
        "./helpers.js": 10,
        "./queue-with-sizes.js": 11,
        "./utils.js": 14,
        "better-assert": 16,
        debug: 18
      }],
      16: [function(e2, t4, r2) {
        (function(r3) {
          var n = e2("assert").AssertionError, i = e2("callsite"), a = e2("fs");
          t4.exports = r3.env.NO_ASSERT ? function() {
          } : function(e3) {
            if (!e3) {
              var t5 = i(), r4 = t5[1], s = r4.getFileName(), o = r4.getLineNumber(), u = (u = a.readFileSync(s, "utf8")).split("\n")[o - 1].match(/assert\((.*)\)/)[1];
              throw new n({
                message: u,
                stackStartFunction: t5[0].getFunction()
              });
            }
          };
        }).call(this, e2("_process"));
      }, {
        _process: 4,
        assert: 2,
        callsite: 17,
        fs: 3
      }],
      17: [function(e2, t4, r2) {
        t4.exports = function() {
          var e3 = Error.prepareStackTrace;
          Error.prepareStackTrace = function(e4, t6) {
            return t6;
          };
          var t5 = new Error();
          Error.captureStackTrace(t5, arguments.callee);
          var r3 = t5.stack;
          return Error.prepareStackTrace = e3, r3;
        };
      }, {}],
      18: [function(e2, t4, r2) {
        (function(n) {
          function i() {
            var e3;
            try {
              e3 = r2.storage.debug;
            } catch (e4) {
            }
            return !e3 && n !== void 0 && "env" in n && (e3 = n.env.DEBUG), e3;
          }
          (r2 = t4.exports = e2("./debug")).log = function() {
            return typeof console == "object" && console.log && Function.prototype.apply.call(console.log, console, arguments);
          }, r2.formatArgs = function(e3) {
            var t5 = this.useColors;
            if (e3[0] = (t5 ? "%c" : "") + this.namespace + (t5 ? " %c" : " ") + e3[0] + (t5 ? "%c " : " ") + "+" + r2.humanize(this.diff), t5) {
              var n2 = "color: " + this.color;
              e3.splice(1, 0, n2, "color: inherit");
              var i2 = 0, a = 0;
              e3[0].replace(/%[a-zA-Z%]/g, function(e4) {
                e4 !== "%%" && (i2++, e4 === "%c" && (a = i2));
              }), e3.splice(a, 0, n2);
            }
          }, r2.save = function(e3) {
            try {
              e3 == null ? r2.storage.removeItem("debug") : r2.storage.debug = e3;
            } catch (e4) {
            }
          }, r2.load = i, r2.useColors = function() {
            return !(typeof window == "undefined" || !window.process || window.process.type !== "renderer") || (typeof navigator == "undefined" || !navigator.userAgent || !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && (typeof document != "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window != "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator != "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator != "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
          }, r2.storage = typeof chrome != "undefined" && chrome.storage !== void 0 ? chrome.storage.local : function() {
            try {
              return window.localStorage;
            } catch (e3) {
            }
          }(), r2.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], r2.formatters.j = function(e3) {
            try {
              return JSON.stringify(e3);
            } catch (e4) {
              return "[UnexpectedJSONParseError]: " + e4.message;
            }
          }, r2.enable(i());
        }).call(this, e2("_process"));
      }, {
        "./debug": 19,
        _process: 4
      }],
      19: [function(e2, t4, r2) {
        function n(e3) {
          function t5() {
            if (t5.enabled) {
              var e4 = t5, i2 = +new Date(), a = i2 - (n2 || i2);
              e4.diff = a, e4.prev = n2, e4.curr = i2, n2 = i2;
              for (var s = new Array(arguments.length), o = 0; o < s.length; o++)
                s[o] = arguments[o];
              s[0] = r2.coerce(s[0]), typeof s[0] != "string" && s.unshift("%O");
              var u = 0;
              s[0] = s[0].replace(/%([a-zA-Z%])/g, function(t6, n3) {
                if (t6 === "%%")
                  return t6;
                u++;
                var i3 = r2.formatters[n3];
                if (typeof i3 == "function") {
                  var a2 = s[u];
                  t6 = i3.call(e4, a2), s.splice(u, 1), u--;
                }
                return t6;
              }), r2.formatArgs.call(e4, s), (t5.log || r2.log || console.log.bind(console)).apply(e4, s);
            }
          }
          var n2;
          return t5.namespace = e3, t5.enabled = r2.enabled(e3), t5.useColors = r2.useColors(), t5.color = function(e4) {
            var t6, n3 = 0;
            for (t6 in e4)
              n3 = (n3 << 5) - n3 + e4.charCodeAt(t6), n3 |= 0;
            return r2.colors[Math.abs(n3) % r2.colors.length];
          }(e3), t5.destroy = i, typeof r2.init == "function" && r2.init(t5), r2.instances.push(t5), t5;
        }
        function i() {
          var e3 = r2.instances.indexOf(this);
          return e3 !== -1 && (r2.instances.splice(e3, 1), true);
        }
        (r2 = t4.exports = n.debug = n.default = n).coerce = function(e3) {
          return e3 instanceof Error ? e3.stack || e3.message : e3;
        }, r2.disable = function() {
          r2.enable("");
        }, r2.enable = function(e3) {
          r2.save(e3), r2.names = [], r2.skips = [];
          var t5, n2 = (typeof e3 == "string" ? e3 : "").split(/[\s,]+/), i2 = n2.length;
          for (t5 = 0; t5 < i2; t5++)
            n2[t5] && ((e3 = n2[t5].replace(/\*/g, ".*?"))[0] === "-" ? r2.skips.push(new RegExp("^" + e3.substr(1) + "$")) : r2.names.push(new RegExp("^" + e3 + "$")));
          for (t5 = 0; t5 < r2.instances.length; t5++) {
            var a = r2.instances[t5];
            a.enabled = r2.enabled(a.namespace);
          }
        }, r2.enabled = function(e3) {
          if (e3[e3.length - 1] === "*")
            return true;
          var t5, n2;
          for (t5 = 0, n2 = r2.skips.length; t5 < n2; t5++)
            if (r2.skips[t5].test(e3))
              return false;
          for (t5 = 0, n2 = r2.names.length; t5 < n2; t5++)
            if (r2.names[t5].test(e3))
              return true;
          return false;
        }, r2.humanize = e2("ms"), r2.instances = [], r2.names = [], r2.skips = [], r2.formatters = {};
      }, {
        ms: 20
      }],
      20: [function(e2, t4, r2) {
        function n(e3) {
          if (!((e3 = String(e3)).length > 100)) {
            var t5 = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e3);
            if (t5) {
              var r3 = parseFloat(t5[1]);
              switch ((t5[2] || "ms").toLowerCase()) {
                case "years":
                case "year":
                case "yrs":
                case "yr":
                case "y":
                  return r3 * h;
                case "days":
                case "day":
                case "d":
                  return r3 * l;
                case "hours":
                case "hour":
                case "hrs":
                case "hr":
                case "h":
                  return r3 * c;
                case "minutes":
                case "minute":
                case "mins":
                case "min":
                case "m":
                  return r3 * u;
                case "seconds":
                case "second":
                case "secs":
                case "sec":
                case "s":
                  return r3 * o;
                case "milliseconds":
                case "millisecond":
                case "msecs":
                case "msec":
                case "ms":
                  return r3;
                default:
                  return;
              }
            }
          }
        }
        function i(e3) {
          return e3 >= l ? Math.round(e3 / l) + "d" : e3 >= c ? Math.round(e3 / c) + "h" : e3 >= u ? Math.round(e3 / u) + "m" : e3 >= o ? Math.round(e3 / o) + "s" : e3 + "ms";
        }
        function a(e3) {
          return s(e3, l, "day") || s(e3, c, "hour") || s(e3, u, "minute") || s(e3, o, "second") || e3 + " ms";
        }
        function s(e3, t5, r3) {
          if (!(e3 < t5))
            return e3 < 1.5 * t5 ? Math.floor(e3 / t5) + " " + r3 : Math.ceil(e3 / t5) + " " + r3 + "s";
        }
        var o = 1e3, u = 60 * o, c = 60 * u, l = 24 * c, h = 365.25 * l;
        t4.exports = function(e3, t5) {
          t5 = t5 || {};
          var r3 = typeof e3;
          if (r3 === "string" && e3.length > 0)
            return n(e3);
          if (r3 === "number" && isNaN(e3) === false)
            return t5.long ? a(e3) : i(e3);
          throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e3));
        };
      }, {}]
    }, {}, [1])(1);
  }).call(this, r(10));
}, function(e, t2, r) {
  "use strict";
  var n = r(128), i = r(253), a = r(256);
  function s(e2) {
    return e2 && e2.rel;
  }
  function o(e2, t3) {
    return t3.rel.split(/\s+/).forEach(function(r2) {
      e2[r2] = a(t3, {
        rel: r2
      });
    }), e2;
  }
  function u(e2, t3) {
    var r2 = t3.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);
    return r2 && (e2[r2[1]] = r2[2]), e2;
  }
  function c(e2) {
    try {
      var t3 = e2.match(/<?([^>]*)>(.*)/), r2 = t3[1], s2 = t3[2].split(";"), o2 = i.parse(r2), c2 = n.parse(o2.query);
      s2.shift();
      var l = s2.reduce(u, {});
      return (l = a(c2, l)).url = r2, l;
    } catch (e3) {
      return null;
    }
  }
  e.exports = function(e2) {
    return e2 ? e2.split(/,\s*</).map(c).filter(s).reduce(o, {}) : null;
  };
}, function(e, t2, r) {
  "use strict";
  t2.decode = t2.parse = r(251), t2.encode = t2.stringify = r(252);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(257), t2), i(r(258), t2);
}, function(e, t2, r) {
  const n = r(263), i = r(264), a = r(265), s = r(266), o = r(267);
  e.exports = {
    DynamicNestedLoopJoin: n,
    HashJoin: i,
    NestedLoopJoin: a,
    SymmetricHashJoin: s,
    MergeStream: o
  };
}, function(e, t2, r) {
  (function(e2) {
    !function(t3) {
      t3.parser = function(e3, t4) {
        return new a(e3, t4);
      }, t3.SAXParser = a, t3.SAXStream = o, t3.createStream = function(e3, t4) {
        return new o(e3, t4);
      }, t3.MAX_BUFFER_LENGTH = 65536;
      var n, i = ["comment", "sgmlDecl", "textNode", "tagName", "doctype", "procInstName", "procInstBody", "entity", "attribName", "attribValue", "cdata", "script"];
      function a(e3, r2) {
        if (!(this instanceof a))
          return new a(e3, r2);
        !function(e4) {
          for (var t4 = 0, r3 = i.length; t4 < r3; t4++)
            e4[i[t4]] = "";
        }(this), this.q = this.c = "", this.bufferCheckPosition = t3.MAX_BUFFER_LENGTH, this.opt = r2 || {}, this.opt.lowercase = this.opt.lowercase || this.opt.lowercasetags, this.looseCase = this.opt.lowercase ? "toLowerCase" : "toUpperCase", this.tags = [], this.closed = this.closedRoot = this.sawRoot = false, this.tag = this.error = null, this.strict = !!e3, this.noscript = !(!e3 && !this.opt.noscript), this.state = S.BEGIN, this.strictEntities = this.opt.strictEntities, this.ENTITIES = this.strictEntities ? Object.create(t3.XML_ENTITIES) : Object.create(t3.ENTITIES), this.attribList = [], this.opt.xmlns && (this.ns = Object.create(c)), this.trackPosition = this.opt.position !== false, this.trackPosition && (this.position = this.line = this.column = 0), E(this, "onready");
      }
      t3.EVENTS = ["text", "processinginstruction", "sgmldeclaration", "doctype", "comment", "opentagstart", "attribute", "opentag", "closetag", "opencdata", "cdata", "closecdata", "error", "end", "ready", "script", "opennamespace", "closenamespace"], Object.create || (Object.create = function(e3) {
        function t4() {
        }
        return t4.prototype = e3, new t4();
      }), Object.keys || (Object.keys = function(e3) {
        var t4 = [];
        for (var r2 in e3)
          e3.hasOwnProperty(r2) && t4.push(r2);
        return t4;
      }), a.prototype = {
        end: function() {
          I(this);
        },
        write: function(e3) {
          if (this.error)
            throw this.error;
          if (this.closed)
            return R(this, "Cannot write after close. Assign an onready handler.");
          if (e3 === null)
            return I(this);
          typeof e3 == "object" && (e3 = e3.toString());
          var r2 = 0, n2 = "";
          for (; n2 = F(e3, r2++), this.c = n2, n2; )
            switch (this.trackPosition && (this.position++, n2 === "\n" ? (this.line++, this.column = 0) : this.column++), this.state) {
              case S.BEGIN:
                if (this.state = S.BEGIN_WHITESPACE, n2 === "\uFEFF")
                  continue;
                M(this, n2);
                continue;
              case S.BEGIN_WHITESPACE:
                M(this, n2);
                continue;
              case S.TEXT:
                if (this.sawRoot && !this.closedRoot) {
                  for (var a2 = r2 - 1; n2 && n2 !== "<" && n2 !== "&"; )
                    (n2 = F(e3, r2++)) && this.trackPosition && (this.position++, n2 === "\n" ? (this.line++, this.column = 0) : this.column++);
                  this.textNode += e3.substring(a2, r2 - 1);
                }
                n2 !== "<" || this.sawRoot && this.closedRoot && !this.strict ? (f(n2) || this.sawRoot && !this.closedRoot || N(this, "Text data outside of root node."), n2 === "&" ? this.state = S.TEXT_ENTITY : this.textNode += n2) : (this.state = S.OPEN_WAKA, this.startTagPosition = this.position);
                continue;
              case S.SCRIPT:
                n2 === "<" ? this.state = S.SCRIPT_ENDING : this.script += n2;
                continue;
              case S.SCRIPT_ENDING:
                n2 === "/" ? this.state = S.CLOSE_TAG : (this.script += "<" + n2, this.state = S.SCRIPT);
                continue;
              case S.OPEN_WAKA:
                if (n2 === "!")
                  this.state = S.SGML_DECL, this.sgmlDecl = "";
                else if (f(n2))
                  ;
                else if (y(l, n2))
                  this.state = S.OPEN_TAG, this.tagName = n2;
                else if (n2 === "/")
                  this.state = S.CLOSE_TAG, this.tagName = "";
                else if (n2 === "?")
                  this.state = S.PROC_INST, this.procInstName = this.procInstBody = "";
                else {
                  if (N(this, "Unencoded <"), this.startTagPosition + 1 < this.position) {
                    var s2 = this.position - this.startTagPosition;
                    n2 = new Array(s2).join(" ") + n2;
                  }
                  this.textNode += "<" + n2, this.state = S.TEXT;
                }
                continue;
              case S.SGML_DECL:
                (this.sgmlDecl + n2).toUpperCase() === "[CDATA[" ? (x(this, "onopencdata"), this.state = S.CDATA, this.sgmlDecl = "", this.cdata = "") : this.sgmlDecl + n2 === "--" ? (this.state = S.COMMENT, this.comment = "", this.sgmlDecl = "") : (this.sgmlDecl + n2).toUpperCase() === "DOCTYPE" ? (this.state = S.DOCTYPE, (this.doctype || this.sawRoot) && N(this, "Inappropriately located doctype declaration"), this.doctype = "", this.sgmlDecl = "") : n2 === ">" ? (x(this, "onsgmldeclaration", this.sgmlDecl), this.sgmlDecl = "", this.state = S.TEXT) : g(n2) ? (this.state = S.SGML_DECL_QUOTED, this.sgmlDecl += n2) : this.sgmlDecl += n2;
                continue;
              case S.SGML_DECL_QUOTED:
                n2 === this.q && (this.state = S.SGML_DECL, this.q = ""), this.sgmlDecl += n2;
                continue;
              case S.DOCTYPE:
                n2 === ">" ? (this.state = S.TEXT, x(this, "ondoctype", this.doctype), this.doctype = true) : (this.doctype += n2, n2 === "[" ? this.state = S.DOCTYPE_DTD : g(n2) && (this.state = S.DOCTYPE_QUOTED, this.q = n2));
                continue;
              case S.DOCTYPE_QUOTED:
                this.doctype += n2, n2 === this.q && (this.q = "", this.state = S.DOCTYPE);
                continue;
              case S.DOCTYPE_DTD:
                this.doctype += n2, n2 === "]" ? this.state = S.DOCTYPE : g(n2) && (this.state = S.DOCTYPE_DTD_QUOTED, this.q = n2);
                continue;
              case S.DOCTYPE_DTD_QUOTED:
                this.doctype += n2, n2 === this.q && (this.state = S.DOCTYPE_DTD, this.q = "");
                continue;
              case S.COMMENT:
                n2 === "-" ? this.state = S.COMMENT_ENDING : this.comment += n2;
                continue;
              case S.COMMENT_ENDING:
                n2 === "-" ? (this.state = S.COMMENT_ENDED, this.comment = A(this.opt, this.comment), this.comment && x(this, "oncomment", this.comment), this.comment = "") : (this.comment += "-" + n2, this.state = S.COMMENT);
                continue;
              case S.COMMENT_ENDED:
                n2 !== ">" ? (N(this, "Malformed comment"), this.comment += "--" + n2, this.state = S.COMMENT) : this.state = S.TEXT;
                continue;
              case S.CDATA:
                n2 === "]" ? this.state = S.CDATA_ENDING : this.cdata += n2;
                continue;
              case S.CDATA_ENDING:
                n2 === "]" ? this.state = S.CDATA_ENDING_2 : (this.cdata += "]" + n2, this.state = S.CDATA);
                continue;
              case S.CDATA_ENDING_2:
                n2 === ">" ? (this.cdata && x(this, "oncdata", this.cdata), x(this, "onclosecdata"), this.cdata = "", this.state = S.TEXT) : n2 === "]" ? this.cdata += "]" : (this.cdata += "]]" + n2, this.state = S.CDATA);
                continue;
              case S.PROC_INST:
                n2 === "?" ? this.state = S.PROC_INST_ENDING : f(n2) ? this.state = S.PROC_INST_BODY : this.procInstName += n2;
                continue;
              case S.PROC_INST_BODY:
                if (!this.procInstBody && f(n2))
                  continue;
                n2 === "?" ? this.state = S.PROC_INST_ENDING : this.procInstBody += n2;
                continue;
              case S.PROC_INST_ENDING:
                n2 === ">" ? (x(this, "onprocessinginstruction", {
                  name: this.procInstName,
                  body: this.procInstBody
                }), this.procInstName = this.procInstBody = "", this.state = S.TEXT) : (this.procInstBody += "?" + n2, this.state = S.PROC_INST_BODY);
                continue;
              case S.OPEN_TAG:
                y(h, n2) ? this.tagName += n2 : (P(this), n2 === ">" ? j(this) : n2 === "/" ? this.state = S.OPEN_TAG_SLASH : (f(n2) || N(this, "Invalid character in tag name"), this.state = S.ATTRIB));
                continue;
              case S.OPEN_TAG_SLASH:
                n2 === ">" ? (j(this, true), k(this)) : (N(this, "Forward-slash in opening tag not followed by >"), this.state = S.ATTRIB);
                continue;
              case S.ATTRIB:
                if (f(n2))
                  continue;
                n2 === ">" ? j(this) : n2 === "/" ? this.state = S.OPEN_TAG_SLASH : y(l, n2) ? (this.attribName = n2, this.attribValue = "", this.state = S.ATTRIB_NAME) : N(this, "Invalid attribute name");
                continue;
              case S.ATTRIB_NAME:
                n2 === "=" ? this.state = S.ATTRIB_VALUE : n2 === ">" ? (N(this, "Attribute without value"), this.attribValue = this.attribName, D(this), j(this)) : f(n2) ? this.state = S.ATTRIB_NAME_SAW_WHITE : y(h, n2) ? this.attribName += n2 : N(this, "Invalid attribute name");
                continue;
              case S.ATTRIB_NAME_SAW_WHITE:
                if (n2 === "=")
                  this.state = S.ATTRIB_VALUE;
                else {
                  if (f(n2))
                    continue;
                  N(this, "Attribute without value"), this.tag.attributes[this.attribName] = "", this.attribValue = "", x(this, "onattribute", {
                    name: this.attribName,
                    value: ""
                  }), this.attribName = "", n2 === ">" ? j(this) : y(l, n2) ? (this.attribName = n2, this.state = S.ATTRIB_NAME) : (N(this, "Invalid attribute name"), this.state = S.ATTRIB);
                }
                continue;
              case S.ATTRIB_VALUE:
                if (f(n2))
                  continue;
                g(n2) ? (this.q = n2, this.state = S.ATTRIB_VALUE_QUOTED) : (N(this, "Unquoted attribute value"), this.state = S.ATTRIB_VALUE_UNQUOTED, this.attribValue = n2);
                continue;
              case S.ATTRIB_VALUE_QUOTED:
                if (n2 !== this.q) {
                  n2 === "&" ? this.state = S.ATTRIB_VALUE_ENTITY_Q : this.attribValue += n2;
                  continue;
                }
                D(this), this.q = "", this.state = S.ATTRIB_VALUE_CLOSED;
                continue;
              case S.ATTRIB_VALUE_CLOSED:
                f(n2) ? this.state = S.ATTRIB : n2 === ">" ? j(this) : n2 === "/" ? this.state = S.OPEN_TAG_SLASH : y(l, n2) ? (N(this, "No whitespace between attributes"), this.attribName = n2, this.attribValue = "", this.state = S.ATTRIB_NAME) : N(this, "Invalid attribute name");
                continue;
              case S.ATTRIB_VALUE_UNQUOTED:
                if (!m(n2)) {
                  n2 === "&" ? this.state = S.ATTRIB_VALUE_ENTITY_U : this.attribValue += n2;
                  continue;
                }
                D(this), n2 === ">" ? j(this) : this.state = S.ATTRIB;
                continue;
              case S.CLOSE_TAG:
                if (this.tagName)
                  n2 === ">" ? k(this) : y(h, n2) ? this.tagName += n2 : this.script ? (this.script += "</" + this.tagName, this.tagName = "", this.state = S.SCRIPT) : (f(n2) || N(this, "Invalid tagname in closing tag"), this.state = S.CLOSE_TAG_SAW_WHITE);
                else {
                  if (f(n2))
                    continue;
                  b(l, n2) ? this.script ? (this.script += "</" + n2, this.state = S.SCRIPT) : N(this, "Invalid tagname in closing tag.") : this.tagName = n2;
                }
                continue;
              case S.CLOSE_TAG_SAW_WHITE:
                if (f(n2))
                  continue;
                n2 === ">" ? k(this) : N(this, "Invalid characters in closing tag");
                continue;
              case S.TEXT_ENTITY:
              case S.ATTRIB_VALUE_ENTITY_Q:
              case S.ATTRIB_VALUE_ENTITY_U:
                var o2, u2;
                switch (this.state) {
                  case S.TEXT_ENTITY:
                    o2 = S.TEXT, u2 = "textNode";
                    break;
                  case S.ATTRIB_VALUE_ENTITY_Q:
                    o2 = S.ATTRIB_VALUE_QUOTED, u2 = "attribValue";
                    break;
                  case S.ATTRIB_VALUE_ENTITY_U:
                    o2 = S.ATTRIB_VALUE_UNQUOTED, u2 = "attribValue";
                }
                n2 === ";" ? (this[u2] += L(this), this.entity = "", this.state = o2) : y(this.entity.length ? p : d, n2) ? this.entity += n2 : (N(this, "Invalid character in entity name"), this[u2] += "&" + this.entity + n2, this.entity = "", this.state = o2);
                continue;
              default:
                throw new Error(this, "Unknown state: " + this.state);
            }
          this.position >= this.bufferCheckPosition && function(e4) {
            for (var r3 = Math.max(t3.MAX_BUFFER_LENGTH, 10), n3 = 0, a3 = 0, s3 = i.length; a3 < s3; a3++) {
              var o3 = e4[i[a3]].length;
              if (o3 > r3)
                switch (i[a3]) {
                  case "textNode":
                    O(e4);
                    break;
                  case "cdata":
                    x(e4, "oncdata", e4.cdata), e4.cdata = "";
                    break;
                  case "script":
                    x(e4, "onscript", e4.script), e4.script = "";
                    break;
                  default:
                    R(e4, "Max buffer length exceeded: " + i[a3]);
                }
              n3 = Math.max(n3, o3);
            }
            var u3 = t3.MAX_BUFFER_LENGTH - n3;
            e4.bufferCheckPosition = u3 + e4.position;
          }(this);
          return this;
        },
        resume: function() {
          return this.error = null, this;
        },
        close: function() {
          return this.write(null);
        },
        flush: function() {
          var e3;
          O(e3 = this), e3.cdata !== "" && (x(e3, "oncdata", e3.cdata), e3.cdata = ""), e3.script !== "" && (x(e3, "onscript", e3.script), e3.script = "");
        }
      };
      try {
        n = r(2).Stream;
      } catch (e3) {
        n = function() {
        };
      }
      var s = t3.EVENTS.filter(function(e3) {
        return e3 !== "error" && e3 !== "end";
      });
      function o(e3, t4) {
        if (!(this instanceof o))
          return new o(e3, t4);
        n.apply(this), this._parser = new a(e3, t4), this.writable = true, this.readable = true;
        var r2 = this;
        this._parser.onend = function() {
          r2.emit("end");
        }, this._parser.onerror = function(e4) {
          r2.emit("error", e4), r2._parser.error = null;
        }, this._decoder = null, s.forEach(function(e4) {
          Object.defineProperty(r2, "on" + e4, {
            get: function() {
              return r2._parser["on" + e4];
            },
            set: function(t5) {
              if (!t5)
                return r2.removeAllListeners(e4), r2._parser["on" + e4] = t5, t5;
              r2.on(e4, t5);
            },
            enumerable: true,
            configurable: false
          });
        });
      }
      o.prototype = Object.create(n.prototype, {
        constructor: {
          value: o
        }
      }), o.prototype.write = function(t4) {
        if (typeof e2 == "function" && typeof e2.isBuffer == "function" && e2.isBuffer(t4)) {
          if (!this._decoder) {
            var n2 = r(33).StringDecoder;
            this._decoder = new n2("utf8");
          }
          t4 = this._decoder.write(t4);
        }
        return this._parser.write(t4.toString()), this.emit("data", t4), true;
      }, o.prototype.end = function(e3) {
        return e3 && e3.length && this.write(e3), this._parser.end(), true;
      }, o.prototype.on = function(e3, t4) {
        var r2 = this;
        return r2._parser["on" + e3] || s.indexOf(e3) === -1 || (r2._parser["on" + e3] = function() {
          var t5 = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);
          t5.splice(0, 0, e3), r2.emit.apply(r2, t5);
        }), n.prototype.on.call(r2, e3, t4);
      };
      var u = "http://www.w3.org/XML/1998/namespace", c = {
        xml: u,
        xmlns: "http://www.w3.org/2000/xmlns/"
      }, l = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/, h = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/, d = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/, p = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
      function f(e3) {
        return e3 === " " || e3 === "\n" || e3 === "\r" || e3 === "	";
      }
      function g(e3) {
        return e3 === '"' || e3 === "'";
      }
      function m(e3) {
        return e3 === ">" || f(e3);
      }
      function y(e3, t4) {
        return e3.test(t4);
      }
      function b(e3, t4) {
        return !y(e3, t4);
      }
      var _, v, w, S = 0;
      for (var T in t3.STATE = {
        BEGIN: S++,
        BEGIN_WHITESPACE: S++,
        TEXT: S++,
        TEXT_ENTITY: S++,
        OPEN_WAKA: S++,
        SGML_DECL: S++,
        SGML_DECL_QUOTED: S++,
        DOCTYPE: S++,
        DOCTYPE_QUOTED: S++,
        DOCTYPE_DTD: S++,
        DOCTYPE_DTD_QUOTED: S++,
        COMMENT_STARTING: S++,
        COMMENT: S++,
        COMMENT_ENDING: S++,
        COMMENT_ENDED: S++,
        CDATA: S++,
        CDATA_ENDING: S++,
        CDATA_ENDING_2: S++,
        PROC_INST: S++,
        PROC_INST_BODY: S++,
        PROC_INST_ENDING: S++,
        OPEN_TAG: S++,
        OPEN_TAG_SLASH: S++,
        ATTRIB: S++,
        ATTRIB_NAME: S++,
        ATTRIB_NAME_SAW_WHITE: S++,
        ATTRIB_VALUE: S++,
        ATTRIB_VALUE_QUOTED: S++,
        ATTRIB_VALUE_CLOSED: S++,
        ATTRIB_VALUE_UNQUOTED: S++,
        ATTRIB_VALUE_ENTITY_Q: S++,
        ATTRIB_VALUE_ENTITY_U: S++,
        CLOSE_TAG: S++,
        CLOSE_TAG_SAW_WHITE: S++,
        SCRIPT: S++,
        SCRIPT_ENDING: S++
      }, t3.XML_ENTITIES = {
        amp: "&",
        gt: ">",
        lt: "<",
        quot: '"',
        apos: "'"
      }, t3.ENTITIES = {
        amp: "&",
        gt: ">",
        lt: "<",
        quot: '"',
        apos: "'",
        AElig: 198,
        Aacute: 193,
        Acirc: 194,
        Agrave: 192,
        Aring: 197,
        Atilde: 195,
        Auml: 196,
        Ccedil: 199,
        ETH: 208,
        Eacute: 201,
        Ecirc: 202,
        Egrave: 200,
        Euml: 203,
        Iacute: 205,
        Icirc: 206,
        Igrave: 204,
        Iuml: 207,
        Ntilde: 209,
        Oacute: 211,
        Ocirc: 212,
        Ograve: 210,
        Oslash: 216,
        Otilde: 213,
        Ouml: 214,
        THORN: 222,
        Uacute: 218,
        Ucirc: 219,
        Ugrave: 217,
        Uuml: 220,
        Yacute: 221,
        aacute: 225,
        acirc: 226,
        aelig: 230,
        agrave: 224,
        aring: 229,
        atilde: 227,
        auml: 228,
        ccedil: 231,
        eacute: 233,
        ecirc: 234,
        egrave: 232,
        eth: 240,
        euml: 235,
        iacute: 237,
        icirc: 238,
        igrave: 236,
        iuml: 239,
        ntilde: 241,
        oacute: 243,
        ocirc: 244,
        ograve: 242,
        oslash: 248,
        otilde: 245,
        ouml: 246,
        szlig: 223,
        thorn: 254,
        uacute: 250,
        ucirc: 251,
        ugrave: 249,
        uuml: 252,
        yacute: 253,
        yuml: 255,
        copy: 169,
        reg: 174,
        nbsp: 160,
        iexcl: 161,
        cent: 162,
        pound: 163,
        curren: 164,
        yen: 165,
        brvbar: 166,
        sect: 167,
        uml: 168,
        ordf: 170,
        laquo: 171,
        not: 172,
        shy: 173,
        macr: 175,
        deg: 176,
        plusmn: 177,
        sup1: 185,
        sup2: 178,
        sup3: 179,
        acute: 180,
        micro: 181,
        para: 182,
        middot: 183,
        cedil: 184,
        ordm: 186,
        raquo: 187,
        frac14: 188,
        frac12: 189,
        frac34: 190,
        iquest: 191,
        times: 215,
        divide: 247,
        OElig: 338,
        oelig: 339,
        Scaron: 352,
        scaron: 353,
        Yuml: 376,
        fnof: 402,
        circ: 710,
        tilde: 732,
        Alpha: 913,
        Beta: 914,
        Gamma: 915,
        Delta: 916,
        Epsilon: 917,
        Zeta: 918,
        Eta: 919,
        Theta: 920,
        Iota: 921,
        Kappa: 922,
        Lambda: 923,
        Mu: 924,
        Nu: 925,
        Xi: 926,
        Omicron: 927,
        Pi: 928,
        Rho: 929,
        Sigma: 931,
        Tau: 932,
        Upsilon: 933,
        Phi: 934,
        Chi: 935,
        Psi: 936,
        Omega: 937,
        alpha: 945,
        beta: 946,
        gamma: 947,
        delta: 948,
        epsilon: 949,
        zeta: 950,
        eta: 951,
        theta: 952,
        iota: 953,
        kappa: 954,
        lambda: 955,
        mu: 956,
        nu: 957,
        xi: 958,
        omicron: 959,
        pi: 960,
        rho: 961,
        sigmaf: 962,
        sigma: 963,
        tau: 964,
        upsilon: 965,
        phi: 966,
        chi: 967,
        psi: 968,
        omega: 969,
        thetasym: 977,
        upsih: 978,
        piv: 982,
        ensp: 8194,
        emsp: 8195,
        thinsp: 8201,
        zwnj: 8204,
        zwj: 8205,
        lrm: 8206,
        rlm: 8207,
        ndash: 8211,
        mdash: 8212,
        lsquo: 8216,
        rsquo: 8217,
        sbquo: 8218,
        ldquo: 8220,
        rdquo: 8221,
        bdquo: 8222,
        dagger: 8224,
        Dagger: 8225,
        bull: 8226,
        hellip: 8230,
        permil: 8240,
        prime: 8242,
        Prime: 8243,
        lsaquo: 8249,
        rsaquo: 8250,
        oline: 8254,
        frasl: 8260,
        euro: 8364,
        image: 8465,
        weierp: 8472,
        real: 8476,
        trade: 8482,
        alefsym: 8501,
        larr: 8592,
        uarr: 8593,
        rarr: 8594,
        darr: 8595,
        harr: 8596,
        crarr: 8629,
        lArr: 8656,
        uArr: 8657,
        rArr: 8658,
        dArr: 8659,
        hArr: 8660,
        forall: 8704,
        part: 8706,
        exist: 8707,
        empty: 8709,
        nabla: 8711,
        isin: 8712,
        notin: 8713,
        ni: 8715,
        prod: 8719,
        sum: 8721,
        minus: 8722,
        lowast: 8727,
        radic: 8730,
        prop: 8733,
        infin: 8734,
        ang: 8736,
        and: 8743,
        or: 8744,
        cap: 8745,
        cup: 8746,
        int: 8747,
        there4: 8756,
        sim: 8764,
        cong: 8773,
        asymp: 8776,
        ne: 8800,
        equiv: 8801,
        le: 8804,
        ge: 8805,
        sub: 8834,
        sup: 8835,
        nsub: 8836,
        sube: 8838,
        supe: 8839,
        oplus: 8853,
        otimes: 8855,
        perp: 8869,
        sdot: 8901,
        lceil: 8968,
        rceil: 8969,
        lfloor: 8970,
        rfloor: 8971,
        lang: 9001,
        rang: 9002,
        loz: 9674,
        spades: 9824,
        clubs: 9827,
        hearts: 9829,
        diams: 9830
      }, Object.keys(t3.ENTITIES).forEach(function(e3) {
        var r2 = t3.ENTITIES[e3], n2 = typeof r2 == "number" ? String.fromCharCode(r2) : r2;
        t3.ENTITIES[e3] = n2;
      }), t3.STATE)
        t3.STATE[t3.STATE[T]] = T;
      function E(e3, t4, r2) {
        e3[t4] && e3[t4](r2);
      }
      function x(e3, t4, r2) {
        e3.textNode && O(e3), E(e3, t4, r2);
      }
      function O(e3) {
        e3.textNode = A(e3.opt, e3.textNode), e3.textNode && E(e3, "ontext", e3.textNode), e3.textNode = "";
      }
      function A(e3, t4) {
        return e3.trim && (t4 = t4.trim()), e3.normalize && (t4 = t4.replace(/\s+/g, " ")), t4;
      }
      function R(e3, t4) {
        return O(e3), e3.trackPosition && (t4 += "\nLine: " + e3.line + "\nColumn: " + e3.column + "\nChar: " + e3.c), t4 = new Error(t4), e3.error = t4, E(e3, "onerror", t4), e3;
      }
      function I(e3) {
        return e3.sawRoot && !e3.closedRoot && N(e3, "Unclosed root tag"), e3.state !== S.BEGIN && e3.state !== S.BEGIN_WHITESPACE && e3.state !== S.TEXT && R(e3, "Unexpected end"), O(e3), e3.c = "", e3.closed = true, E(e3, "onend"), a.call(e3, e3.strict, e3.opt), e3;
      }
      function N(e3, t4) {
        if (typeof e3 != "object" || !(e3 instanceof a))
          throw new Error("bad call to strictFail");
        e3.strict && R(e3, t4);
      }
      function P(e3) {
        e3.strict || (e3.tagName = e3.tagName[e3.looseCase]());
        var t4 = e3.tags[e3.tags.length - 1] || e3, r2 = e3.tag = {
          name: e3.tagName,
          attributes: {}
        };
        e3.opt.xmlns && (r2.ns = t4.ns), e3.attribList.length = 0, x(e3, "onopentagstart", r2);
      }
      function C(e3, t4) {
        var r2 = e3.indexOf(":") < 0 ? ["", e3] : e3.split(":"), n2 = r2[0], i2 = r2[1];
        return t4 && e3 === "xmlns" && (n2 = "xmlns", i2 = ""), {
          prefix: n2,
          local: i2
        };
      }
      function D(e3) {
        if (e3.strict || (e3.attribName = e3.attribName[e3.looseCase]()), e3.attribList.indexOf(e3.attribName) !== -1 || e3.tag.attributes.hasOwnProperty(e3.attribName))
          e3.attribName = e3.attribValue = "";
        else {
          if (e3.opt.xmlns) {
            var t4 = C(e3.attribName, true), r2 = t4.prefix, n2 = t4.local;
            if (r2 === "xmlns")
              if (n2 === "xml" && e3.attribValue !== u)
                N(e3, "xml: prefix must be bound to " + u + "\nActual: " + e3.attribValue);
              else if (n2 === "xmlns" && e3.attribValue !== "http://www.w3.org/2000/xmlns/")
                N(e3, "xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: " + e3.attribValue);
              else {
                var i2 = e3.tag, a2 = e3.tags[e3.tags.length - 1] || e3;
                i2.ns === a2.ns && (i2.ns = Object.create(a2.ns)), i2.ns[n2] = e3.attribValue;
              }
            e3.attribList.push([e3.attribName, e3.attribValue]);
          } else
            e3.tag.attributes[e3.attribName] = e3.attribValue, x(e3, "onattribute", {
              name: e3.attribName,
              value: e3.attribValue
            });
          e3.attribName = e3.attribValue = "";
        }
      }
      function j(e3, t4) {
        if (e3.opt.xmlns) {
          var r2 = e3.tag, n2 = C(e3.tagName);
          r2.prefix = n2.prefix, r2.local = n2.local, r2.uri = r2.ns[n2.prefix] || "", r2.prefix && !r2.uri && (N(e3, "Unbound namespace prefix: " + JSON.stringify(e3.tagName)), r2.uri = n2.prefix);
          var i2 = e3.tags[e3.tags.length - 1] || e3;
          r2.ns && i2.ns !== r2.ns && Object.keys(r2.ns).forEach(function(t5) {
            x(e3, "onopennamespace", {
              prefix: t5,
              uri: r2.ns[t5]
            });
          });
          for (var a2 = 0, s2 = e3.attribList.length; a2 < s2; a2++) {
            var o2 = e3.attribList[a2], u2 = o2[0], c2 = o2[1], l2 = C(u2, true), h2 = l2.prefix, d2 = l2.local, p2 = h2 === "" ? "" : r2.ns[h2] || "", f2 = {
              name: u2,
              value: c2,
              prefix: h2,
              local: d2,
              uri: p2
            };
            h2 && h2 !== "xmlns" && !p2 && (N(e3, "Unbound namespace prefix: " + JSON.stringify(h2)), f2.uri = h2), e3.tag.attributes[u2] = f2, x(e3, "onattribute", f2);
          }
          e3.attribList.length = 0;
        }
        e3.tag.isSelfClosing = !!t4, e3.sawRoot = true, e3.tags.push(e3.tag), x(e3, "onopentag", e3.tag), t4 || (e3.noscript || e3.tagName.toLowerCase() !== "script" ? e3.state = S.TEXT : e3.state = S.SCRIPT, e3.tag = null, e3.tagName = ""), e3.attribName = e3.attribValue = "", e3.attribList.length = 0;
      }
      function k(e3) {
        if (!e3.tagName)
          return N(e3, "Weird empty close tag."), e3.textNode += "</>", void (e3.state = S.TEXT);
        if (e3.script) {
          if (e3.tagName !== "script")
            return e3.script += "</" + e3.tagName + ">", e3.tagName = "", void (e3.state = S.SCRIPT);
          x(e3, "onscript", e3.script), e3.script = "";
        }
        var t4 = e3.tags.length, r2 = e3.tagName;
        e3.strict || (r2 = r2[e3.looseCase]());
        for (var n2 = r2; t4--; ) {
          if (e3.tags[t4].name === n2)
            break;
          N(e3, "Unexpected close tag");
        }
        if (t4 < 0)
          return N(e3, "Unmatched closing tag: " + e3.tagName), e3.textNode += "</" + e3.tagName + ">", void (e3.state = S.TEXT);
        e3.tagName = r2;
        for (var i2 = e3.tags.length; i2-- > t4; ) {
          var a2 = e3.tag = e3.tags.pop();
          e3.tagName = e3.tag.name, x(e3, "onclosetag", e3.tagName);
          var s2 = {};
          for (var o2 in a2.ns)
            s2[o2] = a2.ns[o2];
          var u2 = e3.tags[e3.tags.length - 1] || e3;
          e3.opt.xmlns && a2.ns !== u2.ns && Object.keys(a2.ns).forEach(function(t5) {
            var r3 = a2.ns[t5];
            x(e3, "onclosenamespace", {
              prefix: t5,
              uri: r3
            });
          });
        }
        t4 === 0 && (e3.closedRoot = true), e3.tagName = e3.attribValue = e3.attribName = "", e3.attribList.length = 0, e3.state = S.TEXT;
      }
      function L(e3) {
        var t4, r2 = e3.entity, n2 = r2.toLowerCase(), i2 = "";
        return e3.ENTITIES[r2] ? e3.ENTITIES[r2] : e3.ENTITIES[n2] ? e3.ENTITIES[n2] : ((r2 = n2).charAt(0) === "#" && (r2.charAt(1) === "x" ? (r2 = r2.slice(2), i2 = (t4 = parseInt(r2, 16)).toString(16)) : (r2 = r2.slice(1), i2 = (t4 = parseInt(r2, 10)).toString(10))), r2 = r2.replace(/^0+/, ""), isNaN(t4) || i2.toLowerCase() !== r2 ? (N(e3, "Invalid character entity"), "&" + e3.entity + ";") : String.fromCodePoint(t4));
      }
      function M(e3, t4) {
        t4 === "<" ? (e3.state = S.OPEN_WAKA, e3.startTagPosition = e3.position) : f(t4) || (N(e3, "Non-whitespace before first tag."), e3.textNode = t4, e3.state = S.TEXT);
      }
      function F(e3, t4) {
        var r2 = "";
        return t4 < e3.length && (r2 = e3.charAt(t4)), r2;
      }
      S = t3.STATE, String.fromCodePoint || (_ = String.fromCharCode, v = Math.floor, w = function() {
        var e3, t4, r2 = 16384, n2 = [], i2 = -1, a2 = arguments.length;
        if (!a2)
          return "";
        for (var s2 = ""; ++i2 < a2; ) {
          var o2 = Number(arguments[i2]);
          if (!isFinite(o2) || o2 < 0 || o2 > 1114111 || v(o2) !== o2)
            throw RangeError("Invalid code point: " + o2);
          o2 <= 65535 ? n2.push(o2) : (e3 = 55296 + ((o2 -= 65536) >> 10), t4 = o2 % 1024 + 56320, n2.push(e3, t4)), (i2 + 1 === a2 || n2.length > r2) && (s2 += _.apply(null, n2), n2.length = 0);
        }
        return s2;
      }, Object.defineProperty ? Object.defineProperty(String, "fromCodePoint", {
        value: w,
        configurable: true,
        writable: true
      }) : String.fromCodePoint = w);
    }(t2);
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  "use strict";
  var n, i = this && this.__extends || (n = function(e2, t3) {
    return (n = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(e3, t4) {
      e3.__proto__ = t4;
    } || function(e3, t4) {
      for (var r2 in t4)
        t4.hasOwnProperty(r2) && (e3[r2] = t4[r2]);
    })(e2, t3);
  }, function(e2, t3) {
    function r2() {
      this.constructor = e2;
    }
    n(e2, t3), e2.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
  }), a = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var s = a(r(133)), o = r(22), u = new Set(["input", "option", "optgroup", "select", "button", "datalist", "textarea"]), c = new Set(["p"]), l = {
    tr: new Set(["tr", "th", "td"]),
    th: new Set(["th"]),
    td: new Set(["thead", "th", "td"]),
    body: new Set(["head", "link", "script"]),
    li: new Set(["li"]),
    p: c,
    h1: c,
    h2: c,
    h3: c,
    h4: c,
    h5: c,
    h6: c,
    select: u,
    input: u,
    output: u,
    button: u,
    datalist: u,
    textarea: u,
    option: new Set(["option"]),
    optgroup: new Set(["optgroup", "option"]),
    dd: new Set(["dt", "dd"]),
    dt: new Set(["dt", "dd"]),
    address: c,
    article: c,
    aside: c,
    blockquote: c,
    details: c,
    div: c,
    dl: c,
    fieldset: c,
    figcaption: c,
    figure: c,
    footer: c,
    form: c,
    header: c,
    hr: c,
    main: c,
    nav: c,
    ol: c,
    pre: c,
    section: c,
    table: c,
    ul: c,
    rt: new Set(["rt", "rp"]),
    rp: new Set(["rt", "rp"]),
    tbody: new Set(["thead", "tbody"]),
    tfoot: new Set(["thead", "tbody"])
  }, h = new Set(["area", "base", "basefont", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr"]), d = new Set(["math", "svg"]), p = new Set(["mi", "mo", "mn", "ms", "mtext", "annotation-xml", "foreignObject", "desc", "title"]), f = /\s|\//, g = function(e2) {
    function t3(r2, n2) {
      var i2 = e2.call(this) || this;
      return i2._tagname = "", i2._attribname = "", i2._attribvalue = "", i2._attribs = null, i2._stack = [], i2._foreignContext = [], i2.startIndex = 0, i2.endIndex = null, i2.parseChunk = t3.prototype.write, i2.done = t3.prototype.end, i2._options = n2 || {}, i2._cbs = r2 || {}, i2._tagname = "", i2._attribname = "", i2._attribvalue = "", i2._attribs = null, i2._stack = [], i2._foreignContext = [], i2.startIndex = 0, i2.endIndex = null, i2._lowerCaseTagNames = "lowerCaseTags" in i2._options ? !!i2._options.lowerCaseTags : !i2._options.xmlMode, i2._lowerCaseAttributeNames = "lowerCaseAttributeNames" in i2._options ? !!i2._options.lowerCaseAttributeNames : !i2._options.xmlMode, i2._tokenizer = new (i2._options.Tokenizer || s.default)(i2._options, i2), i2._cbs.onparserinit && i2._cbs.onparserinit(i2), i2;
    }
    return i(t3, e2), t3.prototype._updatePosition = function(e3) {
      this.endIndex === null ? this._tokenizer._sectionStart <= e3 ? this.startIndex = 0 : this.startIndex = this._tokenizer._sectionStart - e3 : this.startIndex = this.endIndex + 1, this.endIndex = this._tokenizer.getAbsoluteIndex();
    }, t3.prototype.ontext = function(e3) {
      this._updatePosition(1), this.endIndex--, this._cbs.ontext && this._cbs.ontext(e3);
    }, t3.prototype.onopentagname = function(e3) {
      if (this._lowerCaseTagNames && (e3 = e3.toLowerCase()), this._tagname = e3, !this._options.xmlMode && Object.prototype.hasOwnProperty.call(l, e3))
        for (var t4 = void 0; l[e3].has(t4 = this._stack[this._stack.length - 1]); this.onclosetag(t4))
          ;
      !this._options.xmlMode && h.has(e3) || (this._stack.push(e3), d.has(e3) ? this._foreignContext.push(true) : p.has(e3) && this._foreignContext.push(false)), this._cbs.onopentagname && this._cbs.onopentagname(e3), this._cbs.onopentag && (this._attribs = {});
    }, t3.prototype.onopentagend = function() {
      this._updatePosition(1), this._attribs && (this._cbs.onopentag && this._cbs.onopentag(this._tagname, this._attribs), this._attribs = null), !this._options.xmlMode && this._cbs.onclosetag && h.has(this._tagname) && this._cbs.onclosetag(this._tagname), this._tagname = "";
    }, t3.prototype.onclosetag = function(e3) {
      if (this._updatePosition(1), this._lowerCaseTagNames && (e3 = e3.toLowerCase()), (d.has(e3) || p.has(e3)) && this._foreignContext.pop(), !this._stack.length || !this._options.xmlMode && h.has(e3))
        this._options.xmlMode || e3 !== "br" && e3 !== "p" || (this.onopentagname(e3), this._closeCurrentTag());
      else {
        var t4 = this._stack.lastIndexOf(e3);
        if (t4 !== -1)
          if (this._cbs.onclosetag)
            for (t4 = this._stack.length - t4; t4--; )
              this._cbs.onclosetag(this._stack.pop());
          else
            this._stack.length = t4;
        else
          e3 !== "p" || this._options.xmlMode || (this.onopentagname(e3), this._closeCurrentTag());
      }
    }, t3.prototype.onselfclosingtag = function() {
      this._options.xmlMode || this._options.recognizeSelfClosing || this._foreignContext[this._foreignContext.length - 1] ? this._closeCurrentTag() : this.onopentagend();
    }, t3.prototype._closeCurrentTag = function() {
      var e3 = this._tagname;
      this.onopentagend(), this._stack[this._stack.length - 1] === e3 && (this._cbs.onclosetag && this._cbs.onclosetag(e3), this._stack.pop());
    }, t3.prototype.onattribname = function(e3) {
      this._lowerCaseAttributeNames && (e3 = e3.toLowerCase()), this._attribname = e3;
    }, t3.prototype.onattribdata = function(e3) {
      this._attribvalue += e3;
    }, t3.prototype.onattribend = function() {
      this._cbs.onattribute && this._cbs.onattribute(this._attribname, this._attribvalue), this._attribs && !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname) && (this._attribs[this._attribname] = this._attribvalue), this._attribname = "", this._attribvalue = "";
    }, t3.prototype._getInstructionName = function(e3) {
      var t4 = e3.search(f), r2 = t4 < 0 ? e3 : e3.substr(0, t4);
      return this._lowerCaseTagNames && (r2 = r2.toLowerCase()), r2;
    }, t3.prototype.ondeclaration = function(e3) {
      if (this._cbs.onprocessinginstruction) {
        var t4 = this._getInstructionName(e3);
        this._cbs.onprocessinginstruction("!" + t4, "!" + e3);
      }
    }, t3.prototype.onprocessinginstruction = function(e3) {
      if (this._cbs.onprocessinginstruction) {
        var t4 = this._getInstructionName(e3);
        this._cbs.onprocessinginstruction("?" + t4, "?" + e3);
      }
    }, t3.prototype.oncomment = function(e3) {
      this._updatePosition(4), this._cbs.oncomment && this._cbs.oncomment(e3), this._cbs.oncommentend && this._cbs.oncommentend();
    }, t3.prototype.oncdata = function(e3) {
      this._updatePosition(1), this._options.xmlMode || this._options.recognizeCDATA ? (this._cbs.oncdatastart && this._cbs.oncdatastart(), this._cbs.ontext && this._cbs.ontext(e3), this._cbs.oncdataend && this._cbs.oncdataend()) : this.oncomment("[CDATA[" + e3 + "]]");
    }, t3.prototype.onerror = function(e3) {
      this._cbs.onerror && this._cbs.onerror(e3);
    }, t3.prototype.onend = function() {
      if (this._cbs.onclosetag)
        for (var e3 = this._stack.length; e3 > 0; this._cbs.onclosetag(this._stack[--e3]))
          ;
      this._cbs.onend && this._cbs.onend();
    }, t3.prototype.reset = function() {
      this._cbs.onreset && this._cbs.onreset(), this._tokenizer.reset(), this._tagname = "", this._attribname = "", this._attribs = null, this._stack = [], this._cbs.onparserinit && this._cbs.onparserinit(this);
    }, t3.prototype.parseComplete = function(e3) {
      this.reset(), this.end(e3);
    }, t3.prototype.write = function(e3) {
      this._tokenizer.write(e3);
    }, t3.prototype.end = function(e3) {
      this._tokenizer.end(e3);
    }, t3.prototype.pause = function() {
      this._tokenizer.pause();
    }, t3.prototype.resume = function() {
      this._tokenizer.resume();
    }, t3;
  }(o.EventEmitter);
  t2.Parser = g;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var i = n(r(77)), a = n(r(56)), s = n(r(78)), o = n(r(57));
  function u(e2) {
    return e2 === " " || e2 === "\n" || e2 === "	" || e2 === "\f" || e2 === "\r";
  }
  function c(e2, t3, r2) {
    var n2 = e2.toLowerCase();
    return e2 === n2 ? function(e3, i2) {
      i2 === n2 ? e3._state = t3 : (e3._state = r2, e3._index--);
    } : function(i2, a2) {
      a2 === n2 || a2 === e2 ? i2._state = t3 : (i2._state = r2, i2._index--);
    };
  }
  function l(e2, t3) {
    var r2 = e2.toLowerCase();
    return function(n2, i2) {
      i2 === r2 || i2 === e2 ? n2._state = t3 : (n2._state = 3, n2._index--);
    };
  }
  var h = c("C", 23, 16), d = c("D", 24, 16), p = c("A", 25, 16), f = c("T", 26, 16), g = c("A", 27, 16), m = l("R", 34), y = l("I", 35), b = l("P", 36), _ = l("T", 37), v = c("R", 39, 1), w = c("I", 40, 1), S = c("P", 41, 1), T = c("T", 42, 1), E = l("Y", 44), x = l("L", 45), O = l("E", 46), A = c("Y", 48, 1), R = c("L", 49, 1), I = c("E", 50, 1), N = c("#", 52, 53), P = c("X", 55, 54), C = function() {
    function e2(e3, t3) {
      this._state = 1, this._buffer = "", this._sectionStart = 0, this._index = 0, this._bufferOffset = 0, this._baseState = 1, this._special = 1, this._running = true, this._ended = false, this._cbs = t3, this._xmlMode = !(!e3 || !e3.xmlMode), this._decodeEntities = !(!e3 || !e3.decodeEntities);
    }
    return e2.prototype.reset = function() {
      this._state = 1, this._buffer = "", this._sectionStart = 0, this._index = 0, this._bufferOffset = 0, this._baseState = 1, this._special = 1, this._running = true, this._ended = false;
    }, e2.prototype._stateText = function(e3) {
      e3 === "<" ? (this._index > this._sectionStart && this._cbs.ontext(this._getSection()), this._state = 2, this._sectionStart = this._index) : this._decodeEntities && this._special === 1 && e3 === "&" && (this._index > this._sectionStart && this._cbs.ontext(this._getSection()), this._baseState = 1, this._state = 51, this._sectionStart = this._index);
    }, e2.prototype._stateBeforeTagName = function(e3) {
      e3 === "/" ? this._state = 5 : e3 === "<" ? (this._cbs.ontext(this._getSection()), this._sectionStart = this._index) : e3 === ">" || this._special !== 1 || u(e3) ? this._state = 1 : e3 === "!" ? (this._state = 15, this._sectionStart = this._index + 1) : e3 === "?" ? (this._state = 17, this._sectionStart = this._index + 1) : (this._state = this._xmlMode || e3 !== "s" && e3 !== "S" ? 3 : 31, this._sectionStart = this._index);
    }, e2.prototype._stateInTagName = function(e3) {
      (e3 === "/" || e3 === ">" || u(e3)) && (this._emitToken("onopentagname"), this._state = 8, this._index--);
    }, e2.prototype._stateBeforeClosingTagName = function(e3) {
      u(e3) || (e3 === ">" ? this._state = 1 : this._special !== 1 ? e3 === "s" || e3 === "S" ? this._state = 32 : (this._state = 1, this._index--) : (this._state = 6, this._sectionStart = this._index));
    }, e2.prototype._stateInClosingTagName = function(e3) {
      (e3 === ">" || u(e3)) && (this._emitToken("onclosetag"), this._state = 7, this._index--);
    }, e2.prototype._stateAfterClosingTagName = function(e3) {
      e3 === ">" && (this._state = 1, this._sectionStart = this._index + 1);
    }, e2.prototype._stateBeforeAttributeName = function(e3) {
      e3 === ">" ? (this._cbs.onopentagend(), this._state = 1, this._sectionStart = this._index + 1) : e3 === "/" ? this._state = 4 : u(e3) || (this._state = 9, this._sectionStart = this._index);
    }, e2.prototype._stateInSelfClosingTag = function(e3) {
      e3 === ">" ? (this._cbs.onselfclosingtag(), this._state = 1, this._sectionStart = this._index + 1) : u(e3) || (this._state = 8, this._index--);
    }, e2.prototype._stateInAttributeName = function(e3) {
      (e3 === "=" || e3 === "/" || e3 === ">" || u(e3)) && (this._cbs.onattribname(this._getSection()), this._sectionStart = -1, this._state = 10, this._index--);
    }, e2.prototype._stateAfterAttributeName = function(e3) {
      e3 === "=" ? this._state = 11 : e3 === "/" || e3 === ">" ? (this._cbs.onattribend(), this._state = 8, this._index--) : u(e3) || (this._cbs.onattribend(), this._state = 9, this._sectionStart = this._index);
    }, e2.prototype._stateBeforeAttributeValue = function(e3) {
      e3 === '"' ? (this._state = 12, this._sectionStart = this._index + 1) : e3 === "'" ? (this._state = 13, this._sectionStart = this._index + 1) : u(e3) || (this._state = 14, this._sectionStart = this._index, this._index--);
    }, e2.prototype._stateInAttributeValueDoubleQuotes = function(e3) {
      e3 === '"' ? (this._emitToken("onattribdata"), this._cbs.onattribend(), this._state = 8) : this._decodeEntities && e3 === "&" && (this._emitToken("onattribdata"), this._baseState = this._state, this._state = 51, this._sectionStart = this._index);
    }, e2.prototype._stateInAttributeValueSingleQuotes = function(e3) {
      e3 === "'" ? (this._emitToken("onattribdata"), this._cbs.onattribend(), this._state = 8) : this._decodeEntities && e3 === "&" && (this._emitToken("onattribdata"), this._baseState = this._state, this._state = 51, this._sectionStart = this._index);
    }, e2.prototype._stateInAttributeValueNoQuotes = function(e3) {
      u(e3) || e3 === ">" ? (this._emitToken("onattribdata"), this._cbs.onattribend(), this._state = 8, this._index--) : this._decodeEntities && e3 === "&" && (this._emitToken("onattribdata"), this._baseState = this._state, this._state = 51, this._sectionStart = this._index);
    }, e2.prototype._stateBeforeDeclaration = function(e3) {
      this._state = e3 === "[" ? 22 : e3 === "-" ? 18 : 16;
    }, e2.prototype._stateInDeclaration = function(e3) {
      e3 === ">" && (this._cbs.ondeclaration(this._getSection()), this._state = 1, this._sectionStart = this._index + 1);
    }, e2.prototype._stateInProcessingInstruction = function(e3) {
      e3 === ">" && (this._cbs.onprocessinginstruction(this._getSection()), this._state = 1, this._sectionStart = this._index + 1);
    }, e2.prototype._stateBeforeComment = function(e3) {
      e3 === "-" ? (this._state = 19, this._sectionStart = this._index + 1) : this._state = 16;
    }, e2.prototype._stateInComment = function(e3) {
      e3 === "-" && (this._state = 20);
    }, e2.prototype._stateAfterComment1 = function(e3) {
      this._state = e3 === "-" ? 21 : 19;
    }, e2.prototype._stateAfterComment2 = function(e3) {
      e3 === ">" ? (this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2)), this._state = 1, this._sectionStart = this._index + 1) : e3 !== "-" && (this._state = 19);
    }, e2.prototype._stateBeforeCdata6 = function(e3) {
      e3 === "[" ? (this._state = 28, this._sectionStart = this._index + 1) : (this._state = 16, this._index--);
    }, e2.prototype._stateInCdata = function(e3) {
      e3 === "]" && (this._state = 29);
    }, e2.prototype._stateAfterCdata1 = function(e3) {
      this._state = e3 === "]" ? 30 : 28;
    }, e2.prototype._stateAfterCdata2 = function(e3) {
      e3 === ">" ? (this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2)), this._state = 1, this._sectionStart = this._index + 1) : e3 !== "]" && (this._state = 28);
    }, e2.prototype._stateBeforeSpecial = function(e3) {
      e3 === "c" || e3 === "C" ? this._state = 33 : e3 === "t" || e3 === "T" ? this._state = 43 : (this._state = 3, this._index--);
    }, e2.prototype._stateBeforeSpecialEnd = function(e3) {
      this._special !== 2 || e3 !== "c" && e3 !== "C" ? this._special !== 3 || e3 !== "t" && e3 !== "T" ? this._state = 1 : this._state = 47 : this._state = 38;
    }, e2.prototype._stateBeforeScript5 = function(e3) {
      (e3 === "/" || e3 === ">" || u(e3)) && (this._special = 2), this._state = 3, this._index--;
    }, e2.prototype._stateAfterScript5 = function(e3) {
      e3 === ">" || u(e3) ? (this._special = 1, this._state = 6, this._sectionStart = this._index - 6, this._index--) : this._state = 1;
    }, e2.prototype._stateBeforeStyle4 = function(e3) {
      (e3 === "/" || e3 === ">" || u(e3)) && (this._special = 3), this._state = 3, this._index--;
    }, e2.prototype._stateAfterStyle4 = function(e3) {
      e3 === ">" || u(e3) ? (this._special = 1, this._state = 6, this._sectionStart = this._index - 5, this._index--) : this._state = 1;
    }, e2.prototype._parseNamedEntityStrict = function() {
      if (this._sectionStart + 1 < this._index) {
        var e3 = this._buffer.substring(this._sectionStart + 1, this._index), t3 = this._xmlMode ? o.default : a.default;
        Object.prototype.hasOwnProperty.call(t3, e3) && (this._emitPartial(t3[e3]), this._sectionStart = this._index + 1);
      }
    }, e2.prototype._parseLegacyEntity = function() {
      var e3 = this._sectionStart + 1, t3 = this._index - e3;
      for (t3 > 6 && (t3 = 6); t3 >= 2; ) {
        var r2 = this._buffer.substr(e3, t3);
        if (Object.prototype.hasOwnProperty.call(s.default, r2))
          return this._emitPartial(s.default[r2]), void (this._sectionStart += t3 + 1);
        t3--;
      }
    }, e2.prototype._stateInNamedEntity = function(e3) {
      e3 === ";" ? (this._parseNamedEntityStrict(), this._sectionStart + 1 < this._index && !this._xmlMode && this._parseLegacyEntity(), this._state = this._baseState) : (e3 < "a" || e3 > "z") && (e3 < "A" || e3 > "Z") && (e3 < "0" || e3 > "9") && (this._xmlMode || this._sectionStart + 1 === this._index || (this._baseState !== 1 ? e3 !== "=" && this._parseNamedEntityStrict() : this._parseLegacyEntity()), this._state = this._baseState, this._index--);
    }, e2.prototype._decodeNumericEntity = function(e3, t3) {
      var r2 = this._sectionStart + e3;
      if (r2 !== this._index) {
        var n2 = this._buffer.substring(r2, this._index), a2 = parseInt(n2, t3);
        this._emitPartial(i.default(a2)), this._sectionStart = this._index;
      } else
        this._sectionStart--;
      this._state = this._baseState;
    }, e2.prototype._stateInNumericEntity = function(e3) {
      e3 === ";" ? (this._decodeNumericEntity(2, 10), this._sectionStart++) : (e3 < "0" || e3 > "9") && (this._xmlMode ? this._state = this._baseState : this._decodeNumericEntity(2, 10), this._index--);
    }, e2.prototype._stateInHexEntity = function(e3) {
      e3 === ";" ? (this._decodeNumericEntity(3, 16), this._sectionStart++) : (e3 < "a" || e3 > "f") && (e3 < "A" || e3 > "F") && (e3 < "0" || e3 > "9") && (this._xmlMode ? this._state = this._baseState : this._decodeNumericEntity(3, 16), this._index--);
    }, e2.prototype._cleanup = function() {
      this._sectionStart < 0 ? (this._buffer = "", this._bufferOffset += this._index, this._index = 0) : this._running && (this._state === 1 ? (this._sectionStart !== this._index && this._cbs.ontext(this._buffer.substr(this._sectionStart)), this._buffer = "", this._bufferOffset += this._index, this._index = 0) : this._sectionStart === this._index ? (this._buffer = "", this._bufferOffset += this._index, this._index = 0) : (this._buffer = this._buffer.substr(this._sectionStart), this._index -= this._sectionStart, this._bufferOffset += this._sectionStart), this._sectionStart = 0);
    }, e2.prototype.write = function(e3) {
      this._ended && this._cbs.onerror(Error(".write() after done!")), this._buffer += e3, this._parse();
    }, e2.prototype._parse = function() {
      for (; this._index < this._buffer.length && this._running; ) {
        var e3 = this._buffer.charAt(this._index);
        this._state === 1 ? this._stateText(e3) : this._state === 12 ? this._stateInAttributeValueDoubleQuotes(e3) : this._state === 9 ? this._stateInAttributeName(e3) : this._state === 19 ? this._stateInComment(e3) : this._state === 8 ? this._stateBeforeAttributeName(e3) : this._state === 3 ? this._stateInTagName(e3) : this._state === 6 ? this._stateInClosingTagName(e3) : this._state === 2 ? this._stateBeforeTagName(e3) : this._state === 10 ? this._stateAfterAttributeName(e3) : this._state === 13 ? this._stateInAttributeValueSingleQuotes(e3) : this._state === 11 ? this._stateBeforeAttributeValue(e3) : this._state === 5 ? this._stateBeforeClosingTagName(e3) : this._state === 7 ? this._stateAfterClosingTagName(e3) : this._state === 31 ? this._stateBeforeSpecial(e3) : this._state === 20 ? this._stateAfterComment1(e3) : this._state === 14 ? this._stateInAttributeValueNoQuotes(e3) : this._state === 4 ? this._stateInSelfClosingTag(e3) : this._state === 16 ? this._stateInDeclaration(e3) : this._state === 15 ? this._stateBeforeDeclaration(e3) : this._state === 21 ? this._stateAfterComment2(e3) : this._state === 18 ? this._stateBeforeComment(e3) : this._state === 32 ? this._stateBeforeSpecialEnd(e3) : this._state === 38 ? v(this, e3) : this._state === 39 ? w(this, e3) : this._state === 40 ? S(this, e3) : this._state === 33 ? m(this, e3) : this._state === 34 ? y(this, e3) : this._state === 35 ? b(this, e3) : this._state === 36 ? _(this, e3) : this._state === 37 ? this._stateBeforeScript5(e3) : this._state === 41 ? T(this, e3) : this._state === 42 ? this._stateAfterScript5(e3) : this._state === 43 ? E(this, e3) : this._state === 28 ? this._stateInCdata(e3) : this._state === 44 ? x(this, e3) : this._state === 45 ? O(this, e3) : this._state === 46 ? this._stateBeforeStyle4(e3) : this._state === 47 ? A(this, e3) : this._state === 48 ? R(this, e3) : this._state === 49 ? I(this, e3) : this._state === 50 ? this._stateAfterStyle4(e3) : this._state === 17 ? this._stateInProcessingInstruction(e3) : this._state === 53 ? this._stateInNamedEntity(e3) : this._state === 22 ? h(this, e3) : this._state === 51 ? N(this, e3) : this._state === 23 ? d(this, e3) : this._state === 24 ? p(this, e3) : this._state === 29 ? this._stateAfterCdata1(e3) : this._state === 30 ? this._stateAfterCdata2(e3) : this._state === 25 ? f(this, e3) : this._state === 26 ? g(this, e3) : this._state === 27 ? this._stateBeforeCdata6(e3) : this._state === 55 ? this._stateInHexEntity(e3) : this._state === 54 ? this._stateInNumericEntity(e3) : this._state === 52 ? P(this, e3) : this._cbs.onerror(Error("unknown _state"), this._state), this._index++;
      }
      this._cleanup();
    }, e2.prototype.pause = function() {
      this._running = false;
    }, e2.prototype.resume = function() {
      this._running = true, this._index < this._buffer.length && this._parse(), this._ended && this._finish();
    }, e2.prototype.end = function(e3) {
      this._ended && this._cbs.onerror(Error(".end() after done!")), e3 && this.write(e3), this._ended = true, this._running && this._finish();
    }, e2.prototype._finish = function() {
      this._sectionStart < this._index && this._handleTrailingData(), this._cbs.onend();
    }, e2.prototype._handleTrailingData = function() {
      var e3 = this._buffer.substr(this._sectionStart);
      this._state === 28 || this._state === 29 || this._state === 30 ? this._cbs.oncdata(e3) : this._state === 19 || this._state === 20 || this._state === 21 ? this._cbs.oncomment(e3) : this._state !== 53 || this._xmlMode ? this._state !== 54 || this._xmlMode ? this._state !== 55 || this._xmlMode ? this._state !== 3 && this._state !== 8 && this._state !== 11 && this._state !== 10 && this._state !== 9 && this._state !== 13 && this._state !== 12 && this._state !== 14 && this._state !== 6 && this._cbs.ontext(e3) : (this._decodeNumericEntity(3, 16), this._sectionStart < this._index && (this._state = this._baseState, this._handleTrailingData())) : (this._decodeNumericEntity(2, 10), this._sectionStart < this._index && (this._state = this._baseState, this._handleTrailingData())) : (this._parseLegacyEntity(), this._sectionStart < this._index && (this._state = this._baseState, this._handleTrailingData()));
    }, e2.prototype.getAbsoluteIndex = function() {
      return this._bufferOffset + this._index;
    }, e2.prototype._getSection = function() {
      return this._buffer.substring(this._sectionStart, this._index);
    }, e2.prototype._emitToken = function(e3) {
      this._cbs[e3](this._getSection()), this._sectionStart = -1;
    }, e2.prototype._emitPartial = function(e3) {
      this._baseState !== 1 ? this._cbs.onattribdata(e3) : this._cbs.ontext(e3);
    }, e2;
  }();
  t2.default = C;
}, function(e, t2, r) {
  "use strict";
  var n, i = this && this.__extends || (n = function(e2, t3) {
    return (n = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(e3, t4) {
      e3.__proto__ = t4;
    } || function(e3, t4) {
      for (var r2 in t4)
        Object.prototype.hasOwnProperty.call(t4, r2) && (e3[r2] = t4[r2]);
    })(e2, t3);
  }, function(e2, t3) {
    function r2() {
      this.constructor = e2;
    }
    n(e2, t3), e2.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
  }), a = this && this.__assign || function() {
    return (a = Object.assign || function(e2) {
      for (var t3, r2 = 1, n2 = arguments.length; r2 < n2; r2++)
        for (var i2 in t3 = arguments[r2])
          Object.prototype.hasOwnProperty.call(t3, i2) && (e2[i2] = t3[i2]);
      return e2;
    }).apply(this, arguments);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.cloneNode = t2.Element = t2.NodeWithChildren = t2.ProcessingInstruction = t2.Comment = t2.Text = t2.DataNode = t2.Node = void 0;
  var s = new Map([
    ["tag", 1],
    ["script", 1],
    ["style", 1],
    ["directive", 1],
    ["text", 3],
    ["cdata", 4],
    ["comment", 8]
  ]), o = function() {
    function e2(e3) {
      this.type = e3, this.parent = null, this.prev = null, this.next = null, this.startIndex = null, this.endIndex = null;
    }
    return Object.defineProperty(e2.prototype, "nodeType", {
      get: function() {
        var e3;
        return (e3 = s.get(this.type)) !== null && e3 !== void 0 ? e3 : 1;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e2.prototype, "parentNode", {
      get: function() {
        return this.parent;
      },
      set: function(e3) {
        this.parent = e3;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e2.prototype, "previousSibling", {
      get: function() {
        return this.prev;
      },
      set: function(e3) {
        this.prev = e3;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e2.prototype, "nextSibling", {
      get: function() {
        return this.next;
      },
      set: function(e3) {
        this.next = e3;
      },
      enumerable: false,
      configurable: true
    }), e2.prototype.cloneNode = function(e3) {
      return e3 === void 0 && (e3 = false), f(this, e3);
    }, e2;
  }();
  t2.Node = o;
  var u = function(e2) {
    function t3(t4, r2) {
      var n2 = e2.call(this, t4) || this;
      return n2.data = r2, n2;
    }
    return i(t3, e2), Object.defineProperty(t3.prototype, "nodeValue", {
      get: function() {
        return this.data;
      },
      set: function(e3) {
        this.data = e3;
      },
      enumerable: false,
      configurable: true
    }), t3;
  }(o);
  t2.DataNode = u;
  var c = function(e2) {
    function t3(t4) {
      return e2.call(this, "text", t4) || this;
    }
    return i(t3, e2), t3;
  }(u);
  t2.Text = c;
  var l = function(e2) {
    function t3(t4) {
      return e2.call(this, "comment", t4) || this;
    }
    return i(t3, e2), t3;
  }(u);
  t2.Comment = l;
  var h = function(e2) {
    function t3(t4, r2) {
      var n2 = e2.call(this, "directive", r2) || this;
      return n2.name = t4, n2;
    }
    return i(t3, e2), t3;
  }(u);
  t2.ProcessingInstruction = h;
  var d = function(e2) {
    function t3(t4, r2) {
      var n2 = e2.call(this, t4) || this;
      return n2.children = r2, n2;
    }
    return i(t3, e2), Object.defineProperty(t3.prototype, "firstChild", {
      get: function() {
        var e3;
        return (e3 = this.children[0]) !== null && e3 !== void 0 ? e3 : null;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t3.prototype, "lastChild", {
      get: function() {
        return this.children.length > 0 ? this.children[this.children.length - 1] : null;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t3.prototype, "childNodes", {
      get: function() {
        return this.children;
      },
      set: function(e3) {
        this.children = e3;
      },
      enumerable: false,
      configurable: true
    }), t3;
  }(o);
  t2.NodeWithChildren = d;
  var p = function(e2) {
    function t3(t4, r2, n2) {
      n2 === void 0 && (n2 = []);
      var i2 = e2.call(this, t4 === "script" ? "script" : t4 === "style" ? "style" : "tag", n2) || this;
      return i2.name = t4, i2.attribs = r2, i2.attribs = r2, i2;
    }
    return i(t3, e2), Object.defineProperty(t3.prototype, "tagName", {
      get: function() {
        return this.name;
      },
      set: function(e3) {
        this.name = e3;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t3.prototype, "attributes", {
      get: function() {
        var e3 = this;
        return Object.keys(this.attribs).map(function(t4) {
          return {
            name: t4,
            value: e3.attribs[t4]
          };
        });
      },
      enumerable: false,
      configurable: true
    }), t3;
  }(d);
  function f(e2, t3) {
    switch (t3 === void 0 && (t3 = false), e2.type) {
      case "text":
        return new c(e2.data);
      case "directive":
        var r2 = e2;
        return new h(r2.name, r2.data);
      case "comment":
        return new l(e2.data);
      case "tag":
      case "script":
      case "style":
        var n2 = e2, i2 = t3 ? g(n2.children) : [], s2 = new p(n2.name, a({}, n2.attribs), i2);
        return i2.forEach(function(e3) {
          return e3.parent = s2;
        }), s2;
      case "cdata":
        i2 = t3 ? g(e2.children) : [];
        var o2 = new d("cdata", i2);
        return i2.forEach(function(e3) {
          return e3.parent = o2;
        }), o2;
      case "doctype":
        throw new Error("Not implemented yet: ElementType.Doctype case");
    }
  }
  function g(e2) {
    for (var t3 = e2.map(function(e3) {
      return f(e3, true);
    }), r2 = 1; r2 < t3.length; r2++)
      t3[r2].prev = t3[r2 - 1], t3[r2 - 1].next = t3[r2];
    return t3;
  }
  t2.Element = p, t2.cloneNode = f;
}, function(e, t2, r) {
  "use strict";
  var n, i = this && this.__extends || (n = function(e2, t3) {
    return (n = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(e3, t4) {
      e3.__proto__ = t4;
    } || function(e3, t4) {
      for (var r2 in t4)
        t4.hasOwnProperty(r2) && (e3[r2] = t4[r2]);
    })(e2, t3);
  }, function(e2, t3) {
    function r2() {
      this.constructor = e2;
    }
    n(e2, t3), e2.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
  }), a = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  }, s = this && this.__importStar || function(e2) {
    if (e2 && e2.__esModule)
      return e2;
    var t3 = {};
    if (e2 != null)
      for (var r2 in e2)
        Object.hasOwnProperty.call(e2, r2) && (t3[r2] = e2[r2]);
    return t3.default = e2, t3;
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var o = a(r(58)), u = s(r(60)), c = r(132), l = function(e2) {
    function t3(t4, r2) {
      return typeof t4 == "object" && t4 !== null && (r2 = t4 = void 0), e2.call(this, t4, r2) || this;
    }
    return i(t3, e2), t3.prototype.onend = function() {
      var e3 = {}, t4 = d(m, this.dom);
      if (t4)
        if (t4.name === "feed") {
          var r2 = t4.children;
          e3.type = "atom", g(e3, "id", "id", r2), g(e3, "title", "title", r2);
          var n2 = f("href", d("link", r2));
          n2 && (e3.link = n2), g(e3, "description", "subtitle", r2), (i2 = p("updated", r2)) && (e3.updated = new Date(i2)), g(e3, "author", "email", r2, true), e3.items = h("entry", r2).map(function(e4) {
            var t5 = {}, r3 = e4.children;
            g(t5, "id", "id", r3), g(t5, "title", "title", r3);
            var n3 = f("href", d("link", r3));
            n3 && (t5.link = n3);
            var i3 = p("summary", r3) || p("content", r3);
            i3 && (t5.description = i3);
            var a2 = p("updated", r3);
            return a2 && (t5.pubDate = new Date(a2)), t5;
          });
        } else {
          var i2;
          r2 = d("channel", t4.children).children;
          e3.type = t4.name.substr(0, 3), e3.id = "", g(e3, "title", "title", r2), g(e3, "link", "link", r2), g(e3, "description", "description", r2), (i2 = p("lastBuildDate", r2)) && (e3.updated = new Date(i2)), g(e3, "author", "managingEditor", r2, true), e3.items = h("item", t4.children).map(function(e4) {
            var t5 = {}, r3 = e4.children;
            g(t5, "id", "guid", r3), g(t5, "title", "title", r3), g(t5, "link", "link", r3), g(t5, "description", "description", r3);
            var n3 = p("pubDate", r3);
            return n3 && (t5.pubDate = new Date(n3)), t5;
          });
        }
      this.feed = e3, this.handleCallback(t4 ? null : Error("couldn't find root of feed"));
    }, t3;
  }(o.default);
  function h(e2, t3) {
    return u.getElementsByTagName(e2, t3, true);
  }
  function d(e2, t3) {
    return u.getElementsByTagName(e2, t3, true, 1)[0];
  }
  function p(e2, t3, r2) {
    return r2 === void 0 && (r2 = false), u.getText(u.getElementsByTagName(e2, t3, r2, 1)).trim();
  }
  function f(e2, t3) {
    return t3 ? t3.attribs[e2] : null;
  }
  function g(e2, t3, r2, n2, i2) {
    i2 === void 0 && (i2 = false);
    var a2 = p(r2, n2, i2);
    a2 && (e2[t3] = a2);
  }
  function m(e2) {
    return e2 === "rss" || e2 === "feed" || e2 === "rdf:RDF";
  }
  t2.FeedHandler = l;
  var y = {
    xmlMode: true
  };
  t2.parseFeed = function(e2, t3) {
    t3 === void 0 && (t3 = y);
    var r2 = new l(t3);
    return new c.Parser(r2, t3).end(e2), r2.feed;
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.decodeHTML = t2.decodeHTMLStrict = t2.decodeXML = void 0;
  var i = n(r(56)), a = n(r(78)), s = n(r(57)), o = n(r(77));
  function u(e2) {
    var t3 = Object.keys(e2).join("|"), r2 = l(e2), n2 = new RegExp("&(?:" + (t3 += "|#[xX][\\da-fA-F]+|#\\d+") + ");", "g");
    return function(e3) {
      return String(e3).replace(n2, r2);
    };
  }
  t2.decodeXML = u(s.default), t2.decodeHTMLStrict = u(i.default);
  var c = function(e2, t3) {
    return e2 < t3 ? 1 : -1;
  };
  function l(e2) {
    return function(t3) {
      if (t3.charAt(1) === "#") {
        var r2 = t3.charAt(2);
        return r2 === "X" || r2 === "x" ? o.default(parseInt(t3.substr(3), 16)) : o.default(parseInt(t3.substr(2), 10));
      }
      return e2[t3.slice(1, -1)];
    };
  }
  t2.decodeHTML = function() {
    for (var e2 = Object.keys(a.default).sort(c), t3 = Object.keys(i.default).sort(c), r2 = 0, n2 = 0; r2 < t3.length; r2++)
      e2[n2] === t3[r2] ? (t3[r2] += ";?", n2++) : t3[r2] += ";";
    var s2 = new RegExp("&(?:" + t3.join("|") + "|#[xX][\\da-fA-F]+;?|#\\d+;?)", "g"), o2 = l(i.default);
    function u2(e3) {
      return e3.substr(-1) !== ";" && (e3 += ";"), o2(e3);
    }
    return function(e3) {
      return String(e3).replace(s2, u2);
    };
  }();
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.escape = t2.encodeHTML = t2.encodeXML = void 0;
  var i = u(n(r(57)).default), a = c(i);
  t2.encodeXML = d(i, a);
  var s = u(n(r(56)).default), o = c(s);
  function u(e2) {
    return Object.keys(e2).sort().reduce(function(t3, r2) {
      return t3[e2[r2]] = "&" + r2 + ";", t3;
    }, {});
  }
  function c(e2) {
    for (var t3 = [], r2 = [], n2 = 0, i2 = Object.keys(e2); n2 < i2.length; n2++) {
      var a2 = i2[n2];
      a2.length === 1 ? t3.push("\\" + a2) : r2.push(a2);
    }
    t3.sort();
    for (var s2 = 0; s2 < t3.length - 1; s2++) {
      for (var o2 = s2; o2 < t3.length - 1 && t3[o2].charCodeAt(1) + 1 === t3[o2 + 1].charCodeAt(1); )
        o2 += 1;
      var u2 = 1 + o2 - s2;
      u2 < 3 || t3.splice(s2, u2, t3[s2] + "-" + t3[o2]);
    }
    return r2.unshift("[" + t3.join("") + "]"), new RegExp(r2.join("|"), "g");
  }
  t2.encodeHTML = d(s, o);
  var l = /(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;
  function h(e2) {
    return "&#x" + e2.codePointAt(0).toString(16).toUpperCase() + ";";
  }
  function d(e2, t3) {
    return function(r2) {
      return r2.replace(t3, function(t4) {
        return e2[t4];
      }).replace(l, h);
    };
  }
  var p = c(i);
  t2.escape = function(e2) {
    return e2.replace(p, h).replace(l, h);
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.findAll = t2.existsOne = t2.findOne = t2.findOneChild = t2.find = t2.filter = void 0;
  var n = r(37);
  function i(e2, t3, r2, a) {
    for (var s = [], o = 0, u = t3; o < u.length; o++) {
      var c = u[o];
      if (e2(c) && (s.push(c), --a <= 0))
        break;
      if (r2 && n.hasChildren(c) && c.children.length > 0) {
        var l = i(e2, c.children, r2, a);
        if (s.push.apply(s, l), (a -= l.length) <= 0)
          break;
      }
    }
    return s;
  }
  t2.filter = function(e2, t3, r2, n2) {
    return r2 === void 0 && (r2 = true), n2 === void 0 && (n2 = 1 / 0), Array.isArray(t3) || (t3 = [t3]), i(e2, t3, r2, n2);
  }, t2.find = i, t2.findOneChild = function(e2, t3) {
    return t3.find(e2);
  }, t2.findOne = function e2(t3, r2, i2) {
    i2 === void 0 && (i2 = true);
    for (var a = null, s = 0; s < r2.length && !a; s++) {
      var o = r2[s];
      n.isTag(o) && (t3(o) ? a = o : i2 && o.children.length > 0 && (a = e2(t3, o.children)));
    }
    return a;
  }, t2.existsOne = function e2(t3, r2) {
    return r2.some(function(r3) {
      return n.isTag(r3) && (t3(r3) || r3.children.length > 0 && e2(t3, r3.children));
    });
  }, t2.findAll = function(e2, t3) {
    for (var r2, i2, a = [], s = t3.filter(n.isTag); i2 = s.shift(); ) {
      var o = (r2 = i2.children) === null || r2 === void 0 ? void 0 : r2.filter(n.isTag);
      o && o.length > 0 && s.unshift.apply(s, o), e2(i2) && a.push(i2);
    }
    return a;
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  const n = r(13), i = r(79), a = r(5);
  class s {
    constructor(e2, t3) {
      this.dataFactory = e2 || new a.DataFactory(), this.baseIRI = this.dataFactory.namedNode(t3 || ""), this.baseIRIDocument = this.baseIRI;
    }
    static parsePrefixes(e2, t3, r2) {
      const n2 = {};
      if (r2)
        for (const t4 in e2)
          t4.startsWith("xmlns") && (n2[t4.substr(6)] = e2[t4]);
      if (e2.prefix || Object.keys(n2).length > 0) {
        const r3 = Object.assign(Object.assign({}, t3), n2);
        if (e2.prefix) {
          let t4;
          for (; t4 = s.PREFIX_REGEX.exec(e2.prefix); )
            r3[t4[1]] = t4[2];
        }
        return r3;
      }
      return t3;
    }
    static expandPrefixedTerm(e2, t3) {
      const r2 = e2.indexOf(":");
      let n2, i2;
      if (r2 >= 0 && (n2 = e2.substr(0, r2), i2 = e2.substr(r2 + 1)), n2 === "")
        return "http://www.w3.org/1999/xhtml/vocab#" + i2;
      if (n2) {
        const e3 = t3.prefixesAll[n2];
        if (e3)
          return e3 + i2;
      }
      if (e2) {
        const r3 = t3.prefixesAll[e2.toLocaleLowerCase()];
        if (r3)
          return r3;
      }
      return e2;
    }
    static isValidIri(e2) {
      return s.IRI_REGEX.test(e2);
    }
    static contentTypeToProfile(e2) {
      return i.RDFA_CONTENTTYPES[e2] || "";
    }
    getBaseIRI(e2) {
      let t3 = e2;
      const r2 = t3.indexOf("#");
      return r2 >= 0 && (t3 = t3.substr(0, r2)), this.dataFactory.namedNode(n.resolve(t3, this.baseIRI.value));
    }
    getResourceOrBaseIri(e2, t3) {
      return e2 === true ? this.getBaseIriTerm(t3) : e2;
    }
    getBaseIriTerm(e2) {
      return e2.localBaseIRI || this.baseIRI;
    }
    createVocabIris(e2, t3, r2, n2) {
      return e2.split(/\s+/).filter((e3) => e3 && (r2 || e3.indexOf(":") >= 0)).map((e3) => this.createIri(e3, t3, true, true, n2)).filter((e3) => e3 != null);
    }
    createLiteral(e2, t3) {
      if (t3.interpretObjectAsTime && !t3.datatype) {
        for (const r2 of s.TIME_REGEXES)
          if (e2.match(r2.regex)) {
            t3.datatype = this.dataFactory.namedNode(s.XSD + r2.type);
            break;
          }
      }
      return this.dataFactory.literal(e2, t3.datatype || t3.language);
    }
    createBlankNode() {
      return this.blankNodeFactory ? this.blankNodeFactory() : this.dataFactory.blankNode();
    }
    createIri(e2, t3, r2, i2, a2) {
      if (e2 = e2 || "", !i2)
        return r2 || (e2 = n.resolve(e2, this.getBaseIriTerm(t3).value)), s.isValidIri(e2) ? this.dataFactory.namedNode(e2) : null;
      if (e2.length > 0 && e2[0] === "[" && e2[e2.length - 1] === "]" && (e2 = e2.substr(1, e2.length - 2)).indexOf(":") < 0)
        return null;
      if (e2.startsWith("_:"))
        return a2 ? this.dataFactory.blankNode(e2.substr(2) || "b_identity") : null;
      if (r2 && t3.vocab && e2.indexOf(":") < 0)
        return this.dataFactory.namedNode(t3.vocab + e2);
      let o = s.expandPrefixedTerm(e2, t3);
      return r2 ? e2 !== o && (o = n.resolve(o, this.baseIRIDocument.value)) : o = n.resolve(o, this.getBaseIriTerm(t3).value), s.isValidIri(o) ? this.dataFactory.namedNode(o) : null;
    }
  }
  t2.Util = s, s.RDF = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", s.XSD = "http://www.w3.org/2001/XMLSchema#", s.RDFA = "http://www.w3.org/ns/rdfa#", s.PREFIX_REGEX = /\s*([^:\s]*)*:\s*([^\s]*)*\s*/g, s.TIME_REGEXES = [{
    regex: /^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,
    type: "duration"
  }, {
    regex: /^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,
    type: "dateTime"
  }, {
    regex: /^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,
    type: "date"
  }, {
    regex: /^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,
    type: "time"
  }, {
    regex: /^[0-9]+-[0-9][0-9]$/,
    type: "gYearMonth"
  }, {
    regex: /^[0-9]+$/,
    type: "gYear"
  }], s.IRI_REGEX = /^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var i = n(r(77)), a = n(r(56)), s = n(r(78)), o = n(r(57));
  function u(e2) {
    return e2 === " " || e2 === "\n" || e2 === "	" || e2 === "\f" || e2 === "\r";
  }
  function c(e2) {
    return e2 >= "a" && e2 <= "z" || e2 >= "A" && e2 <= "Z";
  }
  function l(e2, t3, r2) {
    var n2 = e2.toLowerCase();
    return e2 === n2 ? function(e3, i2) {
      i2 === n2 ? e3._state = t3 : (e3._state = r2, e3._index--);
    } : function(i2, a2) {
      a2 === n2 || a2 === e2 ? i2._state = t3 : (i2._state = r2, i2._index--);
    };
  }
  function h(e2, t3) {
    var r2 = e2.toLowerCase();
    return function(n2, i2) {
      i2 === r2 || i2 === e2 ? n2._state = t3 : (n2._state = 3, n2._index--);
    };
  }
  var d = l("C", 24, 16), p = l("D", 25, 16), f = l("A", 26, 16), g = l("T", 27, 16), m = l("A", 28, 16), y = h("R", 35), b = h("I", 36), _ = h("P", 37), v = h("T", 38), w = l("R", 40, 1), S = l("I", 41, 1), T = l("P", 42, 1), E = l("T", 43, 1), x = h("Y", 45), O = h("L", 46), A = h("E", 47), R = l("Y", 49, 1), I = l("L", 50, 1), N = l("E", 51, 1), P = h("I", 54), C = h("T", 55), D = h("L", 56), j = h("E", 57), k = l("I", 58, 1), L = l("T", 59, 1), M = l("L", 60, 1), F = l("E", 61, 1), B = l("#", 63, 64), q = l("X", 66, 65), U = function() {
    function e2(e3, t3) {
      var r2;
      this._state = 1, this.buffer = "", this.sectionStart = 0, this._index = 0, this.bufferOffset = 0, this.baseState = 1, this.special = 1, this.running = true, this.ended = false, this.cbs = t3, this.xmlMode = !!(e3 == null ? void 0 : e3.xmlMode), this.decodeEntities = (r2 = e3 == null ? void 0 : e3.decodeEntities) === null || r2 === void 0 || r2;
    }
    return e2.prototype.reset = function() {
      this._state = 1, this.buffer = "", this.sectionStart = 0, this._index = 0, this.bufferOffset = 0, this.baseState = 1, this.special = 1, this.running = true, this.ended = false;
    }, e2.prototype.write = function(e3) {
      this.ended && this.cbs.onerror(Error(".write() after done!")), this.buffer += e3, this.parse();
    }, e2.prototype.end = function(e3) {
      this.ended && this.cbs.onerror(Error(".end() after done!")), e3 && this.write(e3), this.ended = true, this.running && this.finish();
    }, e2.prototype.pause = function() {
      this.running = false;
    }, e2.prototype.resume = function() {
      this.running = true, this._index < this.buffer.length && this.parse(), this.ended && this.finish();
    }, e2.prototype.getAbsoluteIndex = function() {
      return this.bufferOffset + this._index;
    }, e2.prototype.stateText = function(e3) {
      e3 === "<" ? (this._index > this.sectionStart && this.cbs.ontext(this.getSection()), this._state = 2, this.sectionStart = this._index) : this.decodeEntities && this.special === 1 && e3 === "&" && (this._index > this.sectionStart && this.cbs.ontext(this.getSection()), this.baseState = 1, this._state = 62, this.sectionStart = this._index);
    }, e2.prototype.stateBeforeTagName = function(e3) {
      e3 === "/" ? this._state = 5 : e3 === "<" ? (this.cbs.ontext(this.getSection()), this.sectionStart = this._index) : e3 === ">" || this.special !== 1 || u(e3) ? this._state = 1 : e3 === "!" ? (this._state = 15, this.sectionStart = this._index + 1) : e3 === "?" ? (this._state = 17, this.sectionStart = this._index + 1) : c(e3) ? (this._state = this.xmlMode || e3 !== "s" && e3 !== "S" ? this.xmlMode || e3 !== "t" && e3 !== "T" ? 3 : 52 : 32, this.sectionStart = this._index) : this._state = 1;
    }, e2.prototype.stateInTagName = function(e3) {
      (e3 === "/" || e3 === ">" || u(e3)) && (this.emitToken("onopentagname"), this._state = 8, this._index--);
    }, e2.prototype.stateBeforeClosingTagName = function(e3) {
      u(e3) || (e3 === ">" ? this._state = 1 : this.special !== 1 ? e3 === "s" || e3 === "S" ? this._state = 33 : e3 === "t" || e3 === "T" ? this._state = 53 : (this._state = 1, this._index--) : c(e3) ? (this._state = 6, this.sectionStart = this._index) : (this._state = 20, this.sectionStart = this._index));
    }, e2.prototype.stateInClosingTagName = function(e3) {
      (e3 === ">" || u(e3)) && (this.emitToken("onclosetag"), this._state = 7, this._index--);
    }, e2.prototype.stateAfterClosingTagName = function(e3) {
      e3 === ">" && (this._state = 1, this.sectionStart = this._index + 1);
    }, e2.prototype.stateBeforeAttributeName = function(e3) {
      e3 === ">" ? (this.cbs.onopentagend(), this._state = 1, this.sectionStart = this._index + 1) : e3 === "/" ? this._state = 4 : u(e3) || (this._state = 9, this.sectionStart = this._index);
    }, e2.prototype.stateInSelfClosingTag = function(e3) {
      e3 === ">" ? (this.cbs.onselfclosingtag(), this._state = 1, this.sectionStart = this._index + 1, this.special = 1) : u(e3) || (this._state = 8, this._index--);
    }, e2.prototype.stateInAttributeName = function(e3) {
      (e3 === "=" || e3 === "/" || e3 === ">" || u(e3)) && (this.cbs.onattribname(this.getSection()), this.sectionStart = -1, this._state = 10, this._index--);
    }, e2.prototype.stateAfterAttributeName = function(e3) {
      e3 === "=" ? this._state = 11 : e3 === "/" || e3 === ">" ? (this.cbs.onattribend(void 0), this._state = 8, this._index--) : u(e3) || (this.cbs.onattribend(void 0), this._state = 9, this.sectionStart = this._index);
    }, e2.prototype.stateBeforeAttributeValue = function(e3) {
      e3 === '"' ? (this._state = 12, this.sectionStart = this._index + 1) : e3 === "'" ? (this._state = 13, this.sectionStart = this._index + 1) : u(e3) || (this._state = 14, this.sectionStart = this._index, this._index--);
    }, e2.prototype.handleInAttributeValue = function(e3, t3) {
      e3 === t3 ? (this.emitToken("onattribdata"), this.cbs.onattribend(t3), this._state = 8) : this.decodeEntities && e3 === "&" && (this.emitToken("onattribdata"), this.baseState = this._state, this._state = 62, this.sectionStart = this._index);
    }, e2.prototype.stateInAttributeValueDoubleQuotes = function(e3) {
      this.handleInAttributeValue(e3, '"');
    }, e2.prototype.stateInAttributeValueSingleQuotes = function(e3) {
      this.handleInAttributeValue(e3, "'");
    }, e2.prototype.stateInAttributeValueNoQuotes = function(e3) {
      u(e3) || e3 === ">" ? (this.emitToken("onattribdata"), this.cbs.onattribend(null), this._state = 8, this._index--) : this.decodeEntities && e3 === "&" && (this.emitToken("onattribdata"), this.baseState = this._state, this._state = 62, this.sectionStart = this._index);
    }, e2.prototype.stateBeforeDeclaration = function(e3) {
      this._state = e3 === "[" ? 23 : e3 === "-" ? 18 : 16;
    }, e2.prototype.stateInDeclaration = function(e3) {
      e3 === ">" && (this.cbs.ondeclaration(this.getSection()), this._state = 1, this.sectionStart = this._index + 1);
    }, e2.prototype.stateInProcessingInstruction = function(e3) {
      e3 === ">" && (this.cbs.onprocessinginstruction(this.getSection()), this._state = 1, this.sectionStart = this._index + 1);
    }, e2.prototype.stateBeforeComment = function(e3) {
      e3 === "-" ? (this._state = 19, this.sectionStart = this._index + 1) : this._state = 16;
    }, e2.prototype.stateInComment = function(e3) {
      e3 === "-" && (this._state = 21);
    }, e2.prototype.stateInSpecialComment = function(e3) {
      e3 === ">" && (this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index)), this._state = 1, this.sectionStart = this._index + 1);
    }, e2.prototype.stateAfterComment1 = function(e3) {
      this._state = e3 === "-" ? 22 : 19;
    }, e2.prototype.stateAfterComment2 = function(e3) {
      e3 === ">" ? (this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index - 2)), this._state = 1, this.sectionStart = this._index + 1) : e3 !== "-" && (this._state = 19);
    }, e2.prototype.stateBeforeCdata6 = function(e3) {
      e3 === "[" ? (this._state = 29, this.sectionStart = this._index + 1) : (this._state = 16, this._index--);
    }, e2.prototype.stateInCdata = function(e3) {
      e3 === "]" && (this._state = 30);
    }, e2.prototype.stateAfterCdata1 = function(e3) {
      this._state = e3 === "]" ? 31 : 29;
    }, e2.prototype.stateAfterCdata2 = function(e3) {
      e3 === ">" ? (this.cbs.oncdata(this.buffer.substring(this.sectionStart, this._index - 2)), this._state = 1, this.sectionStart = this._index + 1) : e3 !== "]" && (this._state = 29);
    }, e2.prototype.stateBeforeSpecialS = function(e3) {
      e3 === "c" || e3 === "C" ? this._state = 34 : e3 === "t" || e3 === "T" ? this._state = 44 : (this._state = 3, this._index--);
    }, e2.prototype.stateBeforeSpecialSEnd = function(e3) {
      this.special !== 2 || e3 !== "c" && e3 !== "C" ? this.special !== 3 || e3 !== "t" && e3 !== "T" ? this._state = 1 : this._state = 48 : this._state = 39;
    }, e2.prototype.stateBeforeSpecialLast = function(e3, t3) {
      (e3 === "/" || e3 === ">" || u(e3)) && (this.special = t3), this._state = 3, this._index--;
    }, e2.prototype.stateAfterSpecialLast = function(e3, t3) {
      e3 === ">" || u(e3) ? (this.special = 1, this._state = 6, this.sectionStart = this._index - t3, this._index--) : this._state = 1;
    }, e2.prototype.parseFixedEntity = function(e3) {
      if (e3 === void 0 && (e3 = this.xmlMode ? o.default : a.default), this.sectionStart + 1 < this._index) {
        var t3 = this.buffer.substring(this.sectionStart + 1, this._index);
        Object.prototype.hasOwnProperty.call(e3, t3) && (this.emitPartial(e3[t3]), this.sectionStart = this._index + 1);
      }
    }, e2.prototype.parseLegacyEntity = function() {
      for (var e3 = this.sectionStart + 1, t3 = Math.min(this._index - e3, 6); t3 >= 2; ) {
        var r2 = this.buffer.substr(e3, t3);
        if (Object.prototype.hasOwnProperty.call(s.default, r2))
          return this.emitPartial(s.default[r2]), void (this.sectionStart += t3 + 1);
        t3--;
      }
    }, e2.prototype.stateInNamedEntity = function(e3) {
      e3 === ";" ? (this.parseFixedEntity(), this.baseState === 1 && this.sectionStart + 1 < this._index && !this.xmlMode && this.parseLegacyEntity(), this._state = this.baseState) : (e3 < "0" || e3 > "9") && !c(e3) && (this.xmlMode || this.sectionStart + 1 === this._index || (this.baseState !== 1 ? e3 !== "=" && this.parseFixedEntity(s.default) : this.parseLegacyEntity()), this._state = this.baseState, this._index--);
    }, e2.prototype.decodeNumericEntity = function(e3, t3, r2) {
      var n2 = this.sectionStart + e3;
      if (n2 !== this._index) {
        var a2 = this.buffer.substring(n2, this._index), s2 = parseInt(a2, t3);
        this.emitPartial(i.default(s2)), this.sectionStart = r2 ? this._index + 1 : this._index;
      }
      this._state = this.baseState;
    }, e2.prototype.stateInNumericEntity = function(e3) {
      e3 === ";" ? this.decodeNumericEntity(2, 10, true) : (e3 < "0" || e3 > "9") && (this.xmlMode ? this._state = this.baseState : this.decodeNumericEntity(2, 10, false), this._index--);
    }, e2.prototype.stateInHexEntity = function(e3) {
      e3 === ";" ? this.decodeNumericEntity(3, 16, true) : (e3 < "a" || e3 > "f") && (e3 < "A" || e3 > "F") && (e3 < "0" || e3 > "9") && (this.xmlMode ? this._state = this.baseState : this.decodeNumericEntity(3, 16, false), this._index--);
    }, e2.prototype.cleanup = function() {
      this.sectionStart < 0 ? (this.buffer = "", this.bufferOffset += this._index, this._index = 0) : this.running && (this._state === 1 ? (this.sectionStart !== this._index && this.cbs.ontext(this.buffer.substr(this.sectionStart)), this.buffer = "", this.bufferOffset += this._index, this._index = 0) : this.sectionStart === this._index ? (this.buffer = "", this.bufferOffset += this._index, this._index = 0) : (this.buffer = this.buffer.substr(this.sectionStart), this._index -= this.sectionStart, this.bufferOffset += this.sectionStart), this.sectionStart = 0);
    }, e2.prototype.parse = function() {
      for (; this._index < this.buffer.length && this.running; ) {
        var e3 = this.buffer.charAt(this._index);
        this._state === 1 ? this.stateText(e3) : this._state === 12 ? this.stateInAttributeValueDoubleQuotes(e3) : this._state === 9 ? this.stateInAttributeName(e3) : this._state === 19 ? this.stateInComment(e3) : this._state === 20 ? this.stateInSpecialComment(e3) : this._state === 8 ? this.stateBeforeAttributeName(e3) : this._state === 3 ? this.stateInTagName(e3) : this._state === 6 ? this.stateInClosingTagName(e3) : this._state === 2 ? this.stateBeforeTagName(e3) : this._state === 10 ? this.stateAfterAttributeName(e3) : this._state === 13 ? this.stateInAttributeValueSingleQuotes(e3) : this._state === 11 ? this.stateBeforeAttributeValue(e3) : this._state === 5 ? this.stateBeforeClosingTagName(e3) : this._state === 7 ? this.stateAfterClosingTagName(e3) : this._state === 32 ? this.stateBeforeSpecialS(e3) : this._state === 21 ? this.stateAfterComment1(e3) : this._state === 14 ? this.stateInAttributeValueNoQuotes(e3) : this._state === 4 ? this.stateInSelfClosingTag(e3) : this._state === 16 ? this.stateInDeclaration(e3) : this._state === 15 ? this.stateBeforeDeclaration(e3) : this._state === 22 ? this.stateAfterComment2(e3) : this._state === 18 ? this.stateBeforeComment(e3) : this._state === 33 ? this.stateBeforeSpecialSEnd(e3) : this._state === 53 ? k(this, e3) : this._state === 39 ? w(this, e3) : this._state === 40 ? S(this, e3) : this._state === 41 ? T(this, e3) : this._state === 34 ? y(this, e3) : this._state === 35 ? b(this, e3) : this._state === 36 ? _(this, e3) : this._state === 37 ? v(this, e3) : this._state === 38 ? this.stateBeforeSpecialLast(e3, 2) : this._state === 42 ? E(this, e3) : this._state === 43 ? this.stateAfterSpecialLast(e3, 6) : this._state === 44 ? x(this, e3) : this._state === 29 ? this.stateInCdata(e3) : this._state === 45 ? O(this, e3) : this._state === 46 ? A(this, e3) : this._state === 47 ? this.stateBeforeSpecialLast(e3, 3) : this._state === 48 ? R(this, e3) : this._state === 49 ? I(this, e3) : this._state === 50 ? N(this, e3) : this._state === 51 ? this.stateAfterSpecialLast(e3, 5) : this._state === 52 ? P(this, e3) : this._state === 54 ? C(this, e3) : this._state === 55 ? D(this, e3) : this._state === 56 ? j(this, e3) : this._state === 57 ? this.stateBeforeSpecialLast(e3, 4) : this._state === 58 ? L(this, e3) : this._state === 59 ? M(this, e3) : this._state === 60 ? F(this, e3) : this._state === 61 ? this.stateAfterSpecialLast(e3, 5) : this._state === 17 ? this.stateInProcessingInstruction(e3) : this._state === 64 ? this.stateInNamedEntity(e3) : this._state === 23 ? d(this, e3) : this._state === 62 ? B(this, e3) : this._state === 24 ? p(this, e3) : this._state === 25 ? f(this, e3) : this._state === 30 ? this.stateAfterCdata1(e3) : this._state === 31 ? this.stateAfterCdata2(e3) : this._state === 26 ? g(this, e3) : this._state === 27 ? m(this, e3) : this._state === 28 ? this.stateBeforeCdata6(e3) : this._state === 66 ? this.stateInHexEntity(e3) : this._state === 65 ? this.stateInNumericEntity(e3) : this._state === 63 ? q(this, e3) : this.cbs.onerror(Error("unknown _state"), this._state), this._index++;
      }
      this.cleanup();
    }, e2.prototype.finish = function() {
      this.sectionStart < this._index && this.handleTrailingData(), this.cbs.onend();
    }, e2.prototype.handleTrailingData = function() {
      var e3 = this.buffer.substr(this.sectionStart);
      this._state === 29 || this._state === 30 || this._state === 31 ? this.cbs.oncdata(e3) : this._state === 19 || this._state === 21 || this._state === 22 ? this.cbs.oncomment(e3) : this._state !== 64 || this.xmlMode ? this._state !== 65 || this.xmlMode ? this._state !== 66 || this.xmlMode ? this._state !== 3 && this._state !== 8 && this._state !== 11 && this._state !== 10 && this._state !== 9 && this._state !== 13 && this._state !== 12 && this._state !== 14 && this._state !== 6 && this.cbs.ontext(e3) : (this.decodeNumericEntity(3, 16, false), this.sectionStart < this._index && (this._state = this.baseState, this.handleTrailingData())) : (this.decodeNumericEntity(2, 10, false), this.sectionStart < this._index && (this._state = this.baseState, this.handleTrailingData())) : (this.parseLegacyEntity(), this.sectionStart < this._index && (this._state = this.baseState, this.handleTrailingData()));
    }, e2.prototype.getSection = function() {
      return this.buffer.substring(this.sectionStart, this._index);
    }, e2.prototype.emitToken = function(e3) {
      this.cbs[e3](this.getSection()), this.sectionStart = -1;
    }, e2.prototype.emitPartial = function(e3) {
      this.baseState !== 1 ? this.cbs.onattribdata(e3) : this.cbs.ontext(e3);
    }, e2;
  }();
  t2.default = U;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ItemPropertyHandlerContent = void 0;
  t2.ItemPropertyHandlerContent = class {
    canHandle(e2, t3) {
      return "content" in t3;
    }
    getObject(e2, t3, r2) {
      return t3.createLiteral(e2.content, r2);
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ItemPropertyHandlerNumber = void 0;
  const n = r(61);
  t2.ItemPropertyHandlerNumber = class {
    constructor(e2, t3) {
      this.tagName = e2, this.attributeName = t3;
    }
    canHandle(e2, t3) {
      return this.tagName === e2 && this.attributeName in t3;
    }
    getObject(e2, t3, r2) {
      const i = e2[this.attributeName];
      let a;
      return Number.isNaN(Number.parseInt(i, 10)) || i.includes(".") ? Number.isNaN(Number.parseFloat(i)) || (a = n.Util.XSD + "double") : a = n.Util.XSD + "integer", t3.dataFactory.literal(i, a && t3.dataFactory.namedNode(a));
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ItemPropertyHandlerTime = void 0;
  const n = r(61);
  class i {
    canHandle(e2, t3) {
      return e2 === "time" && "datetime" in t3;
    }
    getObject(e2, t3, r2) {
      const a = e2.datetime;
      let s;
      for (const e3 of i.TIME_REGEXES)
        if (e3.regex.exec(a)) {
          s = t3.dataFactory.namedNode(n.Util.XSD + e3.type);
          break;
        }
      return t3.dataFactory.literal(a, s);
    }
  }
  t2.ItemPropertyHandlerTime = i, i.TIME_REGEXES = [{
    regex: /^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,
    type: "duration"
  }, {
    regex: /^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,
    type: "dateTime"
  }, {
    regex: /^\d+-\d\d-\d\dZ?$/u,
    type: "date"
  }, {
    regex: /^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,
    type: "time"
  }, {
    regex: /^\d+-\d\d$/u,
    type: "gYearMonth"
  }, {
    regex: /^\d+$/u,
    type: "gYear"
  }];
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ItemPropertyHandlerUrl = void 0;
  const n = r(13);
  t2.ItemPropertyHandlerUrl = class {
    constructor(e2, t3) {
      this.tagName = e2, this.attributeName = t3;
    }
    canHandle(e2, t3) {
      return this.tagName === e2 && this.attributeName in t3;
    }
    getObject(e2, t3, r2) {
      return t3.dataFactory.namedNode(n.resolve(e2[this.attributeName], t3.baseIRI));
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__setModuleDefault || (Object.create ? function(e2, t3) {
    Object.defineProperty(e2, "default", {
      enumerable: true,
      value: t3
    });
  } : function(e2, t3) {
    e2.default = t3;
  }), a = this && this.__importStar || function(e2) {
    if (e2 && e2.__esModule)
      return e2;
    var t3 = {};
    if (e2 != null)
      for (var r2 in e2)
        r2 !== "default" && Object.prototype.hasOwnProperty.call(e2, r2) && n(t3, e2, r2);
    return i(t3, e2), t3;
  }, s = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  }, o = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RssHandler = t2.DefaultHandler = t2.DomUtils = t2.ElementType = t2.Tokenizer = t2.createDomStream = t2.parseDOM = t2.DomHandler = t2.Parser = void 0;
  var u = r(80);
  Object.defineProperty(t2, "Parser", {
    enumerable: true,
    get: function() {
      return u.Parser;
    }
  });
  var c = r(58);
  Object.defineProperty(t2, "DomHandler", {
    enumerable: true,
    get: function() {
      return c.DomHandler;
    }
  }), Object.defineProperty(t2, "DefaultHandler", {
    enumerable: true,
    get: function() {
      return c.DomHandler;
    }
  }), t2.parseDOM = function(e2, t3) {
    var r2 = new c.DomHandler(void 0, t3);
    return new u.Parser(r2, t3).end(e2), r2.dom;
  }, t2.createDomStream = function(e2, t3, r2) {
    var n2 = new c.DomHandler(e2, t3, r2);
    return new u.Parser(n2, t3);
  };
  var l = r(140);
  Object.defineProperty(t2, "Tokenizer", {
    enumerable: true,
    get: function() {
      return o(l).default;
    }
  });
  var h = a(r(59));
  t2.ElementType = h, s(r(146), t2), t2.DomUtils = a(r(60));
  var d = r(146);
  Object.defineProperty(t2, "RssHandler", {
    enumerable: true,
    get: function() {
      return d.FeedHandler;
    }
  });
}, function(e, t2, r) {
  "use strict";
  var n, i = this && this.__extends || (n = function(e2, t3) {
    return (n = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(e3, t4) {
      e3.__proto__ = t4;
    } || function(e3, t4) {
      for (var r2 in t4)
        Object.prototype.hasOwnProperty.call(t4, r2) && (e3[r2] = t4[r2]);
    })(e2, t3);
  }, function(e2, t3) {
    function r2() {
      this.constructor = e2;
    }
    n(e2, t3), e2.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
  }), a = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), s = this && this.__setModuleDefault || (Object.create ? function(e2, t3) {
    Object.defineProperty(e2, "default", {
      enumerable: true,
      value: t3
    });
  } : function(e2, t3) {
    e2.default = t3;
  }), o = this && this.__importStar || function(e2) {
    if (e2 && e2.__esModule)
      return e2;
    var t3 = {};
    if (e2 != null)
      for (var r2 in e2)
        r2 !== "default" && Object.prototype.hasOwnProperty.call(e2, r2) && a(t3, e2, r2);
    return s(t3, e2), t3;
  }, u = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.parseFeed = t2.FeedHandler = void 0;
  var c, l, h = u(r(58)), d = o(r(60)), p = r(80);
  !function(e2) {
    e2[e2.image = 0] = "image", e2[e2.audio = 1] = "audio", e2[e2.video = 2] = "video", e2[e2.document = 3] = "document", e2[e2.executable = 4] = "executable";
  }(c || (c = {})), function(e2) {
    e2[e2.sample = 0] = "sample", e2[e2.full = 1] = "full", e2[e2.nonstop = 2] = "nonstop";
  }(l || (l = {}));
  var f = function(e2) {
    function t3(t4, r2) {
      return typeof t4 == "object" && (r2 = t4 = void 0), e2.call(this, t4, r2) || this;
    }
    return i(t3, e2), t3.prototype.onend = function() {
      var e3, t4, r2 = {}, n2 = y(w, this.dom);
      if (n2)
        if (n2.name === "feed") {
          var i2 = n2.children;
          r2.type = "atom", v(r2, "id", "id", i2), v(r2, "title", "title", i2);
          var a2 = _("href", y("link", i2));
          a2 && (r2.link = a2), v(r2, "description", "subtitle", i2), (s2 = b("updated", i2)) && (r2.updated = new Date(s2)), v(r2, "author", "email", i2, true), r2.items = m("entry", i2).map(function(e4) {
            var t5 = {}, r3 = e4.children;
            v(t5, "id", "id", r3), v(t5, "title", "title", r3);
            var n3 = _("href", y("link", r3));
            n3 && (t5.link = n3);
            var i3 = b("summary", r3) || b("content", r3);
            i3 && (t5.description = i3);
            var a3 = b("updated", r3);
            return a3 && (t5.pubDate = new Date(a3)), t5.media = g(r3), t5;
          });
        } else {
          var s2;
          i2 = (t4 = (e3 = y("channel", n2.children)) === null || e3 === void 0 ? void 0 : e3.children) !== null && t4 !== void 0 ? t4 : [];
          r2.type = n2.name.substr(0, 3), r2.id = "", v(r2, "title", "title", i2), v(r2, "link", "link", i2), v(r2, "description", "description", i2), (s2 = b("lastBuildDate", i2)) && (r2.updated = new Date(s2)), v(r2, "author", "managingEditor", i2, true), r2.items = m("item", n2.children).map(function(e4) {
            var t5 = {}, r3 = e4.children;
            v(t5, "id", "guid", r3), v(t5, "title", "title", r3), v(t5, "link", "link", r3), v(t5, "description", "description", r3);
            var n3 = b("pubDate", r3);
            return n3 && (t5.pubDate = new Date(n3)), t5.media = g(r3), t5;
          });
        }
      this.feed = r2, this.handleCallback(n2 ? null : Error("couldn't find root of feed"));
    }, t3;
  }(h.default);
  function g(e2) {
    return m("media:content", e2).map(function(e3) {
      var t3 = {
        medium: e3.attribs.medium,
        isDefault: !!e3.attribs.isDefault
      };
      return e3.attribs.url && (t3.url = e3.attribs.url), e3.attribs.fileSize && (t3.fileSize = parseInt(e3.attribs.fileSize, 10)), e3.attribs.type && (t3.type = e3.attribs.type), e3.attribs.expression && (t3.expression = e3.attribs.expression), e3.attribs.bitrate && (t3.bitrate = parseInt(e3.attribs.bitrate, 10)), e3.attribs.framerate && (t3.framerate = parseInt(e3.attribs.framerate, 10)), e3.attribs.samplingrate && (t3.samplingrate = parseInt(e3.attribs.samplingrate, 10)), e3.attribs.channels && (t3.channels = parseInt(e3.attribs.channels, 10)), e3.attribs.duration && (t3.duration = parseInt(e3.attribs.duration, 10)), e3.attribs.height && (t3.height = parseInt(e3.attribs.height, 10)), e3.attribs.width && (t3.width = parseInt(e3.attribs.width, 10)), e3.attribs.lang && (t3.lang = e3.attribs.lang), t3;
    });
  }
  function m(e2, t3) {
    return d.getElementsByTagName(e2, t3, true);
  }
  function y(e2, t3) {
    return d.getElementsByTagName(e2, t3, true, 1)[0];
  }
  function b(e2, t3, r2) {
    return r2 === void 0 && (r2 = false), d.getText(d.getElementsByTagName(e2, t3, r2, 1)).trim();
  }
  function _(e2, t3) {
    return t3 ? t3.attribs[e2] : null;
  }
  function v(e2, t3, r2, n2, i2) {
    i2 === void 0 && (i2 = false);
    var a2 = b(r2, n2, i2);
    a2 && (e2[t3] = a2);
  }
  function w(e2) {
    return e2 === "rss" || e2 === "feed" || e2 === "rdf:RDF";
  }
  t2.FeedHandler = f;
  var S = {
    xmlMode: true
  };
  t2.parseFeed = function(e2, t3) {
    t3 === void 0 && (t3 = S);
    var r2 = new f(t3);
    return new p.Parser(r2, t3).end(e2), r2.feed;
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  const n = r(13), i = r(82), a = r(5);
  class s {
    constructor(e2, t3) {
      this.dataFactory = e2 || new a.DataFactory(), this.baseIRI = this.dataFactory.namedNode(t3 || ""), this.baseIRIDocument = this.baseIRI;
    }
    static parsePrefixes(e2, t3, r2) {
      const n2 = {};
      if (r2)
        for (const t4 in e2)
          t4.startsWith("xmlns") && (n2[t4.substr(6)] = e2[t4]);
      if (e2.prefix || Object.keys(n2).length > 0) {
        const r3 = Object.assign(Object.assign({}, t3), n2);
        if (e2.prefix) {
          let t4;
          for (; t4 = s.PREFIX_REGEX.exec(e2.prefix); )
            r3[t4[1]] = t4[2];
        }
        return r3;
      }
      return t3;
    }
    static expandPrefixedTerm(e2, t3) {
      const r2 = e2.indexOf(":");
      let n2, i2;
      if (r2 >= 0 && (n2 = e2.substr(0, r2), i2 = e2.substr(r2 + 1)), n2 === "")
        return "http://www.w3.org/1999/xhtml/vocab#" + i2;
      if (n2) {
        const e3 = t3.prefixesAll[n2];
        if (e3)
          return e3 + i2;
      }
      if (e2) {
        const r3 = t3.prefixesAll[e2.toLocaleLowerCase()];
        if (r3)
          return r3;
      }
      return e2;
    }
    static isValidIri(e2) {
      return s.IRI_REGEX.test(e2);
    }
    static contentTypeToProfile(e2) {
      return i.RDFA_CONTENTTYPES[e2] || "";
    }
    getBaseIRI(e2) {
      let t3 = e2;
      const r2 = t3.indexOf("#");
      return r2 >= 0 && (t3 = t3.substr(0, r2)), this.dataFactory.namedNode(n.resolve(t3, this.baseIRI.value));
    }
    getResourceOrBaseIri(e2, t3) {
      return e2 === true ? this.getBaseIriTerm(t3) : e2;
    }
    getBaseIriTerm(e2) {
      return e2.localBaseIRI || this.baseIRI;
    }
    createVocabIris(e2, t3, r2, n2) {
      return e2.split(/\s+/).filter((e3) => e3 && (r2 || e3.indexOf(":") >= 0)).map((e3) => this.createIri(e3, t3, true, true, n2)).filter((e3) => e3 != null);
    }
    createLiteral(e2, t3) {
      if (t3.interpretObjectAsTime && !t3.datatype) {
        for (const r2 of s.TIME_REGEXES)
          if (e2.match(r2.regex)) {
            t3.datatype = this.dataFactory.namedNode(s.XSD + r2.type);
            break;
          }
      }
      return this.dataFactory.literal(e2, t3.datatype || t3.language);
    }
    createBlankNode() {
      return this.blankNodeFactory ? this.blankNodeFactory() : this.dataFactory.blankNode();
    }
    createIri(e2, t3, r2, i2, a2) {
      if (e2 = e2 || "", !i2)
        return r2 || (e2 = n.resolve(e2, this.getBaseIriTerm(t3).value)), s.isValidIri(e2) ? this.dataFactory.namedNode(e2) : null;
      if (e2.length > 0 && e2[0] === "[" && e2[e2.length - 1] === "]" && (e2 = e2.substr(1, e2.length - 2)).indexOf(":") < 0)
        return null;
      if (e2.startsWith("_:"))
        return a2 ? this.dataFactory.blankNode(e2.substr(2) || "b_identity") : null;
      if (r2 && t3.vocab && e2.indexOf(":") < 0)
        return this.dataFactory.namedNode(t3.vocab + e2);
      let o = s.expandPrefixedTerm(e2, t3);
      return r2 ? e2 !== o && (o = n.resolve(o, this.baseIRIDocument.value)) : o = n.resolve(o, this.getBaseIriTerm(t3).value), s.isValidIri(o) ? this.dataFactory.namedNode(o) : null;
    }
  }
  t2.Util = s, s.RDF = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", s.XSD = "http://www.w3.org/2001/XMLSchema#", s.RDFA = "http://www.w3.org/ns/rdfa#", s.PREFIX_REGEX = /\s*([^:\s]*)*:\s*([^\s]*)*\s*/g, s.TIME_REGEXES = [{
    regex: /^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,
    type: "duration"
  }, {
    regex: /^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,
    type: "dateTime"
  }, {
    regex: /^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,
    type: "date"
  }, {
    regex: /^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,
    type: "time"
  }, {
    regex: /^[0-9]+-[0-9][0-9]$/,
    type: "gYearMonth"
  }, {
    regex: /^[0-9]+$/,
    type: "gYear"
  }], s.IRI_REGEX = /^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(327), t2), i(r(328), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__awaiter || function(e2, t3, r2, n2) {
    return new (r2 || (r2 = Promise))(function(i2, a2) {
      function s2(e3) {
        try {
          u2(n2.next(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function o2(e3) {
        try {
          u2(n2.throw(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function u2(e3) {
        var t4;
        e3.done ? i2(e3.value) : (t4 = e3.value, t4 instanceof r2 ? t4 : new r2(function(e4) {
          e4(t4);
        })).then(s2, o2);
      }
      u2((n2 = n2.apply(e2, t3 || [])).next());
    });
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.defaultExpandOptions = t2.ContextParser = void 0, r(45);
  const i = r(13), a = r(47), s = r(150), o = r(152), u = r(83), c = r(84);
  class l {
    constructor(e2) {
      e2 = e2 || {}, this.documentLoader = e2.documentLoader || new s.FetchDocumentLoader(), this.documentCache = {}, this.validateContext = !e2.skipValidation, this.expandContentTypeToBase = !!e2.expandContentTypeToBase, this.remoteContextsDepthLimit = e2.remoteContextsDepthLimit || 32, this.redirectSchemaOrgHttps = !("redirectSchemaOrgHttps" in e2) || !!e2.redirectSchemaOrgHttps;
    }
    static validateLanguage(e2, t3, r2) {
      if (typeof e2 != "string")
        throw new a.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e2)}'`, r2);
      if (!u.Util.REGEX_LANGUAGE_TAG.test(e2)) {
        if (t3)
          throw new a.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e2)}'`, r2);
        return false;
      }
      return true;
    }
    static validateDirection(e2, t3) {
      if (typeof e2 != "string")
        throw new a.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e2)}'`, a.ERROR_CODES.INVALID_BASE_DIRECTION);
      if (!u.Util.REGEX_DIRECTION_TAG.test(e2)) {
        if (t3)
          throw new a.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e2)}'`, a.ERROR_CODES.INVALID_BASE_DIRECTION);
        return false;
      }
      return true;
    }
    idifyReverseTerms(e2) {
      for (const t3 of Object.keys(e2)) {
        const r2 = e2[t3];
        if (r2 && typeof r2 == "object" && r2["@reverse"] && !r2["@id"]) {
          if (typeof r2["@reverse"] != "string" || u.Util.isValidKeyword(r2["@reverse"]))
            throw new a.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r2["@reverse"]}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
          r2["@id"] = r2["@reverse"], u.Util.isPotentialKeyword(r2["@reverse"]) ? delete r2["@reverse"] : r2["@reverse"] = true;
        }
      }
      return e2;
    }
    expandPrefixedTerms(e2, t3) {
      const r2 = e2.getContextRaw();
      for (const n2 of Object.keys(r2))
        if (u.Util.EXPAND_KEYS_BLACKLIST.indexOf(n2) < 0 && !u.Util.isReservedInternalKeyword(n2)) {
          const i2 = r2[n2];
          if (u.Util.isPotentialKeyword(n2) && u.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(n2) >= 0 && (n2 !== "@type" || typeof r2[n2] == "object" && !r2[n2]["@protected"] && r2[n2]["@container"] !== "@set"))
            throw new a.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${n2} to ${JSON.stringify(i2)}`, a.ERROR_CODES.KEYWORD_REDEFINITION);
          if (u.Util.ALIAS_RANGE_BLACKLIST.indexOf(u.Util.getContextValueId(i2)) >= 0)
            throw new a.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${n2} to ${JSON.stringify(i2)}`, a.ERROR_CODES.INVALID_KEYWORD_ALIAS);
          if (i2 && u.Util.isPotentialKeyword(u.Util.getContextValueId(i2)) && i2["@prefix"] === true)
            throw new a.ErrorCoded(`Tried to use keyword aliases as prefix: '${n2}': '${JSON.stringify(i2)}'`, a.ERROR_CODES.INVALID_TERM_DEFINITION);
          for (; u.Util.isPrefixValue(r2[n2]); ) {
            const i3 = r2[n2];
            let a2 = false;
            if (typeof i3 == "string")
              r2[n2] = e2.expandTerm(i3, true), a2 = a2 || i3 !== r2[n2];
            else {
              const s2 = i3["@id"], o2 = i3["@type"], c2 = !("@prefix" in i3) || u.Util.isValidIri(n2);
              if ("@id" in i3)
                s2 != null && typeof s2 == "string" && (r2[n2]["@id"] = e2.expandTerm(s2, true), a2 = a2 || s2 !== r2[n2]["@id"]);
              else if (!u.Util.isPotentialKeyword(n2) && c2) {
                const t4 = e2.expandTerm(n2, true);
                t4 !== n2 && (r2[n2]["@id"] = t4, a2 = true);
              }
              !o2 || typeof o2 != "string" || o2 === "@vocab" || i3["@container"] && i3["@container"]["@type"] || !c2 || (r2[n2]["@type"] = e2.expandTerm(o2, true), t3 && o2 === r2[n2]["@type"] && (r2[n2]["@type"] = e2.expandTerm(o2, false)), a2 = a2 || o2 !== r2[n2]["@type"]);
            }
            if (!a2)
              break;
          }
        }
    }
    normalize(e2, {
      processingMode: t3,
      normalizeLanguageTags: r2
    }) {
      if (r2 || t3 === 1)
        for (const t4 of Object.keys(e2))
          if (t4 === "@language" && typeof e2[t4] == "string")
            e2[t4] = e2[t4].toLowerCase();
          else {
            const r3 = e2[t4];
            r3 && typeof r3 == "object" && typeof r3["@language"] == "string" && (r3["@language"] = r3["@language"].toLowerCase());
          }
    }
    containersToHash(e2) {
      for (const t3 of Object.keys(e2)) {
        const r2 = e2[t3];
        if (r2 && typeof r2 == "object") {
          if (typeof r2["@container"] == "string")
            r2["@container"] = {
              [r2["@container"]]: true
            };
          else if (Array.isArray(r2["@container"])) {
            const e3 = {};
            for (const t4 of r2["@container"])
              e3[t4] = true;
            r2["@container"] = e3;
          }
        }
      }
    }
    applyScopedProtected(e2, {
      processingMode: t3
    }) {
      if (t3 && t3 >= 1.1 && e2["@protected"]) {
        for (const t4 of Object.keys(e2))
          if (!u.Util.isReservedInternalKeyword(t4) && !u.Util.isPotentialKeyword(t4) && !u.Util.isTermProtected(e2, t4)) {
            const r2 = e2[t4];
            r2 && typeof r2 == "object" ? "@protected" in e2[t4] || (e2[t4]["@protected"] = true) : e2[t4] = {
              "@id": r2,
              "@protected": true
            };
          }
        delete e2["@protected"];
      }
    }
    validateKeywordRedefinitions(e2, t3, r2) {
      for (const n2 of Object.keys(t3))
        if (u.Util.isTermProtected(e2, n2)) {
          if (typeof t3[n2] == "string") {
            const i3 = u.Util.isSimpleTermDefinitionPrefix(t3[n2], r2);
            t3[n2] = {
              "@id": t3[n2]
            }, i3 && (t3[n2]["@prefix"] = true, e2[n2]["@prefix"] = true);
          }
          const i2 = c(e2[n2]);
          t3[n2]["@protected"] = true;
          if (i2 !== c(t3[n2]))
            throw new a.ErrorCoded(`Attempted to override the protected keyword ${n2} from ${JSON.stringify(u.Util.getContextValueId(e2[n2]))} to ${JSON.stringify(u.Util.getContextValueId(t3[n2]))}`, a.ERROR_CODES.PROTECTED_TERM_REDEFINITION);
        }
    }
    validate(e2, {
      processingMode: t3
    }) {
      for (const r2 of Object.keys(e2)) {
        if (u.Util.isReservedInternalKeyword(r2))
          continue;
        if (r2 === "")
          throw new a.ErrorCoded(`The empty term is not allowed, got: '${r2}': '${JSON.stringify(e2[r2])}'`, a.ERROR_CODES.INVALID_TERM_DEFINITION);
        const n2 = e2[r2], i2 = typeof n2;
        if (u.Util.isPotentialKeyword(r2)) {
          switch (r2.substr(1)) {
            case "vocab":
              if (n2 !== null && i2 !== "string")
                throw new a.ErrorCoded("Found an invalid @vocab IRI: " + n2, a.ERROR_CODES.INVALID_VOCAB_MAPPING);
              break;
            case "base":
              if (n2 !== null && i2 !== "string")
                throw new a.ErrorCoded("Found an invalid @base IRI: " + e2[r2], a.ERROR_CODES.INVALID_BASE_IRI);
              break;
            case "language":
              n2 !== null && l.validateLanguage(n2, true, a.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);
              break;
            case "version":
              if (n2 !== null && i2 !== "number")
                throw new a.ErrorCoded("Found an invalid @version number: " + n2, a.ERROR_CODES.INVALID_VERSION_VALUE);
              break;
            case "direction":
              n2 !== null && l.validateDirection(n2, true);
              break;
            case "propagate":
              if (t3 === 1)
                throw new a.ErrorCoded("Found an illegal @propagate keyword: " + n2, a.ERROR_CODES.INVALID_CONTEXT_ENTRY);
              if (n2 !== null && i2 !== "boolean")
                throw new a.ErrorCoded("Found an invalid @propagate value: " + n2, a.ERROR_CODES.INVALID_PROPAGATE_VALUE);
          }
          if (u.Util.isValidKeyword(r2) && u.Util.isValidKeyword(u.Util.getContextValueId(n2)))
            throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${r2}': '${u.Util.getContextValueId(n2)}'`, a.ERROR_CODES.KEYWORD_REDEFINITION);
        } else if (n2 !== null)
          switch (i2) {
            case "string":
              if (u.Util.getPrefix(n2, e2) === r2)
                throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.CYCLIC_IRI_MAPPING);
              if (u.Util.isValidIriWeak(r2)) {
                if (n2 === "@type")
                  throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${r2}': '${n2}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
                if (u.Util.isValidIri(n2) && n2 !== new o.JsonLdContextNormalized(e2).expandTerm(r2))
                  throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r2}': '${n2}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
              }
              break;
            case "object":
              if (!(u.Util.isCompactIri(r2) || "@id" in n2 || (n2["@type"] === "@id" ? e2["@base"] : e2["@vocab"])))
                throw new a.ErrorCoded(`Missing @id in context entry: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
              for (const s2 of Object.keys(n2)) {
                const c2 = n2[s2];
                if (c2)
                  switch (s2) {
                    case "@id":
                      if (u.Util.isValidKeyword(c2) && c2 !== "@type" && c2 !== "@id" && c2 !== "@graph")
                        throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
                      if (u.Util.isValidIriWeak(r2)) {
                        if (c2 === "@type")
                          throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
                        if (u.Util.isValidIri(c2) && c2 !== new o.JsonLdContextNormalized(e2).expandTerm(r2))
                          throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
                      }
                      if (typeof c2 != "string")
                        throw new a.ErrorCoded(`Detected non-string @id in context entry: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
                      if (u.Util.getPrefix(c2, e2) === r2)
                        throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.CYCLIC_IRI_MAPPING);
                      break;
                    case "@type":
                      if (n2["@container"] === "@type" && c2 !== "@id" && c2 !== "@vocab")
                        throw new a.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r2}': '${c2}'`, a.ERROR_CODES.INVALID_TYPE_MAPPING);
                      if (typeof c2 != "string")
                        throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(i2)}'`, a.ERROR_CODES.INVALID_TYPE_MAPPING);
                      if (!(c2 === "@id" || c2 === "@vocab" || t3 !== 1 && c2 === "@json" || t3 !== 1 && c2 === "@none" || c2[0] !== "_" && u.Util.isValidIri(c2)))
                        throw new a.ErrorCoded(`A context @type must be an absolute IRI, found: '${r2}': '${c2}'`, a.ERROR_CODES.INVALID_TYPE_MAPPING);
                      break;
                    case "@reverse":
                      if (typeof c2 == "string" && n2["@id"] && n2["@id"] !== c2)
                        throw new a.ErrorCoded(`Found non-matching @id and @reverse term values in '${r2}':'${c2}' and '${n2["@id"]}'`, a.ERROR_CODES.INVALID_REVERSE_PROPERTY);
                      if ("@nest" in n2)
                        throw new a.ErrorCoded(`@nest is not allowed in the reverse property '${r2}'`, a.ERROR_CODES.INVALID_REVERSE_PROPERTY);
                      break;
                    case "@container":
                      if (t3 === 1 && (Object.keys(c2).length > 1 || u.Util.CONTAINERS_1_0.indexOf(Object.keys(c2)[0]) < 0))
                        throw new a.ErrorCoded(`Invalid term @container for '${r2}' ('${Object.keys(c2)}') in 1.0, must be only one of ${u.Util.CONTAINERS_1_0.join(", ")}`, a.ERROR_CODES.INVALID_CONTAINER_MAPPING);
                      for (const e3 of Object.keys(c2)) {
                        if (e3 === "@list" && n2["@reverse"])
                          throw new a.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r2}'`, a.ERROR_CODES.INVALID_REVERSE_PROPERTY);
                        if (u.Util.CONTAINERS.indexOf(e3) < 0)
                          throw new a.ErrorCoded(`Invalid term @container for '${r2}' ('${e3}'), must be one of ${u.Util.CONTAINERS.join(", ")}`, a.ERROR_CODES.INVALID_CONTAINER_MAPPING);
                      }
                      break;
                    case "@language":
                      l.validateLanguage(c2, true, a.ERROR_CODES.INVALID_LANGUAGE_MAPPING);
                      break;
                    case "@direction":
                      l.validateDirection(c2, true);
                      break;
                    case "@prefix":
                      if (c2 !== null && typeof c2 != "boolean")
                        throw new a.ErrorCoded(`Found an invalid term @prefix boolean in: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_PREFIX_VALUE);
                      if (!("@id" in n2) && !u.Util.isValidIri(r2))
                        throw new a.ErrorCoded(`Invalid @prefix definition for '${r2}' ('${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_TERM_DEFINITION);
                      break;
                    case "@index":
                      if (t3 === 1 || !n2["@container"] || !n2["@container"]["@index"])
                        throw new a.ErrorCoded(`Attempt to add illegal key to value object: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_TERM_DEFINITION);
                      break;
                    case "@nest":
                      if (u.Util.isPotentialKeyword(c2) && c2 !== "@nest")
                        throw new a.ErrorCoded(`Found an invalid term @nest value in: '${r2}': '${JSON.stringify(n2)}'`, a.ERROR_CODES.INVALID_NEST_VALUE);
                  }
              }
              break;
            default:
              throw new a.ErrorCoded(`Found an invalid term value: '${r2}': '${n2}'`, a.ERROR_CODES.INVALID_TERM_DEFINITION);
          }
      }
    }
    applyBaseEntry(e2, t3, r2) {
      return typeof e2 == "string" || (r2 && !("@base" in e2) && t3.parentContext && "@base" in t3.parentContext && (e2["@base"] = t3.parentContext["@base"], t3.parentContext["@__baseDocument"] && (e2["@__baseDocument"] = true)), t3.baseIRI && !t3.external && ("@base" in e2 ? e2["@base"] === null || typeof e2["@base"] != "string" || u.Util.isValidIri(e2["@base"]) || (e2["@base"] = i.resolve(e2["@base"], t3.parentContext && t3.parentContext["@base"] || t3.baseIRI)) : (e2["@base"] = t3.baseIRI, e2["@__baseDocument"] = true))), e2;
    }
    normalizeContextIri(e2, t3) {
      if (!u.Util.isValidIri(e2) && (e2 = i.resolve(e2, t3), !u.Util.isValidIri(e2)))
        throw new Error("Invalid context IRI: " + e2);
      return this.redirectSchemaOrgHttps && e2.startsWith("http://schema.org") && (e2 = "https://schema.org/"), e2;
    }
    parseInnerContexts(e2, t3) {
      return n(this, void 0, void 0, function* () {
        for (const r2 of Object.keys(e2)) {
          const n2 = e2[r2];
          if (n2 && typeof n2 == "object" && "@context" in n2 && n2["@context"] !== null) {
            if (this.validateContext)
              try {
                const i2 = Object.assign({}, e2);
                i2[r2] = Object.assign({}, i2[r2]), delete i2[r2]["@context"], yield this.parse(n2["@context"], Object.assign(Object.assign({}, t3), {
                  parentContext: i2,
                  ignoreProtection: true,
                  ignoreRemoteScopedContexts: true
                }));
              } catch (e3) {
                throw new a.ErrorCoded(e3.message, a.ERROR_CODES.INVALID_SCOPED_CONTEXT);
              }
            n2["@context"] = (yield this.parse(n2["@context"], Object.assign(Object.assign({}, t3), {
              minimalProcessing: true,
              ignoreRemoteScopedContexts: true,
              parentContext: e2
            }))).getContextRaw();
          }
        }
        return e2;
      });
    }
    parse(e2, r2 = {
      processingMode: l.DEFAULT_PROCESSING_MODE
    }) {
      return n(this, void 0, void 0, function* () {
        const {
          baseIRI: n2,
          parentContext: i2,
          external: s2,
          processingMode: c2,
          normalizeLanguageTags: h,
          ignoreProtection: d,
          minimalProcessing: p
        } = r2;
        let f = i2;
        const g = r2.remoteContexts || {};
        if (Object.keys(g).length >= this.remoteContextsDepthLimit)
          throw new a.ErrorCoded("Detected an overflow in remote context inclusions: " + Object.keys(g), a.ERROR_CODES.CONTEXT_OVERFLOW);
        if (e2 == null) {
          if (!d && f && u.Util.hasProtectedTerms(f))
            throw new a.ErrorCoded("Illegal context nullification when terms are protected", a.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);
          return new o.JsonLdContextNormalized(this.applyBaseEntry({}, r2, false));
        }
        if (typeof e2 == "string") {
          const t3 = this.normalizeContextIri(e2, n2), i3 = this.getOverriddenLoad(t3, r2);
          if (i3)
            return new o.JsonLdContextNormalized(i3);
          const a2 = yield this.parse(yield this.load(t3), Object.assign(Object.assign({}, r2), {
            baseIRI: t3,
            external: true,
            remoteContexts: Object.assign(Object.assign({}, g), {
              [t3]: true
            })
          }));
          return this.applyBaseEntry(a2.getContextRaw(), r2, true), a2;
        }
        if (Array.isArray(e2)) {
          const t3 = [], i3 = yield Promise.all(e2.map((e3, i4) => {
            if (typeof e3 == "string") {
              const a3 = this.normalizeContextIri(e3, n2);
              t3[i4] = a3;
              const s3 = this.getOverriddenLoad(a3, r2);
              return s3 || this.load(a3);
            }
            return e3;
          }));
          if (p)
            return new o.JsonLdContextNormalized(i3);
          const a2 = yield i3.reduce((e3, n3, i4) => e3.then((e4) => this.parse(n3, Object.assign(Object.assign({}, r2), {
            baseIRI: t3[i4] || r2.baseIRI,
            external: !!t3[i4] || r2.external,
            parentContext: e4.getContextRaw(),
            remoteContexts: t3[i4] ? Object.assign(Object.assign({}, g), {
              [t3[i4]]: true
            }) : g
          }))), Promise.resolve(new o.JsonLdContextNormalized(f || {})));
          return this.applyBaseEntry(a2.getContextRaw(), r2, true), a2;
        }
        if (typeof e2 == "object") {
          if ("@context" in e2)
            return yield this.parse(e2["@context"], r2);
          e2 = JSON.parse(JSON.stringify(e2)), f && (f = JSON.parse(JSON.stringify(f)));
          let i3 = {};
          if (s2 && delete e2["@base"], this.applyBaseEntry(e2, r2, true), this.containersToHash(e2), p)
            return new o.JsonLdContextNormalized(e2);
          let u2 = {};
          if ("@import" in e2) {
            if (!(c2 && c2 >= 1.1))
              throw new a.ErrorCoded("Context importing is not supported in JSON-LD 1.0", a.ERROR_CODES.INVALID_CONTEXT_ENTRY);
            if (typeof e2["@import"] != "string")
              throw new a.ErrorCoded("An @import value must be a string, but got " + typeof e2["@import"], a.ERROR_CODES.INVALID_IMPORT_VALUE);
            u2 = yield this.loadImportContext(this.normalizeContextIri(e2["@import"], n2)), delete e2["@import"];
          }
          i3 = Object.assign(Object.assign(Object.assign(Object.assign({}, i3), f), u2), e2);
          const g2 = new o.JsonLdContextNormalized(i3);
          return yield this.parseInnerContexts(i3, r2), !d && f && c2 && c2 >= 1.1 && this.validateKeywordRedefinitions(f, i3, t2.defaultExpandOptions), (i3 && i3["@version"] || c2 || l.DEFAULT_PROCESSING_MODE) >= 1.1 && (e2["@vocab"] && typeof e2["@vocab"] == "string" || e2["@vocab"] === "") && e2["@vocab"].indexOf(":") < 0 && f && "@vocab" in f && (i3["@vocab"] = f["@vocab"] + e2["@vocab"]), this.idifyReverseTerms(i3), this.expandPrefixedTerms(g2, this.expandContentTypeToBase), this.normalize(i3, {
            processingMode: c2,
            normalizeLanguageTags: h
          }), this.applyScopedProtected(i3, {
            processingMode: c2
          }), this.validateContext && this.validate(i3, {
            processingMode: c2
          }), g2;
        }
        throw new a.ErrorCoded("Tried parsing a context that is not a string, array or object, but got " + e2, a.ERROR_CODES.INVALID_LOCAL_CONTEXT);
      });
    }
    load(e2) {
      return n(this, void 0, void 0, function* () {
        const t3 = this.documentCache[e2];
        if (t3)
          return typeof t3 == "string" ? t3 : Array.isArray(t3) ? t3.slice() : Object.assign({}, t3);
        let r2;
        try {
          r2 = yield this.documentLoader.load(e2);
        } catch (t4) {
          throw new a.ErrorCoded(`Failed to load remote context ${e2}: ${t4.message}`, a.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED);
        }
        if (!("@context" in r2))
          throw new a.ErrorCoded("Missing @context in remote context at " + e2, a.ERROR_CODES.INVALID_REMOTE_CONTEXT);
        return this.documentCache[e2] = r2["@context"];
      });
    }
    getOverriddenLoad(e2, t3) {
      if (e2 in (t3.remoteContexts || {})) {
        if (t3.ignoreRemoteScopedContexts)
          return e2;
        throw new a.ErrorCoded("Detected a cyclic context inclusion of " + e2, a.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION);
      }
      return null;
    }
    loadImportContext(e2) {
      return n(this, void 0, void 0, function* () {
        const t3 = yield this.load(e2);
        if (typeof t3 != "object" || Array.isArray(t3))
          throw new a.ErrorCoded("An imported context must be a single object: " + e2, a.ERROR_CODES.INVALID_REMOTE_CONTEXT);
        if ("@import" in t3)
          throw new a.ErrorCoded("An imported context can not import another context: " + e2, a.ERROR_CODES.INVALID_CONTEXT_ENTRY);
        return t3;
      });
    }
  }
  t2.ContextParser = l, l.DEFAULT_PROCESSING_MODE = 1.1, t2.defaultExpandOptions = {
    allowPrefixForcing: true,
    allowPrefixNonGenDelims: false,
    allowVocabRelativeToBase: true
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__awaiter || function(e2, t3, r2, n2) {
    return new (r2 || (r2 = Promise))(function(i2, a2) {
      function s2(e3) {
        try {
          u(n2.next(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function o(e3) {
        try {
          u(n2.throw(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function u(e3) {
        var t4;
        e3.done ? i2(e3.value) : (t4 = e3.value, t4 instanceof r2 ? t4 : new r2(function(e4) {
          e4(t4);
        })).then(s2, o);
      }
      u((n2 = n2.apply(e2, t3 || [])).next());
    });
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.FetchDocumentLoader = void 0, r(45);
  const i = r(47), a = r(151), s = r(13);
  t2.FetchDocumentLoader = class {
    constructor(e2) {
      this.fetcher = e2;
    }
    load(e2) {
      return n(this, void 0, void 0, function* () {
        const t3 = yield (this.fetcher || fetch)(e2, {
          headers: new Headers({
            accept: "application/ld+json"
          })
        });
        if (t3.ok && t3.headers) {
          let r2 = t3.headers.get("Content-Type");
          if (r2) {
            const e3 = r2.indexOf(";");
            e3 > 0 && (r2 = r2.substr(0, e3));
          }
          if (r2 === "application/ld+json")
            return yield t3.json();
          if (t3.headers.has("Link")) {
            let r3;
            if (t3.headers.forEach((t4, n2) => {
              if (n2 === "link") {
                const n3 = a.parse(t4);
                for (const t5 of n3.get("type", "application/ld+json"))
                  if (t5.rel === "alternate") {
                    if (r3)
                      throw new Error("Multiple JSON-LD alternate links were found on " + e2);
                    r3 = s.resolve(t5.uri, e2);
                  }
              }
            }), r3)
              return this.load(r3);
          }
          throw new i.ErrorCoded("Unsupported JSON-LD media type " + r2, i.ERROR_CODES.LOADING_DOCUMENT_FAILED);
        }
        throw new Error(t3.statusText || "Status code: " + t3.status);
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    var r2 = /^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i, n = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, i = /\s|\uFEFF|\xA0/, a = /\r?\n[\x20\x09]+/g, s = /[;,"]/, o = /[;,"]|\s/, u = /^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/, c = 1, l = 2, h = 4;
    function d(e2) {
      return e2.replace(n, "");
    }
    function p(e2) {
      return i.test(e2);
    }
    function f(e2, t4) {
      for (; p(e2[t4]); )
        t4++;
      return t4;
    }
    function g(e2) {
      return o.test(e2) || !u.test(e2);
    }
    class m {
      constructor(e2) {
        this.refs = [], e2 && this.parse(e2);
      }
      rel(e2) {
        for (var t4 = [], r3 = e2.toLowerCase(), n2 = 0; n2 < this.refs.length; n2++)
          this.refs[n2].rel.toLowerCase() === r3 && t4.push(this.refs[n2]);
        return t4;
      }
      get(e2, t4) {
        e2 = e2.toLowerCase();
        for (var r3 = [], n2 = 0; n2 < this.refs.length; n2++)
          this.refs[n2][e2] === t4 && r3.push(this.refs[n2]);
        return r3;
      }
      set(e2) {
        return this.refs.push(e2), this;
      }
      has(e2, t4) {
        e2 = e2.toLowerCase();
        for (var r3 = 0; r3 < this.refs.length; r3++)
          if (this.refs[r3][e2] === t4)
            return true;
        return false;
      }
      parse(e2, t4) {
        e2 = d(e2 = (t4 = t4 || 0) ? e2.slice(t4) : e2).replace(a, "");
        for (var r3 = c, n2 = e2.length, i2 = (t4 = 0, null); t4 < n2; )
          if (r3 === c) {
            if (p(e2[t4])) {
              t4++;
              continue;
            }
            if (e2[t4] !== "<")
              throw new Error('Unexpected character "' + e2[t4] + '" at offset ' + t4);
            if (i2 != null && (i2.rel != null ? this.refs.push(...m.expandRelations(i2)) : this.refs.push(i2)), (g2 = e2.indexOf(">", t4)) === -1)
              throw new Error("Expected end of URI delimiter at offset " + t4);
            i2 = {
              uri: e2.slice(t4 + 1, g2)
            }, t4 = g2, r3 = l, t4++;
          } else if (r3 === l) {
            if (p(e2[t4])) {
              t4++;
              continue;
            }
            if (e2[t4] === ";")
              r3 = h, t4++;
            else {
              if (e2[t4] !== ",")
                throw new Error('Unexpected character "' + e2[t4] + '" at offset ' + t4);
              r3 = c, t4++;
            }
          } else {
            if (r3 !== h)
              throw new Error('Unknown parser state "' + r3 + '"');
            if (e2[t4] === ";" || p(e2[t4])) {
              t4++;
              continue;
            }
            if ((g2 = e2.indexOf("=", t4)) === -1)
              throw new Error("Expected attribute delimiter at offset " + t4);
            var o2 = d(e2.slice(t4, g2)).toLowerCase(), u2 = "";
            if (e2[t4 = f(e2, t4 = g2 + 1)] === '"')
              for (t4++; t4 < n2; ) {
                if (e2[t4] === '"') {
                  t4++;
                  break;
                }
                e2[t4] === "\\" && t4++, u2 += e2[t4], t4++;
              }
            else {
              for (var g2 = t4 + 1; !s.test(e2[g2]) && g2 < n2; )
                g2++;
              u2 = e2.slice(t4, g2), t4 = g2;
            }
            switch (i2[o2] && m.isSingleOccurenceAttr(o2) || (o2[o2.length - 1] === "*" ? i2[o2] = m.parseExtendedValue(u2) : (u2 = o2 === "type" ? u2.toLowerCase() : u2, i2[o2] != null ? Array.isArray(i2[o2]) ? i2[o2].push(u2) : i2[o2] = [i2[o2], u2] : i2[o2] = u2)), e2[t4]) {
              case ",":
                r3 = c;
                break;
              case ";":
                r3 = h;
            }
            t4++;
          }
        return i2 != null && (i2.rel != null ? this.refs.push(...m.expandRelations(i2)) : this.refs.push(i2)), i2 = null, this;
      }
      toString() {
        for (var e2 = [], t4 = "", r3 = null, n2 = 0; n2 < this.refs.length; n2++)
          r3 = this.refs[n2], t4 = Object.keys(this.refs[n2]).reduce(function(e3, t5) {
            return t5 === "uri" ? e3 : e3 + "; " + m.formatAttribute(t5, r3[t5]);
          }, "<" + r3.uri + ">"), e2.push(t4);
        return e2.join(", ");
      }
    }
    m.isCompatibleEncoding = function(e2) {
      return r2.test(e2);
    }, m.parse = function(e2, t4) {
      return new m().parse(e2, t4);
    }, m.isSingleOccurenceAttr = function(e2) {
      return e2 === "rel" || e2 === "type" || e2 === "media" || e2 === "title" || e2 === "title*";
    }, m.isTokenAttr = function(e2) {
      return e2 === "rel" || e2 === "type" || e2 === "anchor";
    }, m.escapeQuotes = function(e2) {
      return e2.replace(/"/g, '\\"');
    }, m.expandRelations = function(e2) {
      return e2.rel.split(" ").map(function(t4) {
        var r3 = Object.assign({}, e2);
        return r3.rel = t4, r3;
      });
    }, m.parseExtendedValue = function(e2) {
      var t4 = /([^']+)?(?:'([^']+)')?(.+)/.exec(e2);
      return {
        language: t4[2].toLowerCase(),
        encoding: m.isCompatibleEncoding(t4[1]) ? null : t4[1].toLowerCase(),
        value: m.isCompatibleEncoding(t4[1]) ? decodeURIComponent(t4[3]) : t4[3]
      };
    }, m.formatExtendedAttribute = function(e2, r3) {
      var n2 = (r3.encoding || "utf-8").toUpperCase();
      return e2 + "=" + n2 + "'" + (r3.language || "en") + "'" + (t3.isBuffer(r3.value) && m.isCompatibleEncoding(n2) ? r3.value.toString(n2) : t3.isBuffer(r3.value) ? r3.value.toString("hex").replace(/[0-9a-f]{2}/gi, "%$1") : encodeURIComponent(r3.value));
    }, m.formatAttribute = function(e2, t4) {
      return Array.isArray(t4) ? t4.map((t5) => m.formatAttribute(e2, t5)).join("; ") : e2[e2.length - 1] === "*" || typeof t4 != "string" ? m.formatExtendedAttribute(e2, t4) : (m.isTokenAttr(e2) ? t4 = g(t4) ? '"' + m.escapeQuotes(t4) + '"' : m.escapeQuotes(t4) : g(t4) && (t4 = '"' + (t4 = (t4 = encodeURIComponent(t4)).replace(/%20/g, " ").replace(/%2C/g, ",").replace(/%3B/g, ";")) + '"'), e2 + "=" + t4);
    }, e.exports = m;
  }).call(this, r(11).Buffer);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.JsonLdContextNormalized = void 0;
  const n = r(13), i = r(149), a = r(47), s = r(83);
  t2.JsonLdContextNormalized = class {
    constructor(e2) {
      this.contextRaw = e2;
    }
    getContextRaw() {
      return this.contextRaw;
    }
    expandTerm(e2, t3, r2 = i.defaultExpandOptions) {
      const o = this.contextRaw[e2];
      if (o === null || o && o["@id"] === null)
        return null;
      let u = true;
      if (o && t3) {
        const t4 = s.Util.getContextValueId(o);
        if (t4 && t4 !== e2) {
          if (typeof t4 == "string" && (s.Util.isValidIri(t4) || s.Util.isValidKeyword(t4)))
            return t4;
          s.Util.isPotentialKeyword(t4) || (u = false);
        }
      }
      const c = s.Util.getPrefix(e2, this.contextRaw), l = this.contextRaw["@vocab"], h = (!!l || l === "") && l.indexOf(":") < 0, d = this.contextRaw["@base"], p = s.Util.isPotentialKeyword(e2);
      if (c) {
        const t4 = this.contextRaw[c], n2 = s.Util.getContextValueId(t4);
        if (n2) {
          if (typeof t4 != "string" && r2.allowPrefixForcing) {
            if (n2[0] !== "_" && !p && !t4["@prefix"] && !(e2 in this.contextRaw))
              return e2;
          } else if (!s.Util.isSimpleTermDefinitionPrefix(n2, r2))
            return e2;
          return n2 + e2.substr(c.length + 1);
        }
      } else {
        if (t3 && (l || l === "" || r2.allowVocabRelativeToBase && d && h) && !p && !s.Util.isCompactIri(e2)) {
          if (h) {
            if (r2.allowVocabRelativeToBase)
              return n.resolve(l, d) + e2;
            throw new a.ErrorCoded(`Relative vocab expansion for term '${e2}' with vocab '${l}' is not allowed.`, a.ERROR_CODES.INVALID_VOCAB_MAPPING);
          }
          return l + e2;
        }
        if (!t3 && d && !p && !s.Util.isCompactIri(e2))
          return n.resolve(e2, d);
      }
      if (u)
        return e2;
      throw new a.ErrorCoded(`Invalid IRI mapping found for context entry '${e2}': '${JSON.stringify(o)}'`, a.ERROR_CODES.INVALID_IRI_MAPPING);
    }
    compactIri(e2, t3) {
      if (t3 && this.contextRaw["@vocab"] && e2.startsWith(this.contextRaw["@vocab"]))
        return e2.substr(this.contextRaw["@vocab"].length);
      if (!t3 && this.contextRaw["@base"] && e2.startsWith(this.contextRaw["@base"]))
        return e2.substr(this.contextRaw["@base"].length);
      const r2 = {
        prefix: "",
        suffix: e2
      };
      for (const n2 in this.contextRaw) {
        const i2 = this.contextRaw[n2];
        if (i2 && !s.Util.isPotentialKeyword(n2)) {
          const a2 = s.Util.getContextValueId(i2);
          if (e2.startsWith(a2)) {
            const i3 = e2.substr(a2.length);
            if (i3)
              i3.length < r2.suffix.length && (r2.prefix = n2, r2.suffix = i3);
            else if (t3)
              return n2;
          }
        }
      }
      return r2.prefix ? r2.prefix + ":" + r2.suffix : e2;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  const n = r(9);
  class i {
    static termToValue(e2, t3, r2 = {
      compactIds: false,
      useNativeTypes: false
    }) {
      switch (e2.termType) {
        case "NamedNode":
          const a = t3.compactIri(e2.value, r2.vocab);
          return r2.compactIds ? a : {
            "@id": a
          };
        case "DefaultGraph":
          return r2.compactIds ? e2.value : {
            "@id": e2.value
          };
        case "BlankNode":
          const s = "_:" + e2.value;
          return r2.compactIds ? s : {
            "@id": s
          };
        case "Literal":
          if (e2.datatype.value === i.RDF_JSON) {
            let t4;
            try {
              t4 = JSON.parse(e2.value);
            } catch (e3) {
              throw new n.ErrorCoded("Invalid JSON literal: " + e3.message, n.ERROR_CODES.INVALID_JSON_LITERAL);
            }
            return {
              "@value": t4,
              "@type": "@json"
            };
          }
          if (r2.rdfDirection === "i18n-datatype" && e2.datatype.value.startsWith(i.I18N)) {
            const [t4, r3] = e2.datatype.value.substr(i.I18N.length, e2.datatype.value.length).split("_");
            return Object.assign(Object.assign({
              "@value": e2.value
            }, t4 ? {
              "@language": t4
            } : {}), r3 ? {
              "@direction": r3
            } : {});
          }
          const o = e2.datatype.value === i.XSD_STRING, u = {
            "@value": !o && r2.useNativeTypes ? i.stringToNativeType(e2.value, e2.datatype.value) : e2.value
          };
          return e2.language ? Object.assign(Object.assign({}, u), {
            "@language": e2.language
          }) : o || typeof u["@value"] != "string" ? u : Object.assign(Object.assign({}, u), {
            "@type": e2.datatype.value
          });
      }
    }
    static stringToNativeType(e2, t3) {
      if (t3.startsWith(i.XSD)) {
        switch (t3.substr(i.XSD.length)) {
          case "boolean":
            if (e2 === "true")
              return true;
            if (e2 === "false")
              return false;
            throw new Error(`Invalid xsd:boolean value '${e2}'`);
          case "integer":
          case "number":
          case "int":
          case "byte":
          case "long":
            const t4 = parseInt(e2, 10);
            if (isNaN(t4))
              throw new Error(`Invalid xsd:integer value '${e2}'`);
            return t4;
          case "float":
          case "double":
            const r2 = parseFloat(e2);
            if (isNaN(r2))
              throw new Error(`Invalid xsd:float value '${e2}'`);
            return r2;
        }
      }
      return e2;
    }
  }
  t2.Util = i, i.XSD = "http://www.w3.org/2001/XMLSchema#", i.XSD_STRING = i.XSD + "string", i.RDF = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", i.RDF_TYPE = i.RDF + "type", i.RDF_JSON = i.RDF + "JSON", i.I18N = "https://www.w3.org/ns/i18n#";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(336), t2), i(r(337), t2), i(r(155), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RdfJsQuadSource = void 0;
  const n = r(3);
  class i {
    constructor(e2) {
      this.source = e2;
    }
    static nullifyVariables(e2) {
      return e2 && e2.termType !== "Variable" ? e2 : void 0;
    }
    match(e2, t3, r2, a) {
      const s = this.source.match(i.nullifyVariables(e2), i.nullifyVariables(t3), i.nullifyVariables(r2), i.nullifyVariables(a)), o = n.wrap(s, {
        autoStart: false
      });
      return this.setMetadata(o, e2, t3, r2, a).catch((e3) => o.destroy(e3)), o;
    }
    setMetadata(e2, t3, r2, n2, a) {
      return __async(this, null, function* () {
        let s;
        if (this.source.countQuads)
          s = yield this.source.countQuads(i.nullifyVariables(t3), i.nullifyVariables(r2), i.nullifyVariables(n2), i.nullifyVariables(a));
        else {
          let e3 = 0;
          s = yield new Promise((s2, o) => {
            const u = this.source.match(i.nullifyVariables(t3), i.nullifyVariables(r2), i.nullifyVariables(n2), i.nullifyVariables(a));
            u.on("error", o), u.on("end", () => s2(e3)), u.on("data", () => e3++);
          });
        }
        e2.setProperty("metadata", {
          totalItems: s
        });
      });
    }
  }
  t2.RdfJsQuadSource = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(157), t2), i(r(340), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadata = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorRdfMetadata = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataExtract = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorRdfMetadataExtract = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(160), t2), i(r(369), t2), i(r(48), t2), i(r(370), t2), i(r(162), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(161), t2), i(r(353), t2), i(r(62), t2), i(r(86), t2), i(r(363), t2), i(r(364), t2), i(r(365), t2), i(r(63), t2), i(r(366), t2), i(r(367), t2), i(r(368), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(38), t2), i(r(348), t2), i(r(349), t2), i(r(350), t2), i(r(351), t2), i(r(352), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Util = void 0;
  const n = r(5), i = r(9), a = r(6);
  t2.Util = class {
    constructor(e2) {
      this.nodeHandlers = {}, this.nodeValueHandlers = {}, this.directiveNodeHandlers = {}, this.settings = e2, this.dataFactory = e2.dataFactory || new n.DataFactory(), this.operationFactory = new a.Factory(this.dataFactory), this.contextParser = new i.ContextParser();
    }
    registerNodeHandler(e2) {
      this.nodeHandlers[e2.targetKind] = e2;
    }
    registerNodeValueHandler(e2) {
      this.nodeValueHandlers[e2.targetKind] = e2;
    }
    registerDirectiveNodeHandler(e2) {
      this.directiveNodeHandlers[e2.targetKind] = e2;
    }
    handleNode(e2, t3) {
      const r2 = this.nodeHandlers[e2.kind];
      if (!r2)
        throw new Error(`Unsupported GraphQL node '${e2.kind}'`);
      return r2.handle(e2, t3);
    }
    handleNodeValue(e2, t3, r2) {
      const n2 = this.nodeValueHandlers[e2.kind];
      if (!n2)
        throw new Error(`Unsupported GraphQL value node '${e2.kind}'`);
      return n2.handle(e2, t3, r2);
    }
    handleDirectiveNode(e2, t3) {
      const r2 = this.directiveNodeHandlers[e2.directive.name.value];
      return r2 ? r2.handle(e2, t3) : null;
    }
    joinOperations(e2) {
      if (e2.length === 1)
        return e2[0];
      const t3 = [], r2 = [];
      for (const n2 of e2)
        n2.type === "bgp" ? t3.push(n2) : r2.push(n2);
      if (t3.length === e2.length)
        return this.joinOperationsAsBgp(t3);
      if (t3.length === e2.length - 1 && r2[0].type === "leftjoin" && r2[0].left.type === "bgp") {
        const e3 = r2[0];
        return t3.push(e3.left), this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(t3), e3.right);
      }
      return r2.length === e2.length ? this.joinOperationsAsNestedJoin(r2) : this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(t3), this.joinOperationsAsNestedJoin(r2)]);
    }
    joinOperationsAsBgp(e2) {
      return this.operationFactory.createBgp([].concat.apply([], e2.map((e3) => e3.patterns)));
    }
    joinOperationsAsNestedJoin(e2) {
      return e2.reverse().reduce((e3, t3) => e3 ? this.operationFactory.createJoin(t3, e3) : t3, null);
    }
    appendFieldToPath(e2, t3) {
      return e2.concat([t3]);
    }
    getFieldLabel(e2) {
      return (e2.alias ? e2.alias : e2.name).value;
    }
    nameToVariable(e2, t3) {
      return this.dataFactory.variable((t3.path.length ? t3.path.join(this.settings.variableDelimiter) + this.settings.variableDelimiter : "") + e2);
    }
    valueToNamedNode(e2, t3) {
      const r2 = t3.expandTerm(e2, true);
      if (this.settings.requireContext && !r2)
        throw new Error("No context entry was found for " + e2);
      return this.dataFactory.namedNode(r2 || e2);
    }
    getArgument(e2, t3) {
      if (e2) {
        for (const r2 of e2)
          if (r2.name.value === t3)
            return r2;
      }
      return null;
    }
    newTypePattern(e2, t3, r2) {
      return this.operationFactory.createPattern(e2, this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"), this.valueToNamedNode(t3.name.value, r2.context), r2.graph);
    }
    createQuadPattern(e2, t3, r2, n2, i2) {
      const a2 = this.valueToNamedNode(t3.value, i2);
      return i2 && i2.getContextRaw()[t3.value] && i2.getContextRaw()[t3.value]["@reverse"] ? this.operationFactory.createPattern(r2, a2, e2, n2) : this.operationFactory.createPattern(e2, a2, r2, n2);
    }
    createQuadPath(e2, t3, r2, n2, i2, a2) {
      const s = this.valueToNamedNode(t3.value, a2);
      let o = this.operationFactory.createLink(s);
      for (const e3 of r2.values) {
        if (e3.kind !== "EnumValue")
          throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got " + e3.kind);
        o = this.operationFactory.createAlt(o, this.operationFactory.createLink(this.valueToNamedNode(e3.value, a2)));
      }
      return a2 && a2.getContextRaw()[t3.value] && a2.getContextRaw()[t3.value]["@reverse"] ? this.operationFactory.createPath(n2, o, e2, i2) : this.operationFactory.createPath(e2, o, n2, i2);
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.storeStream = void 0;
  const n = r(41);
  t2.storeStream = function(e2) {
    const t3 = new n.Store();
    return new Promise((r2) => t3.import(e2).once("end", () => r2(t3)));
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.GraphQlQueryEngine = void 0;
  const n = r(165);
  t2.GraphQlQueryEngine = class {
    constructor(e2) {
      this.comunicaEngine = e2;
    }
    query(e2, t3) {
      return __async(this, null, function* () {
        const {
          data: r2
        } = yield this.comunicaEngine.resultToString(yield this.comunicaEngine.query(e2, t3), "application/sparql-results+json");
        return JSON.parse(yield n(r2));
      });
    }
  };
}, function(e, t2, r) {
  var n = r(372);
  e.exports = function(e2, t3, r2) {
    typeof t3 == "function" && (r2 = t3, t3 = null), r2 = r2 || function() {
    };
    var i = "";
    return new n(function(n2, a) {
      e2.on("data", function(e3) {
        i += typeof t3 == "string" ? e3.toString(t3) : e3.toString();
      }), e2.on("end", function() {
        n2(i), r2(null, i);
      }), e2.on("error", function(e3) {
        a(e3), r2(e3);
      });
    });
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorHttpInvalidate = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorHttpInvalidate = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(389), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(396), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.JsonLdParser = void 0;
  const n = r(123), i = r(9), a = r(2), s = r(427), o = r(170), u = r(432), c = r(64), l = r(433), h = r(434), d = r(435), p = r(436), f = r(437), g = r(438), m = r(439), y = r(440), b = r(441), _ = r(27), v = r(151);
  class w extends a.Transform {
    constructor(e2) {
      super({
        readableObjectMode: true
      }), e2 = e2 || {}, this.options = e2, this.parsingContext = new b.ParsingContext(Object.assign({
        parser: this
      }, e2)), this.util = new _.Util({
        dataFactory: e2.dataFactory,
        parsingContext: this.parsingContext
      }), this.jsonParser = new n(), this.contextJobs = [], this.typeJobs = [], this.contextAwaitingJobs = [], this.lastDepth = 0, this.lastKeys = [], this.lastOnValueJob = Promise.resolve(), this.attachJsonParserListeners();
    }
    static fromHttpResponse(e2, t3, r2, n2) {
      let a2, s2;
      if (t3 !== "application/ld+json") {
        if (t3 !== "application/json" && !t3.endsWith("+json"))
          throw new i.ErrorCoded("Unsupported JSON-LD media type " + t3, i.ERROR_CODES.LOADING_DOCUMENT_FAILED);
        if (r2 && r2.has("Link") && r2.forEach((t4, r3) => {
          if (r3 === "link") {
            const r4 = v.parse(t4);
            for (const t5 of r4.get("rel", "http://www.w3.org/ns/json-ld#context")) {
              if (a2)
                throw new i.ErrorCoded("Multiple JSON-LD context link headers were found on " + e2, i.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);
              a2 = t5.uri;
            }
          }
        }), !a2)
          throw new i.ErrorCoded(`Missing context link header for media type ${t3} on ${e2}`, i.ERROR_CODES.LOADING_DOCUMENT_FAILED);
      }
      if (r2 && r2.has("Content-Type")) {
        const e3 = r2.get("Content-Type"), t4 = /; *profile=([^"]*)/.exec(e3);
        t4 && t4[1] === "http://www.w3.org/ns/json-ld#streaming" && (s2 = true);
      }
      return new w(Object.assign({
        baseIRI: e2,
        context: a2,
        streamingProfile: s2
      }, n2 || {}));
    }
    import(e2) {
      const t3 = new a.PassThrough({
        readableObjectMode: true
      });
      e2.on("error", (e3) => r2.emit("error", e3)), e2.on("data", (e3) => t3.push(e3)), e2.on("end", () => t3.push(null));
      const r2 = t3.pipe(new w(this.options));
      return r2;
    }
    _transform(e2, t3, r2) {
      this.jsonParser.write(e2), this.lastOnValueJob.then(() => r2(), (e3) => r2(e3));
    }
    newOnValueJob(e2, t3, r2, n2) {
      return __async(this, null, function* () {
        let a2 = true;
        if (n2 && r2 < this.lastDepth) {
          const e3 = this.parsingContext.listPointerStack[this.lastDepth];
          e3 && (e3.value && this.emit("data", this.util.dataFactory.quad(e3.value, this.util.rdfRest, this.util.rdfNil, this.util.getDefaultGraph())), e3.listId.listHead = true, this.parsingContext.idStack[e3.listRootDepth + 1] = [e3.listId], this.parsingContext.listPointerStack.splice(this.lastDepth, 1)), (yield o.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext, this.lastKeys, this.lastDepth)) ? (this.parsingContext.pendingContainerFlushBuffers.push({
            depth: this.lastDepth,
            keys: this.lastKeys.slice(0, this.lastKeys.length)
          }), a2 = false) : yield this.flushBuffer(this.lastDepth, this.lastKeys);
        }
        const s2 = yield this.util.unaliasKeyword(e2[r2], e2, r2), u2 = yield this.util.unaliasKeywordParent(e2, r2);
        this.parsingContext.emittedStack[r2] = true;
        let c2 = true;
        i.Util.isValidKeyword(s2) && u2 === "@reverse" && this.emit("error", new i.ErrorCoded(`Found the @id '${t3}' inside an @reverse property`, i.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));
        let l2 = false;
        this.parsingContext.validationStack.length > 1 && (l2 = this.parsingContext.validationStack[this.parsingContext.validationStack.length - 1].property);
        for (let t4 = Math.max(1, this.parsingContext.validationStack.length - 1); t4 < e2.length - 1; t4++) {
          const n3 = this.parsingContext.validationStack[t4] || (this.parsingContext.validationStack[t4] = yield this.validateKey(e2.slice(0, t4 + 1), t4, l2));
          if (!n3.valid) {
            this.parsingContext.emittedStack[r2] = false, c2 = false;
            break;
          }
          !l2 && n3.property && (l2 = true);
        }
        if (this.util.isLiteral(r2) && (c2 = false), c2)
          for (const n3 of w.ENTRY_HANDLERS) {
            const i2 = yield n3.test(this.parsingContext, this.util, s2, e2, r2);
            if (i2) {
              yield n3.handle(this.parsingContext, this.util, s2, e2, t3, r2, i2), n3.isStackProcessor() && (this.parsingContext.processingStack[r2] = true);
              break;
            }
          }
        r2 === 0 && Array.isArray(t3) && (yield this.util.validateValueIndexes(t3)), a2 && r2 < this.lastDepth && this.flushStacks(this.lastDepth), this.lastDepth = r2, this.lastKeys = e2, this.parsingContext.unaliasedKeywordCacheStack.splice(r2 - 1);
      });
    }
    flushStacks(e2) {
      this.parsingContext.processingStack.splice(e2, 1), this.parsingContext.processingType.splice(e2, 1), this.parsingContext.emittedStack.splice(e2, 1), this.parsingContext.idStack.splice(e2, 1), this.parsingContext.graphStack.splice(e2 + 1, 1), this.parsingContext.graphContainerTermStack.splice(e2, 1), this.parsingContext.jsonLiteralStack.splice(e2, 1), this.parsingContext.validationStack.splice(e2 - 1, 2), this.parsingContext.literalStack.splice(e2, this.parsingContext.literalStack.length - e2);
    }
    flushBuffer(e2, t3) {
      return __async(this, null, function* () {
        let r2 = this.parsingContext.idStack[e2];
        r2 || (r2 = this.parsingContext.idStack[e2] = [this.util.dataFactory.blankNode()]);
        const n2 = this.parsingContext.unidentifiedValuesBuffer[e2];
        if (n2) {
          for (const i3 of r2) {
            const r3 = yield this.util.getDepthOffsetGraph(e2, t3), a2 = this.parsingContext.graphStack[e2] || r3 >= 0 ? this.parsingContext.idStack[e2 - r3 - 1] : [yield this.util.getGraphContainerValue(t3, e2)];
            if (a2)
              for (const t4 of a2) {
                this.parsingContext.emittedStack[e2] = true;
                for (const r4 of n2)
                  r4.reverse ? this.parsingContext.emitQuad(e2, this.util.dataFactory.quad(r4.object, r4.predicate, i3, t4)) : this.parsingContext.emitQuad(e2, this.util.dataFactory.quad(i3, r4.predicate, r4.object, t4));
              }
            else {
              const r4 = this.parsingContext.getUnidentifiedGraphBufferSafe(e2 - (yield this.util.getDepthOffsetGraph(e2, t3)) - 1);
              for (const e3 of n2)
                e3.reverse ? r4.push({
                  object: i3,
                  predicate: e3.predicate,
                  subject: e3.object
                }) : r4.push({
                  object: e3.object,
                  predicate: e3.predicate,
                  subject: i3
                });
            }
          }
          this.parsingContext.unidentifiedValuesBuffer.splice(e2, 1), this.parsingContext.literalStack.splice(e2, 1), this.parsingContext.jsonLiteralStack.splice(e2, 1);
        }
        const i2 = this.parsingContext.unidentifiedGraphsBuffer[e2];
        if (i2) {
          for (const t4 of r2) {
            const r3 = e2 !== 1 || t4.termType !== "BlankNode" || this.parsingContext.topLevelProperties ? t4 : this.util.getDefaultGraph();
            this.parsingContext.emittedStack[e2] = true;
            for (const t5 of i2)
              this.parsingContext.emitQuad(e2, this.util.dataFactory.quad(t5.subject, t5.predicate, t5.object, r3));
          }
          this.parsingContext.unidentifiedGraphsBuffer.splice(e2, 1);
        }
      });
    }
    validateKey(e2, t3, r2) {
      return __async(this, null, function* () {
        for (const n2 of w.ENTRY_HANDLERS)
          if (yield n2.validate(this.parsingContext, this.util, e2, t3, r2))
            return {
              valid: true,
              property: r2 || n2.isPropertyHandler()
            };
        return {
          valid: false,
          property: false
        };
      });
    }
    attachJsonParserListeners() {
      this.jsonParser.onValue = (e2) => {
        const t3 = this.jsonParser.stack.length, r2 = new Array(t3 + 1).fill(0).map((e3, r3) => r3 === t3 ? this.jsonParser.key : this.jsonParser.stack[r3].key);
        if (!this.isParsingContextInner(t3)) {
          const n2 = () => this.newOnValueJob(r2, e2, t3, true);
          if (this.parsingContext.streamingProfile || this.parsingContext.contextTree.getContext(r2.slice(0, -1)))
            this.lastOnValueJob = this.lastOnValueJob.then(n2);
          else if (r2[t3] === "@context") {
            let e3 = this.contextJobs[t3];
            e3 || (e3 = this.contextJobs[t3] = []), e3.push(n2);
          } else
            r2[t3] === "@type" || typeof r2[t3] == "number" && r2[t3 - 1] === "@type" ? this.typeJobs.push({
              job: n2,
              keys: r2.slice(0, r2.length - 1)
            }) : this.contextAwaitingJobs.push({
              job: n2,
              keys: r2
            });
          this.parsingContext.streamingProfile || t3 !== 0 || (this.lastOnValueJob = this.lastOnValueJob.then(() => this.executeBufferedJobs()));
        }
      }, this.jsonParser.onError = (e2) => {
        this.emit("error", e2);
      };
    }
    isParsingContextInner(e2) {
      for (let t3 = e2; t3 > 0; t3--)
        if (this.jsonParser.stack[t3 - 1].key === "@context")
          return true;
      return false;
    }
    executeBufferedJobs() {
      return __async(this, null, function* () {
        for (const e2 of this.contextJobs)
          if (e2)
            for (const t3 of e2)
              yield t3();
        this.parsingContext.unaliasedKeywordCacheStack.splice(0);
        for (const e2 of this.contextAwaitingJobs) {
          if (this.typeJobs.length > 0) {
            const t3 = [], r2 = [];
            for (let n3 = 0; n3 < this.typeJobs.length; n3++) {
              const i3 = this.typeJobs[n3];
              _.Util.isPrefixArray(i3.keys, e2.keys) && (t3.push(i3), r2.push(n3));
            }
            const n2 = t3.sort((e3, t4) => e3.keys.length - t4.keys.length);
            for (const e3 of n2)
              yield e3.job();
            const i2 = r2.sort().reverse();
            for (const e3 of i2)
              this.typeJobs.splice(e3, 1);
          }
          yield e2.job();
        }
      });
    }
  }
  t2.JsonLdParser = w, w.DEFAULT_PROCESSING_MODE = "1.1", w.ENTRY_HANDLERS = [new s.EntryHandlerArrayValue(), new l.EntryHandlerKeywordContext(), new d.EntryHandlerKeywordId(), new p.EntryHandlerKeywordIncluded(), new h.EntryHandlerKeywordGraph(), new f.EntryHandlerKeywordNest(), new g.EntryHandlerKeywordType(), new y.EntryHandlerKeywordValue(), new o.EntryHandlerContainer(), new m.EntryHandlerKeywordUnknownFallback(), new c.EntryHandlerPredicate(), new u.EntryHandlerInvalidFallback()];
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerContainer = void 0;
  const n = r(428), i = r(429), a = r(430), s = r(431), o = r(27);
  class u {
    static isSimpleGraphContainer(e2) {
      return "@graph" in e2 && ("@set" in e2 && Object.keys(e2).length === 2 || Object.keys(e2).length === 1);
    }
    static isComplexGraphContainer(e2) {
      return "@graph" in e2 && ("@set" in e2 && Object.keys(e2).length > 2 || !("@set" in e2) && Object.keys(e2).length > 1);
    }
    static getContainerGraphIndex(e2, t3, r2) {
      let n2 = u.isSimpleGraphContainer(e2), i2 = "";
      for (let e3 = t3; e3 < r2.length; e3++)
        n2 && typeof r2[e3] != "number" || (i2 += ":" + r2[e3]), n2 || typeof r2[e3] == "number" || (n2 = true);
      return i2;
    }
    static getContainerHandler(e2, t3, r2) {
      return __async(this, null, function* () {
        const n2 = {
          containers: {
            "@set": true
          },
          depth: r2,
          fallback: true
        };
        let i2 = false;
        const a2 = yield e2.getContext(t3, 2);
        for (let e3 = r2 - 1; e3 >= 0; e3--)
          if (typeof t3[e3] != "number") {
            const r3 = o.Util.getContextValue(a2, "@container", t3[e3], false);
            if (r3 && u.isSimpleGraphContainer(r3))
              return {
                containers: r3,
                depth: e3 + 1,
                fallback: false
              };
            const s2 = o.Util.getContextValue(a2, "@container", t3[e3 - 1], false);
            if (s2) {
              const t4 = "@graph" in s2;
              for (const r4 in u.CONTAINER_HANDLERS)
                if (s2[r4])
                  return t4 ? u.CONTAINER_HANDLERS[r4].canCombineWithGraph() ? {
                    containers: s2,
                    depth: e3,
                    fallback: false
                  } : n2 : i2 ? n2 : {
                    containers: s2,
                    depth: e3,
                    fallback: false
                  };
              return n2;
            }
            if (i2)
              return n2;
            i2 = true;
          }
        return n2;
      });
    }
    static isBufferableContainerHandler(e2, t3, r2) {
      return __async(this, null, function* () {
        const n2 = yield u.getContainerHandler(e2, t3, r2);
        return !n2.fallback && !("@graph" in n2.containers);
      });
    }
    isPropertyHandler() {
      return false;
    }
    isStackProcessor() {
      return true;
    }
    validate(e2, t3, r2, n2, i2) {
      return __async(this, null, function* () {
        return !!(yield this.test(e2, t3, null, r2, n2));
      });
    }
    test(e2, t3, r2, n2, i2) {
      return __async(this, null, function* () {
        const a2 = o.Util.getContextValueContainer(yield e2.getContext(n2, 2), n2[i2 - 1]);
        for (const e3 in u.CONTAINER_HANDLERS)
          if (a2[e3])
            return {
              containers: a2,
              handler: u.CONTAINER_HANDLERS[e3]
            };
        return null;
      });
    }
    handle(e2, t3, r2, n2, i2, a2, s2) {
      return __async(this, null, function* () {
        return s2.handler.handle(s2.containers, e2, t3, n2, i2, a2);
      });
    }
  }
  t2.EntryHandlerContainer = u, u.CONTAINER_HANDLERS = {
    "@id": new n.ContainerHandlerIdentifier(),
    "@index": new i.ContainerHandlerIndex(),
    "@language": new a.ContainerHandlerLanguage(),
    "@type": new s.ContainerHandlerType()
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DocumentLoaderMediated = void 0;
  const n = r(36), i = r(9), a = r(165);
  class s extends i.FetchDocumentLoader {
    constructor(e2, t3) {
      super(s.createFetcher(e2, t3)), this.mediatorHttp = e2, this.context = t3;
    }
    static createFetcher(e2, t3) {
      return (r2, i2) => __async(this, null, function* () {
        const s2 = yield e2.mediate({
          input: r2,
          init: i2,
          context: t3
        });
        return s2.json = () => __async(this, null, function* () {
          return JSON.parse(yield a(n.ActorHttp.toNodeReadable(s2.body)));
        }), s2;
      });
    }
  }
  t2.DocumentLoaderMediated = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.AsyncIteratorJsonBindings = void 0;
  const n = r(36), i = r(1), a = r(3), s = r(74);
  class o extends a.BufferedIterator {
    constructor(e2, t3, r2, n2) {
      super({
        autoStart: false,
        maxBufferSize: 1 / 0
      }), this.initialized = false, this.endpoint = e2, this.query = t3, this.context = r2, this.mediatorHttp = n2;
    }
    _read(e2, t3) {
      this.initialized ? super._read(e2, t3) : (this.initialized = true, this.fetchBindingsStream(this.endpoint, this.query, this.context).then((r2) => {
        const n2 = new s.SparqlJsonParser({
          prefixVariableQuestionMark: true
        }).parseJsonResultsStream(r2);
        r2.on("error", (e3) => n2.emit("error", e3)), n2.on("error", (e3) => this.emit("error", e3)), n2.on("data", (e3) => this._push(i.Bindings(e3))), n2.on("end", () => {
          this.close();
        }), super._read(e2, t3);
      }).catch((e3) => this.emit("error", e3)));
    }
    fetchBindingsStream(e2, t3, r2) {
      return __async(this, null, function* () {
        const i2 = `${e2}?query=${encodeURIComponent(t3)}`, a2 = new Headers();
        a2.append("Accept", "application/sparql-results+json");
        const s2 = {
          context: r2,
          input: i2,
          init: {
            headers: a2
          }
        }, o2 = yield this.mediatorHttp.mediate(s2), u = n.ActorHttp.toNodeReadable(o2.body);
        if (!o2.ok)
          throw new Error(`Invalid SPARQL endpoint (${e2}) response: ${o2.statusText} (${o2.status})`);
        return u;
      });
    }
  }
  t2.AsyncIteratorJsonBindings = o;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SparqlXmlBindingsTransformer = void 0;
  const n = r(2);
  class i extends n.Transform {
    constructor(e2) {
      super({
        objectMode: true
      }), this.parser = e2;
    }
    _transform(e2, t3, r2) {
      let n2;
      try {
        n2 = this.parser.parseXmlBindings(e2);
      } catch (e3) {
        return r2(e3);
      }
      r2(null, n2);
    }
  }
  t2.SparqlXmlBindingsTransformer = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfDereferenceHttpParseBase = void 0;
  const n = r(36), i = r(468), a = r(470), s = r(13);
  class o extends i.ActorRdfDereferenceMediaMappings {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!/^https?:/u.test(e2.url))
          throw new Error(`Cannot retrieve ${e2.url} because it is not an HTTP(S) URL.`);
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        var t3;
        const {
          mediaTypes: r2
        } = yield this.mediatorRdfParseMediatypes.mediate({
          context: e2.context,
          mediaTypes: true
        }), i2 = this.mediaTypesToAcceptString(r2, this.getMaxAcceptHeaderLength()), u = new a.Headers({
          Accept: i2
        });
        for (const t4 in e2.headers)
          u.append(t4, e2.headers[t4]);
        const c = {
          context: e2.context,
          init: {
            headers: u,
            method: e2.method
          },
          input: e2.url
        };
        let l;
        try {
          l = yield this.mediatorHttp.mediate(c);
        } catch (t4) {
          return this.handleDereferenceError(e2, t4);
        }
        const h = s.resolve(l.url, e2.url), d = {};
        if (l.headers.forEach((e3, t4) => d[t4] = e3), l.status !== 200) {
          const t4 = new Error(`Could not retrieve ${e2.url} (${l.status}: ${l.statusText || "unknown error"})`);
          return l.body && (yield l.body.cancel()), this.handleDereferenceError(e2, t4);
        }
        const p = n.ActorHttp.toNodeReadable(l.body);
        let f = o.REGEX_MEDIATYPE.exec((t3 = l.headers.get("content-type")) !== null && t3 !== void 0 ? t3 : "")[0];
        f && f !== "text/plain" || (f = this.getMediaTypeFromExtension(l.url));
        const g = {
          baseIRI: h,
          headers: l.headers,
          input: p
        };
        let m;
        try {
          m = (yield this.mediatorRdfParseHandle.mediate({
            context: e2.context,
            handle: g,
            handleMediaType: f
          })).handle;
        } catch (t4) {
          return this.handleDereferenceError(e2, t4);
        }
        return {
          url: h,
          quads: this.handleDereferenceStreamErrors(e2, m.quads),
          triples: m.triples,
          headers: d
        };
      });
    }
    mediaTypesToAcceptString(e2, t3) {
      const r2 = [], n2 = Object.keys(e2).map((t4) => ({
        mediaType: t4,
        priority: e2[t4]
      })).sort((e3, t4) => t4.priority - e3.priority);
      let i2 = n2.length - 1;
      for (const e3 of n2) {
        const n3 = e3.mediaType + (e3.priority !== 1 ? ";q=" + e3.priority.toFixed(3).replace(/0*$/u, "") : "");
        if (i2 + n3.length > t3) {
          for (; i2 + "*/*;q=0.1".length > t3; ) {
            i2 -= (r2.pop() || "").length + 1;
          }
          r2.push("*/*;q=0.1");
          break;
        }
        r2.push(n3), i2 += n3.length;
      }
      return r2.length === 0 ? "*/*" : r2.join(",");
    }
  }
  t2.ActorRdfDereferenceHttpParseBase = o, o.REGEX_MEDIATYPE = /^[^ ;]*/u;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfDereference = t2.KEY_CONTEXT_LENIENT = void 0;
  const n = r(2), i = r(0);
  t2.KEY_CONTEXT_LENIENT = "@comunica/actor-init-sparql:lenient";
  class a extends i.Actor {
    constructor(e2) {
      super(e2);
    }
    isHardError(e2) {
      return !e2.context || !e2.context.get(t2.KEY_CONTEXT_LENIENT);
    }
    handleDereferenceStreamErrors(e2, t3) {
      return this.isHardError(e2) || (t3.on("error", (r2) => {
        this.logError(e2.context, r2.message, () => ({
          url: e2.url
        })), t3.push(null);
      }), t3 = t3.pipe(new n.PassThrough({
        objectMode: true
      }))), t3;
    }
    handleDereferenceError(e2, t3) {
      return __async(this, null, function* () {
        if (this.isHardError(e2))
          throw t3;
        {
          this.logError(e2.context, t3.message);
          const r2 = new n.Readable();
          return r2.push(null), {
            url: e2.url,
            quads: r2
          };
        }
      });
    }
  }
  t2.ActorRdfDereference = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.FederatedQuadSource = void 0;
  const n = r(21), i = r(177), a = r(3), s = r(5), o = r(18), u = r(6), c = new s.DataFactory();
  class l {
    constructor(e2, t3, r2, i2) {
      if (this.mediatorResolveQuadPattern = e2, this.sources = t3.get(n.KEY_CONTEXT_SOURCES), this.contextDefault = t3.delete(n.KEY_CONTEXT_SOURCES), this.emptyPatterns = r2, this.sourceIds = new Map(), this.skipEmptyPatterns = i2, this.algebraFactory = new u.Factory(), this.skipEmptyPatterns)
        for (const e3 of this.sources)
          this.emptyPatterns.has(e3) || this.emptyPatterns.set(e3, []);
    }
    static isTermBound(e2) {
      return e2.termType !== "Variable";
    }
    static isSubPatternOf(e2, t3) {
      return (!l.isTermBound(t3.subject) || t3.subject.equals(e2.subject)) && (!l.isTermBound(t3.predicate) || t3.predicate.equals(e2.predicate)) && (!l.isTermBound(t3.object) || t3.object.equals(e2.object)) && (!l.isTermBound(t3.graph) || t3.graph.equals(e2.graph));
    }
    static skolemizeTerm(e2, t3) {
      return e2.termType === "BlankNode" ? new i.BlankNodeScoped(`bc_${t3}_${e2.value}`, c.namedNode(`${l.SKOLEM_PREFIX}${t3}:${e2.value}`)) : e2;
    }
    static skolemizeQuad(e2, t3) {
      return o.mapTerms(e2, (e3) => l.skolemizeTerm(e3, t3));
    }
    static deskolemizeTerm(e2, t3) {
      if (e2.termType === "BlankNode" && "skolemized" in e2 && (e2 = e2.skolemized), e2.termType === "NamedNode" && e2.value.startsWith(l.SKOLEM_PREFIX)) {
        const r2 = e2.value.indexOf(":", l.SKOLEM_PREFIX.length);
        if (e2.value.slice(l.SKOLEM_PREFIX.length, r2) === t3) {
          const t4 = e2.value.slice(r2 + 1, e2.value.length);
          return c.blankNode(t4);
        }
        return null;
      }
      return e2;
    }
    isSourceEmpty(e2, t3) {
      if (!this.skipEmptyPatterns)
        return false;
      const r2 = this.emptyPatterns.get(e2);
      if (r2) {
        for (const e3 of r2)
          if (l.isSubPatternOf(t3, e3))
            return true;
      }
      return false;
    }
    getSourceId(e2) {
      let t3 = this.sourceIds.get(e2);
      return t3 === void 0 && (t3 = "" + this.sourceIds.size, this.sourceIds.set(e2, t3)), t3;
    }
    match(e2, t3, r2, i2) {
      const s2 = {
        totalItems: 0
      };
      let o2 = this.sources.length;
      const u2 = (e3, t4, r3, n2) => {
        this.skipEmptyPatterns && !e3 && r3 && !this.isSourceEmpty(t4, r3) && this.emptyPatterns.get(t4).push(r3), o2 || (n2 && this.sources.length === 1 ? h.setProperty("metadata", n2) : h.setProperty("metadata", s2));
      }, c2 = Promise.all(this.sources.map((c3) => __async(this, null, function* () {
        const h2 = this.getSourceId(c3), d = l.deskolemizeTerm(e2, h2), p = l.deskolemizeTerm(t3, h2), f = l.deskolemizeTerm(r2, h2), g = l.deskolemizeTerm(i2, h2);
        let m, y, b = n.getDataSourceContext(c3, this.contextDefault);
        b = b.set(n.KEY_CONTEXT_SOURCE, {
          type: n.getDataSourceType(c3),
          value: n.getDataSourceValue(c3)
        }), d && p && f && g && !this.isSourceEmpty(c3, m = this.algebraFactory.createPattern(d, p, f, g)) ? y = yield this.mediatorResolveQuadPattern.mediate({
          pattern: m,
          context: b
        }) : (y = {
          data: new a.ArrayIterator([], {
            autoStart: false
          })
        }, y.data.setProperty("metadata", {
          totalItems: 0
        })), y.data.getProperty("metadata", (e3) => {
          !e3.totalItems && e3.totalItems !== 0 || !Number.isFinite(e3.totalItems) ? (s2.totalItems = 1 / 0, o2 = 0, u2(1 / 0, c3, m, e3)) : (s2.totalItems += e3.totalItems, o2--, u2(e3.totalItems, c3, m, e3));
        });
        let _ = y.data.map((e3) => l.skolemizeQuad(e3, h2));
        return i2.termType === "Variable" && (_ = _.filter((e3) => e3.graph.termType !== "DefaultGraph")), _;
      }))), h = new a.TransformIterator(() => __async(this, null, function* () {
        return new a.UnionIterator(yield c2);
      }), {
        autoStart: false
      });
      return this.sources.length === 0 && h.setProperty("metadata", s2), h;
    }
  }
  t2.FederatedQuadSource = l, l.SKOLEM_PREFIX = "urn:comunica_skolem:source_";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(479), t2);
}, function(e, t2, r) {
  "use strict";
  const n = r(487), i = Symbol("max"), a = Symbol("length"), s = Symbol("lengthCalculator"), o = Symbol("allowStale"), u = Symbol("maxAge"), c = Symbol("dispose"), l = Symbol("noDisposeOnSet"), h = Symbol("lruList"), d = Symbol("cache"), p = Symbol("updateAgeOnGet"), f = () => 1;
  const g = (e2, t3, r2) => {
    const n2 = e2[d].get(t3);
    if (n2) {
      const t4 = n2.value;
      if (m(e2, t4)) {
        if (b(e2, n2), !e2[o])
          return;
      } else
        r2 && (e2[p] && (n2.value.now = Date.now()), e2[h].unshiftNode(n2));
      return t4.value;
    }
  }, m = (e2, t3) => {
    if (!t3 || !t3.maxAge && !e2[u])
      return false;
    const r2 = Date.now() - t3.now;
    return t3.maxAge ? r2 > t3.maxAge : e2[u] && r2 > e2[u];
  }, y = (e2) => {
    if (e2[a] > e2[i])
      for (let t3 = e2[h].tail; e2[a] > e2[i] && t3 !== null; ) {
        const r2 = t3.prev;
        b(e2, t3), t3 = r2;
      }
  }, b = (e2, t3) => {
    if (t3) {
      const r2 = t3.value;
      e2[c] && e2[c](r2.key, r2.value), e2[a] -= r2.length, e2[d].delete(r2.key), e2[h].removeNode(t3);
    }
  };
  class _ {
    constructor(e2, t3, r2, n2, i2) {
      this.key = e2, this.value = t3, this.length = r2, this.now = n2, this.maxAge = i2 || 0;
    }
  }
  const v = (e2, t3, r2, n2) => {
    let i2 = r2.value;
    m(e2, i2) && (b(e2, r2), e2[o] || (i2 = void 0)), i2 && t3.call(n2, i2.value, i2.key, e2);
  };
  e.exports = class {
    constructor(e2) {
      if (typeof e2 == "number" && (e2 = {
        max: e2
      }), e2 || (e2 = {}), e2.max && (typeof e2.max != "number" || e2.max < 0))
        throw new TypeError("max must be a non-negative number");
      this[i] = e2.max || 1 / 0;
      const t3 = e2.length || f;
      if (this[s] = typeof t3 != "function" ? f : t3, this[o] = e2.stale || false, e2.maxAge && typeof e2.maxAge != "number")
        throw new TypeError("maxAge must be a number");
      this[u] = e2.maxAge || 0, this[c] = e2.dispose, this[l] = e2.noDisposeOnSet || false, this[p] = e2.updateAgeOnGet || false, this.reset();
    }
    set max(e2) {
      if (typeof e2 != "number" || e2 < 0)
        throw new TypeError("max must be a non-negative number");
      this[i] = e2 || 1 / 0, y(this);
    }
    get max() {
      return this[i];
    }
    set allowStale(e2) {
      this[o] = !!e2;
    }
    get allowStale() {
      return this[o];
    }
    set maxAge(e2) {
      if (typeof e2 != "number")
        throw new TypeError("maxAge must be a non-negative number");
      this[u] = e2, y(this);
    }
    get maxAge() {
      return this[u];
    }
    set lengthCalculator(e2) {
      typeof e2 != "function" && (e2 = f), e2 !== this[s] && (this[s] = e2, this[a] = 0, this[h].forEach((e3) => {
        e3.length = this[s](e3.value, e3.key), this[a] += e3.length;
      })), y(this);
    }
    get lengthCalculator() {
      return this[s];
    }
    get length() {
      return this[a];
    }
    get itemCount() {
      return this[h].length;
    }
    rforEach(e2, t3) {
      t3 = t3 || this;
      for (let r2 = this[h].tail; r2 !== null; ) {
        const n2 = r2.prev;
        v(this, e2, r2, t3), r2 = n2;
      }
    }
    forEach(e2, t3) {
      t3 = t3 || this;
      for (let r2 = this[h].head; r2 !== null; ) {
        const n2 = r2.next;
        v(this, e2, r2, t3), r2 = n2;
      }
    }
    keys() {
      return this[h].toArray().map((e2) => e2.key);
    }
    values() {
      return this[h].toArray().map((e2) => e2.value);
    }
    reset() {
      this[c] && this[h] && this[h].length && this[h].forEach((e2) => this[c](e2.key, e2.value)), this[d] = new Map(), this[h] = new n(), this[a] = 0;
    }
    dump() {
      return this[h].map((e2) => !m(this, e2) && {
        k: e2.key,
        v: e2.value,
        e: e2.now + (e2.maxAge || 0)
      }).toArray().filter((e2) => e2);
    }
    dumpLru() {
      return this[h];
    }
    set(e2, t3, r2) {
      if ((r2 = r2 || this[u]) && typeof r2 != "number")
        throw new TypeError("maxAge must be a number");
      const n2 = r2 ? Date.now() : 0, o2 = this[s](t3, e2);
      if (this[d].has(e2)) {
        if (o2 > this[i])
          return b(this, this[d].get(e2)), false;
        const s2 = this[d].get(e2).value;
        return this[c] && (this[l] || this[c](e2, s2.value)), s2.now = n2, s2.maxAge = r2, s2.value = t3, this[a] += o2 - s2.length, s2.length = o2, this.get(e2), y(this), true;
      }
      const p2 = new _(e2, t3, o2, n2, r2);
      return p2.length > this[i] ? (this[c] && this[c](e2, t3), false) : (this[a] += p2.length, this[h].unshift(p2), this[d].set(e2, this[h].head), y(this), true);
    }
    has(e2) {
      if (!this[d].has(e2))
        return false;
      const t3 = this[d].get(e2).value;
      return !m(this, t3);
    }
    get(e2) {
      return g(this, e2, true);
    }
    peek(e2) {
      return g(this, e2, false);
    }
    pop() {
      const e2 = this[h].tail;
      return e2 ? (b(this, e2), e2.value) : null;
    }
    del(e2) {
      b(this, this[d].get(e2));
    }
    load(e2) {
      this.reset();
      const t3 = Date.now();
      for (let r2 = e2.length - 1; r2 >= 0; r2--) {
        const n2 = e2[r2], i2 = n2.e || 0;
        if (i2 === 0)
          this.set(n2.k, n2.v);
        else {
          const e3 = i2 - t3;
          e3 > 0 && this.set(n2.k, n2.v, e3);
        }
      }
    }
    prune() {
      this[d].forEach((e2, t3) => g(this, t3, false));
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatedQuadSource = void 0;
  const n = r(489);
  t2.MediatedQuadSource = class {
    constructor(e2, t3, r2, n2, i) {
      this.cacheSize = e2, this.context = t3, this.firstUrl = r2, this.forceSourceType = n2, this.mediators = i;
    }
    match(e2, t3, r2, i) {
      const a = new n.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize, this.context, this.forceSourceType, e2, t3, r2, i, this.firstUrl, this.mediators);
      return this.sourcesState ? a.setSourcesState(this.sourcesState) : (a.setSourcesState(), this.sourcesState = a.sourcesState), a;
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(512), t2);
}, function(e, t2, r) {
  var n = t2;
  n.utils = r(19), n.common = r(50), n.sha = r(517), n.ripemd = r(521), n.hmac = r(522), n.sha1 = n.sha.sha1, n.sha256 = n.sha.sha256, n.sha224 = n.sha.sha224, n.sha384 = n.sha.sha384, n.sha512 = n.sha.sha512, n.ripemd160 = n.ripemd.ripemd160;
}, function(e, t2, r) {
  "use strict";
  var n = r(19).rotr32;
  function i(e2, t3, r2) {
    return e2 & t3 ^ ~e2 & r2;
  }
  function a(e2, t3, r2) {
    return e2 & t3 ^ e2 & r2 ^ t3 & r2;
  }
  function s(e2, t3, r2) {
    return e2 ^ t3 ^ r2;
  }
  t2.ft_1 = function(e2, t3, r2, n2) {
    return e2 === 0 ? i(t3, r2, n2) : e2 === 1 || e2 === 3 ? s(t3, r2, n2) : e2 === 2 ? a(t3, r2, n2) : void 0;
  }, t2.ch32 = i, t2.maj32 = a, t2.p32 = s, t2.s0_256 = function(e2) {
    return n(e2, 2) ^ n(e2, 13) ^ n(e2, 22);
  }, t2.s1_256 = function(e2) {
    return n(e2, 6) ^ n(e2, 11) ^ n(e2, 25);
  }, t2.g0_256 = function(e2) {
    return n(e2, 7) ^ n(e2, 18) ^ e2 >>> 3;
  }, t2.g1_256 = function(e2) {
    return n(e2, 17) ^ n(e2, 19) ^ e2 >>> 10;
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(50), a = r(182), s = r(49), o = n.sum32, u = n.sum32_4, c = n.sum32_5, l = a.ch32, h = a.maj32, d = a.s0_256, p = a.s1_256, f = a.g0_256, g = a.g1_256, m = i.BlockHash, y = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
  function b() {
    if (!(this instanceof b))
      return new b();
    m.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = y, this.W = new Array(64);
  }
  n.inherits(b, m), e.exports = b, b.blockSize = 512, b.outSize = 256, b.hmacStrength = 192, b.padLength = 64, b.prototype._update = function(e2, t3) {
    for (var r2 = this.W, n2 = 0; n2 < 16; n2++)
      r2[n2] = e2[t3 + n2];
    for (; n2 < r2.length; n2++)
      r2[n2] = u(g(r2[n2 - 2]), r2[n2 - 7], f(r2[n2 - 15]), r2[n2 - 16]);
    var i2 = this.h[0], a2 = this.h[1], m2 = this.h[2], y2 = this.h[3], b2 = this.h[4], _ = this.h[5], v = this.h[6], w = this.h[7];
    for (s(this.k.length === r2.length), n2 = 0; n2 < r2.length; n2++) {
      var S = c(w, p(b2), l(b2, _, v), this.k[n2], r2[n2]), T = o(d(i2), h(i2, a2, m2));
      w = v, v = _, _ = b2, b2 = o(y2, S), y2 = m2, m2 = a2, a2 = i2, i2 = o(S, T);
    }
    this.h[0] = o(this.h[0], i2), this.h[1] = o(this.h[1], a2), this.h[2] = o(this.h[2], m2), this.h[3] = o(this.h[3], y2), this.h[4] = o(this.h[4], b2), this.h[5] = o(this.h[5], _), this.h[6] = o(this.h[6], v), this.h[7] = o(this.h[7], w);
  }, b.prototype._digest = function(e2) {
    return e2 === "hex" ? n.toHex32(this.h, "big") : n.split32(this.h, "big");
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(50), a = r(49), s = n.rotr64_hi, o = n.rotr64_lo, u = n.shr64_hi, c = n.shr64_lo, l = n.sum64, h = n.sum64_hi, d = n.sum64_lo, p = n.sum64_4_hi, f = n.sum64_4_lo, g = n.sum64_5_hi, m = n.sum64_5_lo, y = i.BlockHash, b = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591];
  function _() {
    if (!(this instanceof _))
      return new _();
    y.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = b, this.W = new Array(160);
  }
  function v(e2, t3, r2, n2, i2) {
    var a2 = e2 & r2 ^ ~e2 & i2;
    return a2 < 0 && (a2 += 4294967296), a2;
  }
  function w(e2, t3, r2, n2, i2, a2) {
    var s2 = t3 & n2 ^ ~t3 & a2;
    return s2 < 0 && (s2 += 4294967296), s2;
  }
  function S(e2, t3, r2, n2, i2) {
    var a2 = e2 & r2 ^ e2 & i2 ^ r2 & i2;
    return a2 < 0 && (a2 += 4294967296), a2;
  }
  function T(e2, t3, r2, n2, i2, a2) {
    var s2 = t3 & n2 ^ t3 & a2 ^ n2 & a2;
    return s2 < 0 && (s2 += 4294967296), s2;
  }
  function E(e2, t3) {
    var r2 = s(e2, t3, 28) ^ s(t3, e2, 2) ^ s(t3, e2, 7);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function x(e2, t3) {
    var r2 = o(e2, t3, 28) ^ o(t3, e2, 2) ^ o(t3, e2, 7);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function O(e2, t3) {
    var r2 = s(e2, t3, 14) ^ s(e2, t3, 18) ^ s(t3, e2, 9);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function A(e2, t3) {
    var r2 = o(e2, t3, 14) ^ o(e2, t3, 18) ^ o(t3, e2, 9);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function R(e2, t3) {
    var r2 = s(e2, t3, 1) ^ s(e2, t3, 8) ^ u(e2, t3, 7);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function I(e2, t3) {
    var r2 = o(e2, t3, 1) ^ o(e2, t3, 8) ^ c(e2, t3, 7);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function N(e2, t3) {
    var r2 = s(e2, t3, 19) ^ s(t3, e2, 29) ^ u(e2, t3, 6);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  function P(e2, t3) {
    var r2 = o(e2, t3, 19) ^ o(t3, e2, 29) ^ c(e2, t3, 6);
    return r2 < 0 && (r2 += 4294967296), r2;
  }
  n.inherits(_, y), e.exports = _, _.blockSize = 1024, _.outSize = 512, _.hmacStrength = 192, _.padLength = 128, _.prototype._prepareBlock = function(e2, t3) {
    for (var r2 = this.W, n2 = 0; n2 < 32; n2++)
      r2[n2] = e2[t3 + n2];
    for (; n2 < r2.length; n2 += 2) {
      var i2 = N(r2[n2 - 4], r2[n2 - 3]), a2 = P(r2[n2 - 4], r2[n2 - 3]), s2 = r2[n2 - 14], o2 = r2[n2 - 13], u2 = R(r2[n2 - 30], r2[n2 - 29]), c2 = I(r2[n2 - 30], r2[n2 - 29]), l2 = r2[n2 - 32], h2 = r2[n2 - 31];
      r2[n2] = p(i2, a2, s2, o2, u2, c2, l2, h2), r2[n2 + 1] = f(i2, a2, s2, o2, u2, c2, l2, h2);
    }
  }, _.prototype._update = function(e2, t3) {
    this._prepareBlock(e2, t3);
    var r2 = this.W, n2 = this.h[0], i2 = this.h[1], s2 = this.h[2], o2 = this.h[3], u2 = this.h[4], c2 = this.h[5], p2 = this.h[6], f2 = this.h[7], y2 = this.h[8], b2 = this.h[9], _2 = this.h[10], R2 = this.h[11], I2 = this.h[12], N2 = this.h[13], P2 = this.h[14], C = this.h[15];
    a(this.k.length === r2.length);
    for (var D = 0; D < r2.length; D += 2) {
      var j = P2, k = C, L = O(y2, b2), M = A(y2, b2), F = v(y2, b2, _2, R2, I2), B = w(y2, b2, _2, R2, I2, N2), q = this.k[D], U = this.k[D + 1], V = r2[D], H = r2[D + 1], G = g(j, k, L, M, F, B, q, U, V, H), z = m(j, k, L, M, F, B, q, U, V, H);
      j = E(n2, i2), k = x(n2, i2), L = S(n2, i2, s2, o2, u2), M = T(n2, i2, s2, o2, u2, c2);
      var Q = h(j, k, L, M), X = d(j, k, L, M);
      P2 = I2, C = N2, I2 = _2, N2 = R2, _2 = y2, R2 = b2, y2 = h(p2, f2, G, z), b2 = d(f2, f2, G, z), p2 = u2, f2 = c2, u2 = s2, c2 = o2, s2 = n2, o2 = i2, n2 = h(G, z, Q, X), i2 = d(G, z, Q, X);
    }
    l(this.h, 0, n2, i2), l(this.h, 2, s2, o2), l(this.h, 4, u2, c2), l(this.h, 6, p2, f2), l(this.h, 8, y2, b2), l(this.h, 10, _2, R2), l(this.h, 12, I2, N2), l(this.h, 14, P2, C);
  }, _.prototype._digest = function(e2) {
    return e2 === "hex" ? n.toHex32(this.h, "big") : n.split32(this.h, "big");
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.UnsupportedOperation = t2.SyncRecursiveEvaluator = t2.AsyncRecursiveEvaluator = void 0;
  const n = r(40), i = r(20), a = r(39), s = {
    term: (e2, t3) => e2,
    variable(e2, t3) {
      const r2 = t3.get(e2.name);
      if (!r2)
        throw new i.UnboundVariableError(e2.name, t3);
      return a.transformRDFTermUnsafe(r2);
    }
  };
  t2.AsyncRecursiveEvaluator = class {
    constructor(e2) {
      this.context = e2, this.subEvaluators = {
        [n.ExpressionType.Term]: s.term,
        [n.ExpressionType.Variable]: s.variable,
        [n.ExpressionType.Operator]: this.evalOperator,
        [n.ExpressionType.SpecialOperator]: this.evalSpecialOperator,
        [n.ExpressionType.Named]: this.evalNamed,
        [n.ExpressionType.Existence]: this.evalExistence,
        [n.ExpressionType.Aggregate]: this.evalAggregate
      };
    }
    evaluate(e2, t3) {
      return __async(this, null, function* () {
        const r2 = this.subEvaluators[e2.expressionType];
        if (!r2)
          throw new i.InvalidExpressionType(e2);
        return r2.bind(this)(e2, t3);
      });
    }
    evalOperator(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.args.map((e3) => this.evaluate(e3, t3)), n2 = yield Promise.all(r2);
        return e2.apply(n2);
      });
    }
    evalSpecialOperator(e2, t3) {
      return __async(this, null, function* () {
        const r2 = this.evaluate.bind(this), n2 = {
          args: e2.args,
          mapping: t3,
          evaluate: r2,
          context: {
            now: this.context.now,
            baseIRI: this.context.baseIRI,
            bnode: this.context.bnode
          }
        };
        return e2.applyAsync(n2);
      });
    }
    evalNamed(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.args.map((e3) => this.evaluate(e3, t3)), n2 = yield Promise.all(r2);
        return e2.apply(n2);
      });
    }
    evalExistence(e2, t3) {
      return __async(this, null, function* () {
        if (!this.context.exists)
          throw new i.NoExistenceHook();
        return new n.BooleanLiteral(yield this.context.exists(e2.expression, t3));
      });
    }
    evalAggregate(e2, t3) {
      return __async(this, null, function* () {
        if (!this.context.aggregate)
          throw new i.NoExistenceHook();
        return a.transformRDFTermUnsafe(yield this.context.aggregate(e2.expression));
      });
    }
  };
  t2.SyncRecursiveEvaluator = class {
    constructor(e2) {
      this.context = e2, this.subEvaluators = {
        [n.ExpressionType.Term]: s.term,
        [n.ExpressionType.Variable]: s.variable,
        [n.ExpressionType.Operator]: this.evalOperator,
        [n.ExpressionType.SpecialOperator]: this.evalSpecialOperator,
        [n.ExpressionType.Named]: this.evalNamed,
        [n.ExpressionType.Existence]: this.evalExistence,
        [n.ExpressionType.Aggregate]: this.evalAggregate
      };
    }
    evaluate(e2, t3) {
      const r2 = this.subEvaluators[e2.expressionType];
      if (!r2)
        throw new i.InvalidExpressionType(e2);
      return r2.bind(this)(e2, t3);
    }
    evalOperator(e2, t3) {
      const r2 = e2.args.map((e3) => this.evaluate(e3, t3));
      return e2.apply(r2);
    }
    evalSpecialOperator(e2, t3) {
      const r2 = this.evaluate.bind(this), n2 = {
        args: e2.args,
        mapping: t3,
        evaluate: r2,
        context: {
          now: this.context.now,
          baseIRI: this.context.baseIRI,
          bnode: this.context.bnode
        }
      };
      return e2.applySync(n2);
    }
    evalNamed(e2, t3) {
      const r2 = e2.args.map((e3) => this.evaluate(e3, t3));
      return e2.apply(r2);
    }
    evalExistence(e2, t3) {
      if (!this.context.exists)
        throw new i.NoExistenceHook();
      return new n.BooleanLiteral(this.context.exists(e2.expression, t3));
    }
    evalAggregate(e2, t3) {
      if (!this.context.aggregate)
        throw new i.NoAggregator();
      return a.transformRDFTermUnsafe(this.context.aggregate(e2.expression));
    }
  };
  class o extends Error {
    constructor(e2) {
      super(`Operation '${e2}' is unsupported in SimpleEvaluator`);
    }
  }
  t2.UnsupportedOperation = o;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SyncEvaluator = void 0;
  const n = r(39), i = r(185);
  t2.SyncEvaluator = class {
    constructor(e2, t3 = {}) {
      this.algExpr = e2, this.config = t3, this.expr = n.transformAlgebra(e2);
      const r2 = {
        now: t3.now || new Date(Date.now()),
        baseIRI: t3.baseIRI || void 0,
        exists: t3.exists,
        aggregate: t3.aggregate
      };
      this.evaluator = new i.SyncRecursiveEvaluator(r2);
    }
    evaluate(e2) {
      return this.evaluator.evaluate(this.expr, e2).toRDF();
    }
    evaluateAsEBV(e2) {
      return this.evaluator.evaluate(this.expr, e2).coerceEBV();
    }
    evaluateAsInternal(e2) {
      return this.evaluator.evaluate(this.expr, e2);
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorAbstractPath = void 0;
  const n = r(1), i = r(0), a = r(3), s = r(5), o = r(4), u = r(6), c = new s.DataFactory();
  class l extends n.ActorQueryOperationTypedMediated {
    constructor(e2, t3) {
      super(e2, "path"), this.predicateType = t3;
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        if (e2.predicate.type !== this.predicateType)
          throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);
        return true;
      });
    }
    generateVariable(e2, t3) {
      return t3 ? !e2 || e2.subject.value !== t3 && e2.object.value !== t3 ? c.variable(t3) : this.generateVariable(e2, t3 + "b") : this.generateVariable(e2, "b");
    }
    isPathArbitraryLengthDistinct(e2, t3) {
      return __async(this, null, function* () {
        return e2 && e2.get(l.isPathArbitraryLengthDistinctKey) ? {
          context: e2 = e2.set(l.isPathArbitraryLengthDistinctKey, false),
          operation: void 0
        } : {
          context: e2 = e2 ? e2.set(l.isPathArbitraryLengthDistinctKey, true) : i.ActionContext({
            [l.isPathArbitraryLengthDistinctKey]: true
          }),
          operation: n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            operation: l.FACTORY.createDistinct(t3),
            context: e2
          }))
        };
      });
    }
    predicateStarGraphVariable(e2, t3, r2, i2, s2) {
      return __async(this, null, function* () {
        const u2 = this.generateVariable(l.FACTORY.createPath(e2, r2, t3, i2)), c2 = l.FACTORY.createUnion(l.FACTORY.createPattern(e2, u2, t3, i2), l.FACTORY.createPattern(t3, u2, e2, i2)), h = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          context: s2,
          operation: c2
        })), d = o.termToString(t3), p = new Set();
        return new a.MultiTransformIterator(h.bindingsStream, {
          multiTransform: (t4) => {
            const u3 = t4.get(o.termToString(i2));
            return p.has(o.termToString(u3)) ? new a.EmptyIterator() : (p.add(o.termToString(u3)), new a.TransformIterator(() => __async(this, null, function* () {
              const t5 = new a.BufferedIterator();
              return yield this.getObjectsPredicateStar(e2, r2, u3, s2, {}, t5, {
                count: 0
              }), t5.transform({
                transform(e3, t6, r3) {
                  r3(n.Bindings({
                    [d]: e3,
                    [o.termToString(i2)]: u3
                  })), t6();
                }
              });
            }), {
              maxBufferSize: 128
            }));
          },
          autoStart: false
        });
      });
    }
    getObjectsPredicateStarEval(e2, t3, r2, i2, s2) {
      return __async(this, null, function* () {
        if (i2.termType === "Variable")
          return this.predicateStarGraphVariable(e2, t3, r2, i2, s2);
        const u2 = new a.BufferedIterator();
        return yield this.getObjectsPredicateStar(e2, r2, i2, s2, {}, u2, {
          count: 0
        }), u2.transform({
          transform(e3, r3, i3) {
            i3(n.Bindings({
              [o.termToString(t3)]: e3
            })), r3();
          }
        });
      });
    }
    getObjectsPredicateStar(e2, t3, r2, i2, a2, s2, u2) {
      return __async(this, null, function* () {
        const c2 = o.termToString(e2);
        if (a2[c2])
          return;
        s2._push(e2), a2[c2] = e2, u2.count++;
        const h = this.generateVariable(), d = o.termToString(h), p = l.FACTORY.createPath(e2, t3, h, r2), f = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: p,
          context: i2
        }));
        f.bindingsStream.on("data", (e3) => __async(this, null, function* () {
          const n2 = e3.get(d);
          yield this.getObjectsPredicateStar(n2, t3, r2, i2, a2, s2, u2);
        })), f.bindingsStream.on("end", () => {
          --u2.count == 0 && s2.close();
        });
      });
    }
    getSubjectAndObjectBindingsPredicateStar(e2, t3, r2, i2, a2, s2, u2, c2, h, d, p) {
      return __async(this, null, function* () {
        const f = o.termToString(i2) + o.termToString(s2);
        if (h[f])
          return;
        if (p.count++, h[f] = true, d._push(n.Bindings({
          [e2]: r2,
          [t3]: i2
        })), f in c2) {
          const n2 = yield c2[f];
          for (const i3 of n2)
            yield this.getSubjectAndObjectBindingsPredicateStar(e2, t3, r2, i3, a2, s2, u2, c2, h, d, p);
          return void (--p.count == 0 && d.close());
        }
        const g = new Promise((f2, g2) => __async(this, null, function* () {
          const m = [], y = this.generateVariable(), b = o.termToString(y), _ = l.FACTORY.createPath(i2, a2, y, s2), v = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            operation: _,
            context: u2
          }));
          v.bindingsStream.on("data", (n2) => __async(this, null, function* () {
            const i3 = n2.get(b);
            m.push(i3), yield this.getSubjectAndObjectBindingsPredicateStar(e2, t3, r2, i3, a2, s2, u2, c2, h, d, p);
          })), v.bindingsStream.on("error", g2), v.bindingsStream.on("end", () => {
            --p.count == 0 && d.close(), f2(m);
          });
        }));
        c2[f] = g;
      });
    }
  }
  t2.ActorAbstractPath = l, l.FACTORY = new u.Factory(), l.isPathArbitraryLengthDistinctKey = "isPathArbitraryLengthDistinct";
}, function(e, t2, r) {
  "use strict";
  r.r(t2), r.d(t2, "v1", function() {
    return g;
  }), r.d(t2, "v3", function() {
    return x;
  }), r.d(t2, "v4", function() {
    return O;
  }), r.d(t2, "v5", function() {
    return I;
  }), r.d(t2, "NIL", function() {
    return N;
  }), r.d(t2, "version", function() {
    return P;
  }), r.d(t2, "validate", function() {
    return o;
  }), r.d(t2, "stringify", function() {
    return d;
  }), r.d(t2, "parse", function() {
    return m;
  });
  var n = typeof crypto != "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != "undefined" && typeof msCrypto.getRandomValues == "function" && msCrypto.getRandomValues.bind(msCrypto), i = new Uint8Array(16);
  function a() {
    if (!n)
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    return n(i);
  }
  var s = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
  for (var o = function(e2) {
    return typeof e2 == "string" && s.test(e2);
  }, u = [], c = 0; c < 256; ++c)
    u.push((c + 256).toString(16).substr(1));
  var l, h, d = function(e2) {
    var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, r2 = (u[e2[t3 + 0]] + u[e2[t3 + 1]] + u[e2[t3 + 2]] + u[e2[t3 + 3]] + "-" + u[e2[t3 + 4]] + u[e2[t3 + 5]] + "-" + u[e2[t3 + 6]] + u[e2[t3 + 7]] + "-" + u[e2[t3 + 8]] + u[e2[t3 + 9]] + "-" + u[e2[t3 + 10]] + u[e2[t3 + 11]] + u[e2[t3 + 12]] + u[e2[t3 + 13]] + u[e2[t3 + 14]] + u[e2[t3 + 15]]).toLowerCase();
    if (!o(r2))
      throw TypeError("Stringified UUID is invalid");
    return r2;
  }, p = 0, f = 0;
  var g = function(e2, t3, r2) {
    var n2 = t3 && r2 || 0, i2 = t3 || new Array(16), s2 = (e2 = e2 || {}).node || l, o2 = e2.clockseq !== void 0 ? e2.clockseq : h;
    if (s2 == null || o2 == null) {
      var u2 = e2.random || (e2.rng || a)();
      s2 == null && (s2 = l = [1 | u2[0], u2[1], u2[2], u2[3], u2[4], u2[5]]), o2 == null && (o2 = h = 16383 & (u2[6] << 8 | u2[7]));
    }
    var c2 = e2.msecs !== void 0 ? e2.msecs : Date.now(), g2 = e2.nsecs !== void 0 ? e2.nsecs : f + 1, m2 = c2 - p + (g2 - f) / 1e4;
    if (m2 < 0 && e2.clockseq === void 0 && (o2 = o2 + 1 & 16383), (m2 < 0 || c2 > p) && e2.nsecs === void 0 && (g2 = 0), g2 >= 1e4)
      throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
    p = c2, f = g2, h = o2;
    var y2 = (1e4 * (268435455 & (c2 += 122192928e5)) + g2) % 4294967296;
    i2[n2++] = y2 >>> 24 & 255, i2[n2++] = y2 >>> 16 & 255, i2[n2++] = y2 >>> 8 & 255, i2[n2++] = 255 & y2;
    var b2 = c2 / 4294967296 * 1e4 & 268435455;
    i2[n2++] = b2 >>> 8 & 255, i2[n2++] = 255 & b2, i2[n2++] = b2 >>> 24 & 15 | 16, i2[n2++] = b2 >>> 16 & 255, i2[n2++] = o2 >>> 8 | 128, i2[n2++] = 255 & o2;
    for (var _2 = 0; _2 < 6; ++_2)
      i2[n2 + _2] = s2[_2];
    return t3 || d(i2);
  };
  var m = function(e2) {
    if (!o(e2))
      throw TypeError("Invalid UUID");
    var t3, r2 = new Uint8Array(16);
    return r2[0] = (t3 = parseInt(e2.slice(0, 8), 16)) >>> 24, r2[1] = t3 >>> 16 & 255, r2[2] = t3 >>> 8 & 255, r2[3] = 255 & t3, r2[4] = (t3 = parseInt(e2.slice(9, 13), 16)) >>> 8, r2[5] = 255 & t3, r2[6] = (t3 = parseInt(e2.slice(14, 18), 16)) >>> 8, r2[7] = 255 & t3, r2[8] = (t3 = parseInt(e2.slice(19, 23), 16)) >>> 8, r2[9] = 255 & t3, r2[10] = (t3 = parseInt(e2.slice(24, 36), 16)) / 1099511627776 & 255, r2[11] = t3 / 4294967296 & 255, r2[12] = t3 >>> 24 & 255, r2[13] = t3 >>> 16 & 255, r2[14] = t3 >>> 8 & 255, r2[15] = 255 & t3, r2;
  };
  var y = function(e2, t3, r2) {
    function n2(e3, n3, i2, a2) {
      if (typeof e3 == "string" && (e3 = function(e4) {
        e4 = unescape(encodeURIComponent(e4));
        for (var t4 = [], r3 = 0; r3 < e4.length; ++r3)
          t4.push(e4.charCodeAt(r3));
        return t4;
      }(e3)), typeof n3 == "string" && (n3 = m(n3)), n3.length !== 16)
        throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
      var s2 = new Uint8Array(16 + e3.length);
      if (s2.set(n3), s2.set(e3, n3.length), (s2 = r2(s2))[6] = 15 & s2[6] | t3, s2[8] = 63 & s2[8] | 128, i2) {
        a2 = a2 || 0;
        for (var o2 = 0; o2 < 16; ++o2)
          i2[a2 + o2] = s2[o2];
        return i2;
      }
      return d(s2);
    }
    try {
      n2.name = e2;
    } catch (e3) {
    }
    return n2.DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8", n2.URL = "6ba7b811-9dad-11d1-80b4-00c04fd430c8", n2;
  };
  function b(e2) {
    return 14 + (e2 + 64 >>> 9 << 4) + 1;
  }
  function _(e2, t3) {
    var r2 = (65535 & e2) + (65535 & t3);
    return (e2 >> 16) + (t3 >> 16) + (r2 >> 16) << 16 | 65535 & r2;
  }
  function v(e2, t3, r2, n2, i2, a2) {
    return _((s2 = _(_(t3, e2), _(n2, a2))) << (o2 = i2) | s2 >>> 32 - o2, r2);
    var s2, o2;
  }
  function w(e2, t3, r2, n2, i2, a2, s2) {
    return v(t3 & r2 | ~t3 & n2, e2, t3, i2, a2, s2);
  }
  function S(e2, t3, r2, n2, i2, a2, s2) {
    return v(t3 & n2 | r2 & ~n2, e2, t3, i2, a2, s2);
  }
  function T(e2, t3, r2, n2, i2, a2, s2) {
    return v(t3 ^ r2 ^ n2, e2, t3, i2, a2, s2);
  }
  function E(e2, t3, r2, n2, i2, a2, s2) {
    return v(r2 ^ (t3 | ~n2), e2, t3, i2, a2, s2);
  }
  var x = y("v3", 48, function(e2) {
    if (typeof e2 == "string") {
      var t3 = unescape(encodeURIComponent(e2));
      e2 = new Uint8Array(t3.length);
      for (var r2 = 0; r2 < t3.length; ++r2)
        e2[r2] = t3.charCodeAt(r2);
    }
    return function(e3) {
      for (var t4 = [], r3 = 32 * e3.length, n2 = 0; n2 < r3; n2 += 8) {
        var i2 = e3[n2 >> 5] >>> n2 % 32 & 255, a2 = parseInt("0123456789abcdef".charAt(i2 >>> 4 & 15) + "0123456789abcdef".charAt(15 & i2), 16);
        t4.push(a2);
      }
      return t4;
    }(function(e3, t4) {
      e3[t4 >> 5] |= 128 << t4 % 32, e3[b(t4) - 1] = t4;
      for (var r3 = 1732584193, n2 = -271733879, i2 = -1732584194, a2 = 271733878, s2 = 0; s2 < e3.length; s2 += 16) {
        var o2 = r3, u2 = n2, c2 = i2, l2 = a2;
        r3 = w(r3, n2, i2, a2, e3[s2], 7, -680876936), a2 = w(a2, r3, n2, i2, e3[s2 + 1], 12, -389564586), i2 = w(i2, a2, r3, n2, e3[s2 + 2], 17, 606105819), n2 = w(n2, i2, a2, r3, e3[s2 + 3], 22, -1044525330), r3 = w(r3, n2, i2, a2, e3[s2 + 4], 7, -176418897), a2 = w(a2, r3, n2, i2, e3[s2 + 5], 12, 1200080426), i2 = w(i2, a2, r3, n2, e3[s2 + 6], 17, -1473231341), n2 = w(n2, i2, a2, r3, e3[s2 + 7], 22, -45705983), r3 = w(r3, n2, i2, a2, e3[s2 + 8], 7, 1770035416), a2 = w(a2, r3, n2, i2, e3[s2 + 9], 12, -1958414417), i2 = w(i2, a2, r3, n2, e3[s2 + 10], 17, -42063), n2 = w(n2, i2, a2, r3, e3[s2 + 11], 22, -1990404162), r3 = w(r3, n2, i2, a2, e3[s2 + 12], 7, 1804603682), a2 = w(a2, r3, n2, i2, e3[s2 + 13], 12, -40341101), i2 = w(i2, a2, r3, n2, e3[s2 + 14], 17, -1502002290), n2 = w(n2, i2, a2, r3, e3[s2 + 15], 22, 1236535329), r3 = S(r3, n2, i2, a2, e3[s2 + 1], 5, -165796510), a2 = S(a2, r3, n2, i2, e3[s2 + 6], 9, -1069501632), i2 = S(i2, a2, r3, n2, e3[s2 + 11], 14, 643717713), n2 = S(n2, i2, a2, r3, e3[s2], 20, -373897302), r3 = S(r3, n2, i2, a2, e3[s2 + 5], 5, -701558691), a2 = S(a2, r3, n2, i2, e3[s2 + 10], 9, 38016083), i2 = S(i2, a2, r3, n2, e3[s2 + 15], 14, -660478335), n2 = S(n2, i2, a2, r3, e3[s2 + 4], 20, -405537848), r3 = S(r3, n2, i2, a2, e3[s2 + 9], 5, 568446438), a2 = S(a2, r3, n2, i2, e3[s2 + 14], 9, -1019803690), i2 = S(i2, a2, r3, n2, e3[s2 + 3], 14, -187363961), n2 = S(n2, i2, a2, r3, e3[s2 + 8], 20, 1163531501), r3 = S(r3, n2, i2, a2, e3[s2 + 13], 5, -1444681467), a2 = S(a2, r3, n2, i2, e3[s2 + 2], 9, -51403784), i2 = S(i2, a2, r3, n2, e3[s2 + 7], 14, 1735328473), n2 = S(n2, i2, a2, r3, e3[s2 + 12], 20, -1926607734), r3 = T(r3, n2, i2, a2, e3[s2 + 5], 4, -378558), a2 = T(a2, r3, n2, i2, e3[s2 + 8], 11, -2022574463), i2 = T(i2, a2, r3, n2, e3[s2 + 11], 16, 1839030562), n2 = T(n2, i2, a2, r3, e3[s2 + 14], 23, -35309556), r3 = T(r3, n2, i2, a2, e3[s2 + 1], 4, -1530992060), a2 = T(a2, r3, n2, i2, e3[s2 + 4], 11, 1272893353), i2 = T(i2, a2, r3, n2, e3[s2 + 7], 16, -155497632), n2 = T(n2, i2, a2, r3, e3[s2 + 10], 23, -1094730640), r3 = T(r3, n2, i2, a2, e3[s2 + 13], 4, 681279174), a2 = T(a2, r3, n2, i2, e3[s2], 11, -358537222), i2 = T(i2, a2, r3, n2, e3[s2 + 3], 16, -722521979), n2 = T(n2, i2, a2, r3, e3[s2 + 6], 23, 76029189), r3 = T(r3, n2, i2, a2, e3[s2 + 9], 4, -640364487), a2 = T(a2, r3, n2, i2, e3[s2 + 12], 11, -421815835), i2 = T(i2, a2, r3, n2, e3[s2 + 15], 16, 530742520), n2 = T(n2, i2, a2, r3, e3[s2 + 2], 23, -995338651), r3 = E(r3, n2, i2, a2, e3[s2], 6, -198630844), a2 = E(a2, r3, n2, i2, e3[s2 + 7], 10, 1126891415), i2 = E(i2, a2, r3, n2, e3[s2 + 14], 15, -1416354905), n2 = E(n2, i2, a2, r3, e3[s2 + 5], 21, -57434055), r3 = E(r3, n2, i2, a2, e3[s2 + 12], 6, 1700485571), a2 = E(a2, r3, n2, i2, e3[s2 + 3], 10, -1894986606), i2 = E(i2, a2, r3, n2, e3[s2 + 10], 15, -1051523), n2 = E(n2, i2, a2, r3, e3[s2 + 1], 21, -2054922799), r3 = E(r3, n2, i2, a2, e3[s2 + 8], 6, 1873313359), a2 = E(a2, r3, n2, i2, e3[s2 + 15], 10, -30611744), i2 = E(i2, a2, r3, n2, e3[s2 + 6], 15, -1560198380), n2 = E(n2, i2, a2, r3, e3[s2 + 13], 21, 1309151649), r3 = E(r3, n2, i2, a2, e3[s2 + 4], 6, -145523070), a2 = E(a2, r3, n2, i2, e3[s2 + 11], 10, -1120210379), i2 = E(i2, a2, r3, n2, e3[s2 + 2], 15, 718787259), n2 = E(n2, i2, a2, r3, e3[s2 + 9], 21, -343485551), r3 = _(r3, o2), n2 = _(n2, u2), i2 = _(i2, c2), a2 = _(a2, l2);
      }
      return [r3, n2, i2, a2];
    }(function(e3) {
      if (e3.length === 0)
        return [];
      for (var t4 = 8 * e3.length, r3 = new Uint32Array(b(t4)), n2 = 0; n2 < t4; n2 += 8)
        r3[n2 >> 5] |= (255 & e3[n2 / 8]) << n2 % 32;
      return r3;
    }(e2), 8 * e2.length));
  });
  var O = function(e2, t3, r2) {
    var n2 = (e2 = e2 || {}).random || (e2.rng || a)();
    if (n2[6] = 15 & n2[6] | 64, n2[8] = 63 & n2[8] | 128, t3) {
      r2 = r2 || 0;
      for (var i2 = 0; i2 < 16; ++i2)
        t3[r2 + i2] = n2[i2];
      return t3;
    }
    return d(n2);
  };
  function A(e2, t3, r2, n2) {
    switch (e2) {
      case 0:
        return t3 & r2 ^ ~t3 & n2;
      case 1:
        return t3 ^ r2 ^ n2;
      case 2:
        return t3 & r2 ^ t3 & n2 ^ r2 & n2;
      case 3:
        return t3 ^ r2 ^ n2;
    }
  }
  function R(e2, t3) {
    return e2 << t3 | e2 >>> 32 - t3;
  }
  var I = y("v5", 80, function(e2) {
    var t3 = [1518500249, 1859775393, 2400959708, 3395469782], r2 = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
    if (typeof e2 == "string") {
      var n2 = unescape(encodeURIComponent(e2));
      e2 = [];
      for (var i2 = 0; i2 < n2.length; ++i2)
        e2.push(n2.charCodeAt(i2));
    } else
      Array.isArray(e2) || (e2 = Array.prototype.slice.call(e2));
    e2.push(128);
    for (var a2 = e2.length / 4 + 2, s2 = Math.ceil(a2 / 16), o2 = new Array(s2), u2 = 0; u2 < s2; ++u2) {
      for (var c2 = new Uint32Array(16), l2 = 0; l2 < 16; ++l2)
        c2[l2] = e2[64 * u2 + 4 * l2] << 24 | e2[64 * u2 + 4 * l2 + 1] << 16 | e2[64 * u2 + 4 * l2 + 2] << 8 | e2[64 * u2 + 4 * l2 + 3];
      o2[u2] = c2;
    }
    o2[s2 - 1][14] = 8 * (e2.length - 1) / Math.pow(2, 32), o2[s2 - 1][14] = Math.floor(o2[s2 - 1][14]), o2[s2 - 1][15] = 8 * (e2.length - 1) & 4294967295;
    for (var h2 = 0; h2 < s2; ++h2) {
      for (var d2 = new Uint32Array(80), p2 = 0; p2 < 16; ++p2)
        d2[p2] = o2[h2][p2];
      for (var f2 = 16; f2 < 80; ++f2)
        d2[f2] = R(d2[f2 - 3] ^ d2[f2 - 8] ^ d2[f2 - 14] ^ d2[f2 - 16], 1);
      for (var g2 = r2[0], m2 = r2[1], y2 = r2[2], b2 = r2[3], _2 = r2[4], v2 = 0; v2 < 80; ++v2) {
        var w2 = Math.floor(v2 / 20), S2 = R(g2, 5) + A(w2, m2, y2, b2) + _2 + t3[w2] + d2[v2] >>> 0;
        _2 = b2, b2 = y2, y2 = R(m2, 30) >>> 0, m2 = g2, g2 = S2;
      }
      r2[0] = r2[0] + g2 >>> 0, r2[1] = r2[1] + m2 >>> 0, r2[2] = r2[2] + y2 >>> 0, r2[3] = r2[3] + b2 >>> 0, r2[4] = r2[4] + _2 >>> 0;
    }
    return [r2[0] >> 24 & 255, r2[0] >> 16 & 255, r2[0] >> 8 & 255, 255 & r2[0], r2[1] >> 24 & 255, r2[1] >> 16 & 255, r2[1] >> 8 & 255, 255 & r2[1], r2[2] >> 24 & 255, r2[2] >> 16 & 255, r2[2] >> 8 & 255, 255 & r2[2], r2[3] >> 24 & 255, r2[3] >> 16 & 255, r2[3] >> 8 & 255, 255 & r2[3], r2[4] >> 24 & 255, r2[4] >> 16 & 255, r2[4] >> 8 & 255, 255 & r2[4]];
  }), N = "00000000-0000-0000-0000-000000000000";
  var P = function(e2) {
    if (!o(e2))
      throw TypeError("Invalid UUID");
    return parseInt(e2.substr(14, 1), 16);
  };
}, function(e, t2) {
  let r;
  e.exports = typeof queueMicrotask == "function" ? queueMicrotask : (e2) => (r || (r = Promise.resolve())).then(e2).catch((e3) => setTimeout(() => {
    throw e3;
  }, 0));
}, function(e, t2, r) {
  e.exports = r(91);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.KEY_CONTEXT_LENIENT = t2.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES = t2.KEY_CONTEXT_QUERYFORMAT = t2.KEY_CONTEXT_INITIALBINDINGS = t2.ActorInitSparql = void 0;
  const n = r(192), i = r(1), a = r(21), s = r(0), o = r(6);
  class u extends n.ActorInit {
    constructor(e2) {
      super(e2);
    }
    static enhanceQueryResults(e2) {
      return e2.bindingsStream ? e2.bindings = () => new Promise((t3, r2) => {
        const n2 = [];
        e2.bindingsStream.on("data", (e3) => {
          n2.push(e3);
        }), e2.bindingsStream.on("end", () => {
          t3(n2);
        }), e2.bindingsStream.on("error", r2);
      }) : e2.quadStream && (e2.quads = () => new Promise((t3, r2) => {
        const n2 = [];
        e2.quadStream.on("data", (e3) => {
          n2.push(e3);
        }), e2.quadStream.on("end", () => {
          t3(n2);
        }), e2.quadStream.on("error", r2);
      })), e2;
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    query(e2, r2) {
      return __async(this, null, function* () {
        r2 = r2 || {};
        for (const e3 in r2)
          if (this.contextKeyShortcuts[e3]) {
            const t3 = r2[e3];
            r2[this.contextKeyShortcuts[e3]] = t3, delete r2[e3];
          }
        r2[s.KEY_CONTEXT_LOG] || (r2[s.KEY_CONTEXT_LOG] = this.logger), r2[i.KEY_CONTEXT_QUERY_TIMESTAMP] || (r2[i.KEY_CONTEXT_QUERY_TIMESTAMP] = new Date()), Array.isArray(r2[a.KEY_CONTEXT_SOURCES]) && r2[a.KEY_CONTEXT_SOURCES].forEach((e3) => {
          a.isDataSourceRawType(e3) || e3.type !== "auto" && e3.type !== "hypermedia" || delete e3.type;
        });
        let n2, o2, c = "sparql";
        if ((r2 = s.ActionContext(r2)) && r2.has(t2.KEY_CONTEXT_QUERYFORMAT) && (c = r2.get(t2.KEY_CONTEXT_QUERYFORMAT), r2 = r2.delete(t2.KEY_CONTEXT_QUERYFORMAT), c !== "graphql" || r2.has(t2.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES) || (r2 = r2.set(t2.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES, {}))), r2 && r2.has(i.KEY_CONTEXT_BASEIRI) && (n2 = r2.get(i.KEY_CONTEXT_BASEIRI)), r2 = (yield this.mediatorContextPreprocess.mediate({
          context: r2
        })).context, typeof e2 == "string") {
          const t3 = yield this.mediatorSparqlParse.mediate({
            context: r2,
            query: e2,
            queryFormat: c,
            baseIRI: n2
          });
          o2 = t3.operation, t3.baseIRI && (r2 = r2.set(i.KEY_CONTEXT_BASEIRI, t3.baseIRI));
        } else
          o2 = e2;
        if (r2.has(t2.KEY_CONTEXT_INITIALBINDINGS)) {
          const e3 = r2.get(t2.KEY_CONTEXT_INITIALBINDINGS);
          o2 = i.materializeOperation(o2, i.ensureBindings(e3));
        }
        o2 = (yield this.mediatorOptimizeQueryOperation.mediate({
          context: r2,
          operation: o2
        })).operation;
        const l = {
          context: r2,
          operation: o2
        };
        let h = yield this.mediatorQueryOperation.mediate(l);
        return h = u.enhanceQueryResults(h), h.context = r2, h;
      });
    }
    getResultMediaTypes(e2) {
      return __async(this, null, function* () {
        return (yield this.mediatorSparqlSerializeMediaTypeCombiner.mediate({
          context: e2,
          mediaTypes: true
        })).mediaTypes;
      });
    }
    getResultMediaTypeFormats(e2) {
      return __async(this, null, function* () {
        return (yield this.mediatorSparqlSerializeMediaTypeFormatCombiner.mediate({
          context: e2,
          mediaTypeFormats: true
        })).mediaTypeFormats;
      });
    }
    resultToString(e2, t3, r2) {
      return __async(this, null, function* () {
        if (r2 = s.ActionContext(r2), !t3)
          switch (e2.type) {
            case "bindings":
              t3 = "application/json";
              break;
            case "quads":
              t3 = "application/trig";
              break;
            default:
              t3 = "simple";
          }
        const n2 = e2;
        return n2.context = r2, (yield this.mediatorSparqlSerialize.mediate({
          context: r2,
          handle: n2,
          handleMediaType: t3
        })).handle;
      });
    }
    invalidateHttpCache(e2) {
      return this.mediatorHttpInvalidate.mediate({
        url: e2
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        throw new Error("ActorInitSparql#run is not supported in the browser.");
      });
    }
  }
  t2.ActorInitSparql = u, u.ALGEBRA_TYPES = Object.keys(o.Algebra.types).reduce((e2, t3) => (e2[o.Algebra.types[t3]] = true, e2), {}), t2.KEY_CONTEXT_INITIALBINDINGS = "@comunica/actor-init-sparql:initialBindings", t2.KEY_CONTEXT_QUERYFORMAT = "@comunica/actor-init-sparql:queryFormat", t2.KEY_CONTEXT_GRAPHQL_SINGULARIZEVARIABLES = "@comunica/actor-init-sparql:singularizeVariables", t2.KEY_CONTEXT_LENIENT = "@comunica/actor-init-sparql:lenient";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(193), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorInit = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorInit = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.BusIndexed = void 0;
  const n = r(92);
  class i extends n.Bus {
    constructor(e2) {
      super(e2), this.actorsIndex = {};
    }
    subscribe(e2) {
      const t3 = this.getActorIdentifier(e2) || "_undefined_";
      let r2 = this.actorsIndex[t3];
      r2 || (r2 = this.actorsIndex[t3] = []), r2.push(e2), super.subscribe(e2);
    }
    unsubscribe(e2) {
      const t3 = this.getActorIdentifier(e2) || "_undefined_", r2 = this.actorsIndex[t3];
      if (r2) {
        const n2 = r2.indexOf(e2);
        n2 >= 0 && r2.splice(n2, 1), r2.length === 0 && delete this.actorsIndex[t3];
      }
      return super.unsubscribe(e2);
    }
    publish(e2) {
      const t3 = this.getActionIdentifier(e2);
      if (t3) {
        return (this.actorsIndex[t3] || []).concat(this.actorsIndex._undefined_ || []).map((t4) => ({
          actor: t4,
          reply: t4.test(e2)
        }));
      }
      return super.publish(e2);
    }
    getActorIdentifier(e2) {
      return this.actorIdentifierFields.reduce((e3, t3) => e3[t3], e2);
    }
    getActionIdentifier(e2) {
      return this.actionIdentifierFields.reduce((e3, t3) => e3[t3], e2);
    }
  }
  t2.BusIndexed = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActionObserver = void 0;
  t2.ActionObserver = class {
    constructor(e2) {
      Object.assign(this, e2);
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ensureActionContext = t2.ActionContext = t2.Actor = void 0;
  const n = r(23), i = r(93);
  class a {
    constructor(e2) {
      this.beforeActors = [], Object.assign(this, e2), this.bus.subscribe(this), this.beforeActors.length > 0 && this.bus.addDependencies(this, this.beforeActors);
    }
    static getContextLogger(e2) {
      return e2 && e2.get(i.KEY_CONTEXT_LOG);
    }
    runObservable(e2) {
      const t3 = this.run(e2);
      return this.bus.onRun(this, e2, t3), t3;
    }
    initialize() {
      return __async(this, null, function* () {
        return true;
      });
    }
    deinitialize() {
      return __async(this, null, function* () {
        return true;
      });
    }
    getDefaultLogData(e2, t3) {
      const r2 = t3 ? t3() : {};
      return r2.actor = this.name, r2;
    }
    logTrace(e2, t3, r2) {
      const n2 = a.getContextLogger(e2);
      n2 && n2.trace(t3, this.getDefaultLogData(e2, r2));
    }
    logDebug(e2, t3, r2) {
      const n2 = a.getContextLogger(e2);
      n2 && n2.debug(t3, this.getDefaultLogData(e2, r2));
    }
    logInfo(e2, t3, r2) {
      const n2 = a.getContextLogger(e2);
      n2 && n2.info(t3, this.getDefaultLogData(e2, r2));
    }
    logWarn(e2, t3, r2) {
      const n2 = a.getContextLogger(e2);
      n2 && n2.warn(t3, this.getDefaultLogData(e2, r2));
    }
    logError(e2, t3, r2) {
      const n2 = a.getContextLogger(e2);
      n2 && n2.error(t3, this.getDefaultLogData(e2, r2));
    }
    logFatal(e2, t3, r2) {
      const n2 = a.getContextLogger(e2);
      n2 && n2.fatal(t3, this.getDefaultLogData(e2, r2));
    }
  }
  function s(e2) {
    return n.Map(e2);
  }
  t2.Actor = a, t2.ActionContext = s, t2.ensureActionContext = function(e2) {
    return n.Map.isMap(e2) ? e2 : s(e2);
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Mediator = void 0;
  t2.Mediator = class {
    constructor(e2) {
      Object.assign(this, e2);
    }
    publish(e2) {
      const t3 = this.bus.publish(e2);
      if (t3.length === 0)
        throw new Error("No actors are able to reply to a message in the bus " + this.bus.name);
      return t3;
    }
    mediateActor(e2) {
      return __async(this, null, function* () {
        return yield this.mediateWith(e2, this.publish(e2));
      });
    }
    mediate(e2) {
      return __async(this, null, function* () {
        return (yield this.mediateActor(e2)).runObservable(e2);
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.stringQuadToQuad = t2.quadToStringQuad = t2.stringToTerm = t2.getLiteralLanguage = t2.getLiteralType = t2.getLiteralValue = t2.termToString = void 0;
  const n = new (r(5)).DataFactory();
  function i(e2) {
    if (e2)
      switch (e2.termType) {
        case "NamedNode":
          return e2.value;
        case "BlankNode":
          return "_:" + e2.value;
        case "Literal":
          const t3 = e2;
          return '"' + t3.value + '"' + (t3.datatype && t3.datatype.value !== "http://www.w3.org/2001/XMLSchema#string" && t3.datatype.value !== "http://www.w3.org/1999/02/22-rdf-syntax-ns#langString" ? "^^" + t3.datatype.value : "") + (t3.language ? "@" + t3.language : "");
        case "Quad":
          return `<<${i(e2.subject)} ${i(e2.predicate)} ${i(e2.object)}${e2.graph.termType === "DefaultGraph" ? "" : " " + i(e2.graph)}>>`;
        case "Variable":
          return "?" + e2.value;
        case "DefaultGraph":
          return e2.value;
      }
  }
  function a(e2) {
    const t3 = /^"([^]*)"/.exec(e2);
    if (!t3)
      throw new Error(e2 + " is not a literal");
    return t3[1];
  }
  function s(e2) {
    const t3 = /^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e2);
    if (!t3)
      throw new Error(e2 + " is not a literal");
    return t3[1] || (t3[2] ? "http://www.w3.org/1999/02/22-rdf-syntax-ns#langString" : "http://www.w3.org/2001/XMLSchema#string");
  }
  function o(e2) {
    const t3 = /^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e2);
    if (!t3)
      throw new Error(e2 + " is not a literal");
    return t3[1] ? t3[1].toLowerCase() : "";
  }
  function u(e2, t3) {
    if (t3 = t3 || n, !e2 || !e2.length)
      return t3.defaultGraph();
    switch (e2[0]) {
      case "_":
        return t3.blankNode(e2.substr(2));
      case "?":
        if (!t3.variable)
          throw new Error("Missing 'variable()' method on the given DataFactory");
        return t3.variable(e2.substr(1));
      case '"':
        const r2 = o(e2), n2 = t3.namedNode(s(e2));
        return t3.literal(a(e2), r2 || n2);
      case "<":
      default:
        if (e2.startsWith("<<") && e2.endsWith(">>")) {
          const r3 = e2.slice(2, -2), n3 = [];
          let i2 = 0, a2 = 0;
          for (let t4 = 0; t4 < r3.length; t4++) {
            const s2 = r3[t4];
            if (s2 === "<" && i2++, s2 === ">") {
              if (i2 === 0)
                throw new Error("Found closing tag without opening tag in " + e2);
              i2--;
            }
            s2 === " " && i2 === 0 && (n3.push(r3.slice(a2, t4)), a2 = t4 + 1);
          }
          if (i2 !== 0)
            throw new Error("Found opening tag without closing tag in " + e2);
          if (n3.push(r3.slice(a2, r3.length)), n3.length !== 3 && n3.length !== 4)
            throw new Error("Nested quad syntax error " + e2);
          return t3.quad(u(n3[0]), u(n3[1]), u(n3[2]), n3[3] ? u(n3[3]) : void 0);
        }
        return t3.namedNode(e2);
    }
  }
  t2.termToString = i, t2.getLiteralValue = a, t2.getLiteralType = s, t2.getLiteralLanguage = o, t2.stringToTerm = u, t2.quadToStringQuad = function(e2) {
    return {
      subject: i(e2.subject),
      predicate: i(e2.predicate),
      object: i(e2.object),
      graph: i(e2.graph)
    };
  }, t2.stringQuadToQuad = function(e2, t3) {
    return (t3 = t3 || n).quad(u(e2.subject, t3), u(e2.predicate, t3), u(e2.object, t3), u(e2.graph, t3));
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DataFactory = void 0;
  const n = r(96), i = r(97), a = r(98), s = r(68), o = r(99), u = r(100);
  t2.DataFactory = class {
    constructor() {
      this.blankNodeCounter = 0;
    }
    namedNode(e2) {
      return new s.NamedNode(e2);
    }
    blankNode(e2) {
      return new n.BlankNode(e2 || "df_" + this.blankNodeCounter++);
    }
    literal(e2, t3) {
      return new a.Literal(e2, t3);
    }
    variable(e2) {
      return new u.Variable(e2);
    }
    defaultGraph() {
      return i.DefaultGraph.INSTANCE;
    }
    quad(e2, t3, r2, n2) {
      return new o.Quad(e2, t3, r2, n2 || this.defaultGraph());
    }
    fromTerm(e2) {
      switch (e2.termType) {
        case "NamedNode":
          return this.namedNode(e2.value);
        case "BlankNode":
          return this.blankNode(e2.value);
        case "Literal":
          return e2.language ? this.literal(e2.value, e2.language) : e2.datatype.equals(a.Literal.XSD_STRING) ? this.literal(e2.value) : this.literal(e2.value, this.fromTerm(e2.datatype));
        case "Variable":
          return this.variable(e2.value);
        case "DefaultGraph":
          return this.defaultGraph();
        case "Quad":
          return this.quad(this.fromTerm(e2.subject), this.fromTerm(e2.predicate), this.fromTerm(e2.object), this.fromTerm(e2.graph));
      }
    }
    fromQuad(e2) {
      return this.fromTerm(e2);
    }
    resetBlankNodeCounter() {
      this.blankNodeCounter = 0;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(52), i = r(53), a = r(70), s = r(215), o = r(4), u = r(30).Parser, c = n.types;
  let l, h = new Set(), d = 0, p = false;
  function f(e2, t3, r2) {
    if (h = new Set(), d = 0, p = t3, e2.type !== "query" && e2.type !== "update")
      throw new Error("Translate only works on complete query or update objects.");
    let n2, i2 = new Set(Object.keys(function e3(t4) {
      let r3 = {};
      if (g(t4))
        r3[o.termToString(t4)] = true, h.add(t4);
      else if (n3 = t4, n3 !== null && typeof n3 == "object")
        if (t4.type === "bind")
          e3(t4.expression), Object.assign(r3, e3(t4.variable));
        else if (t4.queryType === "SELECT") {
          let n4 = e3(t4.where);
          for (let i3 of t4.variables)
            a.default.isWildcard(i3) ? Object.assign(r3, n4) : i3.variable ? Object.assign(r3, e3(i3.variable)) : Object.assign(r3, e3(i3));
          if (t4.group)
            for (let n5 of t4.group)
              Object.assign(r3, e3(n5));
        } else
          for (let n4 of Object.keys(t4))
            Object.assign(r3, e3(t4[n4]));
      var n3;
      return r3;
    }(e2)).map(l.createTerm.bind(l)));
    if (e2.type === "query") {
      n2 = m({
        type: "group",
        patterns: e2.where || []
      }), n2 = function(e3, t4, r3) {
        let n3 = [], i3 = {};
        if (e3.variables = O(e3.variables, i3), e3.having = O(e3.having, i3), e3.order = O(e3.order, i3), e3.group || Object.keys(i3).length > 0) {
          let r4 = Object.keys(i3).map((e4) => function(e5, t5) {
            if (e5.type !== "aggregate" || !e5.aggregation)
              throw new Error("Unexpected input: " + JSON.stringify(e5));
            let r5 = y(e5);
            return r5.variable = t5, r5;
          }(i3[e4], l.createTerm(e4))), n4 = [];
          if (e3.group)
            for (let r5 of e3.group)
              if (r5.expression.type) {
                const e4 = r5.variable ? r5.variable : v();
                t4 = l.createExtend(t4, e4, y(r5.expression)), n4.push(e4);
              } else
                n4.push(r5.expression);
          t4 = l.createGroup(t4, n4, r4);
        }
        if (e3.having)
          for (let r4 of e3.having)
            t4 = l.createFilter(t4, y(r4));
        e3.values && (t4 = l.createJoin(t4, x(e3)));
        let s3 = new Set();
        if (e3.queryType === "SELECT" || e3.queryType === "DESCRIBE")
          if (e3.variables.some((e4) => e4 && a.default.isWildcard(e4)))
            s3 = r3;
          else
            for (let t5 of e3.variables)
              g(t5) || !t5.variable ? s3.add(t5) : t5.variable && (s3.add(t5.variable), n3.push(t5));
        for (let e4 of n3)
          t4 = l.createExtend(t4, e4.variable, y(e4.expression));
        e3.order && (t4 = l.createOrderBy(t4, e3.order.map((e4) => {
          let t5 = y(e4.expression);
          return e4.descending && (t5 = l.createOperatorExpression(c.DESC, [t5])), t5;
        })));
        e3.queryType === "SELECT" && (t4 = l.createProject(t4, Array.from(s3)));
        e3.distinct && (t4 = l.createDistinct(t4));
        e3.reduced && (t4 = l.createReduced(t4));
        e3.queryType === "CONSTRUCT" ? t4 = l.createConstruct(t4, e3.template.map(w)) : e3.queryType === "ASK" ? t4 = l.createAsk(t4) : e3.queryType === "DESCRIBE" && (t4 = l.createDescribe(t4, Array.from(s3)));
        (e3.offset || e3.limit) && (t4 = l.createSlice(t4, e3.offset, e3.limit));
        e3.from && (t4 = l.createFrom(t4, e3.from.default, e3.from.named));
        return t4;
      }(e2, n2, i2);
    } else
      e2.type === "update" && (n2 = (s2 = e2).updates.length === 1 ? A(s2.updates[0]) : l.createCompositeUpdate(s2.updates.map(A)));
    var s2;
    return r2 && (n2 = function e3(t4, r3) {
      const n3 = {}, i3 = Array.from(r3).reduce((e4, t5) => (e4[t5.value] = true, e4), {});
      return a.default.mapOperation(t4, {
        path: (e4, t5) => ({
          result: t5.createPath(s3(e4.subject), e4.predicate, s3(e4.object), s3(e4.graph)),
          recurse: false
        }),
        pattern: (e4, t5) => ({
          result: t5.createPattern(s3(e4.subject), s3(e4.predicate), s3(e4.object), s3(e4.graph)),
          recurse: false
        }),
        construct: (t5) => ({
          result: l.createConstruct(e3(t5.input, r3), t5.template),
          recurse: false
        })
      });
      function s3(e4) {
        if (e4.termType === "BlankNode") {
          let t5 = n3[e4.value];
          return t5 || (t5 = a.default.createUniqueVariable(e4.value, i3, l.dataFactory), i3[t5.value] = true, n3[e4.value] = t5), t5;
        }
        return e4;
      }
    }(n2, i2)), n2;
  }
  function g(e2) {
    return e2 && e2.termType === "Variable";
  }
  function m(e2) {
    let t3, r2 = [], n2 = [];
    if (e2.patterns)
      for (let t4 of e2.patterns)
        (t4.type === "filter" ? r2 : n2).push(t4);
    if (e2.type === "bgp")
      return function(e3) {
        let t4 = [], r3 = [];
        for (let n3 of e3.triples)
          if (n3.predicate.type === "path") {
            let e4 = b(n3);
            for (let n4 of e4)
              n4.type === c.PATH ? (t4.length > 0 && r3.push(l.createBgp(t4)), t4 = [], r3.push(n4)) : t4.push(n4);
          } else
            t4.push(w(n3));
        t4.length > 0 && r3.push(l.createBgp(t4));
        return r3.length === 1 ? r3[0] : r3.reduce((e4, t5) => l.createJoin(e4, t5));
      }(e2);
    if (e2.type === "union")
      t3 = n2.map((e3) => (e3.type !== "group" && (e3 = {
        type: "group",
        patterns: [e3]
      }), m(e3))).reduce((e3, t4) => l.createUnion(e3, t4));
    else {
      if (e2.type === "graph")
        return function(e3) {
          e3.type = "group";
          let t4 = m(e3);
          t4 = p ? function e4(t5, r3, n3) {
            if (t5.type === c.BGP)
              t5.patterns = t5.patterns.map((e5) => (n3 && (e5.subject.equals(r3) && (e5.subject = n3), e5.predicate.equals(r3) && (e5.predicate = n3), e5.object.equals(r3) && (e5.object = n3)), e5.graph = r3, e5));
            else if (t5.type === c.PATH) {
              const e5 = t5;
              n3 && (e5.subject.equals(r3) && (e5.subject = n3), e5.object.equals(r3) && (e5.object = n3)), t5.graph = r3;
            } else if (t5.type !== c.PROJECT || n3)
              if (t5.type !== c.EXTEND || n3)
                for (let i2 of Object.keys(t5))
                  Array.isArray(t5[i2]) ? t5[i2] = t5[i2].map((t6) => e4(t6, r3, n3)) : S.indexOf(t5[i2].type) >= 0 ? t5[i2] = e4(t5[i2], r3, n3) : n3 && g(t5[i2]) && t5[i2].equals(r3) && (t5[i2] = n3);
              else {
                const i2 = t5;
                i2.variable.equals(r3) && (n3 = v()), i2.input = e4(i2.input, r3, n3);
              }
            else {
              const i2 = t5;
              i2.variables.some((e5) => e5.equals(r3)) || (n3 = v()), i2.input = e4(i2.input, r3, n3);
            }
            return t5;
          }(t4, e3.name) : l.createGraph(t4, e3.name);
          return t4;
        }(e2);
      if (e2.type === "group")
        t3 = n2.reduce(T, l.createBgp([]));
      else if (e2.type === "values")
        t3 = x(e2);
      else {
        if (e2.type !== "query")
          throw new Error("Unexpected type: " + e2.type);
        t3 = f(e2, p, false);
      }
    }
    if (r2.length > 0) {
      let e3 = r2.map((e4) => y(e4.expression));
      e3.length > 0 && (t3 = l.createFilter(t3, e3.reduce((e4, t4) => l.createOperatorExpression("&&", [e4, t4]))));
    }
    return t3;
  }
  function y(e2) {
    if (a.default.isTerm(e2) || e2.termType === "Quad")
      return l.createTermExpression(e2);
    if (a.default.isWildcard(e2))
      return l.createWildcardExpression();
    if (e2.aggregation)
      return l.createAggregateExpression(e2.aggregation, y(e2.expression), e2.distinct, e2.separator);
    if (e2.function)
      return l.createNamedExpression(e2.function, e2.args.map(y));
    if (e2.operator)
      return e2.operator === "exists" || e2.operator === "notexists" ? l.createExistenceExpression(e2.operator === "notexists", m(e2.args[0])) : (e2.operator !== "in" && e2.operator !== "notin" || (e2.args = [e2.args[0]].concat(e2.args[1])), l.createOperatorExpression(e2.operator, e2.args.map(y)));
    throw new Error("Unknown expression: " + JSON.stringify(e2));
  }
  function b(e2) {
    return function e3(t3, r2, n2) {
      if (r2.type === c.LINK)
        return [l.createPattern(t3, r2.iri, n2)];
      if (r2.type === c.INV)
        return e3(n2, r2.path, t3);
      if (r2.type === c.SEQ) {
        let i2 = v(), a2 = e3(t3, r2.left, i2), s2 = e3(i2, r2.right, n2);
        return a2.concat(s2);
      }
      return [l.createPath(t3, r2, n2)];
    }(e2.subject, _(e2.predicate), e2.object);
  }
  function _(e2) {
    if (a.default.isTerm(e2) && e2.termType === "NamedNode")
      return l.createLink(e2);
    if (e2.pathType === "^")
      return l.createInv(_(e2.items[0]));
    if (e2.pathType === "!") {
      let t3, r2 = [], n2 = [];
      t3 = e2.items[0].type === "path" && e2.items[0].pathType === "|" ? e2.items[0].items : e2.items;
      for (let e3 of t3)
        if (a.default.isTerm(e3))
          r2.push(e3);
        else {
          if (e3.pathType !== "^")
            throw new Error("Unexpected item: " + JSON.stringify(e3));
          n2.push(e3.items[0]);
        }
      let i2 = l.createNps(r2), s2 = l.createInv(l.createNps(n2));
      return n2.length === 0 ? i2 : r2.length === 0 ? s2 : l.createAlt(i2, s2);
    }
    if (e2.pathType === "/")
      return e2.items.map(_).reduce((e3, t3) => l.createSeq(e3, t3));
    if (e2.pathType === "|")
      return e2.items.map(_).reduce((e3, t3) => l.createAlt(e3, t3));
    if (e2.pathType === "*")
      return l.createZeroOrMorePath(_(e2.items[0]));
    if (e2.pathType === "+")
      return l.createOneOrMorePath(_(e2.items[0]));
    if (e2.pathType === "?")
      return l.createZeroOrOnePath(_(e2.items[0]));
    throw new Error("Unable to translate path expression " + JSON.stringify(e2));
  }
  function v() {
    let e2 = "?var" + d++;
    return h.has(e2) ? v() : (h.add(e2), l.createTerm(e2));
  }
  function w(e2) {
    return l.createPattern(e2.subject, e2.predicate, e2.object, e2.graph);
  }
  t2.default = function(e2, t3) {
    if (t3 = t3 || {}, l = new i.default(t3.dataFactory), typeof e2 == "string") {
      let r2 = new u(t3);
      r2._resetBlanks(), e2 = r2.parse(e2);
    }
    return f(e2, t3.quads, t3.blankToVariable);
  };
  let S = Object.keys(c).map((e2) => c[e2]);
  function T(e2, t3) {
    if (t3.type === "optional") {
      let r2 = m({
        type: "group",
        patterns: t3.patterns
      });
      if (r2.type === c.FILTER) {
        let t4 = r2;
        e2 = l.createLeftJoin(e2, t4.input, t4.expression);
      } else
        e2 = l.createLeftJoin(e2, r2);
    } else if (t3.type === "minus") {
      let r2 = m({
        type: "group",
        patterns: t3.patterns
      });
      e2 = l.createMinus(e2, r2);
    } else if (t3.type === "bind")
      e2 = l.createExtend(e2, t3.variable, y(t3.expression));
    else if (t3.type === "service") {
      t3.type = "group", e2 = E(e2, l.createService(m(t3), t3.name, t3.silent));
    } else {
      e2 = E(e2, m(t3));
    }
    return e2;
  }
  function E(e2, t3) {
    return e2.type === c.BGP && t3.type === c.BGP ? e2 = l.createBgp([].concat(e2.patterns, t3.patterns)) : e2.type === c.BGP && e2.patterns.length === 0 ? e2 = t3 : t3.type === c.BGP && t3.patterns.length === 0 || (e2 = l.createJoin(e2, t3)), e2;
  }
  function x(e2) {
    let t3 = (e2.values.length === 0 ? [] : Object.keys(e2.values[0])).map(l.createTerm.bind(l)), r2 = e2.values.map((e3) => {
      let t4 = Object.keys(e3);
      t4 = t4.filter((t5) => e3[t5] !== void 0);
      let r3 = {};
      for (let n2 of t4)
        r3[n2] = e3[n2];
      return r3;
    });
    return l.createValues(t3, r2);
  }
  function O(e2, t3) {
    if (!e2)
      return e2;
    if (e2.type === "aggregate") {
      let r2, n2 = false;
      for (let i2 of Object.keys(t3))
        if (s(t3[i2], e2)) {
          r2 = l.createTerm(i2), n2 = true;
          break;
        }
      return n2 || (r2 = v(), t3[o.termToString(r2)] = e2), r2;
    }
    return e2.expression ? e2.expression = O(e2.expression, t3) : e2.args ? O(e2.args, t3) : Array.isArray(e2) && e2.forEach((r2, n2) => e2[n2] = O(r2, t3)), e2;
  }
  function A(e2) {
    if (e2.updateType === "insertdelete" || e2.updateType === "deletewhere" || e2.updateType === "delete" || e2.updateType === "insert")
      return function(e3) {
        if (!p)
          throw new Error("INSERT/DELETE operations are only supported with quads option enabled");
        let t3, r2 = [], n2 = [];
        e3.delete && (r2 = a.default.flatten(e3.delete.map((t4) => R(t4, e3.graph))));
        e3.insert && (n2 = a.default.flatten(e3.insert.map((t4) => R(t4, e3.graph))));
        e3.where && e3.where.length > 0 && (t3 = m({
          type: "group",
          patterns: e3.where
        }), e3.using ? t3 = l.createFrom(t3, e3.using.default, e3.using.named) : e3.graph && (t3 = l.createFrom(t3, [e3.graph], [])));
        return l.createDeleteInsert(r2.length > 0 ? r2.map(w) : void 0, n2.length > 0 ? n2.map(w) : void 0, t3);
      }(e2);
    if (e2.type === "load")
      return function(e3) {
        return l.createLoad(e3.source, e3.destination, e3.silent);
      }(e2);
    if (e2.type === "clear" || e2.type === "create" || e2.type === "drop")
      return function(e3) {
        let t3;
        t3 = e3.graph.all ? "ALL" : e3.graph.default ? "DEFAULT" : e3.graph.named ? "NAMED" : e3.graph.name;
        switch (e3.type) {
          case "clear":
            return l.createClear(t3, e3.silent);
          case "create":
            return l.createCreate(t3, e3.silent);
          case "drop":
            return l.createDrop(t3, e3.silent);
        }
      }(e2);
    if (e2.type === "add" || e2.type === "copy" || e2.type === "move")
      return function(e3) {
        const t3 = e3.source.default ? "DEFAULT" : e3.source.name, r2 = e3.destination.default ? "DEFAULT" : e3.destination.name;
        switch (e3.type) {
          case "copy":
            return l.createCopy(t3, r2, e3.silent);
          case "move":
            return l.createMove(t3, r2, e3.silent);
          case "add":
            return l.createAdd(t3, r2, e3.silent);
        }
      }(e2);
    throw new Error("Unknown update type " + e2.updateType);
  }
  function R(e2, t3) {
    let r2 = t3;
    e2.type === "graph" && (r2 = e2.name);
    let n2 = e2.triples;
    return r2 && (n2 = n2.map((e3) => Object.assign(e3, {
      graph: r2
    }))), n2;
  }
}, function(e, t2, r) {
  (function(e2, n) {
    var i = function() {
      var e3 = function(e4, t4, r2, n3) {
        for (r2 = r2 || {}, n3 = e4.length; n3--; r2[e4[n3]] = t4)
          ;
        return r2;
      }, t3 = [6, 12, 15, 28, 41, 50, 55, 107, 117, 120, 122, 123, 132, 133, 138, 320, 321, 322, 323, 324], n2 = [2, 208], i2 = [107, 117, 120, 122, 123, 132, 133, 138, 320, 321, 322, 323, 324], a = [1, 20], s = [1, 29], o = [6, 90], u = [45, 46, 58], c = [45, 58], l = [1, 58], h = [1, 60], d = [1, 56], p = [1, 59], f = [1, 65], g = [1, 66], m = [26, 34, 35], y = [13, 16, 310], b = [119, 141, 318, 325], _ = [13, 16, 119, 141, 310], v = [1, 88], w = [1, 92], S = [1, 94], T = [119, 141, 318, 319, 325], E = [13, 16, 119, 141, 310, 319], x = [1, 100], O = [2, 250], A = [1, 99], R = [13, 16, 34, 35, 87, 93, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], I = [6, 45, 46, 58, 68, 75, 78, 86, 88, 90], N = [6, 13, 16, 34, 45, 46, 58, 68, 75, 78, 86, 88, 90, 310], P = [6, 13, 16, 26, 34, 35, 37, 38, 45, 46, 48, 58, 68, 75, 78, 86, 87, 88, 90, 93, 100, 116, 119, 132, 133, 135, 140, 167, 168, 170, 173, 174, 191, 195, 217, 222, 224, 225, 229, 233, 243, 244, 248, 252, 256, 271, 276, 293, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 328, 329, 331, 332, 333, 334, 335, 336, 337, 338], C = [34, 35, 45, 46, 58], D = [13, 16, 34, 35, 87, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 338, 339, 340, 341, 342, 343], j = [2, 451], k = [1, 123], L = [1, 117], M = [1, 124], F = [1, 125], B = [6, 13, 16, 34, 35, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], q = [2, 309], U = [1, 142], V = [1, 140], H = [6, 191], G = [2, 326], z = [2, 314], Q = [45, 135], X = [6, 48, 78, 86, 88, 90], $ = [2, 254], Y = [1, 156], J = [1, 158], W = [6, 48, 75, 78, 86, 88, 90], K = [2, 252], Z = [1, 164], ee = [1, 176], te = [1, 174], re = [1, 184], ne = [1, 182], ie = [1, 175], ae = [1, 180], se = [1, 181], oe = [1, 185], ue = [1, 186], ce = [1, 189], le = [1, 190], he = [1, 191], de = [1, 192], pe = [1, 193], fe = [1, 194], ge = [1, 195], me = [1, 196], ye = [1, 197], be = [1, 198], _e = [1, 199], ve = [6, 68, 75, 78, 86, 88, 90], we = [37, 38, 191, 248, 276], Se = [37, 38, 191, 248, 252, 276], Te = [37, 38, 191, 248, 252, 256, 271, 276, 293, 304, 305, 306, 307, 308, 309, 332, 333, 334, 335, 336, 337, 338], Ee = [26, 37, 38, 191, 248, 252, 256, 271, 276, 293, 304, 305, 306, 307, 308, 309, 329, 332, 333, 334, 335, 336, 337, 338], xe = [1, 229], Oe = [1, 230], Ae = [1, 232], Re = [1, 233], Ie = [1, 234], Ne = [1, 235], Pe = [1, 237], Ce = [1, 238], De = [2, 458], je = [1, 240], ke = [1, 241], Le = [1, 242], Me = [1, 248], Fe = [1, 243], Be = [1, 244], qe = [1, 245], Ue = [1, 246], Ve = [1, 247], He = [13, 16, 48, 87, 100, 229, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], Ge = [48, 93], ze = [34, 38], Qe = [6, 116, 191], Xe = [48, 119], $e = [6, 48, 86, 88, 90], Ye = [2, 338], Je = [2, 330], We = [1, 293], Ke = [1, 295], Ze = [48, 119, 326], et = [13, 16, 34, 195, 310], tt = [13, 16, 34, 35, 38, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 191, 195, 217, 222, 224, 225, 229, 233, 243, 244, 276, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], rt = [13, 16, 26, 34, 35, 37, 38, 46, 48, 87, 90, 93, 100, 119, 167, 168, 170, 173, 174, 191, 195, 217, 222, 224, 225, 229, 233, 243, 244, 248, 252, 256, 271, 276, 293, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 329, 332, 333, 334, 335, 336, 337, 338], nt = [13, 16, 26, 34, 35, 37, 38, 46, 48, 87, 90, 93, 100, 119, 167, 168, 170, 173, 174, 191, 195, 217, 222, 224, 225, 229, 233, 243, 244, 248, 252, 256, 271, 276, 293, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 329, 332, 333, 334, 335, 336, 337, 338], it = [13, 16, 34, 35, 87, 217, 271, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 332, 338, 339, 340, 341, 342, 343], at = [1, 329], st = [1, 330], ot = [1, 332], ut = [1, 331], ct = [6, 13, 16, 26, 34, 35, 37, 38, 46, 48, 75, 78, 81, 83, 86, 87, 88, 90, 93, 119, 167, 168, 170, 173, 174, 191, 224, 229, 243, 244, 248, 252, 256, 271, 273, 274, 275, 276, 277, 279, 280, 282, 283, 286, 288, 293, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 329, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343], lt = [1, 340], ht = [1, 339], dt = [35, 93], pt = [1, 353], ft = [1, 354], gt = [1, 367], mt = [6, 48, 90], yt = [6, 13, 16, 35, 48, 78, 86, 88, 90, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 310, 338, 339, 340, 341, 342, 343], bt = [6, 13, 16, 34, 35, 46, 48, 78, 81, 83, 86, 87, 88, 90, 93, 119, 167, 168, 170, 173, 174, 224, 229, 243, 244, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 338, 339, 340, 341, 342, 343], _t = [46, 48, 90, 119, 167, 168, 170, 173, 174], vt = [1, 386], wt = [1, 387], St = [1, 393], Tt = [1, 392], Et = [48, 119, 191, 225, 326], xt = [2, 370], Ot = [13, 16, 34, 35, 38, 87, 93, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], At = [13, 16, 34, 35, 38, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 191, 224, 225, 229, 243, 244, 276, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], Rt = [13, 16, 26, 34, 35, 87, 217, 271, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 332, 338, 339, 340, 341, 342, 343], It = [13, 16, 38, 48, 87, 100, 229, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], Nt = [35, 48], Pt = [2, 329], Ct = [1, 451], Dt = [1, 448], jt = [1, 449], kt = [6, 13, 16, 26, 34, 35, 37, 38, 46, 48, 68, 75, 78, 81, 83, 86, 87, 88, 90, 93, 119, 167, 168, 170, 173, 174, 191, 224, 229, 243, 244, 248, 252, 256, 271, 273, 274, 275, 276, 277, 279, 280, 282, 283, 286, 288, 293, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 327, 329, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343], Lt = [13, 16, 35, 195, 217, 222, 310], Mt = [2, 384], Ft = [1, 469], Bt = [46, 48, 90, 119, 167, 168, 170, 173, 174, 326], qt = [13, 16, 34, 35, 195, 217, 222, 310], Ut = [6, 13, 16, 34, 35, 48, 75, 78, 86, 88, 90, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 310, 338, 339, 340, 341, 342, 343], Vt = [13, 16, 34, 35, 38, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 191, 195, 224, 225, 229, 243, 244, 276, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], Ht = [6, 13, 16, 34, 35, 48, 81, 83, 86, 88, 90, 273, 274, 275, 277, 279, 280, 282, 283, 286, 288, 310, 338, 339, 340, 341, 342, 343], Gt = [13, 16, 34, 35, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], zt = [13, 16, 34, 310], Qt = [13, 16, 34, 35, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], Xt = [2, 341], $t = [46, 48, 90, 119, 167, 168, 170, 173, 174, 191, 225, 326], Yt = [13, 16, 34, 35, 37, 38, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 191, 195, 217, 222, 224, 225, 229, 233, 243, 244, 276, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], Jt = [2, 336], Wt = [13, 16, 35, 195, 217, 310], Kt = [13, 16, 34, 35, 38, 46, 48, 87, 90, 93, 119, 167, 168, 170, 173, 174, 191, 195, 217, 222, 224, 225, 229, 243, 244, 276, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326], Zt = [13, 16, 38, 87, 100, 229, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], er = [13, 16, 34, 38, 48, 87, 100, 195, 229, 233, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], tr = [13, 16, 34, 35, 48, 87, 93, 119, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310], rr = [13, 16, 34, 35, 38, 87, 93, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 328, 329], nr = [13, 16, 26, 34, 35, 38, 87, 93, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 328, 329, 331, 332], ir = [1, 630], ar = [1, 631], sr = [2, 324], or = [13, 16, 38, 195, 222, 310], ur = {
        trace: function() {
        },
        yy: {},
        symbols_: {
          error: 2,
          QueryOrUpdate: 3,
          Prologue: 4,
          QueryOrUpdate_group0: 5,
          EOF: 6,
          Prologue_repetition0: 7,
          Query: 8,
          Query_group0: 9,
          Query_option0: 10,
          BaseDecl: 11,
          BASE: 12,
          IRIREF: 13,
          PrefixDecl: 14,
          PREFIX: 15,
          PNAME_NS: 16,
          SelectQuery: 17,
          SelectClauseWildcard: 18,
          SelectQuery_repetition0: 19,
          WhereClause: 20,
          SolutionModifierNoGroup: 21,
          SelectClauseVars: 22,
          SelectQuery_repetition1: 23,
          SolutionModifier: 24,
          SelectClauseBase: 25,
          "*": 26,
          SelectClauseVars_repetition_plus0: 27,
          SELECT: 28,
          SelectClauseBase_option0: 29,
          SubSelect: 30,
          SubSelect_option0: 31,
          SubSelect_option1: 32,
          SelectClauseItem: 33,
          VAR: 34,
          "(": 35,
          Expression: 36,
          AS: 37,
          ")": 38,
          VarTriple: 39,
          ConstructQuery: 40,
          CONSTRUCT: 41,
          ConstructTemplate: 42,
          ConstructQuery_repetition0: 43,
          ConstructQuery_repetition1: 44,
          WHERE: 45,
          "{": 46,
          ConstructQuery_option0: 47,
          "}": 48,
          DescribeQuery: 49,
          DESCRIBE: 50,
          DescribeQuery_group0: 51,
          DescribeQuery_repetition0: 52,
          DescribeQuery_option0: 53,
          AskQuery: 54,
          ASK: 55,
          AskQuery_repetition0: 56,
          DatasetClause: 57,
          FROM: 58,
          DatasetClause_option0: 59,
          iri: 60,
          WhereClause_option0: 61,
          GroupGraphPattern: 62,
          SolutionModifier_option0: 63,
          SolutionModifierNoGroup_option0: 64,
          SolutionModifierNoGroup_option1: 65,
          SolutionModifierNoGroup_option2: 66,
          GroupClause: 67,
          GROUP: 68,
          BY: 69,
          GroupClause_repetition_plus0: 70,
          GroupCondition: 71,
          BuiltInCall: 72,
          FunctionCall: 73,
          HavingClause: 74,
          HAVING: 75,
          HavingClause_repetition_plus0: 76,
          OrderClause: 77,
          ORDER: 78,
          OrderClause_repetition_plus0: 79,
          OrderCondition: 80,
          ASC: 81,
          BrackettedExpression: 82,
          DESC: 83,
          Constraint: 84,
          LimitOffsetClauses: 85,
          LIMIT: 86,
          INTEGER: 87,
          OFFSET: 88,
          ValuesClause: 89,
          VALUES: 90,
          InlineData: 91,
          InlineData_repetition0: 92,
          NIL: 93,
          InlineData_repetition1: 94,
          InlineData_repetition_plus2: 95,
          InlineData_repetition3: 96,
          DataBlockValue: 97,
          Literal: 98,
          ConstTriple: 99,
          UNDEF: 100,
          DataBlockValueList: 101,
          DataBlockValueList_repetition_plus0: 102,
          Update: 103,
          Update_repetition0: 104,
          Update1: 105,
          Update_option0: 106,
          LOAD: 107,
          Update1_option0: 108,
          Update1_option1: 109,
          Update1_group0: 110,
          Update1_option2: 111,
          GraphRefAll: 112,
          Update1_group1: 113,
          Update1_option3: 114,
          GraphOrDefault: 115,
          TO: 116,
          CREATE: 117,
          Update1_option4: 118,
          GRAPH: 119,
          INSERTDATA: 120,
          QuadPattern: 121,
          DELETEDATA: 122,
          DELETEWHERE: 123,
          Update1_option5: 124,
          InsertClause: 125,
          Update1_option6: 126,
          Update1_repetition0: 127,
          Update1_option7: 128,
          DeleteClause: 129,
          Update1_option8: 130,
          Update1_repetition1: 131,
          DELETE: 132,
          INSERT: 133,
          UsingClause: 134,
          USING: 135,
          UsingClause_option0: 136,
          WithClause: 137,
          WITH: 138,
          IntoGraphClause: 139,
          INTO: 140,
          DEFAULT: 141,
          GraphOrDefault_option0: 142,
          GraphRefAll_group0: 143,
          QuadPattern_option0: 144,
          QuadPattern_repetition0: 145,
          QuadsNotTriples: 146,
          QuadsNotTriples_group0: 147,
          QuadsNotTriples_option0: 148,
          QuadsNotTriples_option1: 149,
          QuadsNotTriples_option2: 150,
          TriplesTemplate: 151,
          TriplesTemplate_repetition0: 152,
          TriplesSameSubject: 153,
          TriplesTemplate_option0: 154,
          GroupGraphPatternSub: 155,
          GroupGraphPatternSub_option0: 156,
          GroupGraphPatternSub_repetition0: 157,
          GroupGraphPatternSubTail: 158,
          GraphPatternNotTriples: 159,
          GroupGraphPatternSubTail_option0: 160,
          GroupGraphPatternSubTail_option1: 161,
          TriplesBlock: 162,
          TriplesBlock_repetition0: 163,
          TriplesSameSubjectPath: 164,
          TriplesBlock_option0: 165,
          GraphPatternNotTriples_repetition0: 166,
          OPTIONAL: 167,
          MINUS: 168,
          GraphPatternNotTriples_group0: 169,
          SERVICE: 170,
          GraphPatternNotTriples_option0: 171,
          GraphPatternNotTriples_group1: 172,
          FILTER: 173,
          BIND: 174,
          FunctionCall_option0: 175,
          FunctionCall_repetition0: 176,
          ExpressionList: 177,
          ExpressionList_repetition0: 178,
          ConstructTemplate_option0: 179,
          ConstructTriples: 180,
          ConstructTriples_repetition0: 181,
          ConstructTriples_option0: 182,
          TriplesSameSubject_group0: 183,
          PropertyListNotEmpty: 184,
          TriplesNode: 185,
          PropertyList: 186,
          PropertyList_option0: 187,
          VerbObjectList: 188,
          PropertyListNotEmpty_repetition0: 189,
          SemiOptionalVerbObjectList: 190,
          ";": 191,
          SemiOptionalVerbObjectList_option0: 192,
          Verb: 193,
          ObjectList: 194,
          a: 195,
          ObjectList_repetition0: 196,
          GraphNode: 197,
          TriplesSameSubjectPath_group0: 198,
          PropertyListPathNotEmpty: 199,
          TriplesNodePath: 200,
          TriplesSameSubjectPath_option0: 201,
          PropertyListPathNotEmpty_group0: 202,
          PropertyListPathNotEmpty_repetition0: 203,
          GraphNodePath: 204,
          PropertyListPathNotEmpty_repetition1: 205,
          PropertyListPathNotEmptyTail: 206,
          PropertyListPathNotEmptyTail_group0: 207,
          Path: 208,
          Path_repetition0: 209,
          PathSequence: 210,
          PathSequence_repetition0: 211,
          PathEltOrInverse: 212,
          PathElt: 213,
          PathPrimary: 214,
          PathElt_option0: 215,
          PathEltOrInverse_option0: 216,
          "!": 217,
          PathNegatedPropertySet: 218,
          PathOneInPropertySet: 219,
          PathNegatedPropertySet_repetition0: 220,
          PathNegatedPropertySet_option0: 221,
          "^": 222,
          TriplesNode_repetition_plus0: 223,
          "[": 224,
          "]": 225,
          TriplesNodePath_repetition_plus0: 226,
          GraphNode_group0: 227,
          GraphNodePath_group0: 228,
          "<<": 229,
          VarTriple_group0: 230,
          VarTriple_group1: 231,
          VarTriple_group2: 232,
          ">>": 233,
          VarTriple_group3: 234,
          VarTriple_group4: 235,
          ConstTriple_group0: 236,
          ConstTriple_group1: 237,
          ConstTriple_group2: 238,
          ConstTriple_group3: 239,
          ConstTriple_group4: 240,
          VarOrTerm: 241,
          Term: 242,
          BLANK_NODE_LABEL: 243,
          ANON: 244,
          ConditionalAndExpression: 245,
          Expression_repetition0: 246,
          ExpressionTail: 247,
          "||": 248,
          RelationalExpression: 249,
          ConditionalAndExpression_repetition0: 250,
          ConditionalAndExpressionTail: 251,
          "&&": 252,
          AdditiveExpression: 253,
          RelationalExpression_group0: 254,
          RelationalExpression_option0: 255,
          IN: 256,
          MultiplicativeExpression: 257,
          AdditiveExpression_repetition0: 258,
          AdditiveExpressionTail: 259,
          AdditiveExpressionTail_group0: 260,
          NumericLiteralPositive: 261,
          AdditiveExpressionTail_repetition0: 262,
          NumericLiteralNegative: 263,
          AdditiveExpressionTail_repetition1: 264,
          UnaryExpression: 265,
          MultiplicativeExpression_repetition0: 266,
          MultiplicativeExpressionTail: 267,
          MultiplicativeExpressionTail_group0: 268,
          UnaryExpression_option0: 269,
          PrimaryExpression: 270,
          "-": 271,
          Aggregate: 272,
          FUNC_ARITY0: 273,
          FUNC_ARITY1: 274,
          FUNC_ARITY2: 275,
          ",": 276,
          IF: 277,
          BuiltInCall_group0: 278,
          BOUND: 279,
          BNODE: 280,
          BuiltInCall_option0: 281,
          EXISTS: 282,
          COUNT: 283,
          Aggregate_option0: 284,
          Aggregate_group0: 285,
          FUNC_AGGREGATE: 286,
          Aggregate_option1: 287,
          GROUP_CONCAT: 288,
          Aggregate_option2: 289,
          Aggregate_option3: 290,
          GroupConcatSeparator: 291,
          SEPARATOR: 292,
          "=": 293,
          String: 294,
          LANGTAG: 295,
          "^^": 296,
          DECIMAL: 297,
          DOUBLE: 298,
          BOOLEAN: 299,
          STRING_LITERAL1: 300,
          STRING_LITERAL2: 301,
          STRING_LITERAL_LONG1: 302,
          STRING_LITERAL_LONG2: 303,
          INTEGER_POSITIVE: 304,
          DECIMAL_POSITIVE: 305,
          DOUBLE_POSITIVE: 306,
          INTEGER_NEGATIVE: 307,
          DECIMAL_NEGATIVE: 308,
          DOUBLE_NEGATIVE: 309,
          PNAME_LN: 310,
          QueryOrUpdate_group0_option0: 311,
          Prologue_repetition0_group0: 312,
          SelectClauseBase_option0_group0: 313,
          DISTINCT: 314,
          REDUCED: 315,
          DescribeQuery_group0_repetition_plus0_group0: 316,
          DescribeQuery_group0_repetition_plus0: 317,
          NAMED: 318,
          SILENT: 319,
          CLEAR: 320,
          DROP: 321,
          ADD: 322,
          MOVE: 323,
          COPY: 324,
          ALL: 325,
          ".": 326,
          UNION: 327,
          "|": 328,
          "/": 329,
          PathElt_option0_group0: 330,
          "?": 331,
          "+": 332,
          "!=": 333,
          "<": 334,
          ">": 335,
          "<=": 336,
          ">=": 337,
          NOT: 338,
          CONCAT: 339,
          COALESCE: 340,
          SUBSTR: 341,
          REGEX: 342,
          REPLACE: 343,
          $accept: 0,
          $end: 1
        },
        terminals_: {
          2: "error",
          6: "EOF",
          12: "BASE",
          13: "IRIREF",
          15: "PREFIX",
          16: "PNAME_NS",
          26: "*",
          28: "SELECT",
          34: "VAR",
          35: "(",
          37: "AS",
          38: ")",
          41: "CONSTRUCT",
          45: "WHERE",
          46: "{",
          48: "}",
          50: "DESCRIBE",
          55: "ASK",
          58: "FROM",
          68: "GROUP",
          69: "BY",
          75: "HAVING",
          78: "ORDER",
          81: "ASC",
          83: "DESC",
          86: "LIMIT",
          87: "INTEGER",
          88: "OFFSET",
          90: "VALUES",
          93: "NIL",
          100: "UNDEF",
          107: "LOAD",
          116: "TO",
          117: "CREATE",
          119: "GRAPH",
          120: "INSERTDATA",
          122: "DELETEDATA",
          123: "DELETEWHERE",
          132: "DELETE",
          133: "INSERT",
          135: "USING",
          138: "WITH",
          140: "INTO",
          141: "DEFAULT",
          167: "OPTIONAL",
          168: "MINUS",
          170: "SERVICE",
          173: "FILTER",
          174: "BIND",
          191: ";",
          195: "a",
          217: "!",
          222: "^",
          224: "[",
          225: "]",
          229: "<<",
          233: ">>",
          243: "BLANK_NODE_LABEL",
          244: "ANON",
          248: "||",
          252: "&&",
          256: "IN",
          271: "-",
          273: "FUNC_ARITY0",
          274: "FUNC_ARITY1",
          275: "FUNC_ARITY2",
          276: ",",
          277: "IF",
          279: "BOUND",
          280: "BNODE",
          282: "EXISTS",
          283: "COUNT",
          286: "FUNC_AGGREGATE",
          288: "GROUP_CONCAT",
          292: "SEPARATOR",
          293: "=",
          295: "LANGTAG",
          296: "^^",
          297: "DECIMAL",
          298: "DOUBLE",
          299: "BOOLEAN",
          300: "STRING_LITERAL1",
          301: "STRING_LITERAL2",
          302: "STRING_LITERAL_LONG1",
          303: "STRING_LITERAL_LONG2",
          304: "INTEGER_POSITIVE",
          305: "DECIMAL_POSITIVE",
          306: "DOUBLE_POSITIVE",
          307: "INTEGER_NEGATIVE",
          308: "DECIMAL_NEGATIVE",
          309: "DOUBLE_NEGATIVE",
          310: "PNAME_LN",
          314: "DISTINCT",
          315: "REDUCED",
          318: "NAMED",
          319: "SILENT",
          320: "CLEAR",
          321: "DROP",
          322: "ADD",
          323: "MOVE",
          324: "COPY",
          325: "ALL",
          326: ".",
          327: "UNION",
          328: "|",
          329: "/",
          331: "?",
          332: "+",
          333: "!=",
          334: "<",
          335: ">",
          336: "<=",
          337: ">=",
          338: "NOT",
          339: "CONCAT",
          340: "COALESCE",
          341: "SUBSTR",
          342: "REGEX",
          343: "REPLACE"
        },
        productions_: [
          0,
          [3, 3],
          [4, 1],
          [8, 2],
          [11, 2],
          [14, 3],
          [17, 4],
          [17, 4],
          [18, 2],
          [22, 2],
          [25, 2],
          [30, 4],
          [30, 4],
          [33, 1],
          [33, 5],
          [33, 5],
          [40, 5],
          [40, 7],
          [49, 5],
          [54, 4],
          [57, 3],
          [20, 2],
          [24, 2],
          [21, 3],
          [67, 3],
          [71, 1],
          [71, 1],
          [71, 3],
          [71, 5],
          [71, 1],
          [74, 2],
          [77, 3],
          [80, 2],
          [80, 2],
          [80, 1],
          [80, 1],
          [85, 2],
          [85, 2],
          [85, 4],
          [85, 4],
          [89, 2],
          [91, 4],
          [91, 4],
          [91, 6],
          [97, 1],
          [97, 1],
          [97, 1],
          [97, 1],
          [101, 3],
          [103, 3],
          [105, 4],
          [105, 3],
          [105, 5],
          [105, 4],
          [105, 2],
          [105, 2],
          [105, 2],
          [105, 6],
          [105, 6],
          [129, 2],
          [125, 2],
          [134, 3],
          [137, 2],
          [139, 3],
          [115, 1],
          [115, 2],
          [112, 2],
          [112, 1],
          [121, 4],
          [146, 7],
          [151, 3],
          [62, 3],
          [62, 3],
          [155, 2],
          [158, 3],
          [162, 3],
          [159, 2],
          [159, 2],
          [159, 2],
          [159, 3],
          [159, 4],
          [159, 2],
          [159, 6],
          [159, 6],
          [159, 1],
          [84, 1],
          [84, 1],
          [84, 1],
          [73, 2],
          [73, 6],
          [177, 1],
          [177, 4],
          [42, 3],
          [180, 3],
          [153, 2],
          [153, 2],
          [186, 1],
          [184, 2],
          [190, 2],
          [188, 2],
          [193, 1],
          [193, 1],
          [193, 1],
          [194, 2],
          [164, 2],
          [164, 2],
          [199, 4],
          [206, 1],
          [206, 3],
          [208, 2],
          [210, 2],
          [213, 2],
          [212, 2],
          [214, 1],
          [214, 1],
          [214, 2],
          [214, 3],
          [218, 1],
          [218, 1],
          [218, 4],
          [219, 1],
          [219, 1],
          [219, 2],
          [219, 2],
          [185, 3],
          [185, 3],
          [200, 3],
          [200, 3],
          [197, 1],
          [197, 1],
          [204, 1],
          [204, 1],
          [39, 9],
          [39, 5],
          [99, 9],
          [99, 5],
          [241, 1],
          [241, 1],
          [242, 1],
          [242, 1],
          [242, 1],
          [242, 1],
          [242, 1],
          [36, 2],
          [247, 2],
          [245, 2],
          [251, 2],
          [249, 1],
          [249, 3],
          [249, 4],
          [253, 2],
          [259, 2],
          [259, 2],
          [259, 2],
          [257, 2],
          [267, 2],
          [265, 2],
          [265, 2],
          [265, 2],
          [270, 1],
          [270, 1],
          [270, 1],
          [270, 1],
          [270, 1],
          [270, 1],
          [82, 3],
          [72, 1],
          [72, 2],
          [72, 4],
          [72, 6],
          [72, 8],
          [72, 2],
          [72, 4],
          [72, 2],
          [72, 4],
          [72, 3],
          [272, 5],
          [272, 5],
          [272, 6],
          [291, 4],
          [98, 1],
          [98, 2],
          [98, 3],
          [98, 1],
          [98, 1],
          [98, 1],
          [98, 1],
          [98, 1],
          [98, 1],
          [294, 1],
          [294, 1],
          [294, 1],
          [294, 1],
          [261, 1],
          [261, 1],
          [261, 1],
          [263, 1],
          [263, 1],
          [263, 1],
          [60, 1],
          [60, 1],
          [60, 1],
          [311, 0],
          [311, 1],
          [5, 1],
          [5, 1],
          [312, 1],
          [312, 1],
          [7, 0],
          [7, 2],
          [9, 1],
          [9, 1],
          [9, 1],
          [9, 1],
          [10, 0],
          [10, 1],
          [19, 0],
          [19, 2],
          [23, 0],
          [23, 2],
          [27, 1],
          [27, 2],
          [313, 1],
          [313, 1],
          [29, 0],
          [29, 1],
          [31, 0],
          [31, 1],
          [32, 0],
          [32, 1],
          [43, 0],
          [43, 2],
          [44, 0],
          [44, 2],
          [47, 0],
          [47, 1],
          [316, 1],
          [316, 1],
          [317, 1],
          [317, 2],
          [51, 1],
          [51, 1],
          [52, 0],
          [52, 2],
          [53, 0],
          [53, 1],
          [56, 0],
          [56, 2],
          [59, 0],
          [59, 1],
          [61, 0],
          [61, 1],
          [63, 0],
          [63, 1],
          [64, 0],
          [64, 1],
          [65, 0],
          [65, 1],
          [66, 0],
          [66, 1],
          [70, 1],
          [70, 2],
          [76, 1],
          [76, 2],
          [79, 1],
          [79, 2],
          [92, 0],
          [92, 2],
          [94, 0],
          [94, 2],
          [95, 1],
          [95, 2],
          [96, 0],
          [96, 2],
          [102, 1],
          [102, 2],
          [104, 0],
          [104, 4],
          [106, 0],
          [106, 2],
          [108, 0],
          [108, 1],
          [109, 0],
          [109, 1],
          [110, 1],
          [110, 1],
          [111, 0],
          [111, 1],
          [113, 1],
          [113, 1],
          [113, 1],
          [114, 0],
          [114, 1],
          [118, 0],
          [118, 1],
          [124, 0],
          [124, 1],
          [126, 0],
          [126, 1],
          [127, 0],
          [127, 2],
          [128, 0],
          [128, 1],
          [130, 0],
          [130, 1],
          [131, 0],
          [131, 2],
          [136, 0],
          [136, 1],
          [142, 0],
          [142, 1],
          [143, 1],
          [143, 1],
          [143, 1],
          [144, 0],
          [144, 1],
          [145, 0],
          [145, 2],
          [147, 1],
          [147, 1],
          [148, 0],
          [148, 1],
          [149, 0],
          [149, 1],
          [150, 0],
          [150, 1],
          [152, 0],
          [152, 3],
          [154, 0],
          [154, 1],
          [156, 0],
          [156, 1],
          [157, 0],
          [157, 2],
          [160, 0],
          [160, 1],
          [161, 0],
          [161, 1],
          [163, 0],
          [163, 3],
          [165, 0],
          [165, 1],
          [166, 0],
          [166, 3],
          [169, 1],
          [169, 1],
          [171, 0],
          [171, 1],
          [172, 1],
          [172, 1],
          [175, 0],
          [175, 1],
          [176, 0],
          [176, 3],
          [178, 0],
          [178, 3],
          [179, 0],
          [179, 1],
          [181, 0],
          [181, 3],
          [182, 0],
          [182, 1],
          [183, 1],
          [183, 1],
          [187, 0],
          [187, 1],
          [189, 0],
          [189, 2],
          [192, 0],
          [192, 1],
          [196, 0],
          [196, 3],
          [198, 1],
          [198, 1],
          [201, 0],
          [201, 1],
          [202, 1],
          [202, 1],
          [203, 0],
          [203, 3],
          [205, 0],
          [205, 2],
          [207, 1],
          [207, 1],
          [209, 0],
          [209, 3],
          [211, 0],
          [211, 3],
          [330, 1],
          [330, 1],
          [330, 1],
          [215, 0],
          [215, 1],
          [216, 0],
          [216, 1],
          [220, 0],
          [220, 3],
          [221, 0],
          [221, 1],
          [223, 1],
          [223, 2],
          [226, 1],
          [226, 2],
          [227, 1],
          [227, 1],
          [228, 1],
          [228, 1],
          [230, 1],
          [230, 1],
          [231, 1],
          [231, 1],
          [232, 1],
          [232, 1],
          [234, 1],
          [234, 1],
          [235, 1],
          [235, 1],
          [236, 1],
          [236, 1],
          [237, 1],
          [237, 1],
          [238, 1],
          [238, 1],
          [239, 1],
          [239, 1],
          [240, 1],
          [240, 1],
          [246, 0],
          [246, 2],
          [250, 0],
          [250, 2],
          [254, 1],
          [254, 1],
          [254, 1],
          [254, 1],
          [254, 1],
          [254, 1],
          [255, 0],
          [255, 1],
          [258, 0],
          [258, 2],
          [260, 1],
          [260, 1],
          [262, 0],
          [262, 2],
          [264, 0],
          [264, 2],
          [266, 0],
          [266, 2],
          [268, 1],
          [268, 1],
          [269, 0],
          [269, 1],
          [278, 1],
          [278, 1],
          [278, 1],
          [278, 1],
          [278, 1],
          [281, 0],
          [281, 1],
          [284, 0],
          [284, 1],
          [285, 1],
          [285, 1],
          [287, 0],
          [287, 1],
          [289, 0],
          [289, 1],
          [290, 0],
          [290, 1]
        ],
        performAction: function(e4, t4, r2, n3, i3, a2, s2) {
          var o2, u2, c2, l2, h2 = a2.length - 1;
          switch (i3) {
            case 1:
              return a2[h2 - 1] = a2[h2 - 1] || {}, Kr.base && (a2[h2 - 1].base = Kr.base), Kr.base = br = _r = vr = "", a2[h2 - 1].prefixes = Kr.prefixes, Kr.prefixes = null, a2[h2 - 1];
            case 3:
              this.$ = Er(a2[h2 - 1], a2[h2], {
                type: "query"
              });
              break;
            case 4:
              Kr.base = Or(a2[h2]), br = _r = vr = "";
              break;
            case 5:
              Kr.prefixes || (Kr.prefixes = {}), a2[h2 - 1] = a2[h2 - 1].substr(0, a2[h2 - 1].length - 1), a2[h2] = Or(a2[h2]), Kr.prefixes[a2[h2 - 1]] = a2[h2];
              break;
            case 6:
              this.$ = Er(a2[h2 - 3], Cr(a2[h2 - 2]), a2[h2 - 1], a2[h2]);
              break;
            case 7:
              if (Xr(a2[h2 - 3].variables.map((e6) => zr(e6.expression))).some((e6) => e6.aggregation === "count") || a2[h2].group) {
                for (const e6 of a2[h2 - 3].variables)
                  if (e6.termType === "Variable") {
                    if (!a2[h2].group || !a2[h2].group.map((e7) => Gr(e7)).includes(Gr(e6)))
                      throw Error("Projection of ungrouped variable (?" + Gr(e6) + ")");
                  } else if (zr(e6.expression).length === 0) {
                    const t6 = Qr(e6.expression);
                    for (const e7 of t6)
                      if (!a2[h2].group.map((e8) => Gr(e8)).includes(Gr(e7)))
                        throw Error("Use of ungrouped variable in projection of operation (?" + Gr(e7) + ")");
                  }
              }
              const e5 = a2[h2 - 1].where.filter((e6) => e6.type === "query");
              if (e5.length > 0) {
                const t6 = a2[h2 - 3].variables.filter((e6) => e6.variable && e6.variable.value).map((e6) => e6.variable.value), r3 = Xr(e5.map((e6) => e6.variables)).map((e6) => e6.value || e6.variable.value);
                for (const e6 of t6)
                  if (r3.indexOf(e6) >= 0)
                    throw Error("Target id of 'AS' (?" + e6 + ") already used in subquery");
              }
              this.$ = Er(a2[h2 - 3], Cr(a2[h2 - 2]), a2[h2 - 1], a2[h2]);
              break;
            case 8:
              this.$ = Er(a2[h2 - 1], {
                variables: [new cr()]
              });
              break;
            case 9:
              const t5 = function(e6) {
                const t6 = e6.slice().sort(), r3 = [];
                for (let e7 = 0; e7 < t6.length - 1; e7++)
                  t6[e7 + 1] == t6[e7] && r3.push(t6[e7]);
                return r3;
              }(a2[h2].map((e6) => e6.value || e6.variable.value));
              if (t5.length > 0)
                throw Error("Two or more of the resulting columns have the same name (?" + t5[0] + ")");
              this.$ = Er(a2[h2 - 1], {
                variables: a2[h2]
              });
              break;
            case 10:
              this.$ = Er({
                queryType: "SELECT"
              }, a2[h2] && (a2[h2 - 1] = wr(a2[h2]), a2[h2] = {}, a2[h2][a2[h2 - 1]] = true, a2[h2]));
              break;
            case 11:
            case 12:
              this.$ = Er(a2[h2 - 3], a2[h2 - 2], a2[h2 - 1], a2[h2], {
                type: "query"
              });
              break;
            case 13:
            case 100:
            case 136:
            case 164:
              this.$ = Ar(a2[h2]);
              break;
            case 14:
            case 28:
              this.$ = Ir(a2[h2 - 3], {
                variable: Ar(a2[h2 - 1])
              });
              break;
            case 15:
              this.$ = Jr(Ir(a2[h2 - 3], {
                variable: Ar(a2[h2 - 1])
              }));
              break;
            case 16:
              this.$ = Er({
                queryType: "CONSTRUCT",
                template: a2[h2 - 3]
              }, Cr(a2[h2 - 2]), a2[h2 - 1], a2[h2]);
              break;
            case 17:
              this.$ = Er({
                queryType: "CONSTRUCT",
                template: a2[h2 - 2] = a2[h2 - 2] ? a2[h2 - 2].triples : []
              }, Cr(a2[h2 - 5]), {
                where: [{
                  type: "bgp",
                  triples: Tr([], a2[h2 - 2])
                }]
              }, a2[h2]);
              break;
            case 18:
              this.$ = Er({
                queryType: "DESCRIBE",
                variables: a2[h2 - 3] === "*" ? [new cr()] : a2[h2 - 3].map(Ar)
              }, Cr(a2[h2 - 2]), a2[h2 - 1], a2[h2]);
              break;
            case 19:
              this.$ = Er({
                queryType: "ASK"
              }, Cr(a2[h2 - 2]), a2[h2 - 1], a2[h2]);
              break;
            case 20:
            case 61:
              this.$ = {
                iri: a2[h2],
                named: !!a2[h2 - 1]
              };
              break;
            case 21:
              this.$ = {
                where: a2[h2].patterns
              };
              break;
            case 22:
              this.$ = Er(a2[h2 - 1], a2[h2]);
              break;
            case 23:
              this.$ = Er(a2[h2 - 2], a2[h2 - 1], a2[h2]);
              break;
            case 24:
              this.$ = {
                group: a2[h2]
              };
              break;
            case 25:
            case 26:
            case 32:
            case 34:
              this.$ = Ir(a2[h2]);
              break;
            case 27:
              this.$ = Ir(a2[h2 - 1]);
              break;
            case 29:
            case 35:
              this.$ = Ir(Ar(a2[h2]));
              break;
            case 30:
              this.$ = {
                having: a2[h2]
              };
              break;
            case 31:
              this.$ = {
                order: a2[h2]
              };
              break;
            case 33:
              this.$ = Ir(a2[h2], {
                descending: true
              });
              break;
            case 36:
              this.$ = {
                limit: Dr(a2[h2])
              };
              break;
            case 37:
              this.$ = {
                offset: Dr(a2[h2])
              };
              break;
            case 38:
              this.$ = {
                limit: Dr(a2[h2 - 2]),
                offset: Dr(a2[h2])
              };
              break;
            case 39:
              this.$ = {
                limit: Dr(a2[h2]),
                offset: Dr(a2[h2 - 2])
              };
              break;
            case 40:
              this.$ = {
                type: "values",
                values: a2[h2]
              };
              break;
            case 41:
              this.$ = a2[h2 - 1].map(function(e6) {
                var t6 = {};
                return t6[a2[h2 - 3]] = e6, t6;
              });
              break;
            case 42:
              this.$ = a2[h2 - 1].map(function() {
                return {};
              });
              break;
            case 43:
              var d2 = a2[h2 - 4].length;
              a2[h2 - 4] = a2[h2 - 4].map(Ar), this.$ = a2[h2 - 1].map(function(e6) {
                if (e6.length !== d2)
                  throw Error("Inconsistent VALUES length");
                for (var t6 = {}, r3 = 0; r3 < d2; r3++)
                  t6["?" + a2[h2 - 4][r3].value] = e6[r3];
                return t6;
              });
              break;
            case 46:
              this.$ = Jr(a2[h2]);
              break;
            case 47:
              this.$ = void 0;
              break;
            case 48:
            case 92:
            case 116:
            case 165:
              this.$ = a2[h2 - 1];
              break;
            case 49:
              this.$ = {
                type: "update",
                updates: Sr(a2[h2 - 2], a2[h2 - 1])
              };
              break;
            case 50:
              this.$ = Er({
                type: "load",
                silent: !!a2[h2 - 2],
                source: a2[h2 - 1]
              }, a2[h2] && {
                destination: a2[h2]
              });
              break;
            case 51:
              this.$ = {
                type: wr(a2[h2 - 2]),
                silent: !!a2[h2 - 1],
                graph: a2[h2]
              };
              break;
            case 52:
              this.$ = {
                type: wr(a2[h2 - 4]),
                silent: !!a2[h2 - 3],
                source: a2[h2 - 2],
                destination: a2[h2]
              };
              break;
            case 53:
              this.$ = {
                type: "create",
                silent: !!a2[h2 - 2],
                graph: {
                  type: "graph",
                  name: a2[h2]
                }
              };
              break;
            case 54:
              this.$ = {
                updateType: "insert",
                insert: a2[h2]
              };
              break;
            case 55:
              this.$ = {
                updateType: "delete",
                delete: a2[h2]
              };
              break;
            case 56:
              this.$ = {
                updateType: "deletewhere",
                delete: a2[h2]
              };
              break;
            case 57:
              this.$ = Er({
                updateType: "insertdelete"
              }, a2[h2 - 5], {
                insert: a2[h2 - 4] || []
              }, {
                delete: a2[h2 - 3] || []
              }, Cr(a2[h2 - 2], "using"), {
                where: a2[h2].patterns
              });
              break;
            case 58:
              this.$ = Er({
                updateType: "insertdelete"
              }, a2[h2 - 5], {
                delete: a2[h2 - 4] || []
              }, {
                insert: a2[h2 - 3] || []
              }, Cr(a2[h2 - 2], "using"), {
                where: a2[h2].patterns
              });
              break;
            case 59:
            case 60:
            case 63:
            case 156:
            case 179:
              this.$ = a2[h2];
              break;
            case 62:
              this.$ = {
                graph: a2[h2]
              };
              break;
            case 64:
              this.$ = {
                type: "graph",
                default: true
              };
              break;
            case 65:
            case 66:
              this.$ = {
                type: "graph",
                name: a2[h2]
              };
              break;
            case 67:
              this.$ = {}, this.$[wr(a2[h2])] = true;
              break;
            case 68:
              this.$ = a2[h2 - 2] ? xr(a2[h2 - 1], [a2[h2 - 2]]) : xr(a2[h2 - 1]);
              break;
            case 69:
              var p2 = Er(a2[h2 - 3] || {
                triples: []
              }, {
                type: "graph",
                name: Ar(a2[h2 - 5])
              });
              this.$ = a2[h2] ? [p2, a2[h2]] : [p2];
              break;
            case 70:
            case 75:
              this.$ = {
                type: "bgp",
                triples: xr(a2[h2 - 2], [a2[h2 - 1]])
              };
              break;
            case 71:
              this.$ = {
                type: "group",
                patterns: [a2[h2 - 1]]
              };
              break;
            case 72:
              for (const e6 of a2[h2 - 1].filter((e7) => e7.type === "bind")) {
                const t6 = a2[h2 - 1].indexOf(e6), r3 = new Set();
                for (const e7 of a2[h2 - 1].slice(0, t6))
                  e7.type !== "group" && e7.type !== "bgp" || Yr(e7).forEach((e8) => r3.add(e8));
                if (r3.has(e6.variable.value))
                  throw Error("Variable used to bind is already bound (?" + e6.variable.value + ")");
              }
              this.$ = {
                type: "group",
                patterns: a2[h2 - 1]
              };
              break;
            case 73:
              this.$ = a2[h2 - 1] ? xr([a2[h2 - 1]], a2[h2]) : xr(a2[h2]);
              break;
            case 74:
              this.$ = a2[h2] ? [a2[h2 - 2], a2[h2]] : a2[h2 - 2];
              break;
            case 76:
              a2[h2 - 1].length ? this.$ = {
                type: "union",
                patterns: xr(a2[h2 - 1].map(jr), [jr(a2[h2])])
              } : this.$ = a2[h2];
              break;
            case 77:
              this.$ = Er(a2[h2], {
                type: "optional"
              });
              break;
            case 78:
              this.$ = Er(a2[h2], {
                type: "minus"
              });
              break;
            case 79:
              this.$ = Er(a2[h2], {
                type: "graph",
                name: Ar(a2[h2 - 1])
              });
              break;
            case 80:
              this.$ = Er(a2[h2], {
                type: "service",
                name: Ar(a2[h2 - 1]),
                silent: !!a2[h2 - 2]
              });
              break;
            case 81:
              this.$ = {
                type: "filter",
                expression: a2[h2]
              };
              break;
            case 82:
              this.$ = {
                type: "bind",
                variable: Ar(a2[h2 - 1]),
                expression: a2[h2 - 3]
              };
              break;
            case 83:
              this.$ = Jr({
                type: "bind",
                variable: Ar(a2[h2 - 1]),
                expression: a2[h2 - 3]
              });
              break;
            case 88:
              this.$ = {
                type: "functionCall",
                function: a2[h2 - 1],
                args: []
              };
              break;
            case 89:
              this.$ = {
                type: "functionCall",
                function: a2[h2 - 5],
                args: Sr(a2[h2 - 2], a2[h2 - 1]),
                distinct: !!a2[h2 - 3]
              };
              break;
            case 90:
            case 107:
            case 118:
            case 208:
            case 216:
            case 218:
            case 230:
            case 232:
            case 242:
            case 246:
            case 266:
            case 268:
            case 272:
            case 276:
            case 299:
            case 305:
            case 316:
            case 326:
            case 332:
            case 338:
            case 342:
            case 352:
            case 354:
            case 358:
            case 366:
            case 370:
            case 378:
            case 380:
            case 384:
            case 386:
            case 395:
            case 427:
            case 429:
            case 439:
            case 443:
            case 445:
            case 447:
              this.$ = [];
              break;
            case 91:
              this.$ = Sr(a2[h2 - 2], a2[h2 - 1]);
              break;
            case 93:
              this.$ = xr(a2[h2 - 2], [a2[h2 - 1]]);
              break;
            case 94:
            case 104:
              this.$ = a2[h2].map(function(e6) {
                return Er(Lr(a2[h2 - 1]), e6);
              });
              break;
            case 95:
              this.$ = Tr(a2[h2].map(function(e6) {
                return Er(Lr(a2[h2 - 1].entity), e6);
              }), a2[h2 - 1].triples);
              break;
            case 97:
              this.$ = xr([a2[h2 - 1]], a2[h2]);
              break;
            case 98:
              this.$ = xr(a2[h2]);
              break;
            case 99:
              this.$ = Hr(a2[h2 - 1], a2[h2]);
              break;
            case 102:
            case 114:
            case 121:
              this.$ = Kr.factory.namedNode(hr);
              break;
            case 103:
              this.$ = Sr(a2[h2 - 1], a2[h2]);
              break;
            case 105:
              this.$ = a2[h2] ? Tr(a2[h2].map(function(e6) {
                return Er(Lr(a2[h2 - 1].entity), e6);
              }), a2[h2 - 1].triples) : a2[h2 - 1].triples;
              break;
            case 106:
              this.$ = Hr(Ar(a2[h2 - 3]), Sr(a2[h2 - 2], a2[h2 - 1]), a2[h2]);
              break;
            case 108:
              this.$ = Hr(Ar(a2[h2 - 1]), a2[h2]);
              break;
            case 109:
              this.$ = a2[h2 - 1].length ? Nr("|", Sr(a2[h2 - 1], a2[h2])) : a2[h2];
              break;
            case 110:
              this.$ = a2[h2 - 1].length ? Nr("/", Sr(a2[h2 - 1], a2[h2])) : a2[h2];
              break;
            case 111:
              this.$ = a2[h2] ? Nr(a2[h2], [a2[h2 - 1]]) : a2[h2 - 1];
              break;
            case 112:
              this.$ = a2[h2 - 1] ? Nr(a2[h2 - 1], [a2[h2]]) : a2[h2];
              break;
            case 115:
            case 122:
              this.$ = Nr(a2[h2 - 1], [a2[h2]]);
              break;
            case 119:
              this.$ = Nr("|", Sr(a2[h2 - 2], a2[h2 - 1]));
              break;
            case 123:
              this.$ = Nr(a2[h2 - 1], [Kr.factory.namedNode(hr)]);
              break;
            case 124:
            case 126:
              this.$ = function(e6) {
                var t6 = Mr(), r3 = t6, n4 = [], i4 = [];
                e6.forEach(function(e7) {
                  n4.push(e7.entity), Tr(i4, e7.triples);
                });
                for (var a3 = 0, s3 = 0, o3 = n4.length, u3 = Array(2 * o3); a3 < o3; )
                  u3[s3++] = Lr(r3, Kr.factory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"), n4[a3]), u3[s3++] = Lr(r3, Kr.factory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"), r3 = ++a3 < o3 ? Mr() : Kr.factory.namedNode(dr));
                return {
                  entity: t6,
                  triples: Tr(u3, i4)
                };
              }(a2[h2 - 1]);
              break;
            case 125:
            case 127:
              this.$ = (c2 = a2[h2 - 1], {
                entity: l2 = Mr(),
                triples: c2.map(function(e6) {
                  return Er(Lr(l2), e6);
                })
              });
              break;
            case 128:
            case 130:
              this.$ = {
                entity: a2[h2],
                triples: []
              };
              break;
            case 132:
            case 134:
              this.$ = Jr(Kr.factory.quad(a2[h2 - 4], a2[h2 - 3], a2[h2 - 2], Ar(a2[h2 - 6])));
              break;
            case 133:
            case 135:
              this.$ = Jr(Kr.factory.quad(a2[h2 - 3], a2[h2 - 2], a2[h2 - 1]));
              break;
            case 140:
              this.$ = Mr(a2[h2].replace(/^(_:)/, ""));
              break;
            case 141:
              this.$ = Mr();
              break;
            case 142:
              this.$ = Kr.factory.namedNode(dr);
              break;
            case 143:
            case 145:
            case 150:
            case 154:
              this.$ = Pr(a2[h2 - 1], a2[h2]);
              break;
            case 144:
              this.$ = ["||", a2[h2]];
              break;
            case 146:
              this.$ = ["&&", a2[h2]];
              break;
            case 148:
              this.$ = Rr(a2[h2 - 1], [a2[h2 - 2], a2[h2]]);
              break;
            case 149:
              this.$ = Rr(a2[h2 - 2] ? "notin" : "in", [a2[h2 - 3], a2[h2]]);
              break;
            case 151:
            case 155:
              this.$ = [a2[h2 - 1], a2[h2]];
              break;
            case 152:
              this.$ = ["+", Pr(a2[h2 - 1], a2[h2])];
              break;
            case 153:
              var f2 = kr(a2[h2 - 1].value.replace("-", ""), a2[h2 - 1].datatype);
              this.$ = ["-", Pr(f2, a2[h2])];
              break;
            case 157:
              this.$ = Rr(a2[h2 - 1], [a2[h2]]);
              break;
            case 158:
              this.$ = Rr("UMINUS", [a2[h2]]);
              break;
            case 167:
              this.$ = Rr(wr(a2[h2 - 1]));
              break;
            case 168:
              this.$ = Rr(wr(a2[h2 - 3]), [a2[h2 - 1]]);
              break;
            case 169:
              this.$ = Rr(wr(a2[h2 - 5]), [a2[h2 - 3], a2[h2 - 1]]);
              break;
            case 170:
              this.$ = Rr(wr(a2[h2 - 7]), [a2[h2 - 5], a2[h2 - 3], a2[h2 - 1]]);
              break;
            case 171:
              this.$ = Rr(wr(a2[h2 - 1]), a2[h2]);
              break;
            case 172:
              this.$ = Rr("bound", [Ar(a2[h2 - 1])]);
              break;
            case 173:
              this.$ = Rr(a2[h2 - 1], []);
              break;
            case 174:
              this.$ = Rr(a2[h2 - 3], [a2[h2 - 1]]);
              break;
            case 175:
              this.$ = Rr(a2[h2 - 2] ? "notexists" : "exists", [jr(a2[h2])]);
              break;
            case 176:
            case 177:
              this.$ = Ir(a2[h2 - 1], {
                type: "aggregate",
                aggregation: wr(a2[h2 - 4]),
                distinct: !!a2[h2 - 2]
              });
              break;
            case 178:
              this.$ = Ir(a2[h2 - 2], {
                type: "aggregate",
                aggregation: wr(a2[h2 - 5]),
                distinct: !!a2[h2 - 3],
                separator: a2[h2 - 1] || " "
              });
              break;
            case 180:
              this.$ = kr(a2[h2]);
              break;
            case 181:
              this.$ = (o2 = a2[h2 - 1], u2 = wr(a2[h2].substr(1)), Kr.factory.literal(o2, u2));
              break;
            case 182:
              this.$ = kr(a2[h2 - 2], a2[h2]);
              break;
            case 183:
            case 196:
              this.$ = kr(a2[h2], fr);
              break;
            case 184:
            case 197:
              this.$ = kr(a2[h2], gr);
              break;
            case 185:
            case 198:
              this.$ = kr(wr(a2[h2]), mr);
              break;
            case 188:
              this.$ = kr(a2[h2].toLowerCase(), yr);
              break;
            case 189:
            case 190:
              this.$ = Vr(a2[h2], 1);
              break;
            case 191:
            case 192:
              this.$ = Vr(a2[h2], 3);
              break;
            case 193:
              this.$ = kr(a2[h2].substr(1), fr);
              break;
            case 194:
              this.$ = kr(a2[h2].substr(1), gr);
              break;
            case 195:
              this.$ = kr(a2[h2].substr(1).toLowerCase(), mr);
              break;
            case 199:
              this.$ = Kr.factory.namedNode(Or(a2[h2]));
              break;
            case 200:
              var g2 = a2[h2].indexOf(":"), m2 = a2[h2].substr(0, g2), y2 = Kr.prefixes[m2];
              if (!y2)
                throw new Error("Unknown prefix: " + m2);
              var b2 = Or(y2 + a2[h2].substr(g2 + 1));
              this.$ = Kr.factory.namedNode(b2);
              break;
            case 201:
              if (a2[h2] = a2[h2].substr(0, a2[h2].length - 1), !(a2[h2] in Kr.prefixes))
                throw new Error("Unknown prefix: " + a2[h2]);
              b2 = Or(Kr.prefixes[a2[h2]]);
              this.$ = Kr.factory.namedNode(b2);
              break;
            case 209:
            case 217:
            case 219:
            case 221:
            case 231:
            case 233:
            case 239:
            case 243:
            case 247:
            case 261:
            case 263:
            case 265:
            case 267:
            case 269:
            case 271:
            case 273:
            case 275:
            case 300:
            case 306:
            case 317:
            case 333:
            case 367:
            case 381:
            case 400:
            case 402:
            case 428:
            case 430:
            case 440:
            case 444:
            case 446:
            case 448:
              a2[h2 - 1].push(a2[h2]);
              break;
            case 220:
            case 238:
            case 260:
            case 262:
            case 264:
            case 270:
            case 274:
            case 399:
            case 401:
              this.$ = [a2[h2]];
              break;
            case 277:
              a2[h2 - 3].push(a2[h2 - 2]);
              break;
            case 327:
            case 339:
            case 343:
            case 353:
            case 355:
            case 359:
            case 371:
            case 379:
            case 385:
            case 387:
            case 396:
              a2[h2 - 2].push(a2[h2 - 1]);
          }
        },
        table: [e3(t3, n2, {
          3: 1,
          4: 2,
          7: 3
        }), {
          1: [3]
        }, e3(i2, [2, 276], {
          5: 4,
          8: 5,
          311: 6,
          9: 7,
          103: 8,
          17: 9,
          40: 10,
          49: 11,
          54: 12,
          104: 13,
          18: 14,
          22: 15,
          25: 19,
          6: [2, 202],
          28: a,
          41: [1, 16],
          50: [1, 17],
          55: [1, 18]
        }), e3([6, 28, 41, 50, 55, 107, 117, 120, 122, 123, 132, 133, 138, 320, 321, 322, 323, 324], [2, 2], {
          312: 21,
          11: 22,
          14: 23,
          12: [1, 24],
          15: [1, 25]
        }), {
          6: [1, 26]
        }, {
          6: [2, 204]
        }, {
          6: [2, 205]
        }, {
          6: [2, 214],
          10: 27,
          89: 28,
          90: s
        }, {
          6: [2, 203]
        }, e3(o, [2, 210]), e3(o, [2, 211]), e3(o, [2, 212]), e3(o, [2, 213]), {
          105: 30,
          107: [1, 31],
          110: 32,
          113: 33,
          117: [1, 34],
          120: [1, 35],
          122: [1, 36],
          123: [1, 37],
          124: 38,
          128: 39,
          132: [2, 301],
          133: [2, 295],
          137: 45,
          138: [1, 46],
          320: [1, 40],
          321: [1, 41],
          322: [1, 42],
          323: [1, 43],
          324: [1, 44]
        }, e3(u, [2, 216], {
          19: 47
        }), e3(u, [2, 218], {
          23: 48
        }), e3(c, [2, 232], {
          42: 49,
          44: 50,
          46: [1, 51]
        }), {
          13: l,
          16: h,
          26: [1, 54],
          34: d,
          51: 52,
          60: 57,
          310: p,
          316: 55,
          317: 53
        }, e3(u, [2, 246], {
          56: 61
        }), {
          26: [1, 62],
          27: 63,
          33: 64,
          34: f,
          35: g
        }, e3(m, [2, 224], {
          29: 67,
          313: 68,
          314: [1, 69],
          315: [1, 70]
        }), e3(t3, [2, 209]), e3(t3, [2, 206]), e3(t3, [2, 207]), {
          13: [1, 71]
        }, {
          16: [1, 72]
        }, {
          1: [2, 1]
        }, {
          6: [2, 3]
        }, {
          6: [2, 215]
        }, {
          34: [1, 74],
          35: [1, 76],
          91: 73,
          93: [1, 75]
        }, {
          6: [2, 278],
          106: 77,
          191: [1, 78]
        }, e3(y, [2, 280], {
          108: 79,
          319: [1, 80]
        }), e3(b, [2, 286], {
          111: 81,
          319: [1, 82]
        }), e3(_, [2, 291], {
          114: 83,
          319: [1, 84]
        }), {
          118: 85,
          119: [2, 293],
          319: [1, 86]
        }, {
          46: v,
          121: 87
        }, {
          46: v,
          121: 89
        }, {
          46: v,
          121: 90
        }, {
          125: 91,
          133: w
        }, {
          129: 93,
          132: S
        }, e3(T, [2, 284]), e3(T, [2, 285]), e3(E, [2, 288]), e3(E, [2, 289]), e3(E, [2, 290]), {
          132: [2, 302],
          133: [2, 296]
        }, {
          13: l,
          16: h,
          60: 95,
          310: p
        }, {
          20: 96,
          45: x,
          46: O,
          57: 97,
          58: A,
          61: 98
        }, {
          20: 101,
          45: x,
          46: O,
          57: 102,
          58: A,
          61: 98
        }, e3(u, [2, 230], {
          43: 103
        }), {
          45: [1, 104],
          57: 105,
          58: A
        }, e3(R, [2, 358], {
          179: 106,
          180: 107,
          181: 108,
          48: [2, 356]
        }), e3(I, [2, 242], {
          52: 109
        }), e3(I, [2, 240], {
          60: 57,
          316: 110,
          13: l,
          16: h,
          34: d,
          310: p
        }), e3(I, [2, 241]), e3(N, [2, 238]), e3(N, [2, 236]), e3(N, [2, 237]), e3(P, [2, 199]), e3(P, [2, 200]), e3(P, [2, 201]), {
          20: 111,
          45: x,
          46: O,
          57: 112,
          58: A,
          61: 98
        }, e3(u, [2, 8]), e3(u, [2, 9], {
          33: 113,
          34: f,
          35: g
        }), e3(C, [2, 220]), e3(C, [2, 13]), e3(D, j, {
          36: 114,
          39: 115,
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          217: k,
          229: L,
          271: M,
          332: F
        }), e3(m, [2, 10]), e3(m, [2, 225]), e3(m, [2, 222]), e3(m, [2, 223]), e3(t3, [2, 4]), {
          13: [1, 126]
        }, e3(B, [2, 40]), {
          46: [1, 127]
        }, {
          46: [1, 128]
        }, {
          34: [1, 130],
          95: 129
        }, {
          6: [2, 49]
        }, e3(t3, n2, {
          7: 3,
          4: 131
        }), {
          13: l,
          16: h,
          60: 132,
          310: p
        }, e3(y, [2, 281]), {
          112: 133,
          119: [1, 134],
          141: [1, 136],
          143: 135,
          318: [1, 137],
          325: [1, 138]
        }, e3(b, [2, 287]), e3(y, q, {
          115: 139,
          142: 141,
          119: U,
          141: V
        }), e3(_, [2, 292]), {
          119: [1, 143]
        }, {
          119: [2, 294]
        }, e3(H, [2, 54]), e3(R, G, {
          144: 144,
          151: 145,
          152: 146,
          48: z,
          119: z
        }), e3(H, [2, 55]), e3(H, [2, 56]), e3(Q, [2, 297], {
          126: 147,
          129: 148,
          132: S
        }), {
          46: v,
          121: 149
        }, e3(Q, [2, 303], {
          130: 150,
          125: 151,
          133: w
        }), {
          46: v,
          121: 152
        }, e3([132, 133], [2, 62]), e3(X, $, {
          21: 153,
          64: 154,
          74: 155,
          75: Y
        }), e3(u, [2, 217]), {
          46: J,
          62: 157
        }, e3(y, [2, 248], {
          59: 159,
          318: [1, 160]
        }), {
          46: [2, 251]
        }, e3(W, K, {
          24: 161,
          63: 162,
          67: 163,
          68: Z
        }), e3(u, [2, 219]), {
          20: 165,
          45: x,
          46: O,
          57: 166,
          58: A,
          61: 98
        }, {
          46: [1, 167]
        }, e3(c, [2, 233]), {
          48: [1, 168]
        }, {
          48: [2, 357]
        }, {
          13: l,
          16: h,
          34: ee,
          35: te,
          39: 173,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          153: 169,
          183: 170,
          185: 171,
          224: ie,
          229: L,
          241: 172,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(ve, [2, 244], {
          61: 98,
          53: 200,
          57: 201,
          20: 202,
          45: x,
          46: O,
          58: A
        }), e3(N, [2, 239]), e3(W, K, {
          63: 162,
          67: 163,
          24: 203,
          68: Z
        }), e3(u, [2, 247]), e3(C, [2, 221]), {
          37: [1, 204]
        }, {
          37: [1, 205]
        }, e3(we, [2, 427], {
          246: 206
        }), {
          13: l,
          16: h,
          34: ee,
          39: 209,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          119: [1, 207],
          229: L,
          234: 208,
          241: 210,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Se, [2, 429], {
          250: 211
        }), e3(Se, [2, 147], {
          254: 212,
          255: 213,
          256: [2, 437],
          293: [1, 214],
          333: [1, 215],
          334: [1, 216],
          335: [1, 217],
          336: [1, 218],
          337: [1, 219],
          338: [1, 220]
        }), e3(Te, [2, 439], {
          258: 221
        }), e3(Ee, [2, 447], {
          266: 222
        }), {
          13: l,
          16: h,
          34: xe,
          35: Oe,
          60: 226,
          72: 225,
          73: 227,
          82: 224,
          87: re,
          98: 228,
          261: 187,
          263: 188,
          270: 223,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, {
          13: l,
          16: h,
          34: xe,
          35: Oe,
          60: 226,
          72: 225,
          73: 227,
          82: 224,
          87: re,
          98: 228,
          261: 187,
          263: 188,
          270: 249,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, {
          13: l,
          16: h,
          34: xe,
          35: Oe,
          60: 226,
          72: 225,
          73: 227,
          82: 224,
          87: re,
          98: 228,
          261: 187,
          263: 188,
          270: 250,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, e3(D, [2, 452]), e3(t3, [2, 5]), e3(He, [2, 266], {
          92: 251
        }), e3(Ge, [2, 268], {
          94: 252
        }), {
          34: [1, 254],
          38: [1, 253]
        }, e3(ze, [2, 270]), e3(i2, [2, 277], {
          6: [2, 279]
        }), e3(H, [2, 282], {
          109: 255,
          139: 256,
          140: [1, 257]
        }), e3(H, [2, 51]), {
          13: l,
          16: h,
          60: 258,
          310: p
        }, e3(H, [2, 67]), e3(H, [2, 311]), e3(H, [2, 312]), e3(H, [2, 313]), {
          116: [1, 259]
        }, e3(Qe, [2, 64]), {
          13: l,
          16: h,
          60: 260,
          310: p
        }, e3(y, [2, 310]), {
          13: l,
          16: h,
          60: 261,
          310: p
        }, e3(Xe, [2, 316], {
          145: 262
        }), e3(Xe, [2, 315]), {
          13: l,
          16: h,
          34: ee,
          35: te,
          39: 173,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          153: 263,
          183: 170,
          185: 171,
          224: ie,
          229: L,
          241: 172,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Q, [2, 299], {
          127: 264
        }), e3(Q, [2, 298]), e3([45, 132, 135], [2, 60]), e3(Q, [2, 305], {
          131: 265
        }), e3(Q, [2, 304]), e3([45, 133, 135], [2, 59]), e3(o, [2, 6]), e3($e, [2, 256], {
          65: 266,
          77: 267,
          78: [1, 268]
        }), e3(X, [2, 255]), {
          13: l,
          16: h,
          35: Oe,
          60: 274,
          72: 272,
          73: 273,
          76: 269,
          82: 271,
          84: 270,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, e3([6, 48, 68, 75, 78, 86, 88, 90], [2, 21]), e3(R, Ye, {
          25: 19,
          30: 275,
          155: 276,
          18: 277,
          22: 278,
          156: 279,
          162: 280,
          163: 281,
          28: a,
          46: Je,
          48: Je,
          90: Je,
          119: Je,
          167: Je,
          168: Je,
          170: Je,
          173: Je,
          174: Je
        }), {
          13: l,
          16: h,
          60: 282,
          310: p
        }, e3(y, [2, 249]), e3(o, [2, 7]), e3(X, $, {
          64: 154,
          74: 155,
          21: 283,
          75: Y
        }), e3(W, [2, 253]), {
          69: [1, 284]
        }, e3(W, K, {
          63: 162,
          67: 163,
          24: 285,
          68: Z
        }), e3(u, [2, 231]), e3(R, G, {
          152: 146,
          47: 286,
          151: 287,
          48: [2, 234]
        }), e3(u, [2, 92]), {
          48: [2, 360],
          182: 288,
          326: [1, 289]
        }, {
          13: l,
          16: h,
          34: We,
          60: 294,
          184: 290,
          188: 291,
          193: 292,
          195: Ke,
          310: p
        }, e3(Ze, [2, 364], {
          188: 291,
          193: 292,
          60: 294,
          186: 296,
          187: 297,
          184: 298,
          13: l,
          16: h,
          34: We,
          195: Ke,
          310: p
        }), e3(et, [2, 362]), e3(et, [2, 363]), {
          13: l,
          16: h,
          34: ee,
          35: te,
          39: 304,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          185: 302,
          197: 300,
          223: 299,
          224: ie,
          227: 301,
          229: L,
          241: 303,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, {
          13: l,
          16: h,
          34: We,
          60: 294,
          184: 305,
          188: 291,
          193: 292,
          195: Ke,
          310: p
        }, e3(tt, [2, 136]), e3(tt, [2, 137]), e3(tt, [2, 138]), e3(tt, [2, 139]), e3(tt, [2, 140]), e3(tt, [2, 141]), e3(tt, [2, 142]), e3(rt, [2, 180], {
          295: [1, 306],
          296: [1, 307]
        }), e3(rt, [2, 183]), e3(rt, [2, 184]), e3(rt, [2, 185]), e3(rt, [2, 186]), e3(rt, [2, 187]), e3(rt, [2, 188]), e3(nt, [2, 189]), e3(nt, [2, 190]), e3(nt, [2, 191]), e3(nt, [2, 192]), e3(rt, [2, 193]), e3(rt, [2, 194]), e3(rt, [2, 195]), e3(rt, [2, 196]), e3(rt, [2, 197]), e3(rt, [2, 198]), e3(W, K, {
          63: 162,
          67: 163,
          24: 308,
          68: Z
        }), e3(I, [2, 243]), e3(ve, [2, 245]), e3(o, [2, 19]), {
          34: [1, 309]
        }, {
          34: [1, 310]
        }, e3([37, 38, 191, 276], [2, 143], {
          247: 311,
          248: [1, 312]
        }), {
          13: l,
          16: h,
          34: [1, 314],
          60: 315,
          230: 313,
          310: p
        }, {
          13: l,
          16: h,
          34: We,
          60: 294,
          193: 316,
          195: Ke,
          310: p
        }, e3(et, [2, 413]), e3(et, [2, 414]), e3(we, [2, 145], {
          251: 317,
          252: [1, 318]
        }), e3(D, j, {
          257: 120,
          265: 121,
          269: 122,
          253: 319,
          217: k,
          271: M,
          332: F
        }), {
          256: [1, 320]
        }, e3(it, [2, 431]), e3(it, [2, 432]), e3(it, [2, 433]), e3(it, [2, 434]), e3(it, [2, 435]), e3(it, [2, 436]), {
          256: [2, 438]
        }, e3([37, 38, 191, 248, 252, 256, 276, 293, 333, 334, 335, 336, 337, 338], [2, 150], {
          259: 321,
          260: 322,
          261: 323,
          263: 324,
          271: [1, 326],
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          332: [1, 325]
        }), e3(Te, [2, 154], {
          267: 327,
          268: 328,
          26: at,
          329: st
        }), e3(Ee, [2, 156]), e3(Ee, [2, 159]), e3(Ee, [2, 160]), e3(Ee, [2, 161], {
          35: ot,
          93: ut
        }), e3(Ee, [2, 162]), e3(Ee, [2, 163]), e3(Ee, [2, 164]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 333,
          217: k,
          271: M,
          332: F
        }), e3(ct, [2, 166]), {
          93: [1, 334]
        }, {
          35: [1, 335]
        }, {
          35: [1, 336]
        }, {
          35: [1, 337]
        }, {
          35: lt,
          93: ht,
          177: 338
        }, {
          35: [1, 341]
        }, {
          35: [1, 343],
          93: [1, 342]
        }, {
          282: [1, 344]
        }, {
          35: [1, 345]
        }, {
          35: [1, 346]
        }, {
          35: [1, 347]
        }, e3(dt, [2, 453]), e3(dt, [2, 454]), e3(dt, [2, 455]), e3(dt, [2, 456]), e3(dt, [2, 457]), {
          282: [2, 459]
        }, e3(Ee, [2, 157]), e3(Ee, [2, 158]), {
          13: l,
          16: h,
          48: [1, 348],
          60: 350,
          87: re,
          97: 349,
          98: 351,
          99: 352,
          100: pt,
          229: ft,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, {
          48: [1, 355],
          93: [1, 356]
        }, {
          46: [1, 357]
        }, e3(ze, [2, 271]), e3(H, [2, 50]), e3(H, [2, 283]), {
          119: [1, 358]
        }, e3(H, [2, 66]), e3(y, q, {
          142: 141,
          115: 359,
          119: U,
          141: V
        }), e3(Qe, [2, 65]), e3(H, [2, 53]), {
          48: [1, 360],
          119: [1, 362],
          146: 361
        }, e3(Xe, [2, 328], {
          154: 363,
          326: [1, 364]
        }), {
          45: [1, 365],
          134: 366,
          135: gt
        }, {
          45: [1, 368],
          134: 369,
          135: gt
        }, e3(mt, [2, 258], {
          66: 370,
          85: 371,
          86: [1, 372],
          88: [1, 373]
        }), e3($e, [2, 257]), {
          69: [1, 374]
        }, e3(X, [2, 30], {
          272: 231,
          278: 236,
          281: 239,
          82: 271,
          72: 272,
          73: 273,
          60: 274,
          84: 375,
          13: l,
          16: h,
          35: Oe,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          279: Pe,
          280: Ce,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }), e3(yt, [2, 262]), e3(bt, [2, 85]), e3(bt, [2, 86]), e3(bt, [2, 87]), {
          35: ot,
          93: ut
        }, {
          48: [1, 376]
        }, {
          48: [1, 377]
        }, {
          20: 378,
          45: x,
          46: O,
          61: 98
        }, {
          20: 379,
          45: x,
          46: O,
          61: 98
        }, e3(_t, [2, 332], {
          157: 380
        }), e3(_t, [2, 331]), {
          13: l,
          16: h,
          34: ee,
          35: vt,
          39: 385,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          164: 381,
          198: 382,
          200: 383,
          224: wt,
          229: L,
          241: 384,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(I, [2, 20]), e3(mt, [2, 22]), {
          13: l,
          16: h,
          34: St,
          35: Tt,
          60: 274,
          70: 388,
          71: 389,
          72: 390,
          73: 391,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, e3(o, [2, 16]), {
          48: [1, 394]
        }, {
          48: [2, 235]
        }, {
          48: [2, 93]
        }, e3(R, [2, 359], {
          48: [2, 361]
        }), e3(Ze, [2, 94]), e3(Et, [2, 366], {
          189: 395
        }), e3(R, xt, {
          194: 396,
          196: 397
        }), e3(R, [2, 100]), e3(R, [2, 101]), e3(R, [2, 102]), e3(Ze, [2, 95]), e3(Ze, [2, 96]), e3(Ze, [2, 365]), {
          13: l,
          16: h,
          34: ee,
          35: te,
          38: [1, 398],
          39: 304,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          185: 302,
          197: 399,
          224: ie,
          227: 301,
          229: L,
          241: 303,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Ot, [2, 399]), e3(At, [2, 128]), e3(At, [2, 129]), e3(At, [2, 403]), e3(At, [2, 404]), {
          225: [1, 400]
        }, e3(rt, [2, 181]), {
          13: l,
          16: h,
          60: 401,
          310: p
        }, e3(o, [2, 18]), {
          38: [1, 402]
        }, {
          38: [1, 403]
        }, e3(we, [2, 428]), e3(D, j, {
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          245: 404,
          217: k,
          271: M,
          332: F
        }), {
          46: [1, 405]
        }, {
          46: [2, 407]
        }, {
          46: [2, 408]
        }, {
          13: l,
          16: h,
          34: ee,
          39: 407,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          229: L,
          235: 406,
          241: 408,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Se, [2, 430]), e3(D, j, {
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          249: 409,
          217: k,
          271: M,
          332: F
        }), e3(Se, [2, 148]), {
          35: lt,
          93: ht,
          177: 410
        }, e3(Te, [2, 440]), e3(D, j, {
          265: 121,
          269: 122,
          257: 411,
          217: k,
          271: M,
          332: F
        }), e3(Ee, [2, 443], {
          262: 412
        }), e3(Ee, [2, 445], {
          264: 413
        }), e3(it, [2, 441]), e3(it, [2, 442]), e3(Ee, [2, 448]), e3(D, j, {
          269: 122,
          265: 414,
          217: k,
          271: M,
          332: F
        }), e3(it, [2, 449]), e3(it, [2, 450]), e3(ct, [2, 88]), e3(it, [2, 350], {
          175: 415,
          314: [1, 416]
        }), {
          38: [1, 417]
        }, e3(ct, [2, 167]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 418,
          217: k,
          271: M,
          332: F
        }), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 419,
          217: k,
          271: M,
          332: F
        }), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 420,
          217: k,
          271: M,
          332: F
        }), e3(ct, [2, 171]), e3(ct, [2, 90]), e3(it, [2, 354], {
          178: 421
        }), {
          34: [1, 422]
        }, e3(ct, [2, 173]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 423,
          217: k,
          271: M,
          332: F
        }), {
          46: J,
          62: 424
        }, e3(Rt, [2, 460], {
          284: 425,
          314: [1, 426]
        }), e3(it, [2, 464], {
          287: 427,
          314: [1, 428]
        }), e3(it, [2, 466], {
          289: 429,
          314: [1, 430]
        }), e3(B, [2, 41]), e3(He, [2, 267]), e3(It, [2, 44]), e3(It, [2, 45]), e3(It, [2, 46]), e3(It, [2, 47]), {
          13: l,
          16: h,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          99: 433,
          119: [1, 431],
          229: ft,
          239: 432,
          242: 434,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(B, [2, 42]), e3(Ge, [2, 269]), e3(Nt, [2, 272], {
          96: 435
        }), {
          13: l,
          16: h,
          60: 436,
          310: p
        }, e3(H, [2, 52]), e3([6, 45, 132, 133, 135, 191], [2, 68]), e3(Xe, [2, 317]), {
          13: l,
          16: h,
          34: [1, 438],
          60: 439,
          147: 437,
          310: p
        }, e3(Xe, [2, 70]), e3(R, [2, 327], {
          48: Pt,
          119: Pt
        }), {
          46: J,
          62: 440
        }, e3(Q, [2, 300]), e3(y, [2, 307], {
          136: 441,
          318: [1, 442]
        }), {
          46: J,
          62: 443
        }, e3(Q, [2, 306]), e3(mt, [2, 23]), e3(mt, [2, 259]), {
          87: [1, 444]
        }, {
          87: [1, 445]
        }, {
          13: l,
          16: h,
          34: Ct,
          35: Oe,
          60: 274,
          72: 272,
          73: 273,
          79: 446,
          80: 447,
          81: Dt,
          82: 271,
          83: jt,
          84: 450,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, e3(yt, [2, 263]), e3(kt, [2, 71]), e3(kt, [2, 72]), e3(X, $, {
          64: 154,
          74: 155,
          21: 452,
          75: Y
        }), e3(W, K, {
          63: 162,
          67: 163,
          24: 453,
          68: Z
        }), {
          46: [2, 342],
          48: [2, 73],
          89: 463,
          90: s,
          119: [1, 459],
          158: 454,
          159: 455,
          166: 456,
          167: [1, 457],
          168: [1, 458],
          170: [1, 460],
          173: [1, 461],
          174: [1, 462]
        }, e3(_t, [2, 340], {
          165: 464,
          326: [1, 465]
        }), e3(Lt, Mt, {
          199: 466,
          202: 467,
          208: 468,
          209: 470,
          34: Ft
        }), e3(Bt, [2, 374], {
          202: 467,
          208: 468,
          209: 470,
          201: 471,
          199: 472,
          13: Mt,
          16: Mt,
          35: Mt,
          195: Mt,
          217: Mt,
          222: Mt,
          310: Mt,
          34: Ft
        }), e3(qt, [2, 372]), e3(qt, [2, 373]), {
          13: l,
          16: h,
          34: ee,
          35: vt,
          39: 478,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          200: 476,
          204: 474,
          224: wt,
          226: 473,
          228: 475,
          229: L,
          241: 477,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Lt, Mt, {
          202: 467,
          208: 468,
          209: 470,
          199: 479,
          34: Ft
        }), e3(W, [2, 24], {
          272: 231,
          278: 236,
          281: 239,
          60: 274,
          72: 390,
          73: 391,
          71: 480,
          13: l,
          16: h,
          34: St,
          35: Tt,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          279: Pe,
          280: Ce,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }), e3(Ut, [2, 260]), e3(Ut, [2, 25]), e3(Ut, [2, 26]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 481,
          217: k,
          271: M,
          332: F
        }), e3(Ut, [2, 29]), e3(W, K, {
          63: 162,
          67: 163,
          24: 482,
          68: Z
        }), e3([48, 119, 225, 326], [2, 97], {
          190: 483,
          191: [1, 484]
        }), e3(Et, [2, 99]), {
          13: l,
          16: h,
          34: ee,
          35: te,
          39: 304,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          185: 302,
          197: 485,
          224: ie,
          227: 301,
          229: L,
          241: 303,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Vt, [2, 124]), e3(Ot, [2, 400]), e3(Vt, [2, 125]), e3(rt, [2, 182]), e3(C, [2, 14]), e3(C, [2, 15]), e3(we, [2, 144]), {
          13: l,
          16: h,
          34: ee,
          39: 487,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          229: L,
          231: 486,
          241: 488,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, {
          233: [1, 489]
        }, {
          233: [2, 415]
        }, {
          233: [2, 416]
        }, e3(Se, [2, 146]), e3(Se, [2, 149]), e3(Te, [2, 151]), e3(Te, [2, 152], {
          268: 328,
          267: 490,
          26: at,
          329: st
        }), e3(Te, [2, 153], {
          268: 328,
          267: 491,
          26: at,
          329: st
        }), e3(Ee, [2, 155]), e3(it, [2, 352], {
          176: 492
        }), e3(it, [2, 351]), e3([6, 13, 16, 26, 34, 35, 37, 38, 46, 48, 78, 81, 83, 86, 87, 88, 90, 93, 119, 167, 168, 170, 173, 174, 191, 224, 229, 243, 244, 248, 252, 256, 271, 273, 274, 275, 276, 277, 279, 280, 282, 283, 286, 288, 293, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 326, 329, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343], [2, 165]), {
          38: [1, 493]
        }, {
          276: [1, 494]
        }, {
          276: [1, 495]
        }, e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 496,
          217: k,
          271: M,
          332: F
        }), {
          38: [1, 497]
        }, {
          38: [1, 498]
        }, e3(ct, [2, 175]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          285: 499,
          36: 501,
          26: [1, 500],
          217: k,
          271: M,
          332: F
        }), e3(Rt, [2, 461]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 502,
          217: k,
          271: M,
          332: F
        }), e3(it, [2, 465]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 503,
          217: k,
          271: M,
          332: F
        }), e3(it, [2, 467]), {
          13: l,
          16: h,
          34: [1, 505],
          60: 506,
          236: 504,
          310: p
        }, {
          13: l,
          16: h,
          34: We,
          60: 294,
          193: 507,
          195: Ke,
          310: p
        }, e3(et, [2, 423]), e3(et, [2, 424]), {
          35: [1, 510],
          48: [1, 508],
          101: 509
        }, e3(H, [2, 63]), {
          46: [1, 511]
        }, {
          46: [2, 318]
        }, {
          46: [2, 319]
        }, e3(H, [2, 57]), {
          13: l,
          16: h,
          60: 512,
          310: p
        }, e3(y, [2, 308]), e3(H, [2, 58]), e3(mt, [2, 36], {
          88: [1, 513]
        }), e3(mt, [2, 37], {
          86: [1, 514]
        }), e3($e, [2, 31], {
          272: 231,
          278: 236,
          281: 239,
          82: 271,
          72: 272,
          73: 273,
          60: 274,
          84: 450,
          80: 515,
          13: l,
          16: h,
          34: Ct,
          35: Oe,
          81: Dt,
          83: jt,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          279: Pe,
          280: Ce,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }), e3(Ht, [2, 264]), {
          35: Oe,
          82: 516
        }, {
          35: Oe,
          82: 517
        }, e3(Ht, [2, 34]), e3(Ht, [2, 35]), {
          31: 518,
          48: [2, 226],
          89: 519,
          90: s
        }, {
          32: 520,
          48: [2, 228],
          89: 521,
          90: s
        }, e3(_t, [2, 333]), e3(Gt, [2, 334], {
          160: 522,
          326: [1, 523]
        }), {
          46: J,
          62: 524
        }, {
          46: J,
          62: 525
        }, {
          46: J,
          62: 526
        }, {
          13: l,
          16: h,
          34: [1, 528],
          60: 529,
          169: 527,
          310: p
        }, e3(zt, [2, 346], {
          171: 530,
          319: [1, 531]
        }), {
          13: l,
          16: h,
          35: Oe,
          60: 274,
          72: 272,
          73: 273,
          82: 271,
          84: 532,
          272: 231,
          273: Ae,
          274: Re,
          275: Ie,
          277: Ne,
          278: 236,
          279: Pe,
          280: Ce,
          281: 239,
          282: De,
          283: je,
          286: ke,
          288: Le,
          310: p,
          338: Me,
          339: Fe,
          340: Be,
          341: qe,
          342: Ue,
          343: Ve
        }, {
          35: [1, 533]
        }, e3(Qt, [2, 84]), e3(_t, [2, 75]), e3(R, [2, 339], {
          46: Xt,
          48: Xt,
          90: Xt,
          119: Xt,
          167: Xt,
          168: Xt,
          170: Xt,
          173: Xt,
          174: Xt
        }), e3(Bt, [2, 104]), e3(R, [2, 378], {
          203: 534
        }), e3(R, [2, 376]), e3(R, [2, 377]), e3(Lt, [2, 386], {
          210: 535,
          211: 536
        }), e3(Bt, [2, 105]), e3(Bt, [2, 375]), {
          13: l,
          16: h,
          34: ee,
          35: vt,
          38: [1, 537],
          39: 478,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          200: 476,
          204: 538,
          224: wt,
          228: 475,
          229: L,
          241: 477,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Ot, [2, 401]), e3(At, [2, 130]), e3(At, [2, 131]), e3(At, [2, 405]), e3(At, [2, 406]), {
          225: [1, 539]
        }, e3(Ut, [2, 261]), {
          37: [1, 541],
          38: [1, 540]
        }, e3(o, [2, 17]), e3(Et, [2, 367]), e3(Et, [2, 368], {
          193: 292,
          60: 294,
          192: 542,
          188: 543,
          13: l,
          16: h,
          34: We,
          195: Ke,
          310: p
        }), e3($t, [2, 103], {
          276: [1, 544]
        }), {
          13: l,
          16: h,
          34: We,
          60: 294,
          193: 545,
          195: Ke,
          310: p
        }, e3(et, [2, 409]), e3(et, [2, 410]), e3(Yt, [2, 133]), e3(Ee, [2, 444]), e3(Ee, [2, 446]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 546,
          217: k,
          271: M,
          332: F
        }), e3(ct, [2, 168]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 547,
          217: k,
          271: M,
          332: F
        }), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 548,
          217: k,
          271: M,
          332: F
        }), {
          38: [1, 549],
          276: [1, 550]
        }, e3(ct, [2, 172]), e3(ct, [2, 174]), {
          38: [1, 551]
        }, {
          38: [2, 462]
        }, {
          38: [2, 463]
        }, {
          38: [1, 552]
        }, {
          38: [2, 468],
          191: [1, 555],
          290: 553,
          291: 554
        }, {
          46: [1, 556]
        }, {
          46: [2, 417]
        }, {
          46: [2, 418]
        }, {
          13: l,
          16: h,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          99: 558,
          229: ft,
          240: 557,
          242: 559,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(B, [2, 43]), e3(Nt, [2, 273]), {
          13: l,
          16: h,
          60: 350,
          87: re,
          97: 561,
          98: 351,
          99: 352,
          100: pt,
          102: 560,
          229: ft,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(R, G, {
          152: 146,
          148: 562,
          151: 563,
          48: [2, 320]
        }), e3(Q, [2, 61]), {
          87: [1, 564]
        }, {
          87: [1, 565]
        }, e3(Ht, [2, 265]), e3(Ht, [2, 32]), e3(Ht, [2, 33]), {
          48: [2, 11]
        }, {
          48: [2, 227]
        }, {
          48: [2, 12]
        }, {
          48: [2, 229]
        }, e3(R, Ye, {
          163: 281,
          161: 566,
          162: 567,
          46: Jt,
          48: Jt,
          90: Jt,
          119: Jt,
          167: Jt,
          168: Jt,
          170: Jt,
          173: Jt,
          174: Jt
        }), e3(Gt, [2, 335]), e3(Qt, [2, 76], {
          327: [1, 568]
        }), e3(Qt, [2, 77]), e3(Qt, [2, 78]), {
          46: J,
          62: 569
        }, {
          46: [2, 344]
        }, {
          46: [2, 345]
        }, {
          13: l,
          16: h,
          34: [1, 571],
          60: 572,
          172: 570,
          310: p
        }, e3(zt, [2, 347]), e3(Qt, [2, 81]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 573,
          39: 574,
          217: k,
          229: L,
          271: M,
          332: F
        }), {
          13: l,
          16: h,
          34: ee,
          35: vt,
          39: 478,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          200: 476,
          204: 575,
          224: wt,
          228: 475,
          229: L,
          241: 477,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Ot, [2, 109], {
          328: [1, 576]
        }), e3(Wt, [2, 393], {
          212: 577,
          216: 578,
          222: [1, 579]
        }), e3(Kt, [2, 126]), e3(Ot, [2, 402]), e3(Kt, [2, 127]), e3(Ut, [2, 27]), {
          34: [1, 580]
        }, e3(Et, [2, 98]), e3(Et, [2, 369]), e3(R, [2, 371]), {
          13: l,
          16: h,
          34: ee,
          39: 582,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          229: L,
          232: 581,
          241: 583,
          242: 177,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, {
          38: [1, 584],
          276: [1, 585]
        }, {
          38: [1, 586]
        }, {
          276: [1, 587]
        }, e3(ct, [2, 91]), e3(it, [2, 355]), e3(ct, [2, 176]), e3(ct, [2, 177]), {
          38: [1, 588]
        }, {
          38: [2, 469]
        }, {
          292: [1, 589]
        }, {
          13: l,
          16: h,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          99: 591,
          229: ft,
          237: 590,
          242: 592,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, {
          233: [1, 593]
        }, {
          233: [2, 425]
        }, {
          233: [2, 426]
        }, {
          13: l,
          16: h,
          38: [1, 594],
          60: 350,
          87: re,
          97: 595,
          98: 351,
          99: 352,
          100: pt,
          229: ft,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(Zt, [2, 274]), {
          48: [1, 596]
        }, {
          48: [2, 321]
        }, e3(mt, [2, 38]), e3(mt, [2, 39]), e3(_t, [2, 74]), e3(_t, [2, 337]), {
          46: [2, 343]
        }, e3(Qt, [2, 79]), {
          46: J,
          62: 597
        }, {
          46: [2, 348]
        }, {
          46: [2, 349]
        }, {
          37: [1, 598]
        }, {
          37: [1, 599]
        }, e3($t, [2, 380], {
          205: 600,
          276: [1, 601]
        }), e3(Lt, [2, 385]), e3([13, 16, 34, 35, 38, 87, 93, 224, 229, 243, 244, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 328], [2, 110], {
          329: [1, 602]
        }), {
          13: l,
          16: h,
          35: [1, 608],
          60: 605,
          195: [1, 606],
          213: 603,
          214: 604,
          217: [1, 607],
          310: p
        }, e3(Wt, [2, 394]), {
          38: [1, 609]
        }, {
          48: [1, 610]
        }, {
          48: [2, 411]
        }, {
          48: [2, 412]
        }, e3(ct, [2, 89]), e3(it, [2, 353]), e3(ct, [2, 169]), e3(D, j, {
          245: 116,
          249: 118,
          253: 119,
          257: 120,
          265: 121,
          269: 122,
          36: 611,
          217: k,
          271: M,
          332: F
        }), e3(ct, [2, 178]), {
          293: [1, 612]
        }, {
          13: l,
          16: h,
          34: We,
          60: 294,
          193: 613,
          195: Ke,
          310: p
        }, e3(et, [2, 419]), e3(et, [2, 420]), e3(er, [2, 135]), e3(Nt, [2, 48]), e3(Zt, [2, 275]), e3(tr, [2, 322], {
          149: 614,
          326: [1, 615]
        }), e3(Qt, [2, 80]), {
          34: [1, 616]
        }, {
          34: [1, 617]
        }, e3([46, 48, 90, 119, 167, 168, 170, 173, 174, 225, 326], [2, 106], {
          206: 618,
          191: [1, 619]
        }), e3(R, [2, 379]), e3(Lt, [2, 387]), e3(rr, [2, 112]), e3(rr, [2, 391], {
          215: 620,
          330: 621,
          26: [1, 623],
          331: [1, 622],
          332: [1, 624]
        }), e3(nr, [2, 113]), e3(nr, [2, 114]), {
          13: l,
          16: h,
          35: [1, 628],
          60: 629,
          93: [1, 627],
          195: ir,
          218: 625,
          219: 626,
          222: ar,
          310: p
        }, e3(Lt, Mt, {
          209: 470,
          208: 632
        }), e3(Ut, [2, 28]), {
          233: [1, 633]
        }, {
          38: [1, 634]
        }, {
          294: 635,
          300: le,
          301: he,
          302: de,
          303: pe
        }, {
          13: l,
          16: h,
          60: 178,
          87: re,
          93: ne,
          98: 179,
          99: 637,
          229: ft,
          238: 636,
          242: 638,
          243: ae,
          244: se,
          261: 187,
          263: 188,
          294: 183,
          297: oe,
          298: ue,
          299: ce,
          300: le,
          301: he,
          302: de,
          303: pe,
          304: fe,
          305: ge,
          306: me,
          307: ye,
          308: be,
          309: _e,
          310: p
        }, e3(R, G, {
          152: 146,
          150: 639,
          151: 640,
          48: sr,
          119: sr
        }), e3(tr, [2, 323]), {
          38: [1, 641]
        }, {
          38: [1, 642]
        }, e3($t, [2, 381]), e3($t, [2, 107], {
          209: 470,
          207: 643,
          208: 644,
          13: Mt,
          16: Mt,
          35: Mt,
          195: Mt,
          217: Mt,
          222: Mt,
          310: Mt,
          34: [1, 645]
        }), e3(rr, [2, 111]), e3(rr, [2, 392]), e3(rr, [2, 388]), e3(rr, [2, 389]), e3(rr, [2, 390]), e3(nr, [2, 115]), e3(nr, [2, 117]), e3(nr, [2, 118]), e3(or, [2, 395], {
          220: 646
        }), e3(nr, [2, 120]), e3(nr, [2, 121]), {
          13: l,
          16: h,
          60: 647,
          195: [1, 648],
          310: p
        }, {
          38: [1, 649]
        }, e3(Yt, [2, 132]), e3(ct, [2, 170]), {
          38: [2, 179]
        }, {
          48: [1, 650]
        }, {
          48: [2, 421]
        }, {
          48: [2, 422]
        }, e3(Xe, [2, 69]), e3(Xe, [2, 325]), e3(Qt, [2, 82]), e3(Qt, [2, 83]), e3(R, xt, {
          196: 397,
          194: 651
        }), e3(R, [2, 382]), e3(R, [2, 383]), {
          13: l,
          16: h,
          38: [2, 397],
          60: 629,
          195: ir,
          219: 653,
          221: 652,
          222: ar,
          310: p
        }, e3(nr, [2, 122]), e3(nr, [2, 123]), e3(nr, [2, 116]), {
          233: [1, 654]
        }, e3($t, [2, 108]), {
          38: [1, 655]
        }, {
          38: [2, 398],
          328: [1, 656]
        }, e3(er, [2, 134]), e3(nr, [2, 119]), e3(or, [2, 396])],
        defaultActions: {
          5: [2, 204],
          6: [2, 205],
          8: [2, 203],
          26: [2, 1],
          27: [2, 3],
          28: [2, 215],
          77: [2, 49],
          86: [2, 294],
          100: [2, 251],
          107: [2, 357],
          220: [2, 438],
          248: [2, 459],
          287: [2, 235],
          288: [2, 93],
          314: [2, 407],
          315: [2, 408],
          407: [2, 415],
          408: [2, 416],
          438: [2, 318],
          439: [2, 319],
          500: [2, 462],
          501: [2, 463],
          505: [2, 417],
          506: [2, 418],
          518: [2, 11],
          519: [2, 227],
          520: [2, 12],
          521: [2, 229],
          528: [2, 344],
          529: [2, 345],
          554: [2, 469],
          558: [2, 425],
          559: [2, 426],
          563: [2, 321],
          568: [2, 343],
          571: [2, 348],
          572: [2, 349],
          582: [2, 411],
          583: [2, 412],
          635: [2, 179],
          637: [2, 421],
          638: [2, 422]
        },
        parseError: function(e4, t4) {
          if (!t4.recoverable) {
            var r2 = new Error(e4);
            throw r2.hash = t4, r2;
          }
          this.trace(e4);
        },
        parse: function(e4) {
          var t4 = this, r2 = [0], n3 = [null], i3 = [], a2 = this.table, s2 = "", o2 = 0, u2 = 0, c2 = 0, l2 = 2, h2 = 1, d2 = i3.slice.call(arguments, 1), p2 = Object.create(this.lexer), f2 = {
            yy: {}
          };
          for (var g2 in this.yy)
            Object.prototype.hasOwnProperty.call(this.yy, g2) && (f2.yy[g2] = this.yy[g2]);
          p2.setInput(e4, f2.yy), f2.yy.lexer = p2, f2.yy.parser = this, p2.yylloc === void 0 && (p2.yylloc = {});
          var m2 = p2.yylloc;
          i3.push(m2);
          var y2 = p2.options && p2.options.ranges;
          typeof f2.yy.parseError == "function" ? this.parseError = f2.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError;
          for (var b2, _2, v2, w2, S2, T2, E2, x2, O2, A2 = function() {
            var e5;
            return typeof (e5 = p2.lex() || h2) != "number" && (e5 = t4.symbols_[e5] || e5), e5;
          }, R2 = {}; ; ) {
            if (v2 = r2[r2.length - 1], this.defaultActions[v2] ? w2 = this.defaultActions[v2] : (b2 == null && (b2 = A2()), w2 = a2[v2] && a2[v2][b2]), w2 === void 0 || !w2.length || !w2[0]) {
              var I2 = "";
              for (T2 in O2 = [], a2[v2])
                this.terminals_[T2] && T2 > l2 && O2.push("'" + this.terminals_[T2] + "'");
              I2 = p2.showPosition ? "Parse error on line " + (o2 + 1) + ":\n" + p2.showPosition() + "\nExpecting " + O2.join(", ") + ", got '" + (this.terminals_[b2] || b2) + "'" : "Parse error on line " + (o2 + 1) + ": Unexpected " + (b2 == h2 ? "end of input" : "'" + (this.terminals_[b2] || b2) + "'"), this.parseError(I2, {
                text: p2.match,
                token: this.terminals_[b2] || b2,
                line: p2.yylineno,
                loc: m2,
                expected: O2
              });
            }
            if (w2[0] instanceof Array && w2.length > 1)
              throw new Error("Parse Error: multiple actions possible at state: " + v2 + ", token: " + b2);
            switch (w2[0]) {
              case 1:
                r2.push(b2), n3.push(p2.yytext), i3.push(p2.yylloc), r2.push(w2[1]), b2 = null, _2 ? (b2 = _2, _2 = null) : (u2 = p2.yyleng, s2 = p2.yytext, o2 = p2.yylineno, m2 = p2.yylloc, c2 > 0 && c2--);
                break;
              case 2:
                if (E2 = this.productions_[w2[1]][1], R2.$ = n3[n3.length - E2], R2._$ = {
                  first_line: i3[i3.length - (E2 || 1)].first_line,
                  last_line: i3[i3.length - 1].last_line,
                  first_column: i3[i3.length - (E2 || 1)].first_column,
                  last_column: i3[i3.length - 1].last_column
                }, y2 && (R2._$.range = [i3[i3.length - (E2 || 1)].range[0], i3[i3.length - 1].range[1]]), (S2 = this.performAction.apply(R2, [s2, u2, o2, f2.yy, w2[1], n3, i3].concat(d2))) !== void 0)
                  return S2;
                E2 && (r2 = r2.slice(0, -1 * E2 * 2), n3 = n3.slice(0, -1 * E2), i3 = i3.slice(0, -1 * E2)), r2.push(this.productions_[w2[1]][0]), n3.push(R2.$), i3.push(R2._$), x2 = a2[r2[r2.length - 2]][r2[r2.length - 1]], r2.push(x2);
                break;
              case 3:
                return true;
            }
          }
          return true;
        }
      }, cr = r(102).Wildcard, lr = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", hr = lr + "type", dr = lr + "nil", pr = "http://www.w3.org/2001/XMLSchema#", fr = pr + "integer", gr = pr + "decimal", mr = pr + "double", yr = pr + "boolean", br = "", _r = "", vr = "";
      function wr(e4) {
        return e4.toLowerCase();
      }
      function Sr(e4, t4) {
        return e4.push(t4), e4;
      }
      function Tr(e4, t4) {
        return e4.push.apply(e4, t4), e4;
      }
      function Er(e4) {
        e4 || (e4 = {});
        for (var t4, r2 = 1, n3 = arguments.length; r2 < n3 && (t4 = arguments[r2] || {}); r2++)
          for (var i3 in t4)
            e4[i3] = t4[i3];
        return e4;
      }
      function xr() {
        for (var e4 = [], t4 = 0, r2 = arguments.length; t4 < r2; t4++)
          e4 = e4.concat.apply(e4, arguments[t4]);
        return e4;
      }
      function Or(e4) {
        if (e4[0] === "<" && (e4 = e4.substring(1, e4.length - 1)), /^[a-z]+:/.test(e4))
          return e4;
        if (!Kr.base)
          throw new Error("Cannot resolve relative IRI " + e4 + " because no base IRI was set.");
        switch (br || (br = Kr.base, _r = br.replace(/[^\/:]*$/, ""), vr = br.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]), e4[0]) {
          case void 0:
            return br;
          case "#":
            return br + e4;
          case "?":
            return br.replace(/(?:\?.*)?$/, e4);
          case "/":
            return vr + e4;
          default:
            return _r + e4;
        }
      }
      function Ar(e4) {
        if (e4) {
          var t4 = e4[0];
          if (t4 === "?" || t4 === "$")
            return Kr.factory.variable(e4.substr(1));
        }
        return e4;
      }
      function Rr(e4, t4) {
        return {
          type: "operation",
          operator: e4,
          args: t4 || []
        };
      }
      function Ir(e4, t4) {
        var r2 = {
          expression: e4 === "*" ? new cr() : e4
        };
        if (t4)
          for (var n3 in t4)
            r2[n3] = t4[n3];
        return r2;
      }
      function Nr(e4, t4) {
        return {
          type: "path",
          pathType: e4,
          items: t4
        };
      }
      function Pr(e4, t4) {
        for (var r2, n3 = 0, i3 = t4.length; n3 < i3 && (r2 = t4[n3]); n3++)
          e4 = Rr(r2[0], [e4, r2[1]]);
        return e4;
      }
      function Cr(e4, t4) {
        var r2, n3 = [], i3 = [], a2 = e4.length, s2 = {};
        if (!a2)
          return null;
        for (var o2 = 0; o2 < a2 && (r2 = e4[o2]); o2++)
          (r2.named ? i3 : n3).push(r2.iri);
        return s2[t4 || "from"] = {
          default: n3,
          named: i3
        }, s2;
      }
      function Dr(e4) {
        return parseInt(e4, 10);
      }
      function jr(e4) {
        return e4.type === "group" && e4.patterns.length === 1 ? e4.patterns[0] : e4;
      }
      function kr(e4, t4) {
        return t4 && t4.termType !== "NamedNode" && (t4 = Kr.factory.namedNode(t4)), Kr.factory.literal(e4, t4);
      }
      function Lr(e4, t4, r2) {
        var n3 = {};
        return e4 != null && (n3.subject = e4), t4 != null && (n3.predicate = t4), r2 != null && (n3.object = r2), n3;
      }
      function Mr(e4) {
        return typeof e4 == "string" ? e4.startsWith("e_") ? Kr.factory.blankNode(e4) : Kr.factory.blankNode("e_" + e4) : Kr.factory.blankNode("g_" + Fr++);
      }
      var Fr = 0;
      Kr._resetBlanks = function() {
        Fr = 0;
      };
      var Br = /\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g, qr = {
        "\\": "\\",
        "'": "'",
        '"': '"',
        t: "	",
        b: "\b",
        n: "\n",
        r: "\r",
        f: "\f"
      }, Ur = String.fromCharCode;
      function Vr(e4, t4) {
        e4 = e4.substring(t4, e4.length - t4);
        try {
          e4 = e4.replace(Br, function(e5, t5, r2, n3) {
            var i3;
            if (t5) {
              if (i3 = parseInt(t5, 16), isNaN(i3))
                throw new Error();
              return Ur(i3);
            }
            if (r2) {
              if (i3 = parseInt(r2, 16), isNaN(i3))
                throw new Error();
              return i3 < 65535 ? Ur(i3) : Ur(55296 + ((i3 -= 65536) >> 10), 56320 + (1023 & i3));
            }
            var a2 = qr[n3];
            if (!a2)
              throw new Error();
            return a2;
          });
        } catch (e5) {
          return "";
        }
        return e4;
      }
      function Hr(e4, t4, r2) {
        var n3 = [], i3 = [];
        return t4.forEach(function(t5) {
          n3.push(Lr(null, e4, t5.entity)), Tr(i3, t5.triples);
        }), xr(n3, r2 || [], i3);
      }
      function Gr(e4) {
        return e4.variable ? e4.variable.value : e4.value || e4.expression.value;
      }
      function zr(e4) {
        if (!e4)
          return [];
        if (e4.type === "aggregate")
          return [e4];
        if (e4.type === "operation") {
          const t4 = [];
          for (const r2 of e4.args)
            t4.push(...zr(r2));
          return t4;
        }
        return [];
      }
      function Qr(e4) {
        const t4 = new Set(), r2 = function(e5) {
          e5 && (e5.termType === "Variable" ? t4.add(e5) : e5.type === "operation" && e5.args.forEach(r2));
        };
        return r2(e4), t4;
      }
      function Xr(e4, t4 = 1, r2 = []) {
        for (const n3 of e4)
          t4 > 0 && n3 instanceof Array ? Xr(n3, t4 - 1, r2) : r2.push(n3);
        return r2;
      }
      function $r(e4) {
        return e4.termType === "Variable";
      }
      function Yr(e4) {
        if (e4.triples) {
          const t4 = [];
          for (const r2 of e4.triples)
            $r(r2.subject) && t4.push(r2.subject.value), $r(r2.predicate) && t4.push(r2.predicate.value), $r(r2.object) && t4.push(r2.object.value);
          return t4;
        }
        if (e4.patterns) {
          const t4 = [];
          for (const r2 of e4.patterns)
            t4.push(...Yr(r2));
          return t4;
        }
        return [];
      }
      function Jr(e4) {
        if (!Kr.sparqlStar)
          throw new Error("SPARQL* support is not enabled");
        return e4;
      }
      var Wr = {
        EOF: 1,
        parseError: function(e4, t4) {
          if (!this.yy.parser)
            throw new Error(e4);
          this.yy.parser.parseError(e4, t4);
        },
        setInput: function(e4, t4) {
          return this.yy = t4 || this.yy || {}, this._input = e4, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = {
            first_line: 1,
            first_column: 0,
            last_line: 1,
            last_column: 0
          }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
        },
        input: function() {
          var e4 = this._input[0];
          return this.yytext += e4, this.yyleng++, this.offset++, this.match += e4, this.matched += e4, e4.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e4;
        },
        unput: function(e4) {
          var t4 = e4.length, r2 = e4.split(/(?:\r\n?|\n)/g);
          this._input = e4 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t4), this.offset -= t4;
          var n3 = this.match.split(/(?:\r\n?|\n)/g);
          this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), r2.length - 1 && (this.yylineno -= r2.length - 1);
          var i3 = this.yylloc.range;
          return this.yylloc = {
            first_line: this.yylloc.first_line,
            last_line: this.yylineno + 1,
            first_column: this.yylloc.first_column,
            last_column: r2 ? (r2.length === n3.length ? this.yylloc.first_column : 0) + n3[n3.length - r2.length].length - r2[0].length : this.yylloc.first_column - t4
          }, this.options.ranges && (this.yylloc.range = [i3[0], i3[0] + this.yyleng - t4]), this.yyleng = this.yytext.length, this;
        },
        more: function() {
          return this._more = true, this;
        },
        reject: function() {
          return this.options.backtrack_lexer ? (this._backtrack = true, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        },
        less: function(e4) {
          this.unput(this.match.slice(e4));
        },
        pastInput: function() {
          var e4 = this.matched.substr(0, this.matched.length - this.match.length);
          return (e4.length > 20 ? "..." : "") + e4.substr(-20).replace(/\n/g, "");
        },
        upcomingInput: function() {
          var e4 = this.match;
          return e4.length < 20 && (e4 += this._input.substr(0, 20 - e4.length)), (e4.substr(0, 20) + (e4.length > 20 ? "..." : "")).replace(/\n/g, "");
        },
        showPosition: function() {
          var e4 = this.pastInput(), t4 = new Array(e4.length + 1).join("-");
          return e4 + this.upcomingInput() + "\n" + t4 + "^";
        },
        test_match: function(e4, t4) {
          var r2, n3, i3;
          if (this.options.backtrack_lexer && (i3 = {
            yylineno: this.yylineno,
            yylloc: {
              first_line: this.yylloc.first_line,
              last_line: this.last_line,
              first_column: this.yylloc.first_column,
              last_column: this.yylloc.last_column
            },
            yytext: this.yytext,
            match: this.match,
            matches: this.matches,
            matched: this.matched,
            yyleng: this.yyleng,
            offset: this.offset,
            _more: this._more,
            _input: this._input,
            yy: this.yy,
            conditionStack: this.conditionStack.slice(0),
            done: this.done
          }, this.options.ranges && (i3.yylloc.range = this.yylloc.range.slice(0))), (n3 = e4[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += n3.length), this.yylloc = {
            first_line: this.yylloc.last_line,
            last_line: this.yylineno + 1,
            first_column: this.yylloc.last_column,
            last_column: n3 ? n3[n3.length - 1].length - n3[n3.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e4[0].length
          }, this.yytext += e4[0], this.match += e4[0], this.matches = e4, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e4[0].length), this.matched += e4[0], r2 = this.performAction.call(this, this.yy, this, t4, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), r2)
            return r2;
          if (this._backtrack) {
            for (var a2 in i3)
              this[a2] = i3[a2];
            return false;
          }
          return false;
        },
        next: function() {
          if (this.done)
            return this.EOF;
          var e4, t4, r2, n3;
          this._input || (this.done = true), this._more || (this.yytext = "", this.match = "");
          for (var i3 = this._currentRules(), a2 = 0; a2 < i3.length; a2++)
            if ((r2 = this._input.match(this.rules[i3[a2]])) && (!t4 || r2[0].length > t4[0].length)) {
              if (t4 = r2, n3 = a2, this.options.backtrack_lexer) {
                if ((e4 = this.test_match(r2, i3[a2])) !== false)
                  return e4;
                if (this._backtrack) {
                  t4 = false;
                  continue;
                }
                return false;
              }
              if (!this.options.flex)
                break;
            }
          return t4 ? (e4 = this.test_match(t4, i3[n3])) !== false && e4 : this._input === "" ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
            text: "",
            token: null,
            line: this.yylineno
          });
        },
        lex: function() {
          var e4 = this.next();
          return e4 || this.lex();
        },
        begin: function(e4) {
          this.conditionStack.push(e4);
        },
        popState: function() {
          return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
        },
        _currentRules: function() {
          return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
        },
        topState: function(e4) {
          return (e4 = this.conditionStack.length - 1 - Math.abs(e4 || 0)) >= 0 ? this.conditionStack[e4] : "INITIAL";
        },
        pushState: function(e4) {
          this.begin(e4);
        },
        stateStackSize: function() {
          return this.conditionStack.length;
        },
        options: {
          flex: true,
          "case-insensitive": true
        },
        performAction: function(e4, t4, r2, n3) {
          switch (r2) {
            case 0:
              break;
            case 1:
              return 12;
            case 2:
              return 15;
            case 3:
              return 28;
            case 4:
              return 314;
            case 5:
              return 315;
            case 6:
              return 35;
            case 7:
              return 37;
            case 8:
              return 38;
            case 9:
              return 26;
            case 10:
              return 41;
            case 11:
              return 45;
            case 12:
              return 46;
            case 13:
              return 48;
            case 14:
              return 50;
            case 15:
              return 55;
            case 16:
              return 58;
            case 17:
              return 318;
            case 18:
              return 68;
            case 19:
              return 69;
            case 20:
              return 75;
            case 21:
              return 78;
            case 22:
              return 81;
            case 23:
              return 83;
            case 24:
              return 86;
            case 25:
              return 88;
            case 26:
              return 90;
            case 27:
              return 191;
            case 28:
              return 107;
            case 29:
              return 319;
            case 30:
              return 140;
            case 31:
              return 320;
            case 32:
              return 321;
            case 33:
              return 117;
            case 34:
              return 322;
            case 35:
              return 116;
            case 36:
              return 323;
            case 37:
              return 324;
            case 38:
              return 120;
            case 39:
              return 122;
            case 40:
              return 123;
            case 41:
              return 138;
            case 42:
              return 132;
            case 43:
              return 133;
            case 44:
              return 135;
            case 45:
              return 141;
            case 46:
              return 119;
            case 47:
              return 325;
            case 48:
              return 326;
            case 49:
              return 167;
            case 50:
              return 170;
            case 51:
              return 174;
            case 52:
              return 100;
            case 53:
              return 168;
            case 54:
              return 327;
            case 55:
              return 173;
            case 56:
              return 229;
            case 57:
              return 233;
            case 58:
              return 276;
            case 59:
              return 195;
            case 60:
              return 328;
            case 61:
              return 329;
            case 62:
              return 222;
            case 63:
              return 331;
            case 64:
              return 332;
            case 65:
              return 217;
            case 66:
              return 224;
            case 67:
              return 225;
            case 68:
              return 248;
            case 69:
              return 252;
            case 70:
              return 293;
            case 71:
              return 333;
            case 72:
              return 334;
            case 73:
              return 335;
            case 74:
              return 336;
            case 75:
              return 337;
            case 76:
              return 256;
            case 77:
              return 338;
            case 78:
              return 271;
            case 79:
              return 279;
            case 80:
              return 280;
            case 81:
              return 273;
            case 82:
              return 274;
            case 83:
              return 275;
            case 84:
              return 339;
            case 85:
              return 340;
            case 86:
              return 277;
            case 87:
              return 342;
            case 88:
              return 341;
            case 89:
              return 343;
            case 90:
              return 282;
            case 91:
              return 283;
            case 92:
              return 286;
            case 93:
              return 288;
            case 94:
              return 292;
            case 95:
              return 296;
            case 96:
              return 299;
            case 97:
              return 13;
            case 98:
              return 16;
            case 99:
              return 310;
            case 100:
              return 243;
            case 101:
              return 34;
            case 102:
              return 295;
            case 103:
              return 87;
            case 104:
              return 297;
            case 105:
              return 298;
            case 106:
              return 304;
            case 107:
              return 305;
            case 108:
              return 306;
            case 109:
              return 307;
            case 110:
              return 308;
            case 111:
              return 309;
            case 112:
              return "EXPONENT";
            case 113:
              return 300;
            case 114:
              return 301;
            case 115:
              return 302;
            case 116:
              return 303;
            case 117:
              return 93;
            case 118:
              return 244;
            case 119:
              return 6;
            case 120:
              return "INVALID";
            case 121:
              console.log(t4.yytext);
          }
        },
        rules: [/^(?:\s+|#[^\n\r]*)/i, /^(?:BASE)/i, /^(?:PREFIX)/i, /^(?:SELECT)/i, /^(?:DISTINCT)/i, /^(?:REDUCED)/i, /^(?:\()/i, /^(?:AS)/i, /^(?:\))/i, /^(?:\*)/i, /^(?:CONSTRUCT)/i, /^(?:WHERE)/i, /^(?:\{)/i, /^(?:\})/i, /^(?:DESCRIBE)/i, /^(?:ASK)/i, /^(?:FROM)/i, /^(?:NAMED)/i, /^(?:GROUP)/i, /^(?:BY)/i, /^(?:HAVING)/i, /^(?:ORDER)/i, /^(?:ASC)/i, /^(?:DESC)/i, /^(?:LIMIT)/i, /^(?:OFFSET)/i, /^(?:VALUES)/i, /^(?:;)/i, /^(?:LOAD)/i, /^(?:SILENT)/i, /^(?:INTO)/i, /^(?:CLEAR)/i, /^(?:DROP)/i, /^(?:CREATE)/i, /^(?:ADD)/i, /^(?:TO)/i, /^(?:MOVE)/i, /^(?:COPY)/i, /^(?:INSERT\s+DATA)/i, /^(?:DELETE\s+DATA)/i, /^(?:DELETE\s+WHERE)/i, /^(?:WITH)/i, /^(?:DELETE)/i, /^(?:INSERT)/i, /^(?:USING)/i, /^(?:DEFAULT)/i, /^(?:GRAPH)/i, /^(?:ALL)/i, /^(?:\.)/i, /^(?:OPTIONAL)/i, /^(?:SERVICE)/i, /^(?:BIND)/i, /^(?:UNDEF)/i, /^(?:MINUS)/i, /^(?:UNION)/i, /^(?:FILTER)/i, /^(?:<<)/i, /^(?:>>)/i, /^(?:,)/i, /^(?:a)/i, /^(?:\|)/i, /^(?:\/)/i, /^(?:\^)/i, /^(?:\?)/i, /^(?:\+)/i, /^(?:!)/i, /^(?:\[)/i, /^(?:\])/i, /^(?:\|\|)/i, /^(?:&&)/i, /^(?:=)/i, /^(?:!=)/i, /^(?:<)/i, /^(?:>)/i, /^(?:<=)/i, /^(?:>=)/i, /^(?:IN)/i, /^(?:NOT)/i, /^(?:-)/i, /^(?:BOUND)/i, /^(?:BNODE)/i, /^(?:(RAND|NOW|UUID|STRUUID))/i, /^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i, /^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i, /^(?:CONCAT)/i, /^(?:COALESCE)/i, /^(?:IF)/i, /^(?:REGEX)/i, /^(?:SUBSTR)/i, /^(?:REPLACE)/i, /^(?:EXISTS)/i, /^(?:COUNT)/i, /^(?:SUM|MIN|MAX|AVG|SAMPLE)/i, /^(?:GROUP_CONCAT)/i, /^(?:SEPARATOR)/i, /^(?:\^\^)/i, /^(?:true|false)/i, /^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i, /^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i, /^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i, /^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i, /^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i, /^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i, /^(?:([0-9]+))/i, /^(?:([0-9]*\.[0-9]+))/i, /^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i, /^(?:(\+([0-9]+)))/i, /^(?:(\+([0-9]*\.[0-9]+)))/i, /^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i, /^(?:(-([0-9]+)))/i, /^(?:(-([0-9]*\.[0-9]+)))/i, /^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i, /^(?:([eE][+-]?[0-9]+))/i, /^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i, /^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i, /^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i, /^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i, /^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i, /^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i, /^(?:$)/i, /^(?:.)/i, /^(?:.)/i],
        conditions: {
          INITIAL: {
            rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121],
            inclusive: true
          }
        }
      };
      function Kr() {
        this.yy = {};
      }
      return ur.lexer = Wr, Kr.prototype = ur, ur.Parser = Kr, new Kr();
    }();
    t2.parser = i, t2.Parser = i.Parser, t2.parse = function() {
      return i.parse.apply(i, arguments);
    }, t2.main = function(n2) {
      n2[1] || (console.log("Usage: " + n2[0] + " FILE"), e2.exit(1));
      var i2 = r(212).readFileSync(r(213).normalize(n2[1]), "utf8");
      return t2.parser.parse(i2);
    }, r.c[r.s] === n && t2.main(e2.argv.slice(1));
  }).call(this, r(8), r(101)(e));
}, function(e, t2, r) {
  "use strict";
  t2.byteLength = function(e2) {
    var t3 = c(e2), r2 = t3[0], n2 = t3[1];
    return 3 * (r2 + n2) / 4 - n2;
  }, t2.toByteArray = function(e2) {
    var t3, r2, n2 = c(e2), s2 = n2[0], o2 = n2[1], u2 = new a(function(e3, t4, r3) {
      return 3 * (t4 + r3) / 4 - r3;
    }(0, s2, o2)), l2 = 0, h = o2 > 0 ? s2 - 4 : s2;
    for (r2 = 0; r2 < h; r2 += 4)
      t3 = i[e2.charCodeAt(r2)] << 18 | i[e2.charCodeAt(r2 + 1)] << 12 | i[e2.charCodeAt(r2 + 2)] << 6 | i[e2.charCodeAt(r2 + 3)], u2[l2++] = t3 >> 16 & 255, u2[l2++] = t3 >> 8 & 255, u2[l2++] = 255 & t3;
    o2 === 2 && (t3 = i[e2.charCodeAt(r2)] << 2 | i[e2.charCodeAt(r2 + 1)] >> 4, u2[l2++] = 255 & t3);
    o2 === 1 && (t3 = i[e2.charCodeAt(r2)] << 10 | i[e2.charCodeAt(r2 + 1)] << 4 | i[e2.charCodeAt(r2 + 2)] >> 2, u2[l2++] = t3 >> 8 & 255, u2[l2++] = 255 & t3);
    return u2;
  }, t2.fromByteArray = function(e2) {
    for (var t3, r2 = e2.length, i2 = r2 % 3, a2 = [], s2 = 0, o2 = r2 - i2; s2 < o2; s2 += 16383)
      a2.push(l(e2, s2, s2 + 16383 > o2 ? o2 : s2 + 16383));
    i2 === 1 ? (t3 = e2[r2 - 1], a2.push(n[t3 >> 2] + n[t3 << 4 & 63] + "==")) : i2 === 2 && (t3 = (e2[r2 - 2] << 8) + e2[r2 - 1], a2.push(n[t3 >> 10] + n[t3 >> 4 & 63] + n[t3 << 2 & 63] + "="));
    return a2.join("");
  };
  for (var n = [], i = [], a = typeof Uint8Array != "undefined" ? Uint8Array : Array, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", o = 0, u = s.length; o < u; ++o)
    n[o] = s[o], i[s.charCodeAt(o)] = o;
  function c(e2) {
    var t3 = e2.length;
    if (t3 % 4 > 0)
      throw new Error("Invalid string. Length must be a multiple of 4");
    var r2 = e2.indexOf("=");
    return r2 === -1 && (r2 = t3), [r2, r2 === t3 ? 0 : 4 - r2 % 4];
  }
  function l(e2, t3, r2) {
    for (var i2, a2, s2 = [], o2 = t3; o2 < r2; o2 += 3)
      i2 = (e2[o2] << 16 & 16711680) + (e2[o2 + 1] << 8 & 65280) + (255 & e2[o2 + 2]), s2.push(n[(a2 = i2) >> 18 & 63] + n[a2 >> 12 & 63] + n[a2 >> 6 & 63] + n[63 & a2]);
    return s2.join("");
  }
  i["-".charCodeAt(0)] = 62, i["_".charCodeAt(0)] = 63;
}, function(e, t2) {
  t2.read = function(e2, t3, r, n, i) {
    var a, s, o = 8 * i - n - 1, u = (1 << o) - 1, c = u >> 1, l = -7, h = r ? i - 1 : 0, d = r ? -1 : 1, p = e2[t3 + h];
    for (h += d, a = p & (1 << -l) - 1, p >>= -l, l += o; l > 0; a = 256 * a + e2[t3 + h], h += d, l -= 8)
      ;
    for (s = a & (1 << -l) - 1, a >>= -l, l += n; l > 0; s = 256 * s + e2[t3 + h], h += d, l -= 8)
      ;
    if (a === 0)
      a = 1 - c;
    else {
      if (a === u)
        return s ? NaN : 1 / 0 * (p ? -1 : 1);
      s += Math.pow(2, n), a -= c;
    }
    return (p ? -1 : 1) * s * Math.pow(2, a - n);
  }, t2.write = function(e2, t3, r, n, i, a) {
    var s, o, u, c = 8 * a - i - 1, l = (1 << c) - 1, h = l >> 1, d = i === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = n ? 0 : a - 1, f = n ? 1 : -1, g = t3 < 0 || t3 === 0 && 1 / t3 < 0 ? 1 : 0;
    for (t3 = Math.abs(t3), isNaN(t3) || t3 === 1 / 0 ? (o = isNaN(t3) ? 1 : 0, s = l) : (s = Math.floor(Math.log(t3) / Math.LN2), t3 * (u = Math.pow(2, -s)) < 1 && (s--, u *= 2), (t3 += s + h >= 1 ? d / u : d * Math.pow(2, 1 - h)) * u >= 2 && (s++, u /= 2), s + h >= l ? (o = 0, s = l) : s + h >= 1 ? (o = (t3 * u - 1) * Math.pow(2, i), s += h) : (o = t3 * Math.pow(2, h - 1) * Math.pow(2, i), s = 0)); i >= 8; e2[r + p] = 255 & o, p += f, o /= 256, i -= 8)
      ;
    for (s = s << i | o, c += i; c > 0; e2[r + p] = 255 & s, p += f, s /= 256, c -= 8)
      ;
    e2[r + p - f] |= 128 * g;
  };
}, function(e, t2) {
}, function(e, t2, r) {
  "use strict";
  function n(e2, t3) {
    var r2 = Object.keys(e2);
    if (Object.getOwnPropertySymbols) {
      var n2 = Object.getOwnPropertySymbols(e2);
      t3 && (n2 = n2.filter(function(t4) {
        return Object.getOwnPropertyDescriptor(e2, t4).enumerable;
      })), r2.push.apply(r2, n2);
    }
    return r2;
  }
  function i(e2, t3, r2) {
    return t3 in e2 ? Object.defineProperty(e2, t3, {
      value: r2,
      enumerable: true,
      configurable: true,
      writable: true
    }) : e2[t3] = r2, e2;
  }
  function a(e2, t3) {
    for (var r2 = 0; r2 < t3.length; r2++) {
      var n2 = t3[r2];
      n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e2, n2.key, n2);
    }
  }
  var s = r(11).Buffer, o = r(206).inspect, u = o && o.custom || "inspect";
  e.exports = function() {
    function e2() {
      !function(e3, t4) {
        if (!(e3 instanceof t4))
          throw new TypeError("Cannot call a class as a function");
      }(this, e2), this.head = null, this.tail = null, this.length = 0;
    }
    var t3, r2, c;
    return t3 = e2, (r2 = [{
      key: "push",
      value: function(e3) {
        var t4 = {
          data: e3,
          next: null
        };
        this.length > 0 ? this.tail.next = t4 : this.head = t4, this.tail = t4, ++this.length;
      }
    }, {
      key: "unshift",
      value: function(e3) {
        var t4 = {
          data: e3,
          next: this.head
        };
        this.length === 0 && (this.tail = t4), this.head = t4, ++this.length;
      }
    }, {
      key: "shift",
      value: function() {
        if (this.length !== 0) {
          var e3 = this.head.data;
          return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, e3;
        }
      }
    }, {
      key: "clear",
      value: function() {
        this.head = this.tail = null, this.length = 0;
      }
    }, {
      key: "join",
      value: function(e3) {
        if (this.length === 0)
          return "";
        for (var t4 = this.head, r3 = "" + t4.data; t4 = t4.next; )
          r3 += e3 + t4.data;
        return r3;
      }
    }, {
      key: "concat",
      value: function(e3) {
        if (this.length === 0)
          return s.alloc(0);
        for (var t4, r3, n2, i2 = s.allocUnsafe(e3 >>> 0), a2 = this.head, o2 = 0; a2; )
          t4 = a2.data, r3 = i2, n2 = o2, s.prototype.copy.call(t4, r3, n2), o2 += a2.data.length, a2 = a2.next;
        return i2;
      }
    }, {
      key: "consume",
      value: function(e3, t4) {
        var r3;
        return e3 < this.head.data.length ? (r3 = this.head.data.slice(0, e3), this.head.data = this.head.data.slice(e3)) : r3 = e3 === this.head.data.length ? this.shift() : t4 ? this._getString(e3) : this._getBuffer(e3), r3;
      }
    }, {
      key: "first",
      value: function() {
        return this.head.data;
      }
    }, {
      key: "_getString",
      value: function(e3) {
        var t4 = this.head, r3 = 1, n2 = t4.data;
        for (e3 -= n2.length; t4 = t4.next; ) {
          var i2 = t4.data, a2 = e3 > i2.length ? i2.length : e3;
          if (a2 === i2.length ? n2 += i2 : n2 += i2.slice(0, e3), (e3 -= a2) == 0) {
            a2 === i2.length ? (++r3, t4.next ? this.head = t4.next : this.head = this.tail = null) : (this.head = t4, t4.data = i2.slice(a2));
            break;
          }
          ++r3;
        }
        return this.length -= r3, n2;
      }
    }, {
      key: "_getBuffer",
      value: function(e3) {
        var t4 = s.allocUnsafe(e3), r3 = this.head, n2 = 1;
        for (r3.data.copy(t4), e3 -= r3.data.length; r3 = r3.next; ) {
          var i2 = r3.data, a2 = e3 > i2.length ? i2.length : e3;
          if (i2.copy(t4, t4.length - e3, 0, a2), (e3 -= a2) == 0) {
            a2 === i2.length ? (++n2, r3.next ? this.head = r3.next : this.head = this.tail = null) : (this.head = r3, r3.data = i2.slice(a2));
            break;
          }
          ++n2;
        }
        return this.length -= n2, t4;
      }
    }, {
      key: u,
      value: function(e3, t4) {
        return o(this, function(e4) {
          for (var t5 = 1; t5 < arguments.length; t5++) {
            var r3 = arguments[t5] != null ? arguments[t5] : {};
            t5 % 2 ? n(Object(r3), true).forEach(function(t6) {
              i(e4, t6, r3[t6]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e4, Object.getOwnPropertyDescriptors(r3)) : n(Object(r3)).forEach(function(t6) {
              Object.defineProperty(e4, t6, Object.getOwnPropertyDescriptor(r3, t6));
            });
          }
          return e4;
        }({}, t4, {
          depth: 0,
          customInspect: false
        }));
      }
    }]) && a(t3.prototype, r2), c && a(t3, c), e2;
  }();
}, function(e, t2) {
}, function(e, t2, r) {
  var n = r(11), i = n.Buffer;
  function a(e2, t3) {
    for (var r2 in e2)
      t3[r2] = e2[r2];
  }
  function s(e2, t3, r2) {
    return i(e2, t3, r2);
  }
  i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e.exports = n : (a(n, t2), t2.Buffer = s), s.prototype = Object.create(i.prototype), a(i, s), s.from = function(e2, t3, r2) {
    if (typeof e2 == "number")
      throw new TypeError("Argument must not be a number");
    return i(e2, t3, r2);
  }, s.alloc = function(e2, t3, r2) {
    if (typeof e2 != "number")
      throw new TypeError("Argument must be a number");
    var n2 = i(e2);
    return t3 !== void 0 ? typeof r2 == "string" ? n2.fill(t3, r2) : n2.fill(t3) : n2.fill(0), n2;
  }, s.allocUnsafe = function(e2) {
    if (typeof e2 != "number")
      throw new TypeError("Argument must be a number");
    return i(e2);
  }, s.allocUnsafeSlow = function(e2) {
    if (typeof e2 != "number")
      throw new TypeError("Argument must be a number");
    return n.SlowBuffer(e2);
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    var n;
    function i(e2, t4, r2) {
      return t4 in e2 ? Object.defineProperty(e2, t4, {
        value: r2,
        enumerable: true,
        configurable: true,
        writable: true
      }) : e2[t4] = r2, e2;
    }
    var a = r(69), s = Symbol("lastResolve"), o = Symbol("lastReject"), u = Symbol("error"), c = Symbol("ended"), l = Symbol("lastPromise"), h = Symbol("handlePromise"), d = Symbol("stream");
    function p(e2, t4) {
      return {
        value: e2,
        done: t4
      };
    }
    function f(e2) {
      var t4 = e2[s];
      if (t4 !== null) {
        var r2 = e2[d].read();
        r2 !== null && (e2[l] = null, e2[s] = null, e2[o] = null, t4(p(r2, false)));
      }
    }
    function g(e2) {
      t3.nextTick(f, e2);
    }
    var m = Object.getPrototypeOf(function() {
    }), y = Object.setPrototypeOf((i(n = {
      get stream() {
        return this[d];
      },
      next: function() {
        var e2 = this, r2 = this[u];
        if (r2 !== null)
          return Promise.reject(r2);
        if (this[c])
          return Promise.resolve(p(void 0, true));
        if (this[d].destroyed)
          return new Promise(function(r3, n3) {
            t3.nextTick(function() {
              e2[u] ? n3(e2[u]) : r3(p(void 0, true));
            });
          });
        var n2, i2 = this[l];
        if (i2)
          n2 = new Promise(function(e3, t4) {
            return function(r3, n3) {
              e3.then(function() {
                t4[c] ? r3(p(void 0, true)) : t4[h](r3, n3);
              }, n3);
            };
          }(i2, this));
        else {
          var a2 = this[d].read();
          if (a2 !== null)
            return Promise.resolve(p(a2, false));
          n2 = new Promise(this[h]);
        }
        return this[l] = n2, n2;
      }
    }, Symbol.asyncIterator, function() {
      return this;
    }), i(n, "return", function() {
      var e2 = this;
      return new Promise(function(t4, r2) {
        e2[d].destroy(null, function(e3) {
          e3 ? r2(e3) : t4(p(void 0, true));
        });
      });
    }), n), m);
    e.exports = function(e2) {
      var t4, r2 = Object.create(y, (i(t4 = {}, d, {
        value: e2,
        writable: true
      }), i(t4, s, {
        value: null,
        writable: true
      }), i(t4, o, {
        value: null,
        writable: true
      }), i(t4, u, {
        value: null,
        writable: true
      }), i(t4, c, {
        value: e2._readableState.endEmitted,
        writable: true
      }), i(t4, h, {
        value: function(e3, t5) {
          var n2 = r2[d].read();
          n2 ? (r2[l] = null, r2[s] = null, r2[o] = null, e3(p(n2, false))) : (r2[s] = e3, r2[o] = t5);
        },
        writable: true
      }), t4));
      return r2[l] = null, a(e2, function(e3) {
        if (e3 && e3.code !== "ERR_STREAM_PREMATURE_CLOSE") {
          var t5 = r2[o];
          return t5 !== null && (r2[l] = null, r2[s] = null, r2[o] = null, t5(e3)), void (r2[u] = e3);
        }
        var n2 = r2[s];
        n2 !== null && (r2[l] = null, r2[s] = null, r2[o] = null, n2(p(void 0, true))), r2[c] = true;
      }), e2.on("readable", g.bind(null, r2)), r2;
    };
  }).call(this, r(8));
}, function(e, t2) {
  e.exports = function() {
    throw new Error("Readable.from is not available in the browser");
  };
}, function(e, t2, r) {
  "use strict";
  e.exports = i;
  var n = r(110);
  function i(e2) {
    if (!(this instanceof i))
      return new i(e2);
    n.call(this, e2);
  }
  r(12)(i, n), i.prototype._transform = function(e2, t3, r2) {
    r2(null, e2);
  };
}, function(e, t2, r) {
  "use strict";
  var n;
  var i = r(31).codes, a = i.ERR_MISSING_ARGS, s = i.ERR_STREAM_DESTROYED;
  function o(e2) {
    if (e2)
      throw e2;
  }
  function u(e2, t3, i2, a2) {
    a2 = function(e3) {
      var t4 = false;
      return function() {
        t4 || (t4 = true, e3.apply(void 0, arguments));
      };
    }(a2);
    var o2 = false;
    e2.on("close", function() {
      o2 = true;
    }), n === void 0 && (n = r(69)), n(e2, {
      readable: t3,
      writable: i2
    }, function(e3) {
      if (e3)
        return a2(e3);
      o2 = true, a2();
    });
    var u2 = false;
    return function(t4) {
      if (!o2 && !u2)
        return u2 = true, function(e3) {
          return e3.setHeader && typeof e3.abort == "function";
        }(e2) ? e2.abort() : typeof e2.destroy == "function" ? e2.destroy() : void a2(t4 || new s("pipe"));
    };
  }
  function c(e2) {
    e2();
  }
  function l(e2, t3) {
    return e2.pipe(t3);
  }
  function h(e2) {
    return e2.length ? typeof e2[e2.length - 1] != "function" ? o : e2.pop() : o;
  }
  e.exports = function() {
    for (var e2 = arguments.length, t3 = new Array(e2), r2 = 0; r2 < e2; r2++)
      t3[r2] = arguments[r2];
    var n2, i2 = h(t3);
    if (Array.isArray(t3[0]) && (t3 = t3[0]), t3.length < 2)
      throw new a("streams");
    var s2 = t3.map(function(e3, r3) {
      var a2 = r3 < t3.length - 1;
      return u(e3, a2, r3 > 0, function(e4) {
        n2 || (n2 = e4), e4 && s2.forEach(c), a2 || (s2.forEach(c), i2(n2));
      });
    });
    return t3.reduce(l);
  };
}, function(e, t2) {
}, function(e, t2) {
}, function(e, t2) {
  function r(e2) {
    this._options = e2 = e2 || {};
    var t3 = e2.prefixes || {};
    this._prefixByIri = {};
    var r2 = [];
    for (var n2 in t3) {
      var i2 = t3[n2];
      o(i2) && (this._prefixByIri[i2] = n2, r2.push(i2));
    }
    var a2 = r2.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g, "\\$&");
    this._prefixRegex = new RegExp("^(" + a2 + ")([a-zA-Z][\\-_a-zA-Z0-9]*)$"), this._usedPrefixes = {}, this._sparqlStar = e2.sparqlStar, this._indent = o(e2.indent) ? e2.indent : "  ", this._newline = o(e2.newline) ? e2.newline : "\n";
  }
  r.prototype.toQuery = function(e2) {
    var t3 = "";
    return e2.queryType && (t3 += e2.queryType.toUpperCase() + " "), e2.reduced && (t3 += "REDUCED "), e2.distinct && (t3 += "DISTINCT "), e2.variables ? t3 += l(e2.variables, void 0, function(e3) {
      return u(e3) ? this.toEntity(e3) : "(" + this.toExpression(e3.expression) + " AS " + s(e3.variable) + ")";
    }, this) + " " : e2.template && (t3 += this.group(e2.template, true) + this._newline), e2.from && (t3 += this.graphs("FROM ", e2.from.default) + this.graphs("FROM NAMED ", e2.from.named)), e2.where && (t3 += "WHERE " + this.group(e2.where, true) + this._newline), e2.updates && (t3 += l(e2.updates, ";" + this._newline, this.toUpdate, this)), e2.group && (t3 += "GROUP BY " + l(e2.group, void 0, function(e3) {
      var t4 = o(e3.expression) ? e3.expression : "(" + this.toExpression(e3.expression) + ")";
      return e3.variable ? "(" + t4 + " AS " + s(e3.variable) + ")" : t4;
    }, this) + this._newline), e2.having && (t3 += "HAVING (" + l(e2.having, void 0, this.toExpression, this) + ")" + this._newline), e2.order && (t3 += "ORDER BY " + l(e2.order, void 0, function(e3) {
      var t4 = "(" + this.toExpression(e3.expression) + ")";
      return e3.descending ? "DESC " + t4 : t4;
    }, this) + this._newline), e2.offset && (t3 += "OFFSET " + e2.offset + this._newline), e2.limit && (t3 += "LIMIT " + e2.limit + this._newline), e2.values && (t3 += this.values(e2)), (t3 = this.baseAndPrefixes(e2) + t3).trim();
  }, r.prototype.baseAndPrefixes = function(e2) {
    var t3 = e2.base ? "BASE <" + e2.base + ">" + this._newline : "", r2 = "";
    for (var n2 in e2.prefixes)
      (this._options.allPrefixes || this._usedPrefixes[n2]) && (r2 += "PREFIX " + n2 + ": <" + e2.prefixes[n2] + ">" + this._newline);
    return t3 + r2;
  }, r.prototype.toPattern = function(e2) {
    var t3 = e2.type || e2 instanceof Array && "array" || (e2.subject && e2.predicate && e2.object ? "triple" : "");
    if (!(t3 in this))
      throw new Error("Unknown entry type: " + t3);
    return this[t3](e2);
  }, r.prototype.triple = function(e2) {
    return this.toEntity(e2.subject) + " " + this.toEntity(e2.predicate) + " " + this.toEntity(e2.object) + ".";
  }, r.prototype.array = function(e2) {
    return l(e2, this._newline, this.toPattern, this);
  }, r.prototype.bgp = function(e2) {
    return this.encodeTriples(e2.triples);
  }, r.prototype.encodeTriples = function(e2) {
    if (!e2.length)
      return "";
    for (var t3 = [], r2 = void 0, n2 = void 0, i2 = 0; i2 < e2.length; i2++) {
      var a2 = e2[i2];
      c(a2.subject, r2) ? c(a2.predicate, n2) ? t3.push(",") : (n2 = a2.predicate, t3.push(";" + this._newline, this._indent, this.toEntity(n2))) : (r2 && t3.push("." + this._newline), r2 = a2.subject, n2 = a2.predicate, t3.push(this.toEntity(r2), " ", this.toEntity(n2))), t3.push(" ", this.toEntity(a2.object));
    }
    return t3.push("."), t3.join("");
  }, r.prototype.graph = function(e2) {
    return "GRAPH " + this.toEntity(e2.name) + " " + this.group(e2);
  }, r.prototype.graphs = function(e2, t3) {
    return t3 && t3.length !== 0 ? l(t3, "", function(t4) {
      return e2 + this.toEntity(t4) + this._newline;
    }, this) : "";
  }, r.prototype.group = function(e2, t3) {
    return (e2 = t3 !== true ? this.array(e2.patterns || e2.triples) : this.toPattern(e2.type !== "group" ? e2 : e2.patterns)).indexOf(this._newline) === -1 ? "{ " + e2 + " }" : "{" + this._newline + this.indent(e2) + this._newline + "}";
  }, r.prototype.query = function(e2) {
    return this.toQuery(e2);
  }, r.prototype.filter = function(e2) {
    return "FILTER(" + this.toExpression(e2.expression) + ")";
  }, r.prototype.bind = function(e2) {
    return "BIND(" + this.toExpression(e2.expression) + " AS " + s(e2.variable) + ")";
  }, r.prototype.optional = function(e2) {
    return "OPTIONAL " + this.group(e2);
  }, r.prototype.union = function(e2) {
    return l(e2.patterns, this._newline + "UNION" + this._newline, function(e3) {
      return this.group(e3, true);
    }, this);
  }, r.prototype.minus = function(e2) {
    return "MINUS " + this.group(e2);
  }, r.prototype.values = function(e2) {
    var t3, r2, n2 = Object.keys(e2.values.reduce(function(e3, t4) {
      for (var r3 in t4)
        e3[r3] = true;
      return e3;
    }, {}));
    return n2.length === 1 ? t3 = r2 = "" : (t3 = "(", r2 = ")"), "VALUES " + t3 + n2.join(" ") + r2 + " {" + this._newline + l(e2.values, this._newline, function(e3) {
      return "  " + t3 + l(n2, void 0, function(t4) {
        return e3[t4] ? this.toEntity(e3[t4]) : "UNDEF";
      }, this) + r2;
    }, this) + this._newline + "}";
  }, r.prototype.service = function(e2) {
    return "SERVICE " + (e2.silent ? "SILENT " : "") + this.toEntity(e2.name) + " " + this.group(e2);
  }, r.prototype.toExpression = function(e2) {
    if (u(e2))
      return this.toEntity(e2);
    switch (e2.type.toLowerCase()) {
      case "aggregate":
        return e2.aggregation.toUpperCase() + "(" + (e2.distinct ? "DISTINCT " : "") + this.toExpression(e2.expression) + (e2.separator ? '; SEPARATOR = "' + e2.separator.replace(n, i) + '"' : "") + ")";
      case "functioncall":
        return this.toEntity(e2.function) + "(" + l(e2.args, ", ", this.toExpression, this) + ")";
      case "operation":
        var t3 = e2.operator.toUpperCase(), r2 = e2.args || [];
        switch (e2.operator.toLowerCase()) {
          case "<":
          case ">":
          case ">=":
          case "<=":
          case "&&":
          case "||":
          case "=":
          case "!=":
          case "+":
          case "-":
          case "*":
          case "/":
            return (u(r2[0]) ? this.toEntity(r2[0]) : "(" + this.toExpression(r2[0]) + ")") + " " + t3 + " " + (u(r2[1]) ? this.toEntity(r2[1]) : "(" + this.toExpression(r2[1]) + ")");
          case "!":
            return "!(" + this.toExpression(r2[0]) + ")";
          case "notin":
            t3 = "NOT IN";
          case "in":
            return this.toExpression(r2[0]) + " " + t3 + "(" + (o(r2[1]) ? r2[1] : l(r2[1], ", ", this.toExpression, this)) + ")";
          case "notexists":
            t3 = "NOT EXISTS";
          case "exists":
            return t3 + " " + this.group(r2[0], true);
          default:
            return t3 + "(" + l(r2, ", ", this.toExpression, this) + ")";
        }
      default:
        throw new Error("Unknown expression type: " + e2.type);
    }
  }, r.prototype.toEntity = function(e2) {
    if (u(e2))
      switch (e2.termType) {
        case "Wildcard":
          return "*";
        case "Variable":
          return s(e2);
        case "BlankNode":
          return "_:" + e2.value;
        case "Literal":
          var t3 = e2.value || "", r2 = e2.language || "", a2 = e2.datatype;
          if (e2 = '"' + t3.replace(n, i) + '"', r2)
            e2 += "@" + r2;
          else if (a2) {
            if (a2.value === "http://www.w3.org/2001/XMLSchema#integer" && /^\d+$/.test(t3))
              return t3 + " ";
            if (a2.value === "http://www.w3.org/2001/XMLSchema#string")
              return e2;
            e2 += "^^" + this.encodeIRI(a2.value);
          }
          return e2;
        case "Quad":
          if (!this._sparqlStar)
            throw new Error("SPARQL* support is not enabled");
          return e2.graph && e2.graph.termType !== "DefaultGraph" ? "<< GRAPH " + this.toEntity(e2.graph) + " { " + this.toEntity(e2.subject) + " " + this.toEntity(e2.predicate) + " " + this.toEntity(e2.object) + " }  >>" : "<< " + this.toEntity(e2.subject) + " " + this.toEntity(e2.predicate) + " " + this.toEntity(e2.object) + " >>";
        default:
          return this.encodeIRI(e2.value);
      }
    else {
      var o2 = e2.items.map(this.toEntity, this), c2 = e2.pathType;
      switch (c2) {
        case "^":
        case "!":
          return c2 + o2[0];
        case "*":
        case "+":
        case "?":
          return "(" + o2[0] + c2 + ")";
        default:
          return "(" + o2.join(c2) + ")";
      }
    }
  };
  var n = /["\\\t\n\r\b\f]/g, i = function(e2) {
    return a[e2];
  }, a = {
    "\\": "\\\\",
    '"': '\\"',
    "	": "\\t",
    "\n": "\\n",
    "\r": "\\r",
    "\b": "\\b",
    "\f": "\\f"
  };
  function s(e2) {
    return "?" + e2.value;
  }
  function o(e2) {
    return typeof e2 == "string";
  }
  function u(e2) {
    return typeof e2.termType == "string";
  }
  function c(e2, t3) {
    if (!e2 || !u(e2))
      return false;
    if (!t3 || !u(t3))
      return false;
    if (e2.termType !== t3.termType)
      return false;
    switch (e2.termType) {
      case "Literal":
        return e2.value === t3.value && e2.language === t3.language && c(e2.datatype, t3.datatype);
      case "Quad":
        return c(e2.subject, t3.subject) && c(e2.predicate, t3.predicate) && c(e2.object, t3.object) && c(e2.graph, t3.graph);
      default:
        return e2.value === t3.value;
    }
  }
  function l(e2, t3, r2, n2) {
    return e2.map(r2, n2).join(o(t3) ? t3 : " ");
  }
  r.prototype.encodeIRI = function(e2) {
    var t3 = this._prefixRegex.exec(e2);
    if (t3) {
      var r2 = this._prefixByIri[t3[1]];
      return this._usedPrefixes[r2] = true, r2 + ":" + t3[2];
    }
    return "<" + e2 + ">";
  }, r.prototype.toUpdate = function(e2) {
    switch (e2.type || e2.updateType) {
      case "load":
        return "LOAD" + (e2.source ? " " + this.toEntity(e2.source) : "") + (e2.destination ? " INTO GRAPH " + this.toEntity(e2.destination) : "");
      case "insert":
        return "INSERT DATA " + this.group(e2.insert, true);
      case "delete":
        return "DELETE DATA " + this.group(e2.delete, true);
      case "deletewhere":
        return "DELETE WHERE " + this.group(e2.delete, true);
      case "insertdelete":
        return (e2.graph ? "WITH " + this.toEntity(e2.graph) + this._newline : "") + (e2.delete.length ? "DELETE " + this.group(e2.delete, true) + this._newline : "") + (e2.insert.length ? "INSERT " + this.group(e2.insert, true) + this._newline : "") + (e2.using ? this.graphs("USING ", e2.using.default) : "") + (e2.using ? this.graphs("USING NAMED ", e2.using.named) : "") + "WHERE " + this.group(e2.where, true);
      case "add":
      case "copy":
      case "move":
        return e2.type.toUpperCase() + (e2.source.default ? " DEFAULT " : " ") + "TO " + this.toEntity(e2.destination.name);
      case "create":
      case "clear":
      case "drop":
        return e2.type.toUpperCase() + (e2.silent ? " SILENT " : " ") + (e2.graph.default ? "DEFAULT" : e2.graph.named ? "NAMED" : e2.graph.all ? "ALL" : "GRAPH " + this.toEntity(e2.graph.name));
      default:
        throw new Error("Unknown update query type: " + e2.type);
    }
  }, r.prototype.indent = function(e2) {
    return e2.replace(/^/gm, this._indent);
  }, e.exports = function(e2 = {}) {
    return {
      stringify: function(t3) {
        var n2 = Object.create(e2);
        return n2.prefixes = t3.prefixes, new r(n2).toQuery(t3);
      },
      createGenerator: function() {
        return new r(e2);
      }
    };
  };
}, function(e, t2, r) {
  "use strict";
  e.exports = function e2(t3, r2) {
    if (t3 === r2)
      return true;
    if (t3 && r2 && typeof t3 == "object" && typeof r2 == "object") {
      if (t3.constructor !== r2.constructor)
        return false;
      var n, i, a;
      if (Array.isArray(t3)) {
        if ((n = t3.length) != r2.length)
          return false;
        for (i = n; i-- != 0; )
          if (!e2(t3[i], r2[i]))
            return false;
        return true;
      }
      if (t3.constructor === RegExp)
        return t3.source === r2.source && t3.flags === r2.flags;
      if (t3.valueOf !== Object.prototype.valueOf)
        return t3.valueOf() === r2.valueOf();
      if (t3.toString !== Object.prototype.toString)
        return t3.toString() === r2.toString();
      if ((n = (a = Object.keys(t3)).length) !== Object.keys(r2).length)
        return false;
      for (i = n; i-- != 0; )
        if (!Object.prototype.hasOwnProperty.call(r2, a[i]))
          return false;
      for (i = n; i-- != 0; ) {
        var s = a[i];
        if (!e2(t3[s], r2[s]))
          return false;
      }
      return true;
    }
    return t3 != t3 && r2 != r2;
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.toSparqlJs = t2.toSparql = void 0;
  const n = r(52), i = r(53), a = r(70), s = r(4), o = r(30).Generator, u = r(30).Wildcard, c = n.types, l = n.expressionTypes;
  let h;
  const d = new i.default();
  function p(e2) {
    f();
    let t3 = g(e2 = function(e3) {
      return O(e3, {});
    }(e2));
    return t3.type === "group" ? t3.patterns[0] : t3;
  }
  function f() {
    h = {
      project: false,
      extend: [],
      group: [],
      aggregates: [],
      order: []
    };
  }
  function g(e2) {
    switch (e2.type !== c.EXTEND && e2.type !== c.ORDER_BY && e2.type !== c.GRAPH && (h.project = false), e2.type) {
      case c.EXPRESSION:
        return m(e2);
      case c.ASK:
        return S(e2, c.ASK);
      case c.BGP:
        return function(e3) {
          let t3 = e3.patterns.map(v);
          return t3.length === 0 ? null : {
            type: "bgp",
            triples: t3
          };
        }(e2);
      case c.CONSTRUCT:
        return function(e3) {
          return {
            type: "query",
            prefixes: {},
            queryType: "CONSTRUCT",
            template: e3.template.map(v),
            where: a.default.flatten([g(e3.input)])
          };
        }(e2);
      case c.DESCRIBE:
        return S(e2, c.DESCRIBE);
      case c.DISTINCT:
        return function(e3) {
          let t3 = g(e3.input);
          return t3.patterns[0].distinct = true, t3;
        }(e2);
      case c.EXTEND:
        return function(e3) {
          if (h.project)
            return h.extend.push(e3), g(e3.input);
          return a.default.flatten([g(e3.input), {
            type: "bind",
            variable: e3.variable,
            expression: m(e3.expression)
          }]);
        }(e2);
      case c.FROM:
        return function(e3) {
          let t3 = g(e3.input);
          return t3.patterns[0].from = {
            default: e3.default,
            named: e3.named
          }, t3;
        }(e2);
      case c.FILTER:
        return function(e3) {
          return {
            type: "group",
            patterns: a.default.flatten([g(e3.input), {
              type: "filter",
              expression: m(e3.expression)
            }])
          };
        }(e2);
      case c.GRAPH:
        return function(e3) {
          return {
            type: "graph",
            patterns: a.default.flatten([g(e3.input)]),
            name: e3.name
          };
        }(e2);
      case c.GROUP:
        return function(e3) {
          let t3 = g(e3.input), r2 = e3.aggregates.map(_);
          return h.aggregates.push(...r2), h.group.push(...e3.variables), t3;
        }(e2);
      case c.JOIN:
        return function(e3) {
          return a.default.flatten([g(e3.left), g(e3.right)]);
        }(e2);
      case c.LEFT_JOIN:
        return function(e3) {
          let t3 = {
            type: "optional",
            patterns: [g(e3.right)]
          };
          e3.expression && t3.patterns.push({
            type: "filter",
            expression: m(e3.expression)
          });
          return t3.patterns = a.default.flatten(t3.patterns), a.default.flatten([g(e3.left), t3]);
        }(e2);
      case c.MINUS:
        return function(e3) {
          let t3 = g(e3.right);
          t3.type === "group" && (t3 = t3.patterns);
          return a.default.flatten([g(e3.left), {
            type: "minus",
            patterns: t3
          }]);
        }(e2);
      case c.ORDER_BY:
        return function(e3) {
          return h.order.push(...e3.expressions), g(e3.input);
        }(e2);
      case c.PATH:
        return function(e3) {
          return {
            type: "bgp",
            triples: [{
              subject: e3.subject,
              predicate: y(e3.predicate),
              object: e3.object
            }]
          };
        }(e2);
      case c.PATTERN:
        return v(e2);
      case c.PROJECT:
        return S(e2, c.PROJECT);
      case c.REDUCED:
        return function(e3) {
          let t3 = g(e3.input);
          return t3.patterns[0].reduced = true, t3;
        }(e2);
      case c.SERVICE:
        return function(e3) {
          let t3 = g(e3.input);
          t3.type === "group" && (t3 = t3.patterns);
          Array.isArray(t3) || (t3 = [t3]);
          return {
            type: "service",
            name: e3.name,
            silent: e3.silent,
            patterns: t3
          };
        }(e2);
      case c.SLICE:
        return function(e3) {
          let t3 = g(e3.input), r2 = t3;
          t3.type && t3.type === "group" && (r2 = t3.patterns[0]);
          e3.start !== 0 && (r2.offset = e3.start);
          e3.length !== void 0 && (r2.limit = e3.length);
          return t3;
        }(e2);
      case c.UNION:
        return function(e3) {
          return {
            type: "union",
            patterns: a.default.flatten([g(e3.left), g(e3.right)])
          };
        }(e2);
      case c.VALUES:
        return function(e3) {
          return {
            type: "values",
            values: e3.bindings.map((t3) => {
              let r2 = {};
              for (let n2 of e3.variables) {
                let e4 = "?" + n2.value;
                t3[e4] ? r2[e4] = t3[e4] : r2[e4] = void 0;
              }
              return r2;
            })
          };
        }(e2);
      case c.COMPOSITE_UPDATE:
        return function(e3) {
          return {
            prefixes: {},
            type: "update",
            updates: e3.updates.map((e4) => g(e4).updates[0])
          };
        }(e2);
      case c.DELETE_INSERT:
        return function(e3) {
          let t3 = e3.where, r2 = void 0;
          if (t3 && t3.type === c.FROM) {
            let n3 = e3.where;
            t3 = n3.input, r2 = {
              default: n3.default,
              named: n3.named
            };
          }
          const n2 = [{
            updateType: "insertdelete",
            delete: x(e3.delete),
            insert: x(e3.insert)
          }];
          r2 && (n2[0].using = r2);
          if (!t3 || t3.type === c.BGP && t3.patterns.length === 0)
            n2[0].where = [];
          else {
            const e4 = {};
            let r3 = g(O(t3, e4));
            r3.type === "group" ? n2[0].where = r3.patterns : n2[0].where = [r3];
            const i2 = Object.keys(e4);
            if (i2.length > 0) {
              if (i2.length !== 1)
                throw new Error("This is unexpected and might indicate an error in graph handling for updates.");
              e4[i2[0]].graph.value !== "" && (n2[0].where = [{
                type: "graph",
                patterns: n2[0].where,
                name: e4[i2[0]].graph
              }]);
            }
          }
          e3.delete || e3.where ? e3.insert || e3.where || (delete n2[0].insert, delete n2[0].where, e3.delete.some((e4) => e4.subject.termType === "Variable" || e4.predicate.termType === "Variable" || e4.object.termType === "Variable") ? n2[0].updateType = "deletewhere" : n2[0].updateType = "delete") : (n2[0].updateType = "insert", delete n2[0].delete, delete n2[0].where);
          return {
            prefixes: {},
            type: "update",
            updates: n2
          };
        }(e2);
      case c.LOAD:
        return function(e3) {
          const t3 = [{
            type: "load",
            silent: Boolean(e3.silent),
            source: e3.source
          }];
          e3.destination && (t3[0].destination = e3.destination);
          return {
            prefixes: {},
            type: "update",
            updates: t3
          };
        }(e2);
      case c.CLEAR:
        return function(e3) {
          return T(e3, "clear");
        }(e2);
      case c.CREATE:
        return function(e3) {
          return T(e3, "create");
        }(e2);
      case c.DROP:
        return function(e3) {
          return T(e3, "drop");
        }(e2);
      case c.ADD:
        return function(e3) {
          return E(e3, "add");
        }(e2);
      case c.MOVE:
        return function(e3) {
          return E(e3, "move");
        }(e2);
      case c.COPY:
        return function(e3) {
          return E(e3, "copy");
        }(e2);
    }
    throw new Error("Unknown Operation type " + e2.type);
  }
  function m(e2) {
    switch (e2.expressionType) {
      case l.AGGREGATE:
        return function(e3) {
          let t3 = {
            expression: m(e3.expression),
            type: "aggregate",
            aggregation: e3.aggregator,
            distinct: e3.distinct
          };
          e3.separator && (t3.separator = e3.separator);
          return t3;
        }(e2);
      case l.EXISTENCE:
        return function(e3) {
          return {
            type: "operation",
            operator: e3.not ? "notexists" : "exists",
            args: a.default.flatten([g(e3.input)])
          };
        }(e2);
      case l.NAMED:
        return function(e3) {
          return {
            type: "functionCall",
            function: e3.name,
            args: e3.args.map(m)
          };
        }(e2);
      case l.OPERATOR:
        return function(e3) {
          if (e3.operator === "desc") {
            let t4 = {
              expression: m(e3.args[0]),
              descending: true
            };
            return t4;
          }
          let t3 = {
            type: "operation",
            operator: e3.operator,
            args: e3.args.map(m)
          };
          t3.operator !== "in" && t3.operator !== "notin" || (t3.args = [t3.args[0]].concat([t3.args.slice(1)]));
          return t3;
        }(e2);
      case l.TERM:
        return function(e3) {
          return e3.term;
        }(e2);
      case l.WILDCARD:
        return function(e3) {
          return e3.wildcard;
        }(e2);
    }
    throw new Error("Unknown Expression Operation type " + e2.expressionType);
  }
  function y(e2) {
    switch (e2.type) {
      case c.ALT:
        return function(e3) {
          let t3 = y(e3.left), r2 = y(e3.right);
          if (t3.pathType === "!" && r2.pathType === "!")
            return {
              type: "path",
              pathType: "!",
              items: [{
                type: "path",
                pathType: "|",
                items: [].concat(t3.items, r2.items)
              }]
            };
          return {
            type: "path",
            pathType: "|",
            items: [t3, r2]
          };
        }(e2);
      case c.INV:
        return function(e3) {
          if (e3.path.type === c.NPS) {
            let t3 = e3.path.iris.map((e4) => ({
              type: "path",
              pathType: "^",
              items: [e4]
            }));
            return t3.length <= 1 ? {
              type: "path",
              pathType: "!",
              items: t3
            } : {
              type: "path",
              pathType: "!",
              items: [{
                type: "path",
                pathType: "|",
                items: t3
              }]
            };
          }
          return {
            type: "path",
            pathType: "^",
            items: [y(e3.path)]
          };
        }(e2);
      case c.LINK:
        return function(e3) {
          return e3.iri;
        }(e2);
      case c.NPS:
        return function(e3) {
          return e3.iris.length <= 1 ? {
            type: "path",
            pathType: "!",
            items: e3.iris
          } : {
            type: "path",
            pathType: "!",
            items: [{
              type: "path",
              pathType: "|",
              items: e3.iris
            }]
          };
        }(e2);
      case c.ONE_OR_MORE_PATH:
        return function(e3) {
          return {
            type: "path",
            pathType: "+",
            items: [y(e3.path)]
          };
        }(e2);
      case c.SEQ:
        return function(e3) {
          return {
            type: "path",
            pathType: "/",
            items: [y(e3.left), y(e3.right)]
          };
        }(e2);
      case c.ZERO_OR_MORE_PATH:
        return function(e3) {
          return {
            type: "path",
            pathType: "*",
            items: [y(e3.path)]
          };
        }(e2);
      case c.ZERO_OR_ONE_PATH:
        return function(e3) {
          return {
            type: "path",
            pathType: "?",
            items: [y(e3.path)]
          };
        }(e2);
    }
    throw new Error("Unknown Path type " + e2.type);
  }
  function b(e2) {
    return s.termToString(e2);
  }
  function _(e2) {
    return e2;
  }
  function v(e2) {
    return {
      subject: e2.subject,
      predicate: e2.predicate,
      object: e2.object
    };
  }
  function w(e2, t3) {
    let r2 = a.default.isTerm(e2) ? b(e2) : e2;
    if (typeof r2 == "string") {
      if (t3[r2])
        return t3[r2];
    } else if (Array.isArray(e2))
      e2 = e2.map((e3) => w(e3, t3));
    else
      for (let r3 of Object.keys(e2))
        e2[r3] = w(e2[r3], t3);
    return e2;
  }
  function S(e2, t3) {
    let r2 = {
      type: "query",
      prefixes: {}
    };
    t3 === c.PROJECT ? (r2.queryType = "SELECT", r2.variables = e2.variables) : t3 === c.ASK ? r2.queryType = "ASK" : t3 === c.DESCRIBE && (r2.queryType = "DESCRIBE", r2.variables = e2.terms);
    let n2 = h.extend, i2 = h.group, s2 = h.aggregates, o2 = h.order;
    f(), h.project = true;
    let l2 = a.default.flatten([g(e2.input)]);
    l2.length === 1 && l2[0].type === "group" && (l2 = l2[0].patterns), r2.where = l2;
    let d2 = {};
    for (let e3 of h.aggregates)
      d2[b(e3.variable)] = m(e3);
    let p2 = {};
    for (let e3 = h.extend.length - 1; e3 >= 0; --e3) {
      let t4 = h.extend[e3];
      p2[b(t4.variable)] = w(m(t4.expression), d2);
    }
    if (h.group.length > 0 && (r2.group = h.group.map((e3) => {
      let t4 = b(e3);
      if (p2[t4]) {
        let r3 = p2[t4];
        return delete p2[t4], {
          variable: e3,
          expression: r3
        };
      }
      return {
        expression: e3
      };
    })), h.order.length > 0 && (r2.order = h.order.map(g).map((e3) => e3.descending ? e3 : {
      expression: e3
    })), r2.variables && (r2.variables = r2.variables.map((e3) => {
      let t4 = b(e3);
      return p2[t4] ? {
        variable: e3,
        expression: p2[t4]
      } : e3;
    }), r2.variables.length === 0 && (r2.variables = [new u()])), r2.where.length > 0 && r2.where[r2.where.length - 1].type === "filter") {
      let e3 = r2.where[r2.where.length - 1];
      (function e4(t4, r3) {
        return a.default.isTerm(t4) ? r3.indexOf(b(t4)) >= 0 : Array.isArray(t4) ? t4.some((t5) => e4(t5, r3)) : t4 === Object(t4) ? Object.keys(t4).some((n3) => e4(t4[n3], r3)) : r3.indexOf(t4) >= 0;
      })(e3, Object.keys(d2)) && (r2.having = a.default.flatten([w(e3.expression, d2)]), r2.where.splice(-1));
    }
    return h.extend = n2, h.group = i2, h.aggregates = s2, h.order = o2, r2 = {
      type: "group",
      patterns: [r2]
    }, r2;
  }
  function T(e2, t3) {
    const r2 = [{
      type: t3,
      silent: Boolean(e2.silent)
    }];
    return e2.source === "DEFAULT" ? r2[0].graph = {
      default: true
    } : e2.source === "NAMED" ? r2[0].graph = {
      named: true
    } : e2.source === "ALL" ? r2[0].graph = {
      all: true
    } : r2[0].graph = {
      type: "graph",
      name: e2.source
    }, {
      prefixes: {},
      type: "update",
      updates: r2
    };
  }
  function E(e2, t3) {
    const r2 = [{
      type: t3,
      silent: Boolean(e2.silent)
    }];
    return r2[0].source = e2.source === "DEFAULT" ? {
      type: "graph",
      default: true
    } : {
      type: "graph",
      name: e2.source
    }, r2[0].destination = e2.destination === "DEFAULT" ? {
      type: "graph",
      default: true
    } : {
      type: "graph",
      name: e2.destination
    }, {
      prefixes: {},
      type: "update",
      updates: r2
    };
  }
  function x(e2) {
    if (!e2)
      return [];
    const t3 = {};
    return e2.forEach((e3) => {
      const r2 = e3.graph.value;
      t3[r2] || (t3[r2] = []), t3[r2].push(e3);
    }), Object.keys(t3).map((e3) => e3 === "" ? {
      type: "bgp",
      triples: t3[e3].map(v)
    } : {
      type: "graph",
      triples: t3[e3].map(v),
      name: t3[e3][0].graph
    });
  }
  function O(e2, t3) {
    if (Array.isArray(e2))
      return e2.map((e3) => O(e3, t3));
    if (!e2.type)
      return e2;
    if (e2.type === c.DELETE_INSERT)
      return e2;
    if ((e2.type === c.PATTERN || e2.type === c.PATH) && e2.graph)
      return t3[e2.graph.value] || (t3[e2.graph.value] = {
        graph: e2.graph,
        values: []
      }), t3[e2.graph.value].values.push(e2), e2;
    const r2 = {}, n2 = {}, i2 = {};
    for (let t4 of Object.keys(e2)) {
      const a3 = {};
      r2[t4] = O(e2[t4], a3);
      const s2 = Object.keys(a3);
      if (s2.length > 1) {
        let e3 = A(a3[s2[0]].values);
        for (let t5 = 1; t5 < s2.length; ++t5) {
          const r3 = A(a3[s2[t5]].values);
          e3 = d.createJoin(e3, r3);
        }
        return s2.map((e4) => delete a3[e4]), e3;
      }
      if (s2.length === 1) {
        const e3 = a3[s2[0]].graph;
        n2[t4] = e3, i2[e3.value] = e3;
      }
    }
    const a2 = Object.keys(i2);
    if (a2.length > 0)
      if (a2.length === 1 && e2.type !== c.PROJECT)
        t3[a2[0]] = {
          graph: i2[a2[0]],
          values: [r2]
        };
      else
        for (let e3 of Object.keys(n2))
          n2[e3].value.length > 0 && (r2[e3] = d.createGraph(r2[e3], n2[e3]));
    return r2;
  }
  function A(e2) {
    const t3 = d.createBgp(e2), r2 = e2[0].graph;
    return r2.value.length === 0 ? t3 : d.createGraph(t3, r2);
  }
  t2.toSparql = function(e2, t3 = {}) {
    return new o(t3).stringify(p(e2));
  }, t2.toSparqlJs = p;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationTypedMediated = void 0;
  const n = r(111);
  class i extends n.ActorQueryOperationTyped {
    constructor(e2, t3) {
      super(e2, t3);
    }
  }
  t2.ActorQueryOperationTypedMediated = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveQuadPatternSource = void 0;
  const n = r(112);
  class i extends n.ActorRdfResolveQuadPattern {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = yield this.getSource(e2.context, e2.pattern);
        return yield this.getOutput(t3, e2.pattern, e2.context);
      });
    }
    getOutput(e2, t3, r2) {
      return __async(this, null, function* () {
        return {
          data: e2.match(t3.subject, t3.predicate, t3.object, t3.graph)
        };
      });
    }
  }
  t2.ActorRdfResolveQuadPatternSource = i;
}, function(e, t2) {
}, function(e, t2, r) {
  "use strict";
  var n = r(72).Buffer, i = r(221);
  e.exports = function() {
    function e2() {
      !function(e3, t3) {
        if (!(e3 instanceof t3))
          throw new TypeError("Cannot call a class as a function");
      }(this, e2), this.head = null, this.tail = null, this.length = 0;
    }
    return e2.prototype.push = function(e3) {
      var t3 = {
        data: e3,
        next: null
      };
      this.length > 0 ? this.tail.next = t3 : this.head = t3, this.tail = t3, ++this.length;
    }, e2.prototype.unshift = function(e3) {
      var t3 = {
        data: e3,
        next: this.head
      };
      this.length === 0 && (this.tail = t3), this.head = t3, ++this.length;
    }, e2.prototype.shift = function() {
      if (this.length !== 0) {
        var e3 = this.head.data;
        return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, e3;
      }
    }, e2.prototype.clear = function() {
      this.head = this.tail = null, this.length = 0;
    }, e2.prototype.join = function(e3) {
      if (this.length === 0)
        return "";
      for (var t3 = this.head, r2 = "" + t3.data; t3 = t3.next; )
        r2 += e3 + t3.data;
      return r2;
    }, e2.prototype.concat = function(e3) {
      if (this.length === 0)
        return n.alloc(0);
      if (this.length === 1)
        return this.head.data;
      for (var t3, r2, i2, a = n.allocUnsafe(e3 >>> 0), s = this.head, o = 0; s; )
        t3 = s.data, r2 = a, i2 = o, t3.copy(r2, i2), o += s.data.length, s = s.next;
      return a;
    }, e2;
  }(), i && i.inspect && i.inspect.custom && (e.exports.prototype[i.inspect.custom] = function() {
    var e2 = i.inspect({
      length: this.length
    });
    return this.constructor.name + " " + e2;
  });
}, function(e, t2) {
}, function(e, t2, r) {
  (function(e2, t3) {
    !function(e3, r2) {
      "use strict";
      if (!e3.setImmediate) {
        var n, i, a, s, o, u = 1, c = {}, l = false, h = e3.document, d = Object.getPrototypeOf && Object.getPrototypeOf(e3);
        d = d && d.setTimeout ? d : e3, {}.toString.call(e3.process) === "[object process]" ? n = function(e4) {
          t3.nextTick(function() {
            f(e4);
          });
        } : !function() {
          if (e3.postMessage && !e3.importScripts) {
            var t4 = true, r3 = e3.onmessage;
            return e3.onmessage = function() {
              t4 = false;
            }, e3.postMessage("", "*"), e3.onmessage = r3, t4;
          }
        }() ? e3.MessageChannel ? ((a = new MessageChannel()).port1.onmessage = function(e4) {
          f(e4.data);
        }, n = function(e4) {
          a.port2.postMessage(e4);
        }) : h && "onreadystatechange" in h.createElement("script") ? (i = h.documentElement, n = function(e4) {
          var t4 = h.createElement("script");
          t4.onreadystatechange = function() {
            f(e4), t4.onreadystatechange = null, i.removeChild(t4), t4 = null;
          }, i.appendChild(t4);
        }) : n = function(e4) {
          setTimeout(f, 0, e4);
        } : (s = "setImmediate$" + Math.random() + "$", o = function(t4) {
          t4.source === e3 && typeof t4.data == "string" && t4.data.indexOf(s) === 0 && f(+t4.data.slice(s.length));
        }, e3.addEventListener ? e3.addEventListener("message", o, false) : e3.attachEvent("onmessage", o), n = function(t4) {
          e3.postMessage(s + t4, "*");
        }), d.setImmediate = function(e4) {
          typeof e4 != "function" && (e4 = new Function("" + e4));
          for (var t4 = new Array(arguments.length - 1), r3 = 0; r3 < t4.length; r3++)
            t4[r3] = arguments[r3 + 1];
          var i2 = {
            callback: e4,
            args: t4
          };
          return c[u] = i2, n(u), u++;
        }, d.clearImmediate = p;
      }
      function p(e4) {
        delete c[e4];
      }
      function f(e4) {
        if (l)
          setTimeout(f, 0, e4);
        else {
          var t4 = c[e4];
          if (t4) {
            l = true;
            try {
              !function(e5) {
                var t5 = e5.callback, r3 = e5.args;
                switch (r3.length) {
                  case 0:
                    t5();
                    break;
                  case 1:
                    t5(r3[0]);
                    break;
                  case 2:
                    t5(r3[0], r3[1]);
                    break;
                  case 3:
                    t5(r3[0], r3[1], r3[2]);
                    break;
                  default:
                    t5.apply(void 0, r3);
                }
              }(t4);
            } finally {
              p(e4), l = false;
            }
          }
        }
      }
    }(typeof self == "undefined" ? e2 === void 0 ? this : e2 : self);
  }).call(this, r(10), r(8));
}, function(e, t2, r) {
  "use strict";
  e.exports = a;
  var n = r(118), i = Object.create(r(43));
  function a(e2) {
    if (!(this instanceof a))
      return new a(e2);
    n.call(this, e2);
  }
  i.inherits = r(12), i.inherits(a, n), a.prototype._transform = function(e2, t3, r2) {
    r2(null, e2);
  };
}, function(e, t2, r) {
  e.exports = r(73);
}, function(e, t2, r) {
  e.exports = r(25);
}, function(e, t2, r) {
  e.exports = r(71).Transform;
}, function(e, t2, r) {
  e.exports = r(71).PassThrough;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerialize = void 0;
  const n = r(34);
  class i extends n.ActorAbstractMediaTyped {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorSparqlSerialize = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorAbstractMediaTypedFixed = void 0;
  const n = r(119);
  class i extends n.ActorAbstractMediaTyped {
    constructor(e2) {
      super(e2);
      const t3 = this.priorityScale || this.priorityScale === 0 ? this.priorityScale : 1;
      this.mediaTypes && Object.entries(this.mediaTypes).forEach(([e3, r2], n2) => {
        this.mediaTypes[e3] = t3 * r2;
      }), this.mediaTypes = Object.freeze(this.mediaTypes), this.mediaTypeFormats = Object.freeze(this.mediaTypeFormats);
    }
    testHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        if (!(t3 in this.mediaTypes))
          throw new Error("Unrecognized media type: " + t3);
        return yield this.testHandleChecked(e2, r2);
      });
    }
    testMediaType(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    getMediaTypes(e2) {
      return __async(this, null, function* () {
        return this.mediaTypes;
      });
    }
    testMediaTypeFormats(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    getMediaTypeFormats(e2) {
      return __async(this, null, function* () {
        return this.mediaTypeFormats;
      });
    }
  }
  t2.ActorAbstractMediaTypedFixed = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeFixedMediaTypes = void 0;
  const n = r(34);
  class i extends n.ActorAbstractMediaTypedFixed {
    constructor(e2) {
      super(e2);
    }
    testHandleChecked(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
  }
  t2.ActorSparqlSerializeFixedMediaTypes = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Converter = void 0;
  const n = r(232), i = r(74);
  class a {
    constructor(e2) {
      (e2 = e2 || {
        delimiter: "_"
      }).prefixVariableQuestionMark = false, this.delimiter = e2.delimiter || "_", this.parser = new i.SparqlJsonParser(e2), this.materializeRdfJsTerms = e2.materializeRdfJsTerms;
    }
    static addValueToTree(e2, t3, r2, n2, i2, s) {
      const o = t3[0], u = n2 ? n2 + s + o : o, c = i2.singularizeVariables[u];
      if (t3.length === 1)
        c ? e2[o] || (e2[o] = r2) : (e2[o] || (e2[o] = []), e2[o].push(r2));
      else {
        let n3;
        c ? (e2[o] || (e2[o] = {}), n3 = e2[o]) : (e2[o] || (e2[o] = [{}]), n3 = e2[o][0]), a.addValueToTree(n3, t3.slice(1), r2, u, i2, s);
      }
    }
    static mergeTrees(e2, t3) {
      if (typeof e2 != typeof t3)
        throw new Error(`Two incompatible tree nodes were found: ${typeof e2} and ${typeof t3}`);
      if (Array.isArray(e2) !== Array.isArray(t3))
        throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e2)} and Array?${Array.isArray(t3)}`);
      if (typeof e2 == "object" && typeof t3 == "object") {
        if (e2.termType && t3.termType)
          return e2.equals(t3) ? {
            valid: true,
            result: e2
          } : {
            valid: false,
            result: e2
          };
        if (Array.isArray(e2) && Array.isArray(t3)) {
          if (e2.length > 0) {
            const r2 = [];
            let n2 = false;
            for (const i2 of e2) {
              const e3 = a.mergeTrees(i2, t3[0]);
              e3.valid ? (n2 = true, r2.push(e3.result)) : r2.push(i2);
            }
            if (n2)
              return {
                valid: true,
                result: r2
              };
          }
          return {
            valid: true,
            result: e2.concat(t3)
          };
        }
        {
          const r2 = {};
          for (const e3 in t3)
            r2[e3] = t3[e3];
          for (const t4 in e2)
            if (r2[t4]) {
              const n2 = a.mergeTrees(e2[t4], r2[t4]);
              if (!n2.valid)
                return {
                  valid: false,
                  result: e2
                };
              r2[t4] = n2.result;
            } else
              r2[t4] = e2[t4];
          return {
            valid: true,
            result: r2
          };
        }
      }
      throw new Error(`Unmergable tree types: ${typeof e2} and ${typeof t3}`);
    }
    static materializeTree(e2) {
      if (e2.termType)
        return n.getTermRaw(e2);
      if (Array.isArray(e2))
        return e2.map(a.materializeTree);
      {
        const t3 = {};
        for (const r2 in e2)
          t3[r2] = a.materializeTree(e2[r2]);
        return t3;
      }
    }
    sparqlJsonResultsToTree(e2, t3) {
      return this.bindingsToTree(this.parser.parseJsonResults(e2), t3 || {
        singularizeVariables: {}
      });
    }
    bindingsToTree(e2, t3) {
      const r2 = t3 && t3.singularizeVariables[""];
      let n2 = r2 ? {} : [];
      for (const i2 of e2) {
        const e3 = r2 ? {} : [{}];
        for (const n3 in i2) {
          const s = n3.split(this.delimiter), o = i2[n3];
          a.addValueToTree(r2 ? e3 : e3[0], s, o, "", t3, this.delimiter);
        }
        n2 = a.mergeTrees(n2, e3).result;
      }
      return this.materializeRdfJsTerms && (n2 = a.materializeTree(n2)), n2;
    }
  }
  t2.Converter = a;
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    for (var r2 in e2)
      t2.hasOwnProperty(r2) || (t2[r2] = e2[r2]);
  }
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const i = r(5), a = r(121), s = r(35);
  n(r(121)), n(r(35));
  const o = new i.DataFactory(), u = new s.Translator();
  function c(e2, t3) {
    return u.fromRdf(e2, t3);
  }
  u.registerHandler(new a.TypeHandlerString(), a.TypeHandlerString.TYPES.map((e2) => o.namedNode(e2)), ["string"]), u.registerHandler(new a.TypeHandlerBoolean(), [a.TypeHandlerBoolean.TYPE].map((e2) => o.namedNode(e2)), ["boolean"]), u.registerHandler(new a.TypeHandlerNumberDouble(), a.TypeHandlerNumberDouble.TYPES.map((e2) => o.namedNode(e2)), ["number"]), u.registerHandler(new a.TypeHandlerNumberInteger(), a.TypeHandlerNumberInteger.TYPES.map((e2) => o.namedNode(e2)), ["number"]), u.registerHandler(new a.TypeHandlerDate(), a.TypeHandlerDate.TYPES.map((e2) => o.namedNode(e2)), ["object"]), t2.fromRdf = c, t2.toRdf = function(e2, t3) {
    return t3 && "namedNode" in t3 && (t3 = {
      dataFactory: t3
    }), (t3 = t3 || {}) && !t3.dataFactory && (t3.dataFactory = o), u.toRdf(e2, t3);
  }, t2.getTermRaw = function(e2, t3) {
    return e2.termType === "Literal" ? c(e2, t3) : e2.value;
  }, t2.getSupportedRdfDatatypes = function() {
    return u.getSupportedRdfDatatypes();
  }, t2.getSupportedJavaScriptPrimitives = function() {
    return u.getSupportedJavaScriptPrimitives();
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(35);
  class i {
    fromRdf(e2, t3) {
      switch (e2.value) {
        case "true":
          return true;
        case "false":
          return false;
        case "1":
          return true;
        case "0":
          return false;
      }
      return t3 && n.Translator.incorrectRdfDataType(e2), false;
    }
    toRdf(e2, {
      datatype: t3,
      dataFactory: r2
    }) {
      return r2.literal(e2 ? "true" : "false", t3 || r2.namedNode(i.TYPE));
    }
  }
  t2.TypeHandlerBoolean = i, i.TYPE = "http://www.w3.org/2001/XMLSchema#boolean";
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(35);
  class i {
    fromRdf(e2, t3) {
      switch (t3 && !e2.value.match(i.VALIDATORS[e2.datatype.value.substr(33, e2.datatype.value.length)]) && n.Translator.incorrectRdfDataType(e2), e2.datatype.value) {
        case "http://www.w3.org/2001/XMLSchema#gDay":
          return new Date(0, 0, parseInt(e2.value, 10));
        case "http://www.w3.org/2001/XMLSchema#gMonthDay":
          const t4 = e2.value.split("-");
          return new Date(0, parseInt(t4[0], 10) - 1, parseInt(t4[1], 10));
        case "http://www.w3.org/2001/XMLSchema#gYear":
          return new Date(e2.value + "-01-01");
        case "http://www.w3.org/2001/XMLSchema#gYearMonth":
          return new Date(e2.value + "-01");
        default:
          return new Date(e2.value);
      }
    }
    toRdf(e2, {
      datatype: t3,
      dataFactory: r2
    }) {
      if (t3 = t3 || r2.namedNode(i.TYPES[0]), !(e2 instanceof Date))
        return null;
      const n2 = e2;
      let a;
      switch (t3.value) {
        case "http://www.w3.org/2001/XMLSchema#gDay":
          a = String(n2.getUTCDate());
          break;
        case "http://www.w3.org/2001/XMLSchema#gMonthDay":
          a = n2.getUTCMonth() + 1 + "-" + n2.getUTCDate();
          break;
        case "http://www.w3.org/2001/XMLSchema#gYear":
          a = String(n2.getUTCFullYear());
          break;
        case "http://www.w3.org/2001/XMLSchema#gYearMonth":
          a = n2.getUTCFullYear() + "-" + (n2.getUTCMonth() + 1);
          break;
        case "http://www.w3.org/2001/XMLSchema#date":
          a = n2.toISOString().replace(/T.*$/, "");
          break;
        default:
          a = n2.toISOString();
      }
      return r2.literal(a, t3);
    }
  }
  t2.TypeHandlerDate = i, i.TYPES = ["http://www.w3.org/2001/XMLSchema#dateTime", "http://www.w3.org/2001/XMLSchema#date", "http://www.w3.org/2001/XMLSchema#gDay", "http://www.w3.org/2001/XMLSchema#gMonthDay", "http://www.w3.org/2001/XMLSchema#gYear", "http://www.w3.org/2001/XMLSchema#gYearMonth"], i.VALIDATORS = {
    date: /^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,
    dateTime: /^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,
    gDay: /^[0-9]+$/,
    gMonthDay: /^[0-9]+-[0-9][0-9]$/,
    gYear: /^[0-9]+$/,
    gYearMonth: /^[0-9]+-[0-9][0-9]$/
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(35);
  class i {
    fromRdf(e2, t3) {
      const r2 = parseFloat(e2.value);
      return t3 && isNaN(r2) && n.Translator.incorrectRdfDataType(e2), r2;
    }
    toRdf(e2, {
      datatype: t3,
      dataFactory: r2
    }) {
      return t3 = t3 || r2.namedNode(i.TYPES[0]), isNaN(e2) ? r2.literal("NaN", t3) : isFinite(e2) ? e2 % 1 == 0 ? null : r2.literal(e2.toExponential(15).replace(/(\d)0*e\+?/, "$1E"), t3) : r2.literal(e2 > 0 ? "INF" : "-INF", t3);
    }
  }
  t2.TypeHandlerNumberDouble = i, i.TYPES = ["http://www.w3.org/2001/XMLSchema#double", "http://www.w3.org/2001/XMLSchema#decimal", "http://www.w3.org/2001/XMLSchema#float"];
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(35);
  class i {
    fromRdf(e2, t3) {
      const r2 = parseInt(e2.value, 10);
      return t3 && (isNaN(r2) || e2.value.indexOf(".") >= 0) && n.Translator.incorrectRdfDataType(e2), r2;
    }
    toRdf(e2, {
      datatype: t3,
      dataFactory: r2
    }) {
      return r2.literal(String(e2), t3 || (e2 <= i.MAX_INT && e2 >= i.MIN_INT ? r2.namedNode(i.TYPES[0]) : r2.namedNode(i.TYPES[1])));
    }
  }
  t2.TypeHandlerNumberInteger = i, i.TYPES = ["http://www.w3.org/2001/XMLSchema#integer", "http://www.w3.org/2001/XMLSchema#long", "http://www.w3.org/2001/XMLSchema#int", "http://www.w3.org/2001/XMLSchema#byte", "http://www.w3.org/2001/XMLSchema#short", "http://www.w3.org/2001/XMLSchema#negativeInteger", "http://www.w3.org/2001/XMLSchema#nonNegativeInteger", "http://www.w3.org/2001/XMLSchema#nonPositiveInteger", "http://www.w3.org/2001/XMLSchema#positiveInteger", "http://www.w3.org/2001/XMLSchema#unsignedByte", "http://www.w3.org/2001/XMLSchema#unsignedInt", "http://www.w3.org/2001/XMLSchema#unsignedLong", "http://www.w3.org/2001/XMLSchema#unsignedShort"], i.MAX_INT = 2147483647, i.MIN_INT = -2147483648;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  class n {
    fromRdf(e2) {
      return e2.value;
    }
    toRdf(e2, {
      datatype: t3,
      dataFactory: r2
    }) {
      return r2.literal(e2, t3);
    }
  }
  t2.TypeHandlerString = n, n.TYPES = ["http://www.w3.org/2001/XMLSchema#string", "http://www.w3.org/2001/XMLSchema#normalizedString", "http://www.w3.org/2001/XMLSchema#anyURI", "http://www.w3.org/2001/XMLSchema#base64Binary", "http://www.w3.org/2001/XMLSchema#language", "http://www.w3.org/2001/XMLSchema#Name", "http://www.w3.org/2001/XMLSchema#NCName", "http://www.w3.org/2001/XMLSchema#NMTOKEN", "http://www.w3.org/2001/XMLSchema#token", "http://www.w3.org/2001/XMLSchema#hexBinary", "http://www.w3.org/1999/02/22-rdf-syntax-ns#langString", "http://www.w3.org/2001/XMLSchema#time", "http://www.w3.org/2001/XMLSchema#duration"];
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SparqlJsonParser = void 0;
  const n = r(5), i = r(122);
  t2.SparqlJsonParser = class {
    constructor(e2) {
      e2 = e2 || {}, this.dataFactory = e2.dataFactory || new n.DataFactory(), this.prefixVariableQuestionMark = !!e2.prefixVariableQuestionMark;
    }
    parseJsonResults(e2) {
      return e2.results.bindings.map((e3) => this.parseJsonBindings(e3));
    }
    parseJsonResultsStream(e2) {
      e2.on("error", (e3) => n2.emit("error", e3));
      const t3 = [];
      e2.pipe(r(75).parse("head.vars.*")).on("data", (e3) => t3.push(this.dataFactory.variable(e3))).on("end", () => n2.emit("variables", t3));
      const n2 = e2.pipe(r(75).parse("results.bindings.*")).pipe(new i.SparqlJsonBindingsTransformer(this));
      return n2;
    }
    parseJsonBindings(e2) {
      const t3 = {};
      for (const r2 in e2) {
        const n2 = e2[r2];
        let i2 = null;
        switch (n2.type) {
          case "bnode":
            i2 = this.dataFactory.blankNode(n2.value);
            break;
          case "literal":
            i2 = n2["xml:lang"] ? this.dataFactory.literal(n2.value, n2["xml:lang"]) : n2.datatype ? this.dataFactory.literal(n2.value, this.dataFactory.namedNode(n2.datatype)) : this.dataFactory.literal(n2.value);
            break;
          case "typed-literal":
            i2 = this.dataFactory.literal(n2.value, this.dataFactory.namedNode(n2.datatype));
            break;
          default:
            i2 = this.dataFactory.namedNode(n2.value);
        }
        t3[this.prefixVariableQuestionMark ? "?" + r2 : r2] = i2;
      }
      return t3;
    }
    parseJsonBoolean(e2) {
      if ("boolean" in e2)
        return e2.boolean;
      throw new Error("No valid ASK response was found.");
    }
    parseJsonBooleanStream(e2) {
      return new Promise((t3, n2) => {
        e2.on("error", n2), e2.pipe(r(75).parse("boolean")).on("data", t3).on("end", () => n2(new Error("No valid ASK response was found.")));
      });
    }
  };
}, function(e, t2, r) {
  (function(t3) {
    var n = r(2);
    function i(e2, r2, i2) {
      e2 = e2 || function(e3) {
        this.queue(e3);
      }, r2 = r2 || function() {
        this.queue(null);
      };
      var a = false, s = false, o = [], u = false, c = new n();
      function l() {
        for (; o.length && !c.paused; ) {
          var e3 = o.shift();
          if (e3 === null)
            return c.emit("end");
          c.emit("data", e3);
        }
      }
      function h() {
        c.writable = false, r2.call(c), !c.readable && c.autoDestroy && c.destroy();
      }
      return c.readable = c.writable = true, c.paused = false, c.autoDestroy = !(i2 && i2.autoDestroy === false), c.write = function(t4) {
        return e2.call(this, t4), !c.paused;
      }, c.queue = c.push = function(e3) {
        return u || (e3 === null && (u = true), o.push(e3), l()), c;
      }, c.on("end", function() {
        c.readable = false, !c.writable && c.autoDestroy && t3.nextTick(function() {
          c.destroy();
        });
      }), c.end = function(e3) {
        if (!a)
          return a = true, arguments.length && c.write(e3), h(), c;
      }, c.destroy = function() {
        if (!s)
          return s = true, a = true, o.length = 0, c.writable = c.readable = false, c.emit("close"), c;
      }, c.pause = function() {
        if (!c.paused)
          return c.paused = true, c;
      }, c.resume = function() {
        return c.paused && (c.paused = false, c.emit("resume")), l(), c.paused || c.emit("drain"), c;
      }, c;
    }
    e.exports = i, i.through = i;
  }).call(this, r(8));
}, function(e, t2, r) {
  const n = new (r(241)).LoggerVoid({}), i = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"
  }), a = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"
  }), s = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"
  }), o = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"
  }), u = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"
  }), c = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/Bus/RdfParseHtml"
  }), l = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/Bus/RdfSerialize"
  }), h = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"
  }), d = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/Bus/RdfMetadata"
  }), p = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/Bus/RdfMetadataExtract"
  }), f = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/Bus/RdfResolveHypermedia"
  }), g = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/Bus/RdfResolveHypermediaLinks"
  }), m = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"
  }), y = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"
  }), b = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"
  }), _ = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"
  }), v = new (r(0)).Bus({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"
  }), w = new (r(0)).BusIndexed({
    actorIdentifierFields: ["operationName"],
    actionIdentifierFields: ["operation", "type"],
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"
  }), S = new (r(76)).MediatorNumber({
    field: "time",
    type: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",
    ignoreErrors: true,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",
    bus: a
  }), T = new (r(244)).ActorHttpNative({
    agentOptions: '{ "keepAlive": true, "maxSockets": 5 }',
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",
    bus: a
  }), E = new (r(129)).ActionObserverHttp({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-sparql-serialize-stats/Actor/SparqlSerialize/Stats/httpObserver/default",
    bus: a
  }), x = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",
    bus: s
  }), O = new (r(260)).ActorRdfJoinSymmetricHash({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorSymmetricHash",
    bus: s
  }), A = new (r(268)).ActorRdfJoinNestedLoop({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActorNestedLoop",
    bus: s
  }), R = new (r(26)).MediatorCombineUnion({
    field: "mediaTypes",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",
    bus: o
  }), I = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",
    bus: o
  }), N = new (r(271)).ActorRdfParseN3({
    mediaTypes: {
      "application/n-quads": "1.0",
      "application/trig": "0.95",
      "application/n-triples": "0.8",
      "text/turtle": "0.6",
      "text/n3": "0.35"
    },
    mediaTypeFormats: {
      "application/n-quads": "http://www.w3.org/ns/formats/N-Quads",
      "application/trig": "http://www.w3.org/ns/formats/TriG",
      "application/n-triples": "http://www.w3.org/ns/formats/N-Triples",
      "text/turtle": "http://www.w3.org/ns/formats/Turtle",
      "text/n3": "http://www.w3.org/ns/formats/N3"
    },
    priorityScale: "1",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",
    bus: o
  }), P = new (r(275)).ActorRdfParseRdfXml({
    mediaTypes: {
      "application/rdf+xml": "1.0"
    },
    mediaTypeFormats: {
      "application/rdf+xml": "http://www.w3.org/ns/formats/RDF_XML"
    },
    priorityScale: "5.0E-1",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",
    bus: o
  }), C = new (r(281)).ActorRdfParseXmlRdfa({
    mediaTypes: {
      "application/xml": "1.0",
      "text/xml": "1.0",
      "image/svg+xml": "1.0"
    },
    mediaTypeFormats: {
      "application/xml": "http://www.w3.org/ns/formats/RDFa",
      "text/xml": "http://www.w3.org/ns/formats/RDFa",
      "image/svg+xml": "http://www.w3.org/ns/formats/RDFa"
    },
    priorityScale: "3.0E-1",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserXmlRdfa",
    bus: o
  }), D = new (r(26)).MediatorCombineUnion({
    field: "mediaTypes",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseMediatypes",
    bus: o
  }), j = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#mediatorRdfParseHandle",
    bus: o
  }), k = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereference",
    bus: u
  }), L = new (r(303)).ActorRdfParseHtml({
    busRdfParseHtml: c,
    mediaTypes: {
      "text/html": "1.0",
      "application/xhtml+xml": "0.9"
    },
    mediaTypeFormats: {
      "text/html": "http://www.w3.org/ns/formats/HTML",
      "application/xhtml+xml": "http://www.w3.org/ns/formats/HTML"
    },
    priorityScale: "2.0E-1",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtml",
    bus: o
  }), M = new (r(306)).ActorRdfParseHtmlMicrodata({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlMicrodata",
    bus: c
  }), F = new (r(316)).ActorRdfParseHtmlRdfa({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlRdfa",
    bus: c
  }), B = new (r(325)).ActorRdfSerializeN3({
    mediaTypes: {
      "application/trig": "1.0",
      "application/n-quads": "0.7",
      "text/turtle": "0.6",
      "application/n-triples": "0.3",
      "text/n3": "0.2"
    },
    mediaTypeFormats: {
      "application/trig": "http://www.w3.org/ns/formats/TriG",
      "application/n-quads": "http://www.w3.org/ns/formats/N-Quads",
      "text/turtle": "http://www.w3.org/ns/formats/Turtle",
      "application/n-triples": "http://www.w3.org/ns/formats/N-Triples",
      "text/n3": "http://www.w3.org/ns/formats/N3"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializerN3",
    bus: l
  }), q = new (r(329)).ActorRdfSerializeJsonLd({
    jsonStringifyIndentSpaces: 2,
    mediaTypes: {
      "application/ld+json": "1.0"
    },
    mediaTypeFormats: {
      "application/ld+json": "http://www.w3.org/ns/formats/JSON-LD"
    },
    priorityScale: "9.0E-1",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializeJsonLd",
    bus: l
  }), U = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mediatorRdfSerialize",
    bus: l
  }), V = new (r(26)).MediatorCombineUnion({
    field: "mediaTypes",
    name: "_:b0bnode322",
    bus: l
  }), H = new (r(26)).MediatorCombineUnion({
    field: "mediaTypeFormats",
    name: "_:b1bnode322",
    bus: l
  }), G = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",
    bus: h
  }), z = new (r(154)).ActorRdfResolveQuadPatternRdfJsSource({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-rdfjs.json#myRdfRdfJsSourceQuadPatternResolver",
    bus: h
  }), Q = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadata",
    bus: d
  }), X = new (r(338)).ActorRdfMetadataPrimaryTopic({
    metadataToData: false,
    dataToMetadataOnInvalidMetadataGraph: true,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataPrimaryTopic",
    bus: d
  }), $ = new (r(341)).ActorRdfMetadataAll({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataAll",
    bus: d
  }), Y = new (r(26)).MediatorCombineUnion({
    field: "metadata",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadataExtract",
    bus: p
  }), J = new (r(343)).ActorRdfMetadataExtractHydraControls({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraControls",
    bus: p
  }), W = new (r(374)).ActorRdfMetadataExtractHydraCount({
    predicates: ["http://www.w3.org/ns/hydra/core#totalItems", "http://rdfs.org/ns/void#triples"],
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraCount",
    bus: p
  }), K = new (r(376)).ActorRdfMetadataExtractSparqlService({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#myRdfMetadataExtractSparqlService",
    bus: p
  }), Z = new (r(378)).ActorRdfResolveHypermediaNone({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaNoneResolver",
    bus: f
  }), ee = new (r(76)).MediatorNumber({
    field: "filterFactor",
    type: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",
    ignoreErrors: true,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermedia",
    bus: f
  }), te = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermediaLinks",
    bus: g
  }), re = new (r(381)).ActorRdfResolveHypermediaLinksNext({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaLinksNext",
    bus: g
  }), ne = new (r(385)).ActorHttpInvalidateListenable({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/Actor/RdfResolveQuadPattern/Hypermedia/httpInvalidator#default",
    bus: m
  }), ie = new (r(387)).MediatorAll({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",
    bus: m
  }), ae = new (r(167)).MediatorCombinePipeline({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",
    bus: y
  }), se = new (r(390)).ActorOptimizeQueryOperationJoinBgp({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",
    bus: y
  }), oe = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",
    bus: b
  }), ue = new (r(394)).ActorSparqlParseGraphql({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/graphql-parsers.json#myGraphqlParser",
    bus: b
  }), ce = new (r(397)).ActorSparqlParseAlgebra({
    prefixes: {
      rdf: "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
      rdfs: "http://www.w3.org/2000/01/rdf-schema#",
      owl: "http://www.w3.org/2002/07/owl#",
      xsd: "http://www.w3.org/2001/XMLSchema#",
      dc: "http://purl.org/dc/terms/",
      dcterms: "http://purl.org/dc/terms/",
      dc11: "http://purl.org/dc/elements/1.1/",
      foaf: "http://xmlns.com/foaf/0.1/",
      geo: "http://www.w3.org/2003/01/geo/wgs84_pos#",
      dbpedia: "http://dbpedia.org/resource/",
      "dbpedia-owl": "http://dbpedia.org/ontology/",
      dbpprop: "http://dbpedia.org/property/",
      schema: "http://schema.org/",
      skos: "http://www.w3.org/2008/05/skos#"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",
    bus: b
  }), le = new (r(16)).MediatorRace({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",
    bus: _
  }), he = new (r(26)).MediatorCombineUnion({
    field: "mediaTypes",
    name: "_:b0bnode316",
    bus: _
  }), de = new (r(26)).MediatorCombineUnion({
    field: "mediaTypeFormats",
    name: "_:b1bnode316",
    bus: _
  }), pe = new (r(399)).ActorSparqlSerializeJson({
    mediaTypes: {
      "application/json": "1.0"
    },
    mediaTypeFormats: {
      "application/json": "https://comunica.linkeddatafragments.org/#results_JSON"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myJsonSparqlSerializer",
    bus: _
  }), fe = new (r(401)).ActorSparqlSerializeSimple({
    mediaTypes: {
      simple: "0.9"
    },
    mediaTypeFormats: {
      simple: "https://comunica.linkeddatafragments.org/#results_simple"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySimpleSparqlSerializer",
    bus: _
  }), ge = new (r(403)).ActorSparqlSerializeSparqlCsv({
    mediaTypes: {
      "text/csv": "0.75"
    },
    mediaTypeFormats: {
      "text/csv": "http://www.w3.org/ns/formats/SPARQL_Results_CSV"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlCsvSparqlSerializer",
    bus: _
  }), me = new (r(405)).ActorSparqlSerializeSparqlJson({
    mediaTypes: {
      "application/sparql-results+json": "0.8"
    },
    mediaTypeFormats: {
      "application/sparql-results+json": "http://www.w3.org/ns/formats/SPARQL_Results_JSON"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlJsonSparqlSerializer",
    bus: _
  }), ye = new (r(407)).ActorSparqlSerializeSparqlTsv({
    mediaTypes: {
      "text/tab-separated-values": "0.75"
    },
    mediaTypeFormats: {
      "text/tab-separated-values": "http://www.w3.org/ns/formats/SPARQL_Results_TSV"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlTsvSparqlSerializer",
    bus: _
  }), be = new (r(411)).ActorSparqlSerializeSparqlXml({
    mediaTypes: {
      "application/sparql-results+xml": "0.8"
    },
    mediaTypeFormats: {
      "application/sparql-results+xml": "http://www.w3.org/ns/formats/SPARQL_Results_XML"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlXmlSparqlSerializer",
    bus: _
  }), _e = new (r(415)).ActorSparqlSerializeTable({
    columnWidth: 50,
    mediaTypes: {
      table: "0.6"
    },
    mediaTypeFormats: {
      table: "https://comunica.linkeddatafragments.org/#results_table"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTableSparqlSerializer",
    bus: _
  }), ve = new (r(113)).ActorSparqlSerializeTree({
    mediaTypes: {
      tree: "0.5"
    },
    mediaTypeFormats: {
      tree: "https://comunica.linkeddatafragments.org/#results_tree"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTreeSparqlSerializer",
    bus: _
  }), we = new (r(167)).MediatorCombinePipeline({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",
    bus: v
  }), Se = new (r(76)).MediatorNumber({
    field: "httpRequests",
    type: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",
    ignoreErrors: true,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",
    bus: w
  }), Te = new (r(420)).ActorQueryOperationBgpEmpty({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",
    bus: w
  }), Ee = new (r(422)).ActorQueryOperationValues({
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",
    bus: w
  }), xe = new (r(424)).ActorRdfParseJsonLd({
    mediatorHttp: S,
    mediaTypes: {
      "application/ld+json": "1.0",
      "application/json": "0.5"
    },
    mediaTypeFormats: {
      "application/ld+json": "http://www.w3.org/ns/formats/JSON-LD",
      "application/json": "http://www.w3.org/ns/formats/JSON-LD"
    },
    priorityScale: "9.0E-1",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",
    bus: o
  }), Oe = new (r(443)).ActorRdfResolveHypermediaSparql({
    mediatorHttp: S,
    checkUrlSuffix: true,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",
    bus: f
  }), Ae = new (r(448)).ActorQueryOperationSparqlEndpoint({
    mediatorHttp: S,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",
    bus: w
  }), Re = new (r(129)).ActorSparqlSerializeStats({
    httpObserver: E,
    mediaTypes: {
      stats: "0.5"
    },
    mediaTypeFormats: {
      stats: "https://comunica.linkeddatafragments.org/#results_stats"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myStatsSparqlSerializer",
    bus: _
  }), Ie = new (r(465)).ActorRdfJoinMultiSmallest({
    mediatorJoin: x,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinMultiActor",
    bus: s
  }), Ne = new (r(467)).ActorRdfDereferenceHttpParse({
    mediatorHttp: S,
    mediatorRdfParseMediatypes: R,
    mediatorRdfParseHandle: I,
    maxAcceptHeaderLength: 1024,
    maxAcceptHeaderLengthBrowser: 128,
    mediaMappings: {
      ttl: "text/turtle",
      turtle: "text/turtle",
      nt: "application/n-triples",
      ntriples: "application/n-triples",
      nq: "application/n-quads",
      nquads: "application/n-quads",
      rdf: "application/rdf+xml",
      rdfxml: "application/rdf+xml",
      owl: "application/rdf+xml",
      n3: "text/n3",
      trig: "application/trig",
      jsonld: "application/ld+json",
      json: "application/json",
      html: "text/html",
      htm: "text/html",
      xhtml: "application/xhtml+xml",
      xht: "application/xhtml+xml",
      xml: "application/xml",
      svg: "image/svg+xml",
      svgz: "image/svg+xml"
    },
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",
    bus: u
  }), Pe = new (r(472)).ActorRdfParseHtmlScript({
    mediatorRdfParseMediatypes: D,
    mediatorRdfParseHandle: j,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserHtmlScript",
    bus: c
  }), Ce = new (r(475)).ActorSparqlSerializeRdf({
    mediatorRdfSerialize: U,
    mediatorMediaTypeCombiner: V,
    mediatorMediaTypeFormatCombiner: H,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myRdfSparqlSerializer",
    bus: _
  }), De = new (r(477)).ActorRdfResolveQuadPatternFederated({
    mediatorResolveQuadPattern: G,
    skipEmptyPatterns: false,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",
    bus: h
  }), je = new (r(480)).ActorQueryOperationQuadpattern({
    mediatorResolveQuadPattern: G,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",
    bus: w
  }), ke = new (r(482)).ActorRdfResolveHypermediaQpf({
    mediatorMetadata: Q,
    mediatorMetadataExtract: Y,
    mediatorRdfDereference: k,
    subjectUri: "http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",
    predicateUri: "http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",
    objectUri: "http://www.w3.org/1999/02/22-rdf-syntax-ns#object",
    graphUri: "http://www.w3.org/ns/sparql-service-description#graph",
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaQpfResolver",
    bus: f
  }), Le = new (r(485)).ActorRdfResolveQuadPatternHypermedia({
    mediatorRdfDereference: k,
    mediatorMetadata: Q,
    mediatorMetadataExtract: Y,
    mediatorRdfResolveHypermedia: ee,
    mediatorRdfResolveHypermediaLinks: te,
    cacheSize: 100,
    httpInvalidator: ne,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myQuadPatternHypermediaResolver",
    bus: h
  }), Me = new (r(491)).ActorHttpProxy({
    mediatorHttp: S,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpProxy",
    bus: a,
    beforeActors: [T]
  }), Fe = new (r(495)).ActorHttpMemento({
    mediatorHttp: S,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http-memento.json#myHttpFetcher",
    bus: a,
    beforeActors: [T]
  }), Be = new (r(91)).ActorInitSparql({
    mediatorOptimizeQueryOperation: ae,
    mediatorQueryOperation: Se,
    mediatorSparqlParse: oe,
    mediatorSparqlSerialize: le,
    mediatorSparqlSerializeMediaTypeCombiner: he,
    mediatorSparqlSerializeMediaTypeFormatCombiner: de,
    mediatorContextPreprocess: we,
    mediatorHttpInvalidate: ie,
    logger: n,
    contextKeyShortcuts: {
      source: "@comunica/bus-rdf-resolve-quad-pattern:source",
      sources: "@comunica/bus-rdf-resolve-quad-pattern:sources",
      initialBindings: "@comunica/actor-init-sparql:initialBindings",
      queryFormat: "@comunica/actor-init-sparql:queryFormat",
      baseIRI: "@comunica/actor-init-sparql:baseIRI",
      log: "@comunica/core:log",
      datetime: "@comunica/actor-http-memento:datetime",
      queryTimestamp: "@comunica/actor-init-sparql:queryTimestamp",
      httpProxyHandler: "@comunica/actor-http-proxy:httpProxyHandler",
      lenient: "@comunica/actor-init-sparql:lenient",
      httpIncludeCredentials: "@comunica/bus-http:include-credentials",
      httpAuth: "@comunica/bus-http:auth"
    },
    name: "urn:comunica:sparqlinit",
    bus: i
  });
  new (r(497)).ActorQueryOperationAsk({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",
    bus: w
  }), new (r(499)).ActorQueryOperationService({
    forceSparqlEndpoint: false,
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",
    bus: w
  }), new (r(501)).ActorQueryOperationSlice({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",
    bus: w
  }), new (r(503)).ActorQueryOperationBgpSingle({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",
    bus: w
  }), new (r(505)).ActorQueryOperationBgpLeftDeepSmallest({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",
    bus: w
  }), new (r(507)).ActorQueryOperationConstruct({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",
    bus: w
  }), new (r(510)).ActorQueryOperationDescribeSubject({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",
    bus: w
  }), new (r(513)).ActorQueryOperationDistinctHash({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",
    bus: w
  }), new (r(523)).ActorQueryOperationExtend({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",
    bus: w
  }), new (r(541)).ActorQueryOperationReducedHash({
    cacheSize: 100,
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",
    bus: w
  }), new (r(546)).ActorQueryOperationFilterSparqlee({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",
    bus: w
  }), new (r(548)).ActorQueryOperationFromQuad({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",
    bus: w
  }), new (r(550)).ActorQueryOperationGroup({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myGroupQueryOperator",
    bus: w
  }), new (r(553)).ActorQueryOperationJoin({
    mediatorJoin: x,
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",
    bus: w
  }), new (r(555)).ActorQueryOperationLeftJoinLeftDeep({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",
    bus: w
  }), new (r(557)).ActorQueryOperationOrderBySparqlee({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",
    bus: w
  }), new (r(560)).ActorQueryOperationProject({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",
    bus: w
  }), new (r(180)).ActorQueryOperationUnion({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",
    bus: w
  }), new (r(562)).ActorQueryOperationMinus({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",
    bus: w
  }), new (r(565)).ActorQueryOperationPathAlt({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",
    bus: w
  }), new (r(567)).ActorQueryOperationPathInv({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",
    bus: w
  }), new (r(569)).ActorQueryOperationPathLink({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",
    bus: w
  }), new (r(571)).ActorQueryOperationPathNps({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",
    bus: w
  }), new (r(573)).ActorQueryOperationPathOneOrMore({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",
    bus: w
  }), new (r(575)).ActorQueryOperationPathSeq({
    mediatorJoin: x,
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",
    bus: w
  }), new (r(577)).ActorQueryOperationPathZeroOrMore({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",
    bus: w
  }), new (r(579)).ActorQueryOperationPathZeroOrOne({
    mediatorQueryOperation: Se,
    name: "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",
    bus: w
  });
  e.exports = Be;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(242), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.LoggerVoid = void 0;
  const n = r(0);
  class i extends n.Logger {
    debug() {
    }
    error() {
    }
    fatal() {
    }
    info() {
    }
    trace() {
    }
    warn() {
    }
  }
  t2.LoggerVoid = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatorNumber = void 0;
  const n = r(0);
  class i extends n.Mediator {
    constructor(e2) {
      super(e2), this.indexPicker = this.createIndexPicker();
    }
    createIndexPicker() {
      switch (this.type) {
        case i.MIN:
          return (e2) => e2.reduce((e3, t3, r2) => {
            const n2 = this.getOrDefault(t3[this.field], 1 / 0);
            return n2 !== null && (Number.isNaN(e3[0]) || e3[0] > n2) ? [n2, r2] : e3;
          }, [Number.NaN, -1])[1];
        case i.MAX:
          return (e2) => e2.reduce((e3, t3, r2) => {
            const n2 = this.getOrDefault(t3[this.field], -1 / 0);
            return n2 !== null && (Number.isNaN(e3[0]) || e3[0] < n2) ? [n2, r2] : e3;
          }, [Number.NaN, -1])[1];
        default:
          throw new Error(`No valid "type" value was given, must be either ${i.MIN} or ${i.MAX}, but got: ${this.type}`);
      }
    }
    getOrDefault(e2, t3) {
      return e2 === void 0 ? t3 : e2;
    }
    mediateWith(e2, t3) {
      return __async(this, null, function* () {
        let r2 = t3.map(({
          reply: e3
        }) => e3);
        const n2 = [];
        if (this.ignoreErrors) {
          const e3 = {};
          e3[this.field] = null, r2 = r2.map((t4) => t4.catch((t5) => (n2.push(t5), e3)));
        }
        const i2 = yield Promise.all(r2), a = this.indexPicker(i2);
        if (a < 0)
          throw new Error(`All actors rejected their test in ${this.name}
${n2.map((e3) => e3.message).join("\n")}`);
        return t3[a].actor;
      });
    }
  }
  t2.MediatorNumber = i, i.MIN = "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin", i.MAX = "https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(245), t2);
}, function(e, t2, r) {
  "use strict";
  (function(e2, n, i) {
    Object.defineProperty(t2, "__esModule", {
      value: true
    }), t2.ActorHttpNative = void 0;
    const a = r(36);
    r(45);
    const s = r(250);
    class o extends a.ActorHttp {
      constructor(e3) {
        super(e3), this.userAgent = o.createUserAgent(), this.requester = new s.default(e3.agentOptions ? JSON.parse(e3.agentOptions) : void 0);
      }
      static createUserAgent() {
        return `Comunica/actor-http-native (${e2.navigator === void 0 ? `Node.js ${n.version}; ${n.platform}` : "Browser-" + e2.navigator.userAgent})`;
      }
      test(e3) {
        return __async(this, null, function* () {
          return {
            time: 1 / 0
          };
        });
      }
      run(e3) {
        return __async(this, null, function* () {
          const t3 = {};
          return e3.input.url ? (t3.url = e3.input.url, Object.assign(t3, e3.input)) : t3.url = e3.input, e3.init ? (Object.assign(t3, e3.init), t3.headers = new Headers(e3.init.headers)) : t3.headers = e3.input.headers, t3.headers || (t3.headers = new Headers()), t3.headers.has("user-agent") || t3.headers.append("user-agent", this.userAgent), t3.method = t3.method || "GET", e3.context && e3.context.get(a.KEY_CONTEXT_INCLUDE_CREDENTIALS) && (t3.withCredentials = true), e3.context && e3.context.get(a.KEY_CONTEXT_AUTH) && (t3.auth = e3.context.get(a.KEY_CONTEXT_AUTH)), this.logInfo(e3.context, "Requesting " + t3.url, () => ({
            headers: a.ActorHttp.headersToHash(t3.headers)
          })), new Promise((e4, r2) => {
            const n2 = this.requester.createRequest(t3);
            n2.on("error", r2), n2.on("response", (n3) => {
              n3.on("error", (e5) => {
                n3 = null, r2(e5);
              }), t3.method === "HEAD" && n3.destroy(), i(() => {
                if (n3) {
                  n3.cancel = () => (n3.destroy(), Promise.resolve());
                  const r3 = n3.headers, i2 = {
                    body: n3,
                    headers: r3,
                    ok: n3.statusCode < 300,
                    redirected: t3.url !== n3.responseUrl,
                    status: n3.statusCode,
                    url: r3.has("content-location") ? r3.get("content-location") : n3.responseUrl
                  };
                  e4(i2);
                }
              });
            });
          });
        });
      }
    }
    t2.ActorHttpNative = o;
  }).call(this, r(10), r(8), r(44).setImmediate);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.KEY_CONTEXT_AUTH = t2.KEY_CONTEXT_INCLUDE_CREDENTIALS = t2.ActorHttp = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
    static toNodeReadable(e2) {
      return r(124)(e2) ? e2 : r(125).toNodeReadable(e2);
    }
    static headersToHash(e2) {
      const t3 = {};
      return e2.forEach((e3, r2) => {
        t3[r2] = e3;
      }), t3;
    }
  }
  t2.ActorHttp = i, t2.KEY_CONTEXT_INCLUDE_CREDENTIALS = "@comunica/bus-http:include-credentials", t2.KEY_CONTEXT_AUTH = "@comunica/bus-http:auth";
}, function(e, t2, r) {
  "use strict";
  var n = e.exports = function(e2) {
    return e2 !== null && typeof e2 == "object" && typeof e2.pipe == "function";
  };
  n.writable = function(e2) {
    return n(e2) && e2.writable !== false && typeof e2._write == "function" && typeof e2._writableState == "object";
  }, n.readable = function(e2) {
    return n(e2) && e2.readable !== false && typeof e2._read == "function" && typeof e2._readableState == "object";
  }, n.duplex = function(e2) {
    return n.writable(e2) && n.readable(e2);
  }, n.transform = function(e2) {
    return n.duplex(e2) && typeof e2._transform == "function" && typeof e2._transformState == "object";
  };
}, function(e, t2, r) {
  "use strict";
  (function(t3) {
    const n = r(2).Readable, i = r(126).ReadableStream;
    t3.ReadableStream = t3.ReadableStream || i;
    const a = r(249);
    class s extends n {
      constructor(e2, t4) {
        super(t4), this._webStream = e2, this._reader = e2.getReader(), this._reading = false;
      }
      _read(e2) {
        if (this._reading)
          return;
        this._reading = true;
        const t4 = () => {
          this._reader.read().then((r2) => (this._doneReading && (this._reading = false, this._reader.releaseLock(), this._doneReading()), r2.done ? (this.push(null), this._reading = false, void this._reader.releaseLock()) : this.push(r2.value) ? t4(e2) : (this._reading = false, void this._reader.releaseLock())));
        };
        t4();
      }
      _destroy(e2, t4) {
        if (this._reading) {
          new Promise((e3) => {
            this._doneReading = e3;
          }).then(() => this._handleDestroy(e2, t4));
        } else
          this._handleDestroy(e2, t4);
      }
      _handleDestroy(e2, t4) {
        this._webStream.cancel(), super._destroy(e2, t4);
      }
    }
    e.exports = {
      readable: {
        nodeToWeb: a,
        arrayToWeb: function(e2) {
          return new i({
            start(t4) {
              for (var r2 = 0; r2 < e2.length; r2++)
                t4.enqueue(e2[r2]);
              t4.close();
            }
          });
        },
        webToNode: function(e2) {
          return new s(e2);
        }
      }
    };
  }).call(this, r(10));
}, function(e, t2) {
  e.exports = function(t3) {
    if (!e.exports.WEBSTREAM_SUPPORT)
      throw new Error("No web ReadableStream support");
    var r = false, n = {};
    return new ReadableStream({
      start: function(e2) {
        for (var i in n.data = a, n.end = a, n.end = s, n.close = s, n.error = s, n)
          t3.on(i, n[i]);
        function a(n2) {
          r || (e2.enqueue(n2), t3.pause());
        }
        function s(i2) {
          if (!r) {
            for (var a2 in r = true, n)
              t3.removeListener(a2, n[a2]);
            i2 ? e2.error(i2) : e2.close();
          }
        }
        t3.pause();
      },
      pull: function() {
        r || t3.resume();
      },
      cancel: function() {
        for (var e2 in r = true, n)
          t3.removeListener(e2, n[e2]);
        t3.push(null), t3.pause(), t3.destroy ? t3.destroy() : t3.close && t3.close();
      }
    });
  }, e.exports.WEBSTREAM_SUPPORT = typeof ReadableStream != "undefined";
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(22), i = r(2), a = r(127), s = {
    "accept-encoding": true,
    "user-agent": true,
    referer: true
  };
  t2.default = class {
    constructor() {
      this.negotiatedResources = {};
    }
    createRequest(e2) {
      this.negotiatedResources[this.removeQuery(e2.url)] && e2.headers.delete("accept-datetime");
      const t3 = new XMLHttpRequest(), r2 = e2.headers;
      t3.open(e2.method, e2.url, true), t3.timeout = e2.timeout, t3.withCredentials = e2.withCredentials, r2.forEach((e3, r3) => {
        !(r3 in s) && e3 && t3.setRequestHeader(r3, e3);
      });
      const o = new n.EventEmitter();
      return o.abort = () => {
        t3.abort();
      }, t3.onload = () => {
        var n2, s2;
        const u = new i.Readable();
        u.push(t3.responseText || ""), u.push(null), u.statusCode = t3.status, u.responseUrl = t3.responseURL;
        const c = this.convertRequestHeadersToFetchHeaders(u.headers);
        u.headers = c;
        const l = t3.getAllResponseHeaders() || "", h = /^([^\n\r:]+):[\t ]*([^\n\r]*)$/gmu;
        let d = h.exec(l);
        for (; d; )
          c.set(d[1].toLowerCase(), d[2]), d = h.exec(l);
        if (o.emit("response", u), r2.has("accept-datetime") && c.has("memento-datetime")) {
          const t4 = this.removeQuery((n2 = c.get("content-location")) !== null && n2 !== void 0 ? n2 : e2.url);
          if (!this.negotiatedResources[t4]) {
            const e3 = (s2 = c.get("link") && a(c.get("link"))) !== null && s2 !== void 0 ? s2 : void 0;
            t4 !== this.removeQuery(e3 && e3.timegate && e3.timegate.url) && (this.negotiatedResources[t4] = true);
          }
        }
      }, t3.onerror = () => {
        o.emit("error", new Error("Error requesting " + e2.url));
      }, t3.ontimeout = () => {
        o.emit("error", new Error("Timeout requesting " + e2.url));
      }, t3.send(), o;
    }
    convertRequestHeadersToFetchHeaders(e2) {
      const t3 = new Headers();
      for (const r2 in e2)
        t3.append(r2, e2[r2]);
      return t3;
    }
    removeQuery(e2) {
      return e2 ? e2.replace(/\?.*$/u, "") : "";
    }
  };
}, function(e, t2, r) {
  "use strict";
  function n(e2, t3) {
    return Object.prototype.hasOwnProperty.call(e2, t3);
  }
  e.exports = function(e2, t3, r2, a) {
    t3 = t3 || "&", r2 = r2 || "=";
    var s = {};
    if (typeof e2 != "string" || e2.length === 0)
      return s;
    var o = /\+/g;
    e2 = e2.split(t3);
    var u = 1e3;
    a && typeof a.maxKeys == "number" && (u = a.maxKeys);
    var c = e2.length;
    u > 0 && c > u && (c = u);
    for (var l = 0; l < c; ++l) {
      var h, d, p, f, g = e2[l].replace(o, "%20"), m = g.indexOf(r2);
      m >= 0 ? (h = g.substr(0, m), d = g.substr(m + 1)) : (h = g, d = ""), p = decodeURIComponent(h), f = decodeURIComponent(d), n(s, p) ? i(s[p]) ? s[p].push(f) : s[p] = [s[p], f] : s[p] = f;
    }
    return s;
  };
  var i = Array.isArray || function(e2) {
    return Object.prototype.toString.call(e2) === "[object Array]";
  };
}, function(e, t2, r) {
  "use strict";
  var n = function(e2) {
    switch (typeof e2) {
      case "string":
        return e2;
      case "boolean":
        return e2 ? "true" : "false";
      case "number":
        return isFinite(e2) ? e2 : "";
      default:
        return "";
    }
  };
  e.exports = function(e2, t3, r2, o) {
    return t3 = t3 || "&", r2 = r2 || "=", e2 === null && (e2 = void 0), typeof e2 == "object" ? a(s(e2), function(s2) {
      var o2 = encodeURIComponent(n(s2)) + r2;
      return i(e2[s2]) ? a(e2[s2], function(e3) {
        return o2 + encodeURIComponent(n(e3));
      }).join(t3) : o2 + encodeURIComponent(n(e2[s2]));
    }).join(t3) : o ? encodeURIComponent(n(o)) + r2 + encodeURIComponent(n(e2)) : "";
  };
  var i = Array.isArray || function(e2) {
    return Object.prototype.toString.call(e2) === "[object Array]";
  };
  function a(e2, t3) {
    if (e2.map)
      return e2.map(t3);
    for (var r2 = [], n2 = 0; n2 < e2.length; n2++)
      r2.push(t3(e2[n2], n2));
    return r2;
  }
  var s = Object.keys || function(e2) {
    var t3 = [];
    for (var r2 in e2)
      Object.prototype.hasOwnProperty.call(e2, r2) && t3.push(r2);
    return t3;
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(254), i = r(255);
  function a() {
    this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
  }
  t2.parse = _, t2.resolve = function(e2, t3) {
    return _(e2, false, true).resolve(t3);
  }, t2.resolveObject = function(e2, t3) {
    return e2 ? _(e2, false, true).resolveObject(t3) : t3;
  }, t2.format = function(e2) {
    i.isString(e2) && (e2 = _(e2));
    return e2 instanceof a ? e2.format() : a.prototype.format.call(e2);
  }, t2.Url = a;
  var s = /^([a-z0-9.+-]+:)/i, o = /:[0-9]*$/, u = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, c = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "	"]), l = ["'"].concat(c), h = ["%", "/", "?", ";", "#"].concat(l), d = ["/", "?", "#"], p = /^[+a-z0-9A-Z_-]{0,63}$/, f = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, g = {
    javascript: true,
    "javascript:": true
  }, m = {
    javascript: true,
    "javascript:": true
  }, y = {
    http: true,
    https: true,
    ftp: true,
    gopher: true,
    file: true,
    "http:": true,
    "https:": true,
    "ftp:": true,
    "gopher:": true,
    "file:": true
  }, b = r(128);
  function _(e2, t3, r2) {
    if (e2 && i.isObject(e2) && e2 instanceof a)
      return e2;
    var n2 = new a();
    return n2.parse(e2, t3, r2), n2;
  }
  a.prototype.parse = function(e2, t3, r2) {
    if (!i.isString(e2))
      throw new TypeError("Parameter 'url' must be a string, not " + typeof e2);
    var a2 = e2.indexOf("?"), o2 = a2 !== -1 && a2 < e2.indexOf("#") ? "?" : "#", c2 = e2.split(o2);
    c2[0] = c2[0].replace(/\\/g, "/");
    var _2 = e2 = c2.join(o2);
    if (_2 = _2.trim(), !r2 && e2.split("#").length === 1) {
      var v = u.exec(_2);
      if (v)
        return this.path = _2, this.href = _2, this.pathname = v[1], v[2] ? (this.search = v[2], this.query = t3 ? b.parse(this.search.substr(1)) : this.search.substr(1)) : t3 && (this.search = "", this.query = {}), this;
    }
    var w = s.exec(_2);
    if (w) {
      var S = (w = w[0]).toLowerCase();
      this.protocol = S, _2 = _2.substr(w.length);
    }
    if (r2 || w || _2.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      var T = _2.substr(0, 2) === "//";
      !T || w && m[w] || (_2 = _2.substr(2), this.slashes = true);
    }
    if (!m[w] && (T || w && !y[w])) {
      for (var E, x, O = -1, A = 0; A < d.length; A++) {
        (R = _2.indexOf(d[A])) !== -1 && (O === -1 || R < O) && (O = R);
      }
      (x = O === -1 ? _2.lastIndexOf("@") : _2.lastIndexOf("@", O)) !== -1 && (E = _2.slice(0, x), _2 = _2.slice(x + 1), this.auth = decodeURIComponent(E)), O = -1;
      for (A = 0; A < h.length; A++) {
        var R;
        (R = _2.indexOf(h[A])) !== -1 && (O === -1 || R < O) && (O = R);
      }
      O === -1 && (O = _2.length), this.host = _2.slice(0, O), _2 = _2.slice(O), this.parseHost(), this.hostname = this.hostname || "";
      var I = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
      if (!I)
        for (var N = this.hostname.split(/\./), P = (A = 0, N.length); A < P; A++) {
          var C = N[A];
          if (C && !C.match(p)) {
            for (var D = "", j = 0, k = C.length; j < k; j++)
              C.charCodeAt(j) > 127 ? D += "x" : D += C[j];
            if (!D.match(p)) {
              var L = N.slice(0, A), M = N.slice(A + 1), F = C.match(f);
              F && (L.push(F[1]), M.unshift(F[2])), M.length && (_2 = "/" + M.join(".") + _2), this.hostname = L.join(".");
              break;
            }
          }
        }
      this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), I || (this.hostname = n.toASCII(this.hostname));
      var B = this.port ? ":" + this.port : "", q = this.hostname || "";
      this.host = q + B, this.href += this.host, I && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), _2[0] !== "/" && (_2 = "/" + _2));
    }
    if (!g[S])
      for (A = 0, P = l.length; A < P; A++) {
        var U = l[A];
        if (_2.indexOf(U) !== -1) {
          var V = encodeURIComponent(U);
          V === U && (V = escape(U)), _2 = _2.split(U).join(V);
        }
      }
    var H = _2.indexOf("#");
    H !== -1 && (this.hash = _2.substr(H), _2 = _2.slice(0, H));
    var G = _2.indexOf("?");
    if (G !== -1 ? (this.search = _2.substr(G), this.query = _2.substr(G + 1), t3 && (this.query = b.parse(this.query)), _2 = _2.slice(0, G)) : t3 && (this.search = "", this.query = {}), _2 && (this.pathname = _2), y[S] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
      B = this.pathname || "";
      var z = this.search || "";
      this.path = B + z;
    }
    return this.href = this.format(), this;
  }, a.prototype.format = function() {
    var e2 = this.auth || "";
    e2 && (e2 = (e2 = encodeURIComponent(e2)).replace(/%3A/i, ":"), e2 += "@");
    var t3 = this.protocol || "", r2 = this.pathname || "", n2 = this.hash || "", a2 = false, s2 = "";
    this.host ? a2 = e2 + this.host : this.hostname && (a2 = e2 + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (a2 += ":" + this.port)), this.query && i.isObject(this.query) && Object.keys(this.query).length && (s2 = b.stringify(this.query));
    var o2 = this.search || s2 && "?" + s2 || "";
    return t3 && t3.substr(-1) !== ":" && (t3 += ":"), this.slashes || (!t3 || y[t3]) && a2 !== false ? (a2 = "//" + (a2 || ""), r2 && r2.charAt(0) !== "/" && (r2 = "/" + r2)) : a2 || (a2 = ""), n2 && n2.charAt(0) !== "#" && (n2 = "#" + n2), o2 && o2.charAt(0) !== "?" && (o2 = "?" + o2), t3 + a2 + (r2 = r2.replace(/[?#]/g, function(e3) {
      return encodeURIComponent(e3);
    })) + (o2 = o2.replace("#", "%23")) + n2;
  }, a.prototype.resolve = function(e2) {
    return this.resolveObject(_(e2, false, true)).format();
  }, a.prototype.resolveObject = function(e2) {
    if (i.isString(e2)) {
      var t3 = new a();
      t3.parse(e2, false, true), e2 = t3;
    }
    for (var r2 = new a(), n2 = Object.keys(this), s2 = 0; s2 < n2.length; s2++) {
      var o2 = n2[s2];
      r2[o2] = this[o2];
    }
    if (r2.hash = e2.hash, e2.href === "")
      return r2.href = r2.format(), r2;
    if (e2.slashes && !e2.protocol) {
      for (var u2 = Object.keys(e2), c2 = 0; c2 < u2.length; c2++) {
        var l2 = u2[c2];
        l2 !== "protocol" && (r2[l2] = e2[l2]);
      }
      return y[r2.protocol] && r2.hostname && !r2.pathname && (r2.path = r2.pathname = "/"), r2.href = r2.format(), r2;
    }
    if (e2.protocol && e2.protocol !== r2.protocol) {
      if (!y[e2.protocol]) {
        for (var h2 = Object.keys(e2), d2 = 0; d2 < h2.length; d2++) {
          var p2 = h2[d2];
          r2[p2] = e2[p2];
        }
        return r2.href = r2.format(), r2;
      }
      if (r2.protocol = e2.protocol, e2.host || m[e2.protocol])
        r2.pathname = e2.pathname;
      else {
        for (var f2 = (e2.pathname || "").split("/"); f2.length && !(e2.host = f2.shift()); )
          ;
        e2.host || (e2.host = ""), e2.hostname || (e2.hostname = ""), f2[0] !== "" && f2.unshift(""), f2.length < 2 && f2.unshift(""), r2.pathname = f2.join("/");
      }
      if (r2.search = e2.search, r2.query = e2.query, r2.host = e2.host || "", r2.auth = e2.auth, r2.hostname = e2.hostname || e2.host, r2.port = e2.port, r2.pathname || r2.search) {
        var g2 = r2.pathname || "", b2 = r2.search || "";
        r2.path = g2 + b2;
      }
      return r2.slashes = r2.slashes || e2.slashes, r2.href = r2.format(), r2;
    }
    var _2 = r2.pathname && r2.pathname.charAt(0) === "/", v = e2.host || e2.pathname && e2.pathname.charAt(0) === "/", w = v || _2 || r2.host && e2.pathname, S = w, T = r2.pathname && r2.pathname.split("/") || [], E = (f2 = e2.pathname && e2.pathname.split("/") || [], r2.protocol && !y[r2.protocol]);
    if (E && (r2.hostname = "", r2.port = null, r2.host && (T[0] === "" ? T[0] = r2.host : T.unshift(r2.host)), r2.host = "", e2.protocol && (e2.hostname = null, e2.port = null, e2.host && (f2[0] === "" ? f2[0] = e2.host : f2.unshift(e2.host)), e2.host = null), w = w && (f2[0] === "" || T[0] === "")), v)
      r2.host = e2.host || e2.host === "" ? e2.host : r2.host, r2.hostname = e2.hostname || e2.hostname === "" ? e2.hostname : r2.hostname, r2.search = e2.search, r2.query = e2.query, T = f2;
    else if (f2.length)
      T || (T = []), T.pop(), T = T.concat(f2), r2.search = e2.search, r2.query = e2.query;
    else if (!i.isNullOrUndefined(e2.search)) {
      if (E)
        r2.hostname = r2.host = T.shift(), (I = !!(r2.host && r2.host.indexOf("@") > 0) && r2.host.split("@")) && (r2.auth = I.shift(), r2.host = r2.hostname = I.shift());
      return r2.search = e2.search, r2.query = e2.query, i.isNull(r2.pathname) && i.isNull(r2.search) || (r2.path = (r2.pathname ? r2.pathname : "") + (r2.search ? r2.search : "")), r2.href = r2.format(), r2;
    }
    if (!T.length)
      return r2.pathname = null, r2.search ? r2.path = "/" + r2.search : r2.path = null, r2.href = r2.format(), r2;
    for (var x = T.slice(-1)[0], O = (r2.host || e2.host || T.length > 1) && (x === "." || x === "..") || x === "", A = 0, R = T.length; R >= 0; R--)
      (x = T[R]) === "." ? T.splice(R, 1) : x === ".." ? (T.splice(R, 1), A++) : A && (T.splice(R, 1), A--);
    if (!w && !S)
      for (; A--; A)
        T.unshift("..");
    !w || T[0] === "" || T[0] && T[0].charAt(0) === "/" || T.unshift(""), O && T.join("/").substr(-1) !== "/" && T.push("");
    var I, N = T[0] === "" || T[0] && T[0].charAt(0) === "/";
    E && (r2.hostname = r2.host = N ? "" : T.length ? T.shift() : "", (I = !!(r2.host && r2.host.indexOf("@") > 0) && r2.host.split("@")) && (r2.auth = I.shift(), r2.host = r2.hostname = I.shift()));
    return (w = w || r2.host && T.length) && !N && T.unshift(""), T.length ? r2.pathname = T.join("/") : (r2.pathname = null, r2.path = null), i.isNull(r2.pathname) && i.isNull(r2.search) || (r2.path = (r2.pathname ? r2.pathname : "") + (r2.search ? r2.search : "")), r2.auth = e2.auth || r2.auth, r2.slashes = r2.slashes || e2.slashes, r2.href = r2.format(), r2;
  }, a.prototype.parseHost = function() {
    var e2 = this.host, t3 = o.exec(e2);
    t3 && ((t3 = t3[0]) !== ":" && (this.port = t3.substr(1)), e2 = e2.substr(0, e2.length - t3.length)), e2 && (this.hostname = e2);
  };
}, function(e, t2, r) {
  (function(e2, n) {
    var i;
    !function(a) {
      t2 && t2.nodeType, e2 && e2.nodeType;
      var s = typeof n == "object" && n;
      s.global !== s && s.window !== s && s.self;
      var o, u = 2147483647, c = /^xn--/, l = /[^\x20-\x7E]/, h = /[\x2E\u3002\uFF0E\uFF61]/g, d = {
        overflow: "Overflow: input needs wider integers to process",
        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
        "invalid-input": "Invalid input"
      }, p = Math.floor, f = String.fromCharCode;
      function g(e3) {
        throw new RangeError(d[e3]);
      }
      function m(e3, t3) {
        for (var r2 = e3.length, n2 = []; r2--; )
          n2[r2] = t3(e3[r2]);
        return n2;
      }
      function y(e3, t3) {
        var r2 = e3.split("@"), n2 = "";
        return r2.length > 1 && (n2 = r2[0] + "@", e3 = r2[1]), n2 + m((e3 = e3.replace(h, ".")).split("."), t3).join(".");
      }
      function b(e3) {
        for (var t3, r2, n2 = [], i2 = 0, a2 = e3.length; i2 < a2; )
          (t3 = e3.charCodeAt(i2++)) >= 55296 && t3 <= 56319 && i2 < a2 ? (64512 & (r2 = e3.charCodeAt(i2++))) == 56320 ? n2.push(((1023 & t3) << 10) + (1023 & r2) + 65536) : (n2.push(t3), i2--) : n2.push(t3);
        return n2;
      }
      function _(e3) {
        return m(e3, function(e4) {
          var t3 = "";
          return e4 > 65535 && (t3 += f((e4 -= 65536) >>> 10 & 1023 | 55296), e4 = 56320 | 1023 & e4), t3 += f(e4);
        }).join("");
      }
      function v(e3, t3) {
        return e3 + 22 + 75 * (e3 < 26) - ((t3 != 0) << 5);
      }
      function w(e3, t3, r2) {
        var n2 = 0;
        for (e3 = r2 ? p(e3 / 700) : e3 >> 1, e3 += p(e3 / t3); e3 > 455; n2 += 36)
          e3 = p(e3 / 35);
        return p(n2 + 36 * e3 / (e3 + 38));
      }
      function S(e3) {
        var t3, r2, n2, i2, a2, s2, o2, c2, l2, h2, d2, f2 = [], m2 = e3.length, y2 = 0, b2 = 128, v2 = 72;
        for ((r2 = e3.lastIndexOf("-")) < 0 && (r2 = 0), n2 = 0; n2 < r2; ++n2)
          e3.charCodeAt(n2) >= 128 && g("not-basic"), f2.push(e3.charCodeAt(n2));
        for (i2 = r2 > 0 ? r2 + 1 : 0; i2 < m2; ) {
          for (a2 = y2, s2 = 1, o2 = 36; i2 >= m2 && g("invalid-input"), ((c2 = (d2 = e3.charCodeAt(i2++)) - 48 < 10 ? d2 - 22 : d2 - 65 < 26 ? d2 - 65 : d2 - 97 < 26 ? d2 - 97 : 36) >= 36 || c2 > p((u - y2) / s2)) && g("overflow"), y2 += c2 * s2, !(c2 < (l2 = o2 <= v2 ? 1 : o2 >= v2 + 26 ? 26 : o2 - v2)); o2 += 36)
            s2 > p(u / (h2 = 36 - l2)) && g("overflow"), s2 *= h2;
          v2 = w(y2 - a2, t3 = f2.length + 1, a2 == 0), p(y2 / t3) > u - b2 && g("overflow"), b2 += p(y2 / t3), y2 %= t3, f2.splice(y2++, 0, b2);
        }
        return _(f2);
      }
      function T(e3) {
        var t3, r2, n2, i2, a2, s2, o2, c2, l2, h2, d2, m2, y2, _2, S2, T2 = [];
        for (m2 = (e3 = b(e3)).length, t3 = 128, r2 = 0, a2 = 72, s2 = 0; s2 < m2; ++s2)
          (d2 = e3[s2]) < 128 && T2.push(f(d2));
        for (n2 = i2 = T2.length, i2 && T2.push("-"); n2 < m2; ) {
          for (o2 = u, s2 = 0; s2 < m2; ++s2)
            (d2 = e3[s2]) >= t3 && d2 < o2 && (o2 = d2);
          for (o2 - t3 > p((u - r2) / (y2 = n2 + 1)) && g("overflow"), r2 += (o2 - t3) * y2, t3 = o2, s2 = 0; s2 < m2; ++s2)
            if ((d2 = e3[s2]) < t3 && ++r2 > u && g("overflow"), d2 == t3) {
              for (c2 = r2, l2 = 36; !(c2 < (h2 = l2 <= a2 ? 1 : l2 >= a2 + 26 ? 26 : l2 - a2)); l2 += 36)
                S2 = c2 - h2, _2 = 36 - h2, T2.push(f(v(h2 + S2 % _2, 0))), c2 = p(S2 / _2);
              T2.push(f(v(c2, 0))), a2 = w(r2, y2, n2 == i2), r2 = 0, ++n2;
            }
          ++r2, ++t3;
        }
        return T2.join("");
      }
      o = {
        version: "1.4.1",
        ucs2: {
          decode: b,
          encode: _
        },
        decode: S,
        encode: T,
        toASCII: function(e3) {
          return y(e3, function(e4) {
            return l.test(e4) ? "xn--" + T(e4) : e4;
          });
        },
        toUnicode: function(e3) {
          return y(e3, function(e4) {
            return c.test(e4) ? S(e4.slice(4).toLowerCase()) : e4;
          });
        }
      }, (i = function() {
        return o;
      }.call(t2, r, t2, e2)) === void 0 || (e2.exports = i);
    }();
  }).call(this, r(101)(e), r(10));
}, function(e, t2, r) {
  "use strict";
  e.exports = {
    isString: function(e2) {
      return typeof e2 == "string";
    },
    isObject: function(e2) {
      return typeof e2 == "object" && e2 !== null;
    },
    isNull: function(e2) {
      return e2 === null;
    },
    isNullOrUndefined: function(e2) {
      return e2 == null;
    }
  };
}, function(e, t2) {
  e.exports = function() {
    for (var e2 = {}, t3 = 0; t3 < arguments.length; t3++) {
      var n = arguments[t3];
      for (var i in n)
        r.call(n, i) && (e2[i] = n[i]);
    }
    return e2;
  };
  var r = Object.prototype.hasOwnProperty;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActionObserverHttp = void 0;
  const n = r(0);
  class i extends n.ActionObserver {
    constructor(e2) {
      super(e2), this.requests = 0, this.bus.subscribeObserver(this);
    }
    onRun(e2, t3, r2) {
      this.requests++;
    }
  }
  t2.ActionObserverHttp = i;
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    Object.defineProperty(t2, "__esModule", {
      value: true
    }), t2.ActorSparqlSerializeStats = void 0;
    const n = r(2), i = r(15);
    class a extends i.ActorSparqlSerializeFixedMediaTypes {
      constructor(e3) {
        super(e3);
      }
      testHandleChecked(e3, t3) {
        return __async(this, null, function* () {
          if (!["bindings", "quads"].includes(e3.type))
            throw new Error("This actor can only handle bindings streams or quad streams.");
          return true;
        });
      }
      pushHeader(e3) {
        const t3 = ["Result", "Delay (ms)", "HTTP requests"].join(",");
        e3.push(t3 + "\n");
      }
      pushStat(e3, t3, r2) {
        const n2 = [r2, this.delay(t3), this.httpObserver.requests].join(",");
        e3.push(n2 + "\n");
      }
      pushFooter(e3, t3) {
        const r2 = ["TOTAL", this.delay(t3), this.httpObserver.requests].join(",");
        e3.push(r2 + "\n"), e3.push(null);
      }
      runHandle(t3, r2, i2) {
        return __async(this, null, function* () {
          const a2 = new n.Readable();
          a2._read = () => {
          };
          const s = t3.type === "bindings" ? t3.bindingsStream : t3.quadStream, o = e2.hrtime();
          let u = 1;
          return this.pushHeader(a2), s.on("error", (e3) => a2.emit("error", e3)), s.on("data", () => this.pushStat(a2, o, u++)), s.on("end", () => this.pushFooter(a2, o)), {
            data: a2
          };
        });
      }
      delay(t3) {
        const r2 = e2.hrtime(t3);
        return 1e3 * r2[0] + r2[1] / 1e6;
      }
    }
    t2.ActorSparqlSerializeStats = a;
  }).call(this, r(8));
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatorRace = void 0;
  const n = r(0);
  class i extends n.Mediator {
    constructor(e2) {
      super(e2);
    }
    mediateWith(e2, t3) {
      return new Promise((e3, r2) => {
        const n2 = [];
        for (const i2 of t3)
          i2.reply.then(() => {
            e3(i2.actor);
          }).catch((e4) => {
            n2.push(e4), n2.length === t3.length && r2(new Error(`${this.name} mediated over all rejecting actors:
${n2.map((e5) => e5.message).join("\n")}`));
          });
      });
    }
  }
  t2.MediatorRace = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(261), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfJoinSymmetricHash = void 0;
  const n = r(1), i = r(55), a = r(130);
  class s extends i.ActorRdfJoin {
    constructor(e2) {
      super(e2, 2);
    }
    static hash(e2, t3) {
      return t3.filter((t4) => e2.has(t4)).map((t4) => e2.get(t4).value).join("");
    }
    getOutput(e2) {
      return __async(this, null, function* () {
        const t3 = i.ActorRdfJoin.overlappingVariables(e2);
        return {
          type: "bindings",
          bindingsStream: new a.SymmetricHashJoin(e2.entries[0].bindingsStream, e2.entries[1].bindingsStream, (e3) => s.hash(e3, t3), i.ActorRdfJoin.join),
          variables: i.ActorRdfJoin.joinVariables(e2),
          canContainUndefs: false
        };
      });
    }
    getIterations(e2) {
      return __async(this, null, function* () {
        return (yield n.getMetadata(e2.entries[0])).totalItems + (yield n.getMetadata(e2.entries[1])).totalItems;
      });
    }
  }
  t2.ActorRdfJoinSymmetricHash = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfJoin = void 0;
  const n = r(0), i = r(3);
  class a extends n.Actor {
    constructor(e2, t3, r2, n2) {
      super(e2), this.limitEntries = t3 != null ? t3 : 1 / 0, this.limitEntriesMin = r2 != null && r2, this.canHandleUndefs = n2 != null && n2;
    }
    static overlappingVariables(e2) {
      const t3 = e2.entries.map((e3) => e3.variables);
      let r2 = t3[0];
      for (const e3 of t3.slice(1))
        r2 = r2.filter((t4) => e3.includes(t4));
      return r2;
    }
    static joinVariables(e2) {
      const t3 = e2.entries.map((e3) => e3.variables).reduce((e3, t4) => [...e3, ...t4], []);
      return [...new Set(t3)];
    }
    static join(...e2) {
      try {
        return e2.reduce((e3, t3) => e3.mergeWith((e4, t4) => {
          if (!e4.equals(t4))
            throw new Error("Join failure");
          return e4;
        }, t3));
      } catch (e3) {
        return null;
      }
    }
    static iteratorsHaveMetadata(e2, t3) {
      return __async(this, null, function* () {
        return Promise.all(e2.entries.map((e3) => __async(this, null, function* () {
          if (!e3.metadata)
            throw new Error("Missing metadata");
          const r2 = yield e3.metadata();
          if (!(t3 in r2))
            throw new Error("Missing metadata value");
        }))).then(() => true).catch(() => false);
      });
    }
    test(e2) {
      return __async(this, null, function* () {
        if (e2.entries.length <= 1)
          return {
            iterations: 0
          };
        if (this.limitEntriesMin ? e2.entries.length < this.limitEntries : e2.entries.length > this.limitEntries)
          throw new Error(`${this.name} requires ${this.limitEntries} sources at ${this.limitEntriesMin ? "least" : "most"}. The input contained ${e2.entries.length}.`);
        for (const t3 of e2.entries)
          if (t3.type !== "bindings")
            throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${t3.type}'`);
        if (!this.canHandleUndefs) {
          for (const t3 of e2.entries)
            if (t3.canContainUndefs)
              throw new Error(`Actor ${this.name} can not join streams containing undefs`);
        }
        return (yield a.iteratorsHaveMetadata(e2, "totalItems")) ? {
          iterations: yield this.getIterations(e2)
        } : {
          iterations: 1 / 0
        };
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        if (e2.entries.length === 0)
          return {
            bindingsStream: new i.ArrayIterator([], {
              autoStart: false
            }),
            metadata: () => Promise.resolve({
              totalItems: 0
            }),
            type: "bindings",
            variables: [],
            canContainUndefs: false
          };
        if (e2.entries.length === 1)
          return e2.entries[0];
        const t3 = this.getOutput(e2);
        function r2() {
          return Promise.all(e2.entries.map((e3) => e3.metadata())).then((e3) => e3.reduce((e4, t4) => e4 * t4.totalItems, 1));
        }
        if (yield a.iteratorsHaveMetadata(e2, "totalItems")) {
          const e3 = yield t3;
          if (e3.metadata) {
            const t4 = e3.metadata;
            e3.metadata = () => t4().then((e4) => __async(this, null, function* () {
              return "totalItems" in e4 || (e4.totalItems = yield r2()), e4;
            }));
          } else
            e3.metadata = () => r2().then((e4) => ({
              totalItems: e4
            }));
          return e3;
        }
        return t3;
      });
    }
  }
  t2.ActorRdfJoin = a;
}, function(e, t2, r) {
  let n = r(3), i = n.MultiTransformIterator, a = n.SimpleTransformIterator;
  e.exports = class extends i {
    constructor(e2, t3, r2) {
      super(e2), this.funRight = t3, this.funJoin = r2;
    }
    _createTransformer(e2) {
      return new a(this.funRight(e2), {
        transform: (t3, r2) => {
          let n2 = this.funJoin(e2, t3);
          n2 !== null && this._push(n2), r2();
        }
      });
    }
  };
}, function(e, t2, r) {
  let n = r(3).AsyncIterator;
  e.exports = class extends n {
    constructor(e2, t3, r2, n2) {
      super(), this.addedDataListener = false, this.left = e2, this.right = t3, this.funHash = r2, this.funJoin = n2, this.leftMap = new Map(), this.match = null, this.matches = [], this.matchIdx = 0, this.readable = false, this.left.on("end", function() {
        if (this.leftMap.size <= 0)
          return this.close();
        this.readable = true, this.right.on("readable", () => this.readable = true), this.right.on("end", () => {
          this.hasResults() || this._end();
        });
      }.bind(this)), this.on("newListener", (e3) => {
        e3 !== "data" || this.addedDataListener || (this.addedDataListener = true, this._addDataListener());
      });
    }
    hasResults() {
      return !this.right.ended || this.matchIdx < this.matches.length;
    }
    close() {
      super.close(), this.left.close(), this.right.close();
    }
    read() {
      if (this.addedDataListener || (this.addedDataListener = true, this._addDataListener()), this.ended || !this.readable)
        return null;
      for (; this.matchIdx < this.matches.length; ) {
        let e3 = this.matches[this.matchIdx++], t3 = this.funJoin(e3, this.match);
        if (t3 !== null)
          return t3;
      }
      if (this.hasResults() || this._end(), this.match = this.right.read(), this.match === null)
        return this.readable = false, null;
      let e2 = this.funHash(this.match);
      return this.matches = this.leftMap.get(e2) || [], this.matchIdx = 0, this.read();
    }
    _addDataListener() {
      this.left.on("data", function(e2) {
        let t3 = this.funHash(e2);
        this.leftMap.has(t3) || this.leftMap.set(t3, []);
        this.leftMap.get(t3).push(e2);
      }.bind(this));
    }
  };
}, function(e, t2, r) {
  let n = r(3), i = n.MultiTransformIterator, a = n.SimpleTransformIterator;
  e.exports = class extends i {
    constructor(e2, t3, r2, n2) {
      super(e2, n2), this.right = t3, this.funJoin = r2, this.on("end", () => this.right.close());
    }
    close() {
      super.close(), this.right.close();
    }
    _createTransformer(e2) {
      return new a(this.right.clone(), {
        transform: (t3, r2) => {
          let n2 = this.funJoin(e2, t3);
          n2 !== null && this._push(n2), r2();
        }
      });
    }
  };
}, function(e, t2, r) {
  let n = r(3).AsyncIterator;
  e.exports = class extends n {
    constructor(e2, t3, r2, n2) {
      super(), this.left = e2, this.right = t3, this.funHash = r2, this.funJoin = n2, this.usedLeft = false, this.leftMap = new Map(), this.rightMap = new Map(), this.on("end", () => this._cleanup()), this.match = null, this.matches = [], this.matchIdx = 0, (this.left.readable || this.right.readable) && (this.readable = true), this.left.on("readable", () => this.readable = true), this.right.on("readable", () => this.readable = true), this.left.on("end", () => {
        this.hasResults() || this._end();
      }), this.right.on("end", () => {
        this.hasResults() || this._end();
      });
    }
    hasResults() {
      return !this.left.ended || !this.right.ended || this.matchIdx < this.matches.length;
    }
    _cleanup() {
      this.leftMap = null, this.rightMap = null, this.matches = null;
    }
    close() {
      super.close(), this.left.close(), this.right.close();
    }
    read() {
      if (this.ended)
        return null;
      for (; this.matchIdx < this.matches.length; ) {
        let e3 = this.matches[this.matchIdx++], t4 = this.usedLeft ? this.funJoin(this.match, e3) : this.funJoin(e3, this.match);
        if (t4 !== null)
          return t4;
      }
      this.hasResults() || this._end();
      let e2 = null;
      for (let t4 = 0; t4 < 2 && (e2 = this.usedLeft ? this.right.read() : this.left.read(), this.usedLeft = !this.usedLeft, e2 === null); ++t4)
        ;
      if (e2 === null)
        return this.readable = false, null;
      let t3 = this.funHash(e2), r2 = this.usedLeft ? this.leftMap : this.rightMap;
      return r2.has(t3) || r2.set(t3, []), r2.get(t3).push(e2), this.match = e2, this.matches = (this.usedLeft ? this.rightMap : this.leftMap).get(t3) || [], this.matchIdx = 0, this.read();
    }
  };
}, function(e, t2, r) {
  let n = r(3).AsyncIterator;
  e.exports = class extends n {
    constructor(e2) {
      super(), Array.isArray(e2) || (e2 = Array.prototype.slice.call(arguments)), this.streams = e2;
      for (let t3 of e2)
        t3.on("readable", () => this.emit("readable")), t3.on("end", () => this._removeStream(t3));
      this.streams.length === 0 && this.close(), this.idx = this.streams.length - 1;
    }
    _removeStream(e2) {
      let t3 = this.streams.indexOf(e2);
      t3 < 0 || (this.streams.splice(t3, 1), this.idx >= this.streams.length && --this.idx, this.streams.length === 0 && this._end());
    }
    close() {
      super.close();
      for (let e2 of this.streams)
        e2.close();
    }
    read() {
      for (let e2 = 0; e2 < this.streams.length; ++e2) {
        this.idx = (this.idx + 1) % this.streams.length;
        let e3 = this.streams[this.idx].read();
        if (e3 !== null)
          return e3;
      }
      return null;
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(269), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfJoinNestedLoop = void 0;
  const n = r(1), i = r(55), a = r(130);
  class s extends i.ActorRdfJoin {
    constructor(e2) {
      super(e2, 2, void 0, true);
    }
    getOutput(e2) {
      return __async(this, null, function* () {
        return {
          type: "bindings",
          bindingsStream: new a.NestedLoopJoin(e2.entries[0].bindingsStream, e2.entries[1].bindingsStream, i.ActorRdfJoin.join, {
            autoStart: false
          }),
          variables: i.ActorRdfJoin.joinVariables(e2),
          canContainUndefs: e2.entries.reduce((e3, t3) => e3 || t3.canContainUndefs, false)
        };
      });
    }
    getIterations(e2) {
      return __async(this, null, function* () {
        return (yield n.getMetadata(e2.entries[0])).totalItems * (yield n.getMetadata(e2.entries[1])).totalItems;
      });
    }
  }
  t2.ActorRdfJoinNestedLoop = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatorCombineUnion = void 0;
  const n = r(0);
  class i extends n.Mediator {
    constructor(e2) {
      super(e2), this.combiner = this.createCombiner();
    }
    mediate(e2) {
      return __async(this, null, function* () {
        let t3;
        try {
          t3 = this.publish(e2);
        } catch (e3) {
          t3 = [];
        }
        yield Promise.all(t3.map(({
          reply: e3
        }) => e3));
        const r2 = yield Promise.all(t3.map((t4) => t4.actor.runObservable(e2)));
        return this.combiner(r2);
      });
    }
    mediateWith() {
      throw new Error("Method not supported.");
    }
    createCombiner() {
      return (e2) => {
        const t3 = {};
        return t3[this.field] = {}, [{}].concat(e2.map((e3) => e3[this.field])).forEach((e3, r2, n2) => {
          t3[this.field] = Object.assign(Object.assign({}, e3), t3[this.field]);
        }), t3;
      };
    }
  }
  t2.MediatorCombineUnion = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(272), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseN3 = void 0;
  const n = r(46), i = r(41);
  class a extends n.ActorRdfParseFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        e2.input.on("error", (e3) => n2.emit("error", e3));
        const n2 = e2.input.pipe(new i.StreamParser({
          baseIRI: e2.baseIRI
        }));
        return {
          quads: n2,
          triples: t3 === "text/turtle" || t3 === "application/n-triples" || t3 === "text/n3"
        };
      });
    }
  }
  t2.ActorRdfParseN3 = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParse = void 0;
  const n = r(34);
  class i extends n.ActorAbstractMediaTyped {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorRdfParse = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseFixedMediaTypes = void 0;
  const n = r(34);
  class i extends n.ActorAbstractMediaTypedFixed {
    constructor(e2) {
      super(e2);
    }
    testHandleChecked(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
  }
  t2.ActorRdfParseFixedMediaTypes = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(276), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseRdfXml = void 0;
  const n = r(46), i = r(277);
  class a extends n.ActorRdfParseFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        e2.input.on("error", (e3) => n2.emit("error", e3));
        const n2 = e2.input.pipe(new i.RdfXmlParser({
          baseIRI: e2.baseIRI
        }));
        return {
          quads: n2,
          triples: true
        };
      });
    }
  }
  t2.ActorRdfParseRdfXml = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), function(e2) {
    for (var r2 in e2)
      t2.hasOwnProperty(r2) || (t2[r2] = e2[r2]);
  }(r(278));
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = r(13), i = r(131), a = r(2), s = r(280), o = r(5);
  class u extends a.Transform {
    constructor(e2) {
      super({
        readableObjectMode: true
      }), this.activeTagStack = [], this.nodeIds = {}, e2 && (Object.assign(this, e2), this.options = e2), this.dataFactory || (this.dataFactory = new o.DataFactory()), this.baseIRI || (this.baseIRI = ""), this.defaultGraph || (this.defaultGraph = this.dataFactory.defaultGraph()), this.saxStream = i.createStream(this.strict, {
        xmlns: false,
        position: this.trackPosition
      }), this.strict || (this.saxStream._parser.looseCase = "toString"), this.attachSaxListeners();
    }
    static parseNamespace(e2, t3) {
      const r2 = {};
      let n2 = false;
      for (const t4 in e2.attributes)
        t4.startsWith("xmlns") && (t4.length === 5 ? (n2 = true, r2[""] = e2.attributes[t4]) : t4.charAt(5) === ":" && (n2 = true, r2[t4.substr(6)] = e2.attributes[t4]));
      const i2 = t3 && t3.ns ? t3.ns : [u.DEFAULT_NS];
      return n2 ? i2.concat([r2]) : i2;
    }
    static expandPrefixedTerm(e2, t3, r2) {
      const n2 = e2.indexOf(":");
      let i2, a2;
      n2 >= 0 ? (i2 = e2.substr(0, n2), a2 = e2.substr(n2 + 1)) : (i2 = "", a2 = e2);
      let o2 = null, u2 = null;
      for (let e3 = t3.length - 1; e3 >= 0; e3--) {
        const r3 = t3[e3][i2];
        if (r3) {
          o2 = r3;
          break;
        }
        u2 || (u2 = t3[e3][""]);
      }
      if (!o2) {
        if (i2 && i2 !== "xmlns")
          throw new s.ParseError(r2, `The prefix '${i2}' in term '${e2}' was not bound.`);
        o2 = u2 || "";
      }
      return {
        prefix: i2,
        local: a2,
        uri: o2
      };
    }
    static isValidIri(e2) {
      return u.IRI_REGEX.test(e2);
    }
    import(e2) {
      const t3 = new a.PassThrough({
        readableObjectMode: true
      });
      e2.on("error", (e3) => r2.emit("error", e3)), e2.on("data", (e3) => t3.push(e3)), e2.on("end", () => t3.push(null));
      const r2 = t3.pipe(new u(this.options));
      return r2;
    }
    _transform(e2, t3, r2) {
      try {
        this.saxStream.write(e2, t3);
      } catch (e3) {
        return r2(e3);
      }
      r2();
    }
    newParseError(e2) {
      return new s.ParseError(this, e2);
    }
    valueToUri(e2, t3) {
      return this.uriToNamedNode(n.resolve(e2, t3.baseIRI));
    }
    uriToNamedNode(e2) {
      if (!u.isValidIri(e2))
        throw this.newParseError("Invalid URI: " + e2);
      return this.dataFactory.namedNode(e2);
    }
    validateNcname(e2) {
      if (!u.NCNAME_MATCHER.test(e2))
        throw this.newParseError("Not a valid NCName: " + e2);
    }
    attachSaxListeners() {
      this.saxStream.on("error", (e2) => this.emit("error", e2)), this.saxStream.on("opentag", this.onTag.bind(this)), this.saxStream.on("text", this.onText.bind(this)), this.saxStream.on("closetag", this.onCloseTag.bind(this)), this.saxStream.on("doctype", this.onDoctype.bind(this));
    }
    onTag(e2) {
      const t3 = this.activeTagStack.length ? this.activeTagStack[this.activeTagStack.length - 1] : null;
      let r2 = c.RESOURCE;
      if (t3 && (t3.hadChildren = true, r2 = t3.childrenParseType), t3 && t3.childrenStringTags) {
        const r3 = e2.name;
        let n3 = "";
        for (const t4 in e2.attributes)
          n3 += ` ${t4}="${e2.attributes[t4]}"`;
        const i2 = `<${`${r3}${n3}`}>`;
        t3.childrenStringTags.push(i2);
        const a2 = {
          childrenStringTags: t3.childrenStringTags
        };
        return a2.childrenStringEmitClosingTag = `</${r3}>`, void this.activeTagStack.push(a2);
      }
      const n2 = {};
      t3 ? (n2.language = t3.language, n2.baseIRI = t3.baseIRI) : n2.baseIRI = this.baseIRI, this.activeTagStack.push(n2), n2.ns = u.parseNamespace(e2, t3), r2 === c.RESOURCE ? this.onTagResource(e2, n2, t3, !t3) : this.onTagProperty(e2, n2, t3);
    }
    onTagResource(e2, t3, r2, i2) {
      const a2 = u.expandPrefixedTerm(e2.name, t3.ns, this);
      t3.childrenParseType = c.PROPERTY;
      let s2 = true;
      if (a2.uri === u.RDF) {
        if (!i2 && u.FORBIDDEN_NODE_ELEMENTS.indexOf(a2.local) >= 0)
          throw this.newParseError("Illegal node element name: " + a2.local);
        switch (a2.local) {
          case "RDF":
            t3.childrenParseType = c.RESOURCE;
          case "Description":
            s2 = false;
        }
      }
      const o2 = [], l = [];
      let h = null, d = false, p = false, f = null;
      for (const i3 in e2.attributes) {
        const a3 = e2.attributes[i3], s3 = u.expandPrefixedTerm(i3, t3.ns, this);
        if (r2 && s3.uri === u.RDF)
          switch (s3.local) {
            case "about":
              if (h)
                throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${a3} and ${h} where found.`);
              h = a3;
              continue;
            case "ID":
              if (h)
                throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${a3} and ${h} where found.`);
              this.validateNcname(a3), h = "#" + a3, d = true;
              continue;
            case "nodeID":
              if (h)
                throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${a3} and ${h} where found.`);
              this.validateNcname(a3), h = a3, p = true;
              continue;
            case "bagID":
              throw this.newParseError("rdf:bagID is not supported.");
            case "type":
              f = a3;
              continue;
            case "aboutEach":
              throw this.newParseError("rdf:aboutEach is not supported.");
            case "aboutEachPrefix":
              throw this.newParseError("rdf:aboutEachPrefix is not supported.");
            case "li":
              throw this.newParseError("rdf:li on node elements are not supported.");
          }
        else if (s3.uri === u.XML) {
          if (s3.local === "lang") {
            t3.language = a3 === "" ? null : a3.toLowerCase();
            continue;
          }
          if (s3.local === "base") {
            t3.baseIRI = n.resolve(a3, t3.baseIRI);
            continue;
          }
        }
        s3.prefix !== "xml" && s3.uri && (o2.push(this.uriToNamedNode(s3.uri + s3.local)), l.push(a3));
      }
      if (h !== null && (t3.subject = p ? this.dataFactory.blankNode(h) : this.valueToUri(h, t3), d && this.claimNodeId(t3.subject)), t3.subject || (t3.subject = this.dataFactory.blankNode()), s2) {
        const e3 = this.uriToNamedNode(a2.uri + a2.local);
        this.emitTriple(t3.subject, this.dataFactory.namedNode(u.RDF + "type"), e3, r2 ? r2.reifiedStatementId : null);
      }
      if (r2) {
        if (r2.predicate)
          if (r2.childrenCollectionSubject) {
            const e3 = this.dataFactory.blankNode();
            this.emitTriple(r2.childrenCollectionSubject, r2.childrenCollectionPredicate, e3, r2.reifiedStatementId), this.emitTriple(e3, this.dataFactory.namedNode(u.RDF + "first"), t3.subject, t3.reifiedStatementId), r2.childrenCollectionSubject = e3, r2.childrenCollectionPredicate = this.dataFactory.namedNode(u.RDF + "rest");
          } else {
            this.emitTriple(r2.subject, r2.predicate, t3.subject, r2.reifiedStatementId);
            for (let e3 = 0; e3 < r2.predicateSubPredicates.length; e3++)
              this.emitTriple(t3.subject, r2.predicateSubPredicates[e3], r2.predicateSubObjects[e3], null);
            r2.predicateSubPredicates = [], r2.predicateSubObjects = [], r2.predicateEmitted = true;
          }
        for (let e3 = 0; e3 < o2.length; e3++) {
          const n2 = this.dataFactory.literal(l[e3], t3.datatype || t3.language);
          this.emitTriple(t3.subject, o2[e3], n2, r2.reifiedStatementId);
        }
        f && this.emitTriple(t3.subject, this.dataFactory.namedNode(u.RDF + "type"), this.uriToNamedNode(f), null);
      }
    }
    onTagProperty(e2, t3, r2) {
      const n2 = u.expandPrefixedTerm(e2.name, t3.ns, this);
      if (t3.childrenParseType = c.RESOURCE, t3.subject = r2.subject, n2.uri === u.RDF && n2.local === "li" ? (r2.listItemCounter || (r2.listItemCounter = 1), t3.predicate = this.uriToNamedNode(n2.uri + "_" + r2.listItemCounter++)) : t3.predicate = this.uriToNamedNode(n2.uri + n2.local), n2.uri === u.RDF && u.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(n2.local) >= 0)
        throw this.newParseError("Illegal property element name: " + n2.local);
      t3.predicateSubPredicates = [], t3.predicateSubObjects = [];
      let i2 = false, a2 = false, s2 = null, o2 = true;
      const l = [], h = [];
      for (const r3 in e2.attributes) {
        const n3 = e2.attributes[r3], d = u.expandPrefixedTerm(r3, t3.ns, this);
        if (d.uri === u.RDF)
          switch (d.local) {
            case "resource":
              if (s2)
                throw this.newParseError(`Found both rdf:resource (${n3}) and rdf:nodeID (${s2}).`);
              if (i2)
                throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${n3})`);
              t3.hadChildren = true, s2 = n3, o2 = false;
              continue;
            case "datatype":
              if (a2)
                throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${n3}).`);
              if (i2)
                throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${n3})`);
              t3.datatype = this.valueToUri(n3, t3);
              continue;
            case "nodeID":
              if (a2)
                throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${n3}).`);
              if (t3.hadChildren)
                throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${n3}).`);
              if (i2)
                throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${n3})`);
              this.validateNcname(n3), t3.hadChildren = true, s2 = n3, o2 = true;
              continue;
            case "bagID":
              throw this.newParseError("rdf:bagID is not supported.");
            case "parseType":
              if (a2)
                throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");
              if (t3.datatype)
                throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${t3.datatype.value})`);
              if (s2)
                throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${s2})`);
              if (n3 === "Resource") {
                i2 = true, t3.childrenParseType = c.PROPERTY;
                const e3 = this.dataFactory.blankNode();
                this.emitTriple(t3.subject, t3.predicate, e3, t3.reifiedStatementId), t3.subject = e3, t3.predicate = null;
              } else
                n3 === "Collection" ? (i2 = true, t3.hadChildren = true, t3.childrenCollectionSubject = t3.subject, t3.childrenCollectionPredicate = t3.predicate, o2 = false) : n3 === "Literal" && (i2 = true, t3.childrenTagsToString = true, t3.childrenStringTags = []);
              continue;
            case "ID":
              this.validateNcname(n3), t3.reifiedStatementId = this.valueToUri("#" + n3, t3), this.claimNodeId(t3.reifiedStatementId);
              continue;
          }
        else if (d.uri === u.XML && d.local === "lang") {
          t3.language = n3 === "" ? null : n3.toLowerCase();
          continue;
        }
        if (d.prefix !== "xml" && d.prefix !== "xmlns" && d.uri) {
          if (i2 || t3.datatype)
            throw this.newParseError("Found illegal rdf:* properties on property element with attribute: " + n3);
          t3.hadChildren = true, a2 = true, l.push(this.uriToNamedNode(d.uri + d.local)), h.push(this.dataFactory.literal(n3, t3.datatype || t3.language));
        }
      }
      if (s2 !== null) {
        const e3 = t3.subject;
        t3.subject = o2 ? this.dataFactory.blankNode(s2) : this.valueToUri(s2, t3), this.emitTriple(e3, t3.predicate, t3.subject, t3.reifiedStatementId);
        for (let e4 = 0; e4 < l.length; e4++)
          this.emitTriple(t3.subject, l[e4], h[e4], null);
        t3.predicateEmitted = true;
      } else
        o2 && (t3.predicateSubPredicates = l, t3.predicateSubObjects = h, t3.predicateEmitted = false);
    }
    emitTriple(e2, t3, r2, n2) {
      this.push(this.dataFactory.quad(e2, t3, r2, this.defaultGraph)), n2 && (this.push(this.dataFactory.quad(n2, this.dataFactory.namedNode(u.RDF + "type"), this.dataFactory.namedNode(u.RDF + "Statement"), this.defaultGraph)), this.push(this.dataFactory.quad(n2, this.dataFactory.namedNode(u.RDF + "subject"), e2, this.defaultGraph)), this.push(this.dataFactory.quad(n2, this.dataFactory.namedNode(u.RDF + "predicate"), t3, this.defaultGraph)), this.push(this.dataFactory.quad(n2, this.dataFactory.namedNode(u.RDF + "object"), r2, this.defaultGraph)));
    }
    claimNodeId(e2) {
      if (!this.allowDuplicateRdfIds) {
        if (this.nodeIds[e2.value])
          throw this.newParseError(`Found multiple occurrences of rdf:ID='${e2.value}'.`);
        this.nodeIds[e2.value] = true;
      }
    }
    onText(e2) {
      const t3 = this.activeTagStack.length ? this.activeTagStack[this.activeTagStack.length - 1] : null;
      t3 && (t3.childrenStringTags ? t3.childrenStringTags.push(e2) : t3.predicate && (t3.text = e2));
    }
    onCloseTag() {
      const e2 = this.activeTagStack.pop();
      if (e2.childrenStringEmitClosingTag && e2.childrenStringTags.push(e2.childrenStringEmitClosingTag), e2.childrenTagsToString && (e2.datatype = this.dataFactory.namedNode(u.RDF + "XMLLiteral"), e2.text = e2.childrenStringTags.join(""), e2.hadChildren = false), e2.childrenCollectionSubject)
        this.emitTriple(e2.childrenCollectionSubject, e2.childrenCollectionPredicate, this.dataFactory.namedNode(u.RDF + "nil"), e2.reifiedStatementId);
      else if (e2.predicate)
        if (e2.hadChildren || e2.childrenParseType === c.PROPERTY) {
          if (!e2.predicateEmitted) {
            const t3 = this.dataFactory.blankNode();
            this.emitTriple(e2.subject, e2.predicate, t3, e2.reifiedStatementId);
            for (let r2 = 0; r2 < e2.predicateSubPredicates.length; r2++)
              this.emitTriple(t3, e2.predicateSubPredicates[r2], e2.predicateSubObjects[r2], null);
          }
        } else
          this.emitTriple(e2.subject, e2.predicate, this.dataFactory.literal(e2.text || "", e2.datatype || e2.language), e2.reifiedStatementId);
    }
    onDoctype(e2) {
      e2.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g, (e3, t3, r2) => (this.saxStream._parser.ENTITIES[t3] = r2, ""));
    }
  }
  var c;
  t2.RdfXmlParser = u, u.IRI_REGEX = /^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/, u.MIME_TYPE = "application/rdf+xml", u.RDF = "http://www.w3.org/1999/02/22-rdf-syntax-ns#", u.XML = "http://www.w3.org/XML/1998/namespace", u.XMLNS = "http://www.w3.org/2000/xmlns/", u.DEFAULT_NS = {
    xml: u.XML
  }, u.FORBIDDEN_NODE_ELEMENTS = ["RDF", "ID", "about", "bagID", "parseType", "resource", "nodeID", "li", "aboutEach", "aboutEachPrefix"], u.FORBIDDEN_PROPERTY_ELEMENTS = ["Description", "RDF", "ID", "about", "bagID", "parseType", "resource", "nodeID", "aboutEach", "aboutEachPrefix"], u.NCNAME_MATCHER = /^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u, function(e2) {
    e2[e2.RESOURCE = 0] = "RESOURCE", e2[e2.PROPERTY = 1] = "PROPERTY";
  }(c = t2.ParseType || (t2.ParseType = {}));
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    const t3 = [];
    let r2 = 0;
    for (; r2 < e2.length; )
      switch (e2[r2]) {
        case "/":
          if (e2[r2 + 1] === ".")
            if (e2[r2 + 2] === ".") {
              if (!a(e2[r2 + 3])) {
                t3.push([]), r2++;
                break;
              }
              t3.pop(), e2[r2 + 3] || t3.push([]), r2 += 3;
            } else {
              if (!a(e2[r2 + 2])) {
                t3.push([]), r2++;
                break;
              }
              e2[r2 + 2] || t3.push([]), r2 += 2;
            }
          else
            t3.push([]), r2++;
          break;
        case "#":
        case "?":
          t3.length || t3.push([]), t3[t3.length - 1].push(e2.substr(r2)), r2 = e2.length;
          break;
        default:
          t3.length || t3.push([]), t3[t3.length - 1].push(e2[r2]), r2++;
      }
    return "/" + t3.map((e3) => e3.join("")).join("/");
  }
  function i(e2, t3) {
    let r2 = t3 + 1;
    t3 >= 0 ? e2[t3 + 1] === "/" && e2[t3 + 2] === "/" && (r2 = t3 + 3) : e2[0] === "/" && e2[1] === "/" && (r2 = 2);
    const i2 = e2.indexOf("/", r2);
    if (i2 < 0)
      return e2;
    return e2.substr(0, i2) + n(e2.substr(i2));
  }
  function a(e2) {
    return !e2 || e2 === "#" || e2 === "?" || e2 === "/";
  }
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.resolve = function(e2, t3) {
    const r2 = (t3 = t3 || "").indexOf("#");
    if (r2 > 0 && (t3 = t3.substr(0, r2)), !e2.length) {
      if (t3.indexOf(":") < 0)
        throw new Error(`Found invalid baseIRI '${t3}' for value '${e2}'`);
      return t3;
    }
    if (e2.startsWith("?")) {
      const r3 = t3.indexOf("?");
      return r3 > 0 && (t3 = t3.substr(0, r3)), t3 + e2;
    }
    if (e2.startsWith("#"))
      return t3 + e2;
    if (!t3.length) {
      const t4 = e2.indexOf(":");
      if (t4 < 0)
        throw new Error(`Found invalid relative IRI '${e2}' for a missing baseIRI`);
      return i(e2, t4);
    }
    const a2 = e2.indexOf(":");
    if (a2 >= 0)
      return i(e2, a2);
    const s = t3.indexOf(":");
    if (s < 0)
      throw new Error(`Found invalid baseIRI '${t3}' for value '${e2}'`);
    const o = t3.substr(0, s + 1);
    if (e2.indexOf("//") === 0)
      return o + i(e2, a2);
    let u;
    if (t3.indexOf("//", s) === s + 1) {
      if (u = t3.indexOf("/", s + 3), u < 0)
        return t3.length > s + 3 ? t3 + "/" + i(e2, a2) : o + i(e2, a2);
    } else if (u = t3.indexOf("/", s + 1), u < 0)
      return o + i(e2, a2);
    if (e2.indexOf("/") === 0)
      return t3.substr(0, u) + n(e2);
    let c = t3.substr(u);
    const l = c.lastIndexOf("/");
    return l >= 0 && l < c.length - 1 && (c = c.substr(0, l + 1), e2[0] === "." && e2[1] !== "." && e2[1] !== "/" && e2[2] && (e2 = e2.substr(1))), e2 = n(e2 = c + e2), t3.substr(0, u) + e2;
  }, t2.removeDotSegments = n, t2.removeDotSegmentsOfPath = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  class n extends Error {
    constructor(e2, t3) {
      const r2 = e2.saxStream._parser;
      super(e2.trackPosition ? `Line ${r2.line + 1} column ${r2.column + 1}: ${t3}` : t3);
    }
  }
  t2.ParseError = n;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(282), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseXmlRdfa = void 0;
  const n = r(46), i = r(283);
  class a extends n.ActorRdfParseFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        var n2;
        const a2 = (n2 = e2.headers && e2.headers.get("content-language")) !== null && n2 !== void 0 ? n2 : void 0;
        e2.input.on("error", (e3) => s.emit("error", e3));
        const s = e2.input.pipe(new i.RdfaParser({
          baseIRI: e2.baseIRI,
          profile: "xml",
          language: a2
        }));
        return {
          quads: s,
          triples: true
        };
      });
    }
  }
  t2.ActorRdfParseXmlRdfa = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(284), t2), i(r(285), t2), i(r(286), t2), i(r(287), t2), i(r(79), t2), i(r(139), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RdfaParser = void 0;
  const n = r(288), i = r(2), a = r(301), s = r(302), o = r(79), u = r(139);
  class c extends i.Transform {
    constructor(e2) {
      super({
        readableObjectMode: true
      }), this.activeTagStack = [], e2 = e2 || {}, this.options = e2, this.util = new u.Util(e2.dataFactory, e2.baseIRI), this.defaultGraph = e2.defaultGraph || this.util.dataFactory.defaultGraph();
      const t3 = e2.contentType ? u.Util.contentTypeToProfile(e2.contentType) : e2.profile || "";
      this.features = e2.features || o.RDFA_FEATURES[t3], this.htmlParseListener = e2.htmlParseListener, this.rdfaPatterns = this.features.copyRdfaPatterns ? {} : null, this.pendingRdfaPatternCopies = this.features.copyRdfaPatterns ? {} : null, this.parser = this.initializeParser(t3 === "xml"), this.activeTagStack.push({
        incompleteTriples: [],
        inlist: false,
        language: e2.language,
        listMapping: {},
        listMappingLocal: {},
        name: "",
        prefixesAll: Object.assign(Object.assign({}, s["@context"]), this.features.xhtmlInitialContext ? a["@context"] : {}),
        prefixesCustom: {},
        skipElement: false,
        vocab: e2.vocab
      });
    }
    import(e2) {
      const t3 = new i.PassThrough({
        readableObjectMode: true
      });
      e2.on("error", (e3) => r2.emit("error", e3)), e2.on("data", (e3) => t3.push(e3)), e2.on("end", () => t3.push(null));
      const r2 = t3.pipe(new c(this.options));
      return r2;
    }
    _transform(e2, t3, r2) {
      this.parser.write(e2), r2();
    }
    _flush(e2) {
      this.parser.end(), e2();
    }
    onTagOpen(e2, t3) {
      let r2 = this.activeTagStack.length - 1;
      for (; r2 > 0 && this.activeTagStack[r2].skipElement; )
        r2--;
      let n2 = this.activeTagStack[r2];
      r2 !== this.activeTagStack.length - 1 && (n2 = Object.assign(Object.assign({}, n2), {
        language: this.activeTagStack[this.activeTagStack.length - 1].language,
        prefixesAll: this.activeTagStack[this.activeTagStack.length - 1].prefixesAll,
        prefixesCustom: this.activeTagStack[this.activeTagStack.length - 1].prefixesCustom,
        vocab: this.activeTagStack[this.activeTagStack.length - 1].vocab
      }));
      const i2 = {
        collectChildTags: n2.collectChildTags,
        incompleteTriples: [],
        inlist: "inlist" in t3,
        listMapping: [],
        listMappingLocal: n2.listMapping,
        localBaseIRI: n2.localBaseIRI,
        name: e2,
        prefixesAll: null,
        prefixesCustom: null,
        skipElement: false
      };
      if (this.activeTagStack.push(i2), i2.collectChildTags) {
        for (const e3 of Object.keys(n2.prefixesCustom).sort()) {
          const r4 = n2.prefixesCustom[e3], i3 = e3 === "" ? "xmlns" : "xmlns:" + e3;
          i3 in t3 || (t3[i3] = r4);
        }
        const r3 = Object.keys(t3).map((e3) => `${e3}="${t3[e3]}"`).join(" ");
        if (i2.text = [`<${e2}${r3 ? " " + r3 : ""}>`], this.features.skipHandlingXmlLiteralChildren)
          return;
      }
      let a2, s2, o2, c2 = true, l = true;
      if (this.features.onlyAllowUriRelRevIfProperty && ("property" in t3 && "rel" in t3 && (c2 = false, t3.rel.indexOf(":") < 0 && delete t3.rel), "property" in t3 && "rev" in t3 && (l = false, t3.rev.indexOf(":") < 0 && delete t3.rev)), this.features.copyRdfaPatterns) {
        if (n2.collectedPatternTag) {
          const r3 = {
            attributes: t3,
            children: [],
            name: e2,
            referenced: false,
            rootPattern: false,
            text: []
          };
          return n2.collectedPatternTag.children.push(r3), void (i2.collectedPatternTag = r3);
        }
        if (t3.typeof === "rdfa:Pattern")
          return void (i2.collectedPatternTag = {
            attributes: t3,
            children: [],
            name: e2,
            parentTag: n2,
            referenced: false,
            rootPattern: true,
            text: []
          });
        if (t3.property === "rdfa:copy") {
          const e3 = t3.resource || t3.href || t3.src;
          return void (this.rdfaPatterns[e3] ? this.emitPatternCopy(n2, this.rdfaPatterns[e3], e3) : (this.pendingRdfaPatternCopies[e3] || (this.pendingRdfaPatternCopies[e3] = []), this.pendingRdfaPatternCopies[e3].push(n2)));
        }
      }
      if (this.features.baseTag && e2 === "base" && t3.href && (this.util.baseIRI = this.util.getBaseIRI(t3.href)), this.features.xmlBase && t3["xml:base"] && (i2.localBaseIRI = this.util.getBaseIRI(t3["xml:base"])), this.features.timeTag && e2 === "time" && !t3.datatype && (i2.interpretObjectAsTime = true), "vocab" in t3 ? t3.vocab ? (i2.vocab = t3.vocab, this.emitTriple(this.util.getBaseIriTerm(i2), this.util.dataFactory.namedNode(u.Util.RDFA + "usesVocabulary"), this.util.dataFactory.namedNode(i2.vocab))) : i2.vocab = this.activeTagStack[0].vocab : i2.vocab = n2.vocab, i2.prefixesCustom = u.Util.parsePrefixes(t3, n2.prefixesCustom, this.features.xmlnsPrefixMappings), i2.prefixesAll = Object.keys(i2.prefixesCustom).length > 0 ? Object.assign(Object.assign({}, n2.prefixesAll), i2.prefixesCustom) : n2.prefixesAll, this.features.roleAttribute && t3.role) {
        const e3 = t3.id ? this.util.createIri("#" + t3.id, i2, false, false, false) : this.util.createBlankNode(), r3 = i2.vocab;
        i2.vocab = "http://www.w3.org/1999/xhtml/vocab#";
        for (const r4 of this.util.createVocabIris(t3.role, i2, true, false))
          this.emitTriple(e3, this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"), r4);
        i2.vocab = r3;
      }
      "xml:lang" in t3 || this.features.langAttribute && "lang" in t3 ? i2.language = t3["xml:lang"] || t3.lang : i2.language = n2.language;
      const h = this.activeTagStack.length === 2;
      if ("rel" in t3 || "rev" in t3 ? ("about" in t3 ? (a2 = this.util.createIri(t3.about, i2, false, true, true), i2.explicitNewSubject = !!a2, "typeof" in t3 && (o2 = a2)) : h ? a2 = true : n2.object && (a2 = n2.object), "resource" in t3 && (s2 = this.util.createIri(t3.resource, i2, false, true, true)), s2 || ("href" in t3 || "src" in t3 ? s2 = this.util.createIri(t3.href || t3.src, i2, false, false, true) : !("typeof" in t3) || "about" in t3 || this.isInheritSubjectInHeadBody(e2) || (s2 = this.util.createBlankNode())), "typeof" in t3 && !("about" in t3) && (o2 = this.isInheritSubjectInHeadBody(e2) ? a2 : s2)) : !("property" in t3) || "content" in t3 || "datatype" in t3 ? (("about" in t3 || "resource" in t3) && (a2 = this.util.createIri(t3.about || t3.resource, i2, false, true, true), i2.explicitNewSubject = !!a2), a2 || !("href" in t3) && !("src" in t3) || (a2 = this.util.createIri(t3.href || t3.src, i2, false, false, true), i2.explicitNewSubject = !!a2), a2 || (h ? a2 = true : this.isInheritSubjectInHeadBody(e2) ? a2 = n2.object : "typeof" in t3 ? (a2 = this.util.createBlankNode(), i2.explicitNewSubject = true) : n2.object && (a2 = n2.object, "property" in t3 || (i2.skipElement = true))), "typeof" in t3 && (o2 = a2)) : ("about" in t3 ? (a2 = this.util.createIri(t3.about, i2, false, true, true), i2.explicitNewSubject = !!a2) : h ? a2 = true : n2.object && (a2 = n2.object), "typeof" in t3 && ("about" in t3 && (o2 = this.util.createIri(t3.about, i2, false, true, true)), !o2 && h && (o2 = true), !o2 && "resource" in t3 && (o2 = this.util.createIri(t3.resource, i2, false, true, true)), o2 || !("href" in t3) && !("src" in t3) || (o2 = this.util.createIri(t3.href || t3.src, i2, false, false, true)), !o2 && this.isInheritSubjectInHeadBody(e2) && (o2 = a2), o2 || (o2 = this.util.createBlankNode()), s2 = o2)), o2)
        for (const e3 of this.util.createVocabIris(t3.typeof, i2, true, true))
          this.emitTriple(this.util.getResourceOrBaseIri(o2, i2), this.util.dataFactory.namedNode(u.Util.RDF + "type"), e3);
      if (a2 && (i2.listMapping = {}), s2) {
        if ("rel" in t3 && "inlist" in t3)
          for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
            this.addListMapping(i2, a2, e3, s2);
        if (!("rel" in t3) || !("inlist" in t3)) {
          if ("rel" in t3)
            for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
              this.emitTriple(this.util.getResourceOrBaseIri(a2, i2), e3, this.util.getResourceOrBaseIri(s2, i2));
          if ("rev" in t3)
            for (const e3 of this.util.createVocabIris(t3.rev, i2, l, false))
              this.emitTriple(this.util.getResourceOrBaseIri(s2, i2), e3, this.util.getResourceOrBaseIri(a2, i2));
        }
      }
      if (!s2) {
        if ("rel" in t3)
          if ("inlist" in t3)
            for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
              this.addListMapping(i2, a2, e3, null), i2.incompleteTriples.push({
                predicate: e3,
                reverse: false,
                list: true
              });
          else
            for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
              i2.incompleteTriples.push({
                predicate: e3,
                reverse: false
              });
        if ("rev" in t3)
          for (const e3 of this.util.createVocabIris(t3.rev, i2, l, false))
            i2.incompleteTriples.push({
              predicate: e3,
              reverse: true
            });
        i2.incompleteTriples.length > 0 && (s2 = this.util.createBlankNode());
      }
      if ("property" in t3) {
        let e3;
        if (i2.predicates = this.util.createVocabIris(t3.property, i2, true, false), "datatype" in t3 ? (i2.datatype = this.util.createIri(t3.datatype, i2, true, true, false), i2.datatype && (i2.datatype.value === u.Util.RDF + "XMLLiteral" || this.features.htmlDatatype && i2.datatype.value === u.Util.RDF + "HTML") && (i2.collectChildTags = true)) : ("rev" in t3 || "rel" in t3 || "content" in t3 || ("resource" in t3 && (e3 = this.util.createIri(t3.resource, i2, false, true, true)), !e3 && "href" in t3 && (e3 = this.util.createIri(t3.href, i2, false, false, true)), !e3 && "src" in t3 && (e3 = this.util.createIri(t3.src, i2, false, false, true))), "typeof" in t3 && !("about" in t3) && (e3 = o2)), "content" in t3) {
          const e4 = this.util.createLiteral(t3.content, i2);
          if ("inlist" in t3)
            for (const t4 of i2.predicates)
              this.addListMapping(i2, a2, t4, e4);
          else {
            const t4 = this.util.getResourceOrBaseIri(a2, i2);
            for (const r3 of i2.predicates)
              this.emitTriple(t4, r3, e4);
          }
          i2.predicates = null;
        } else if (this.features.datetimeAttribute && "datetime" in t3) {
          i2.interpretObjectAsTime = true;
          const e4 = this.util.createLiteral(t3.datetime, i2);
          if ("inlist" in t3)
            for (const t4 of i2.predicates)
              this.addListMapping(i2, a2, t4, e4);
          else {
            const t4 = this.util.getResourceOrBaseIri(a2, i2);
            for (const r3 of i2.predicates)
              this.emitTriple(t4, r3, e4);
          }
          i2.predicates = null;
        } else if (e3) {
          const r3 = this.util.getResourceOrBaseIri(e3, i2);
          if ("inlist" in t3)
            for (const e4 of i2.predicates)
              this.addListMapping(i2, a2, e4, r3);
          else {
            const e4 = this.util.getResourceOrBaseIri(a2, i2);
            for (const t4 of i2.predicates)
              this.emitTriple(e4, t4, r3);
          }
          i2.predicates = null;
        }
      }
      let d = false;
      if (!i2.skipElement && a2 && n2.incompleteTriples.length > 0) {
        d = true;
        const e3 = this.util.getResourceOrBaseIri(n2.subject, i2), t4 = this.util.getResourceOrBaseIri(a2, i2);
        for (const r3 of n2.incompleteTriples)
          if (r3.reverse)
            this.emitTriple(t4, r3.predicate, e3);
          else if (r3.list) {
            let e4 = null;
            for (let t5 = this.activeTagStack.length - 1; t5 >= 0; t5--)
              if (this.activeTagStack[t5].inlist) {
                e4 = this.activeTagStack[t5];
                break;
              }
            this.addListMapping(e4, a2, r3.predicate, t4);
          } else
            this.emitTriple(e3, r3.predicate, t4);
      }
      !d && n2.incompleteTriples.length > 0 && (i2.incompleteTriples = i2.incompleteTriples.concat(n2.incompleteTriples)), i2.subject = a2 || n2.subject, i2.object = s2 || a2;
    }
    onText(e2) {
      const t3 = this.activeTagStack[this.activeTagStack.length - 1];
      this.features.copyRdfaPatterns && t3.collectedPatternTag ? t3.collectedPatternTag.text.push(e2) : (t3.text || (t3.text = []), t3.text.push(e2));
    }
    onTagClose() {
      const e2 = this.activeTagStack[this.activeTagStack.length - 1], t3 = this.activeTagStack[this.activeTagStack.length - 2];
      if (!(e2.collectChildTags && t3.collectChildTags && this.features.skipHandlingXmlLiteralChildren)) {
        if (this.features.copyRdfaPatterns && e2.collectedPatternTag && e2.collectedPatternTag.rootPattern) {
          const t4 = e2.collectedPatternTag.attributes.resource;
          if (delete e2.collectedPatternTag.attributes.resource, delete e2.collectedPatternTag.attributes.typeof, this.rdfaPatterns[t4] = e2.collectedPatternTag, this.pendingRdfaPatternCopies[t4]) {
            for (const r2 of this.pendingRdfaPatternCopies[t4])
              this.emitPatternCopy(r2, e2.collectedPatternTag, t4);
            delete this.pendingRdfaPatternCopies[t4];
          }
          return void this.activeTagStack.pop();
        }
        if (e2.predicates) {
          const r2 = this.util.getResourceOrBaseIri(e2.subject, e2);
          let n2 = e2.text || [];
          e2.collectChildTags && t3.collectChildTags && (n2 = n2.slice(1));
          const i2 = this.util.createLiteral(n2.join(""), e2);
          if (e2.inlist)
            for (const t4 of e2.predicates)
              this.addListMapping(e2, r2, t4, i2);
          else
            for (const t4 of e2.predicates)
              this.emitTriple(r2, t4, i2);
          t3.predicates || (e2.text = null);
        }
        if (e2.object && Object.keys(e2.listMapping).length > 0) {
          const t4 = this.util.getResourceOrBaseIri(e2.object, e2);
          for (const r2 in e2.listMapping) {
            const n2 = this.util.dataFactory.namedNode(r2), i2 = e2.listMapping[r2];
            if (i2.length > 0) {
              const r3 = i2.map(() => this.util.createBlankNode());
              for (let t5 = 0; t5 < i2.length; t5++) {
                const n3 = this.util.getResourceOrBaseIri(i2[t5], e2);
                this.emitTriple(r3[t5], this.util.dataFactory.namedNode(u.Util.RDF + "first"), n3), this.emitTriple(r3[t5], this.util.dataFactory.namedNode(u.Util.RDF + "rest"), t5 < i2.length - 1 ? r3[t5 + 1] : this.util.dataFactory.namedNode(u.Util.RDF + "nil"));
              }
              this.emitTriple(t4, n2, r3[0]);
            } else
              this.emitTriple(t4, n2, this.util.dataFactory.namedNode(u.Util.RDF + "nil"));
          }
        }
      }
      this.activeTagStack.pop(), e2.collectChildTags && e2.text && e2.text.push(`</${e2.name}>`), e2.text && t3 && (t3.text ? t3.text = t3.text.concat(e2.text) : t3.text = e2.text);
    }
    onEnd() {
      if (this.features.copyRdfaPatterns) {
        this.features.copyRdfaPatterns = false;
        for (const e2 in this.rdfaPatterns) {
          const t3 = this.rdfaPatterns[e2];
          t3.referenced || (t3.attributes.typeof = "rdfa:Pattern", t3.attributes.resource = e2, this.emitPatternCopy(t3.parentTag, t3, e2), t3.referenced = false, delete t3.attributes.typeof, delete t3.attributes.resource);
        }
        for (const e2 in this.pendingRdfaPatternCopies)
          for (const t3 of this.pendingRdfaPatternCopies[e2])
            this.activeTagStack.push(t3), this.onTagOpen("link", {
              property: "rdfa:copy",
              href: e2
            }), this.onTagClose(), this.activeTagStack.pop();
        this.features.copyRdfaPatterns = true;
      }
    }
    isInheritSubjectInHeadBody(e2) {
      return this.features.inheritSubjectInHeadBody && (e2 === "head" || e2 === "body");
    }
    addListMapping(e2, t3, r2, n2) {
      if (e2.explicitNewSubject) {
        const i2 = this.util.createBlankNode();
        this.emitTriple(this.util.getResourceOrBaseIri(t3, e2), r2, i2), this.emitTriple(i2, this.util.dataFactory.namedNode(u.Util.RDF + "first"), this.util.getResourceOrBaseIri(n2, e2)), this.emitTriple(i2, this.util.dataFactory.namedNode(u.Util.RDF + "rest"), this.util.dataFactory.namedNode(u.Util.RDF + "nil"));
      } else {
        let t4 = e2.listMappingLocal[r2.value];
        t4 || (e2.listMappingLocal[r2.value] = t4 = []), n2 && t4.push(n2);
      }
    }
    emitTriple(e2, t3, r2) {
      e2.termType === "NamedNode" && e2.value.indexOf(":") < 0 || t3.termType === "NamedNode" && t3.value.indexOf(":") < 0 || r2.termType === "NamedNode" && r2.value.indexOf(":") < 0 || this.push(this.util.dataFactory.quad(e2, t3, r2, this.defaultGraph));
    }
    emitPatternCopy(e2, t3, r2) {
      if (this.activeTagStack.push(e2), t3.referenced = true, t3.constructedBlankNodes) {
        let e3 = 0;
        this.util.blankNodeFactory = () => t3.constructedBlankNodes[e3++];
      } else
        t3.constructedBlankNodes = [], this.util.blankNodeFactory = () => {
          const e3 = this.util.dataFactory.blankNode();
          return t3.constructedBlankNodes.push(e3), e3;
        };
      this.emitPatternCopyAbsolute(t3, true, r2), this.util.blankNodeFactory = null, this.activeTagStack.pop();
    }
    emitPatternCopyAbsolute(e2, t3, r2) {
      if (t3 || e2.attributes.property !== "rdfa:copy" || e2.attributes.href !== r2) {
        this.onTagOpen(e2.name, e2.attributes);
        for (const t4 of e2.text)
          this.onText(t4);
        for (const t4 of e2.children)
          this.emitPatternCopyAbsolute(t4, false, r2);
        this.onTagClose();
      }
    }
    initializeParser(e2) {
      return new n.Parser({
        onclosetag: () => {
          try {
            this.onTagClose(), this.htmlParseListener && this.htmlParseListener.onTagClose();
          } catch (e3) {
            this.emit("error", e3);
          }
        },
        onend: () => {
          try {
            this.onEnd(), this.htmlParseListener && this.htmlParseListener.onEnd();
          } catch (e3) {
            this.emit("error", e3);
          }
        },
        onopentag: (e3, t3) => {
          try {
            this.onTagOpen(e3, t3), this.htmlParseListener && this.htmlParseListener.onTagOpen(e3, t3);
          } catch (e4) {
            this.emit("error", e4);
          }
        },
        ontext: (e3) => {
          try {
            this.onText(e3), this.htmlParseListener && this.htmlParseListener.onText(e3);
          } catch (e4) {
            this.emit("error", e4);
          }
        }
      }, {
        decodeEntities: true,
        recognizeSelfClosing: true,
        xmlMode: e2
      });
    }
  }
  t2.RdfaParser = c;
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    for (var r2 in e2)
      t2.hasOwnProperty(r2) || (t2[r2] = e2[r2]);
  }
  var i = this && this.__importStar || function(e2) {
    if (e2 && e2.__esModule)
      return e2;
    var t3 = {};
    if (e2 != null)
      for (var r2 in e2)
        Object.hasOwnProperty.call(e2, r2) && (t3[r2] = e2[r2]);
    return t3.default = e2, t3;
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var a = r(132);
  t2.Parser = a.Parser;
  var s = r(58);
  t2.DomHandler = s.DomHandler, t2.DefaultHandler = s.DomHandler, t2.parseDOM = function(e2, t3) {
    var r2 = new s.DomHandler(void 0, t3);
    return new a.Parser(r2, t3).end(e2), r2.dom;
  }, t2.createDomStream = function(e2, t3, r2) {
    var n2 = new s.DomHandler(e2, t3, r2);
    return new a.Parser(n2, t3);
  };
  var o = r(133);
  t2.Tokenizer = o.default;
  var u = i(r(59));
  t2.ElementType = u, t2.EVENTS = {
    attribute: 2,
    cdatastart: 0,
    cdataend: 0,
    text: 1,
    processinginstruction: 2,
    comment: 1,
    commentend: 0,
    closetag: 1,
    opentag: 2,
    opentagname: 1,
    error: 1,
    end: 0
  }, n(r(135)), n(r(298)), n(r(299));
  var c = i(r(60));
  t2.DomUtils = c;
  var l = r(135);
  t2.RssHandler = l.FeedHandler;
}, function(e) {
  e.exports = JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}');
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.getText = t2.getInnerHTML = t2.getOuterHTML = void 0;
  var i = r(37), a = n(r(291));
  function s(e2, t3) {
    return a.default(e2, t3);
  }
  t2.getOuterHTML = s, t2.getInnerHTML = function(e2, t3) {
    return i.hasChildren(e2) ? e2.children.map(function(e3) {
      return s(e3, t3);
    }).join("") : "";
  }, t2.getText = function e2(t3) {
    return Array.isArray(t3) ? t3.map(e2).join("") : i.isTag(t3) ? t3.name === "br" ? "\n" : e2(t3.children) : i.isCDATA(t3) ? e2(t3.children) : i.isText(t3) ? t3.data : "";
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__assign || function() {
    return (n = Object.assign || function(e2) {
      for (var t3, r2 = 1, n2 = arguments.length; r2 < n2; r2++)
        for (var i2 in t3 = arguments[r2])
          Object.prototype.hasOwnProperty.call(t3, i2) && (e2[i2] = t3[i2]);
      return e2;
    }).apply(this, arguments);
  }, i = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), a = this && this.__setModuleDefault || (Object.create ? function(e2, t3) {
    Object.defineProperty(e2, "default", {
      enumerable: true,
      value: t3
    });
  } : function(e2, t3) {
    e2.default = t3;
  }), s = this && this.__importStar || function(e2) {
    if (e2 && e2.__esModule)
      return e2;
    var t3 = {};
    if (e2 != null)
      for (var r2 in e2)
        r2 !== "default" && Object.prototype.hasOwnProperty.call(e2, r2) && i(t3, e2, r2);
    return a(t3, e2), t3;
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var o = s(r(59)), u = r(292), c = r(293), l = new Set(["style", "script", "xmp", "iframe", "noembed", "noframes", "plaintext", "noscript"]);
  var h = new Set(["area", "base", "basefont", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr"]);
  function d(e2, t3) {
    t3 === void 0 && (t3 = {});
    for (var r2 = Array.isArray(e2) || e2.cheerio ? e2 : [e2], n2 = "", i2 = 0; i2 < r2.length; i2++)
      n2 += p(r2[i2], t3);
    return n2;
  }
  function p(e2, t3) {
    switch (e2.type) {
      case "root":
        return d(e2.children, t3);
      case o.Directive:
        return "<" + e2.data + ">";
      case o.Comment:
        return function(e3) {
          return "<!--" + e3.data + "-->";
        }(e2);
      case o.CDATA:
        return function(e3) {
          return "<![CDATA[" + e3.children[0].data + "]]>";
        }(e2);
      default:
        return o.isTag(e2) ? function(e3, t4) {
          var r2;
          t4.xmlMode === "foreign" && (e3.name = (r2 = c.elementNames.get(e3.name)) !== null && r2 !== void 0 ? r2 : e3.name, e3.parent && f.has(e3.parent.name) && (t4 = n(n({}, t4), {
            xmlMode: false
          })));
          !t4.xmlMode && g.has(e3.name) && (t4 = n(n({}, t4), {
            xmlMode: "foreign"
          }));
          var i2 = "<" + e3.name, a2 = function(e4, t5) {
            if (e4)
              return Object.keys(e4).map(function(r3) {
                var n2, i3, a3 = (n2 = e4[r3]) !== null && n2 !== void 0 ? n2 : "";
                return t5.xmlMode === "foreign" && (r3 = (i3 = c.attributeNames.get(r3)) !== null && i3 !== void 0 ? i3 : r3), t5.emptyAttrs || t5.xmlMode || a3 !== "" ? r3 + '="' + (t5.decodeEntities ? u.encodeXML(a3) : a3.replace(/"/g, "&quot;")) + '"' : r3;
              }).join(" ");
          }(e3.attribs, t4);
          a2 && (i2 += " " + a2);
          e3.children.length === 0 && (t4.xmlMode ? t4.selfClosingTags !== false : t4.selfClosingTags && h.has(e3.name)) ? (t4.xmlMode || (i2 += " "), i2 += "/>") : (i2 += ">", e3.children.length > 0 && (i2 += d(e3.children, t4)), !t4.xmlMode && h.has(e3.name) || (i2 += "</" + e3.name + ">"));
          return i2;
        }(e2, t3) : function(e3, t4) {
          var r2 = e3.data || "";
          !t4.decodeEntities || e3.parent && l.has(e3.parent.name) || (r2 = u.encodeXML(r2));
          return r2;
        }(e2, t3);
    }
  }
  t2.default = d;
  var f = new Set(["mi", "mo", "mn", "ms", "mtext", "annotation-xml", "foreignObject", "desc", "title"]), g = new Set(["svg", "math"]);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.encode = t2.decodeStrict = t2.decode = void 0;
  var n = r(136), i = r(137);
  t2.decode = function(e2, t3) {
    return (!t3 || t3 <= 0 ? n.decodeXML : n.decodeHTML)(e2);
  }, t2.decodeStrict = function(e2, t3) {
    return (!t3 || t3 <= 0 ? n.decodeXML : n.decodeHTMLStrict)(e2);
  }, t2.encode = function(e2, t3) {
    return (!t3 || t3 <= 0 ? i.encodeXML : i.encodeHTML)(e2);
  };
  var a = r(137);
  Object.defineProperty(t2, "encodeXML", {
    enumerable: true,
    get: function() {
      return a.encodeXML;
    }
  }), Object.defineProperty(t2, "encodeHTML", {
    enumerable: true,
    get: function() {
      return a.encodeHTML;
    }
  }), Object.defineProperty(t2, "escape", {
    enumerable: true,
    get: function() {
      return a.escape;
    }
  }), Object.defineProperty(t2, "encodeHTML4", {
    enumerable: true,
    get: function() {
      return a.encodeHTML;
    }
  }), Object.defineProperty(t2, "encodeHTML5", {
    enumerable: true,
    get: function() {
      return a.encodeHTML;
    }
  });
  var s = r(136);
  Object.defineProperty(t2, "decodeXML", {
    enumerable: true,
    get: function() {
      return s.decodeXML;
    }
  }), Object.defineProperty(t2, "decodeHTML", {
    enumerable: true,
    get: function() {
      return s.decodeHTML;
    }
  }), Object.defineProperty(t2, "decodeHTMLStrict", {
    enumerable: true,
    get: function() {
      return s.decodeHTMLStrict;
    }
  }), Object.defineProperty(t2, "decodeHTML4", {
    enumerable: true,
    get: function() {
      return s.decodeHTML;
    }
  }), Object.defineProperty(t2, "decodeHTML5", {
    enumerable: true,
    get: function() {
      return s.decodeHTML;
    }
  }), Object.defineProperty(t2, "decodeHTML4Strict", {
    enumerable: true,
    get: function() {
      return s.decodeHTMLStrict;
    }
  }), Object.defineProperty(t2, "decodeHTML5Strict", {
    enumerable: true,
    get: function() {
      return s.decodeHTMLStrict;
    }
  }), Object.defineProperty(t2, "decodeXMLStrict", {
    enumerable: true,
    get: function() {
      return s.decodeXML;
    }
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.attributeNames = t2.elementNames = void 0, t2.elementNames = new Map([
    ["altglyph", "altGlyph"],
    ["altglyphdef", "altGlyphDef"],
    ["altglyphitem", "altGlyphItem"],
    ["animatecolor", "animateColor"],
    ["animatemotion", "animateMotion"],
    ["animatetransform", "animateTransform"],
    ["clippath", "clipPath"],
    ["feblend", "feBlend"],
    ["fecolormatrix", "feColorMatrix"],
    ["fecomponenttransfer", "feComponentTransfer"],
    ["fecomposite", "feComposite"],
    ["feconvolvematrix", "feConvolveMatrix"],
    ["fediffuselighting", "feDiffuseLighting"],
    ["fedisplacementmap", "feDisplacementMap"],
    ["fedistantlight", "feDistantLight"],
    ["fedropshadow", "feDropShadow"],
    ["feflood", "feFlood"],
    ["fefunca", "feFuncA"],
    ["fefuncb", "feFuncB"],
    ["fefuncg", "feFuncG"],
    ["fefuncr", "feFuncR"],
    ["fegaussianblur", "feGaussianBlur"],
    ["feimage", "feImage"],
    ["femerge", "feMerge"],
    ["femergenode", "feMergeNode"],
    ["femorphology", "feMorphology"],
    ["feoffset", "feOffset"],
    ["fepointlight", "fePointLight"],
    ["fespecularlighting", "feSpecularLighting"],
    ["fespotlight", "feSpotLight"],
    ["fetile", "feTile"],
    ["feturbulence", "feTurbulence"],
    ["foreignobject", "foreignObject"],
    ["glyphref", "glyphRef"],
    ["lineargradient", "linearGradient"],
    ["radialgradient", "radialGradient"],
    ["textpath", "textPath"]
  ]), t2.attributeNames = new Map([
    ["definitionurl", "definitionURL"],
    ["attributename", "attributeName"],
    ["attributetype", "attributeType"],
    ["basefrequency", "baseFrequency"],
    ["baseprofile", "baseProfile"],
    ["calcmode", "calcMode"],
    ["clippathunits", "clipPathUnits"],
    ["diffuseconstant", "diffuseConstant"],
    ["edgemode", "edgeMode"],
    ["filterunits", "filterUnits"],
    ["glyphref", "glyphRef"],
    ["gradienttransform", "gradientTransform"],
    ["gradientunits", "gradientUnits"],
    ["kernelmatrix", "kernelMatrix"],
    ["kernelunitlength", "kernelUnitLength"],
    ["keypoints", "keyPoints"],
    ["keysplines", "keySplines"],
    ["keytimes", "keyTimes"],
    ["lengthadjust", "lengthAdjust"],
    ["limitingconeangle", "limitingConeAngle"],
    ["markerheight", "markerHeight"],
    ["markerunits", "markerUnits"],
    ["markerwidth", "markerWidth"],
    ["maskcontentunits", "maskContentUnits"],
    ["maskunits", "maskUnits"],
    ["numoctaves", "numOctaves"],
    ["pathlength", "pathLength"],
    ["patterncontentunits", "patternContentUnits"],
    ["patterntransform", "patternTransform"],
    ["patternunits", "patternUnits"],
    ["pointsatx", "pointsAtX"],
    ["pointsaty", "pointsAtY"],
    ["pointsatz", "pointsAtZ"],
    ["preservealpha", "preserveAlpha"],
    ["preserveaspectratio", "preserveAspectRatio"],
    ["primitiveunits", "primitiveUnits"],
    ["refx", "refX"],
    ["refy", "refY"],
    ["repeatcount", "repeatCount"],
    ["repeatdur", "repeatDur"],
    ["requiredextensions", "requiredExtensions"],
    ["requiredfeatures", "requiredFeatures"],
    ["specularconstant", "specularConstant"],
    ["specularexponent", "specularExponent"],
    ["spreadmethod", "spreadMethod"],
    ["startoffset", "startOffset"],
    ["stddeviation", "stdDeviation"],
    ["stitchtiles", "stitchTiles"],
    ["surfacescale", "surfaceScale"],
    ["systemlanguage", "systemLanguage"],
    ["tablevalues", "tableValues"],
    ["targetx", "targetX"],
    ["targety", "targetY"],
    ["textlength", "textLength"],
    ["viewbox", "viewBox"],
    ["viewtarget", "viewTarget"],
    ["xchannelselector", "xChannelSelector"],
    ["ychannelselector", "yChannelSelector"],
    ["zoomandpan", "zoomAndPan"]
  ]);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.nextElementSibling = t2.getName = t2.hasAttrib = t2.getAttributeValue = t2.getSiblings = t2.getParent = t2.getChildren = void 0;
  var n = r(37), i = [];
  function a(e2) {
    var t3;
    return (t3 = e2.children) !== null && t3 !== void 0 ? t3 : i;
  }
  function s(e2) {
    return e2.parent || null;
  }
  t2.getChildren = a, t2.getParent = s, t2.getSiblings = function(e2) {
    var t3 = s(e2);
    if (t3 != null)
      return a(t3);
    for (var r2 = [e2], n2 = e2.prev, i2 = e2.next; n2 != null; )
      r2.unshift(n2), n2 = n2.prev;
    for (; i2 != null; )
      r2.push(i2), i2 = i2.next;
    return r2;
  }, t2.getAttributeValue = function(e2, t3) {
    var r2;
    return (r2 = e2.attribs) === null || r2 === void 0 ? void 0 : r2[t3];
  }, t2.hasAttrib = function(e2, t3) {
    return e2.attribs != null && Object.prototype.hasOwnProperty.call(e2.attribs, t3) && e2.attribs[t3] != null;
  }, t2.getName = function(e2) {
    return e2.name;
  }, t2.nextElementSibling = function(e2) {
    for (var t3 = e2.next; t3 !== null && !n.isTag(t3); )
      t3 = t3.next;
    return t3;
  };
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    if (e2.prev && (e2.prev.next = e2.next), e2.next && (e2.next.prev = e2.prev), e2.parent) {
      var t3 = e2.parent.children;
      t3.splice(t3.lastIndexOf(e2), 1);
    }
  }
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.prepend = t2.prependChild = t2.append = t2.appendChild = t2.replaceElement = t2.removeElement = void 0, t2.removeElement = n, t2.replaceElement = function(e2, t3) {
    var r2 = t3.prev = e2.prev;
    r2 && (r2.next = t3);
    var n2 = t3.next = e2.next;
    n2 && (n2.prev = t3);
    var i = t3.parent = e2.parent;
    if (i) {
      var a = i.children;
      a[a.lastIndexOf(e2)] = t3;
    }
  }, t2.appendChild = function(e2, t3) {
    if (n(t3), t3.next = null, t3.parent = e2, e2.children.push(t3) > 1) {
      var r2 = e2.children[e2.children.length - 2];
      r2.next = t3, t3.prev = r2;
    } else
      t3.prev = null;
  }, t2.append = function(e2, t3) {
    n(t3);
    var r2 = e2.parent, i = e2.next;
    if (t3.next = i, t3.prev = e2, e2.next = t3, t3.parent = r2, i) {
      if (i.prev = t3, r2) {
        var a = r2.children;
        a.splice(a.lastIndexOf(i), 0, t3);
      }
    } else
      r2 && r2.children.push(t3);
  }, t2.prependChild = function(e2, t3) {
    if (n(t3), t3.parent = e2, t3.prev = null, e2.children.unshift(t3) !== 1) {
      var r2 = e2.children[1];
      r2.prev = t3, t3.next = r2;
    } else
      t3.next = null;
  }, t2.prepend = function(e2, t3) {
    n(t3);
    var r2 = e2.parent;
    if (r2) {
      var i = r2.children;
      i.splice(i.indexOf(e2), 0, t3);
    }
    e2.prev && (e2.prev.next = t3), t3.parent = r2, t3.prev = e2.prev, t3.next = e2, e2.prev = t3;
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.getElementsByTagType = t2.getElementsByTagName = t2.getElementById = t2.getElements = t2.testElement = void 0;
  var n = r(138), i = r(37), a = {
    tag_name: function(e2) {
      return typeof e2 == "function" ? function(t3) {
        return i.isTag(t3) && e2(t3.name);
      } : e2 === "*" ? i.isTag : function(t3) {
        return i.isTag(t3) && t3.name === e2;
      };
    },
    tag_type: function(e2) {
      return typeof e2 == "function" ? function(t3) {
        return e2(t3.type);
      } : function(t3) {
        return t3.type === e2;
      };
    },
    tag_contains: function(e2) {
      return typeof e2 == "function" ? function(t3) {
        return i.isText(t3) && e2(t3.data);
      } : function(t3) {
        return i.isText(t3) && t3.data === e2;
      };
    }
  };
  function s(e2, t3) {
    return typeof t3 == "function" ? function(r2) {
      return i.isTag(r2) && t3(r2.attribs[e2]);
    } : function(r2) {
      return i.isTag(r2) && r2.attribs[e2] === t3;
    };
  }
  function o(e2, t3) {
    return function(r2) {
      return e2(r2) || t3(r2);
    };
  }
  function u(e2) {
    var t3 = Object.keys(e2).map(function(t4) {
      var r2 = e2[t4];
      return t4 in a ? a[t4](r2) : s(t4, r2);
    });
    return t3.length === 0 ? null : t3.reduce(o);
  }
  t2.testElement = function(e2, t3) {
    var r2 = u(e2);
    return !r2 || r2(t3);
  }, t2.getElements = function(e2, t3, r2, i2) {
    i2 === void 0 && (i2 = 1 / 0);
    var a2 = u(e2);
    return a2 ? n.filter(a2, t3, r2, i2) : [];
  }, t2.getElementById = function(e2, t3, r2) {
    return r2 === void 0 && (r2 = true), Array.isArray(t3) || (t3 = [t3]), n.findOne(s("id", e2), t3, r2);
  }, t2.getElementsByTagName = function(e2, t3, r2, i2) {
    return r2 === void 0 && (r2 = true), i2 === void 0 && (i2 = 1 / 0), n.filter(a.tag_name(e2), t3, r2, i2);
  }, t2.getElementsByTagType = function(e2, t3, r2, i2) {
    return r2 === void 0 && (r2 = true), i2 === void 0 && (i2 = 1 / 0), n.filter(a.tag_type(e2), t3, r2, i2);
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.uniqueSort = t2.compareDocumentPosition = t2.removeSubsets = void 0;
  var n = r(37);
  function i(e2, t3) {
    var r2 = [], i2 = [];
    if (e2 === t3)
      return 0;
    for (var a = n.hasChildren(e2) ? e2 : e2.parent; a; )
      r2.unshift(a), a = a.parent;
    for (a = n.hasChildren(t3) ? t3 : t3.parent; a; )
      i2.unshift(a), a = a.parent;
    for (var s = Math.min(r2.length, i2.length), o = 0; o < s && r2[o] === i2[o]; )
      o++;
    if (o === 0)
      return 1;
    var u = r2[o - 1], c = u.children, l = r2[o], h = i2[o];
    return c.indexOf(l) > c.indexOf(h) ? u === t3 ? 20 : 4 : u === e2 ? 10 : 2;
  }
  t2.removeSubsets = function(e2) {
    for (var t3 = e2.length; --t3 >= 0; ) {
      var r2 = e2[t3];
      if (t3 > 0 && e2.lastIndexOf(r2, t3 - 1) >= 0)
        e2.splice(t3, 1);
      else
        for (var n2 = r2.parent; n2; n2 = n2.parent)
          if (e2.includes(n2)) {
            e2.splice(t3, 1);
            break;
          }
    }
    return e2;
  }, t2.compareDocumentPosition = i, t2.uniqueSort = function(e2) {
    return (e2 = e2.filter(function(e3, t3, r2) {
      return !r2.includes(e3, t3 + 1);
    })).sort(function(e3, t3) {
      var r2 = i(e3, t3);
      return 2 & r2 ? -1 : 4 & r2 ? 1 : 0;
    }), e2;
  };
}, function(e, t2) {
}, function(e, t2, r) {
  "use strict";
  var n, i = this && this.__extends || (n = function(e2, t3) {
    return (n = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(e3, t4) {
      e3.__proto__ = t4;
    } || function(e3, t4) {
      for (var r2 in t4)
        t4.hasOwnProperty(r2) && (e3[r2] = t4[r2]);
    })(e2, t3);
  }, function(e2, t3) {
    function r2() {
      this.constructor = e2;
    }
    n(e2, t3), e2.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
  }), a = this && this.__importDefault || function(e2) {
    return e2 && e2.__esModule ? e2 : {
      default: e2
    };
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var s = function(e2) {
    function t3(t4) {
      t4 === void 0 && (t4 = {});
      var r2 = e2.call(this, function(e3) {
        for (var t5, n2 = [], i2 = 1; i2 < arguments.length; i2++)
          n2[i2 - 1] = arguments[i2];
        r2.events.push([e3].concat(n2)), r2._cbs[e3] && (t5 = r2._cbs)[e3].apply(t5, n2);
      }) || this;
      return r2._cbs = t4, r2.events = [], r2;
    }
    return i(t3, e2), t3.prototype.onreset = function() {
      this.events = [], this._cbs.onreset && this._cbs.onreset();
    }, t3.prototype.restart = function() {
      var e3;
      this._cbs.onreset && this._cbs.onreset();
      for (var t4 = 0; t4 < this.events.length; t4++) {
        var r2 = this.events[t4], n2 = r2[0], i2 = r2.slice(1);
        this._cbs[n2] && (e3 = this._cbs)[n2].apply(e3, i2);
      }
    }, t3;
  }(a(r(300)).default);
  t2.CollectingHandler = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  var n = function() {
    function e2(e3) {
      this._func = e3;
    }
    return e2.prototype.onattribute = function(e3, t3) {
      this._func("onattribute", e3, t3);
    }, e2.prototype.oncdatastart = function() {
      this._func("oncdatastart");
    }, e2.prototype.oncdataend = function() {
      this._func("oncdataend");
    }, e2.prototype.ontext = function(e3) {
      this._func("ontext", e3);
    }, e2.prototype.onprocessinginstruction = function(e3, t3) {
      this._func("onprocessinginstruction", e3, t3);
    }, e2.prototype.oncomment = function(e3) {
      this._func("oncomment", e3);
    }, e2.prototype.oncommentend = function() {
      this._func("oncommentend");
    }, e2.prototype.onclosetag = function(e3) {
      this._func("onclosetag", e3);
    }, e2.prototype.onopentag = function(e3, t3) {
      this._func("onopentag", e3, t3);
    }, e2.prototype.onopentagname = function(e3) {
      this._func("onopentagname", e3);
    }, e2.prototype.onerror = function(e3) {
      this._func("onerror", e3);
    }, e2.prototype.onend = function() {
      this._func("onend");
    }, e2.prototype.onparserinit = function(e3) {
      this._func("onparserinit", e3);
    }, e2.prototype.onreset = function() {
      this._func("onreset");
    }, e2;
  }();
  t2.default = n;
}, function(e) {
  e.exports = JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}');
}, function(e) {
  e.exports = JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}');
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(304), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseHtml = void 0;
  const n = r(2), i = r(46), a = r(305);
  class s extends i.ActorRdfParseFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        const i2 = new n.Readable({
          objectMode: true
        });
        return i2._read = () => __async(this, null, function* () {
          i2._read = () => {
          };
          let t4 = 1;
          function n2(e3) {
            i2.emit("error", e3);
          }
          function s2() {
            --t4 == 0 && i2.push(null);
          }
          const o = {
            baseIRI: e2.baseIRI,
            context: r2,
            emit: function(e3) {
              i2.emit("data", e3);
            },
            end: s2,
            error: n2,
            headers: e2.headers
          };
          Promise.all(this.busRdfParseHtml.publish(o)).then((r3) => __async(this, null, function* () {
            t4 += r3.length;
            const i3 = [];
            for (const e3 of r3) {
              const {
                htmlParseListener: t5
              } = yield e3.actor.run(o);
              i3.push(t5);
            }
            const u = new a.WritableStream({
              onclosetag() {
                try {
                  for (const e3 of i3)
                    e3.onTagClose();
                } catch (e3) {
                  n2(e3);
                }
              },
              onend() {
                try {
                  for (const e3 of i3)
                    e3.onEnd();
                } catch (e3) {
                  n2(e3);
                }
                s2();
              },
              onopentag(e3, t5) {
                try {
                  for (const r4 of i3)
                    r4.onTagOpen(e3, t5);
                } catch (e4) {
                  n2(e4);
                }
              },
              ontext(e3) {
                try {
                  for (const t5 of i3)
                    t5.onText(e3);
                } catch (e4) {
                  n2(e4);
                }
              }
            }, {
              decodeEntities: true,
              recognizeSelfClosing: true,
              xmlMode: false
            });
            e2.input.on("error", n2), e2.input.pipe(u);
          })).catch(n2);
        }), {
          quads: i2
        };
      });
    }
  }
  t2.ActorRdfParseHtml = s;
}, function(e, t2, r) {
  "use strict";
  var n, i = this && this.__extends || (n = function(e2, t3) {
    return (n = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(e3, t4) {
      e3.__proto__ = t4;
    } || function(e3, t4) {
      for (var r2 in t4)
        Object.prototype.hasOwnProperty.call(t4, r2) && (e3[r2] = t4[r2]);
    })(e2, t3);
  }, function(e2, t3) {
    function r2() {
      this.constructor = e2;
    }
    n(e2, t3), e2.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
  });
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.WritableStream = void 0;
  var a = r(80), s = r(2), o = r(33);
  var u = function(e2) {
    function t3(t4, r2) {
      var n2 = e2.call(this, {
        decodeStrings: false
      }) || this;
      return n2._decoder = new o.StringDecoder(), n2._parser = new a.Parser(t4, r2), n2;
    }
    return i(t3, e2), t3.prototype._write = function(e3, t4, r2) {
      this._parser.write(function(e4, t5) {
        return t5 === "buffer";
      }(0, t4) ? this._decoder.write(e3) : e3), r2();
    }, t3.prototype._final = function(e3) {
      this._parser.end(this._decoder.end()), e3();
    }, t3;
  }(s.Writable);
  t2.WritableStream = u;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(307), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseHtmlMicrodata = void 0;
  const n = r(81), i = r(309);
  class a extends n.ActorRdfParseHtml {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = e2.headers ? e2.headers.get("content-type") : null, r2 = t3 == null ? void 0 : t3.includes("xml"), n2 = new i.MicrodataRdfParser({
          baseIRI: e2.baseIRI,
          xmlMode: r2
        });
        n2.on("error", e2.error), n2.on("data", e2.emit);
        const a2 = n2.onEnd;
        return n2.onEnd = () => {
          a2.call(n2), e2.end();
        }, {
          htmlParseListener: n2
        };
      });
    }
  }
  t2.ActorRdfParseHtmlMicrodata = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseHtml = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorRdfParseHtml = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(310), t2), i(r(141), t2), i(r(142), t2), i(r(143), t2), i(r(144), t2), i(r(311), t2), i(r(312), t2), i(r(313), t2), i(r(314), t2), i(r(61), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MicrodataRdfParser = void 0;
  const n = r(2), i = r(145), a = r(141), s = r(142), o = r(143), u = r(144), c = r(61), l = r(315);
  class h extends n.Transform {
    constructor(e2) {
      super({
        readableObjectMode: true
      }), this.itemScopeStack = [], this.textBufferStack = [], this.isEmittingReferences = false, this.pendingItemRefsDomain = {}, this.pendingItemRefsRangeFinalized = {}, this.pendingItemRefsRangeCollecting = {}, e2 = e2 || {}, this.options = e2, this.util = new c.Util(e2.dataFactory, e2.baseIRI), this.defaultGraph = e2.defaultGraph || this.util.dataFactory.defaultGraph(), this.htmlParseListener = e2.htmlParseListener, this.vocabRegistry = e2.vocabRegistry || l, this.parser = this.initializeParser(!!e2.xmlMode);
    }
    import(e2) {
      const t3 = new n.PassThrough({
        readableObjectMode: true
      });
      e2.on("error", (e3) => r2.emit("error", e3)), e2.on("data", (e3) => t3.push(e3)), e2.on("end", () => t3.push(null));
      const r2 = t3.pipe(new h(this.options));
      return r2;
    }
    _transform(e2, t3, r2) {
      this.parser.write(e2), r2();
    }
    _flush(e2) {
      this.parser.end(), e2();
    }
    getItemScope(e2) {
      let t3 = this.itemScopeStack.length - (e2 ? 2 : 1);
      for (; t3 > 0 && !this.itemScopeStack[t3]; )
        t3--;
      return this.itemScopeStack[t3];
    }
    getDepth() {
      return this.itemScopeStack.length;
    }
    onTagOpen(e2, t3) {
      if (!this.isEmittingReferences) {
        if ("id" in t3) {
          const e3 = t3.id;
          this.pendingItemRefsRangeCollecting[e3] = {
            events: [],
            counter: 0,
            ids: []
          };
        }
        for (const r3 of Object.values(this.pendingItemRefsRangeCollecting))
          r3.counter++, r3.events.push({
            type: "open",
            name: e2,
            attributes: t3
          });
      }
      let r2;
      if (this.textBufferStack.push(void 0), "itemscope" in t3) {
        let e3;
        if (this.emittingReferencesItemScopeIdGenerator)
          e3 = this.emittingReferencesItemScopeIdGenerator();
        else {
          e3 = "itemid" in t3 && this.util.createSubject(t3.itemid) || this.util.dataFactory.blankNode();
          for (const t4 of Object.values(this.pendingItemRefsRangeCollecting))
            t4.ids.push(e3);
        }
        r2 = {
          subject: e3
        }, this.isEmittingReferences && (r2.blockEmission = true);
        const n2 = this.getItemScope();
        n2 && n2.vocab && (r2.vocab = n2.vocab), this.itemScopeStack.push(r2);
      } else
        r2 = this.getItemScope(), this.itemScopeStack.push(void 0);
      if (r2) {
        if ("itemtype" in t3)
          for (const e3 of this.util.createVocabIris(t3.itemtype, r2, false))
            r2.vocab || (r2.vocab = this.util.deriveVocab(e3.value, this.vocabRegistry)), r2.blockEmission || this.emitTriple(r2.subject, this.util.dataFactory.namedNode(c.Util.RDF + "type"), e3);
        if ("lang" in t3 && (r2.language = t3.lang), "xml:lang" in t3 && (r2.language = t3["xml:lang"]), "itemscope" in t3 && !this.isEmittingReferences && "itemref" in t3)
          for (const e3 of t3.itemref.split(/\s+/u))
            e3 in this.pendingItemRefsDomain || (this.pendingItemRefsDomain[e3] = []), this.pendingItemRefsDomain[e3].push(r2), this.tryToEmitReferences(e3, r2);
      }
      "itemprop" in t3 && this.handleItemProperties(t3.itemprop, false, r2, e2, t3), "itemprop-reverse" in t3 && this.handleItemProperties(t3["itemprop-reverse"], true, r2, e2, t3);
    }
    onText(e2) {
      if (!this.isEmittingReferences)
        for (const t3 of Object.values(this.pendingItemRefsRangeCollecting))
          t3.events.push({
            type: "text",
            data: e2
          });
      for (const t3 of this.textBufferStack)
        t3 && t3.push(e2);
    }
    onTagClose() {
      if (!this.isEmittingReferences)
        for (const [e3, t3] of Object.entries(this.pendingItemRefsRangeCollecting))
          t3.counter--, t3.events.push({
            type: "close"
          }), t3.counter === 0 && (this.pendingItemRefsRangeFinalized[e3] = t3, delete this.pendingItemRefsRangeCollecting[e3], this.tryToEmitReferences(e3));
      const e2 = this.getItemScope(true);
      if (e2) {
        const t3 = this.getDepth();
        if (e2.predicates && t3 in e2.predicates)
          for (const [r2, n2] of Object.entries(e2.predicates[t3])) {
            const i2 = this.util.createLiteral(this.textBufferStack[t3].join(""), e2);
            this.emitPredicateTriples(e2, n2, i2, r2 === "reverse"), delete e2.predicates[t3][r2];
          }
      }
      this.itemScopeStack.pop(), this.textBufferStack.pop();
    }
    onEnd() {
    }
    initializeParser(e2) {
      return new i.Parser({
        onclosetag: () => {
          try {
            this.onTagClose(), this.htmlParseListener && this.htmlParseListener.onTagClose();
          } catch (e3) {
            this.emit("error", e3);
          }
        },
        onend: () => {
          try {
            this.onEnd(), this.htmlParseListener && this.htmlParseListener.onEnd();
          } catch (e3) {
            this.emit("error", e3);
          }
        },
        onopentag: (e3, t3) => {
          try {
            this.onTagOpen(e3, t3), this.htmlParseListener && this.htmlParseListener.onTagOpen(e3, t3);
          } catch (e4) {
            this.emit("error", e4);
          }
        },
        ontext: (e3) => {
          try {
            this.onText(e3), this.htmlParseListener && this.htmlParseListener.onText(e3);
          } catch (e4) {
            this.emit("error", e4);
          }
        }
      }, {
        decodeEntities: true,
        recognizeSelfClosing: true,
        xmlMode: e2
      });
    }
    handleItemProperties(e2, t3, r2, n2, i2) {
      const a2 = this.getItemScope(true);
      if (a2) {
        const s2 = this.getDepth(), o2 = this.util.createVocabIris(e2, a2, true);
        a2.predicates || (a2.predicates = {}), a2.predicates[s2] || (a2.predicates[s2] = {});
        const u2 = t3 ? "reverse" : "forward";
        a2.predicates[s2][u2] = o2;
        for (const t4 of this.util.getVocabularyExpansionType(e2, a2, this.vocabRegistry))
          o2.push(t4);
        if (r2 && "itemscope" in i2)
          this.emitPredicateTriples(a2, o2, r2.subject, t3), delete a2.predicates[s2][u2];
        else
          for (const e3 of h.ITEM_PROPERTY_HANDLERS)
            if (e3.canHandle(n2, i2)) {
              const r3 = e3.getObject(i2, this.util, a2);
              this.emitPredicateTriples(a2, o2, r3, t3), delete a2.predicates[s2][u2];
            }
        a2.predicates[s2][u2] && (this.textBufferStack[s2] = []);
      }
    }
    emitPredicateTriples(e2, t3, r2, n2) {
      if (!e2.blockEmission)
        for (const i2 of t3)
          n2 ? r2.termType !== "Literal" && this.emitTriple(r2, i2, e2.subject) : this.emitTriple(e2.subject, i2, r2);
    }
    emitTriple(e2, t3, r2) {
      this.push(this.util.dataFactory.quad(e2, t3, r2, this.defaultGraph));
    }
    tryToEmitReferences(e2, t3) {
      const r2 = this.pendingItemRefsRangeFinalized[e2];
      if (r2) {
        let n2;
        if (t3) {
          n2 = [t3];
          const r3 = this.pendingItemRefsDomain[e2].indexOf(t3);
          this.pendingItemRefsDomain[e2].splice(r3, 1);
        } else
          n2 = this.pendingItemRefsDomain[e2], delete this.pendingItemRefsDomain[e2];
        if (n2) {
          const e3 = this.itemScopeStack, t4 = this.textBufferStack;
          this.isEmittingReferences = true;
          for (const e4 of n2) {
            this.itemScopeStack = [e4], this.textBufferStack = [void 0];
            const t5 = r2.ids.slice();
            this.emittingReferencesItemScopeIdGenerator = () => t5.shift();
            for (const e5 of r2.events)
              switch (e5.type) {
                case "open":
                  this.onTagOpen(e5.name, e5.attributes);
                  break;
                case "text":
                  this.onText(e5.data);
                  break;
                case "close":
                  this.onTagClose();
              }
          }
          this.emittingReferencesItemScopeIdGenerator = void 0, this.itemScopeStack = e3, this.textBufferStack = t4, this.isEmittingReferences = false;
        }
      }
    }
  }
  t2.MicrodataRdfParser = h, h.ITEM_PROPERTY_HANDLERS = [new a.ItemPropertyHandlerContent(), new u.ItemPropertyHandlerUrl("a", "href"), new u.ItemPropertyHandlerUrl("area", "href"), new u.ItemPropertyHandlerUrl("audio", "src"), new u.ItemPropertyHandlerUrl("embed", "src"), new u.ItemPropertyHandlerUrl("iframe", "src"), new u.ItemPropertyHandlerUrl("img", "src"), new u.ItemPropertyHandlerUrl("link", "href"), new u.ItemPropertyHandlerUrl("object", "data"), new u.ItemPropertyHandlerUrl("source", "src"), new u.ItemPropertyHandlerUrl("track", "src"), new u.ItemPropertyHandlerUrl("video", "src"), new s.ItemPropertyHandlerNumber("data", "value"), new s.ItemPropertyHandlerNumber("meter", "value"), new o.ItemPropertyHandlerTime()];
}, function(e) {
  e.exports = JSON.parse('{"http://schema.org/":{"properties":{"additionalType":{"subPropertyOf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}}');
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(317), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseHtmlRdfa = void 0;
  const n = r(81), i = r(318);
  class a extends n.ActorRdfParseHtml {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        var t3;
        const r2 = e2.headers ? e2.headers.get("content-type") : null, n2 = (t3 = e2.headers && e2.headers.get("content-language")) !== null && t3 !== void 0 ? t3 : void 0, a2 = r2 && r2.includes("xml") ? "xhtml" : "html", s = new i.RdfaParser({
          baseIRI: e2.baseIRI,
          profile: a2,
          language: n2
        });
        s.on("error", e2.error), s.on("data", e2.emit);
        const o = s.onEnd;
        return s.onEnd = () => {
          o.call(s), e2.end();
        }, {
          htmlParseListener: s
        };
      });
    }
  }
  t2.ActorRdfParseHtmlRdfa = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(319), t2), i(r(320), t2), i(r(321), t2), i(r(322), t2), i(r(82), t2), i(r(147), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RdfaParser = void 0;
  const n = r(145), i = r(2), a = r(323), s = r(324), o = r(82), u = r(147);
  class c extends i.Transform {
    constructor(e2) {
      super({
        readableObjectMode: true
      }), this.activeTagStack = [], e2 = e2 || {}, this.options = e2, this.util = new u.Util(e2.dataFactory, e2.baseIRI), this.defaultGraph = e2.defaultGraph || this.util.dataFactory.defaultGraph();
      const t3 = e2.contentType ? u.Util.contentTypeToProfile(e2.contentType) : e2.profile || "";
      this.features = e2.features || o.RDFA_FEATURES[t3], this.htmlParseListener = e2.htmlParseListener, this.rdfaPatterns = this.features.copyRdfaPatterns ? {} : null, this.pendingRdfaPatternCopies = this.features.copyRdfaPatterns ? {} : null, this.parser = this.initializeParser(t3 === "xml"), this.activeTagStack.push({
        incompleteTriples: [],
        inlist: false,
        language: e2.language,
        listMapping: {},
        listMappingLocal: {},
        name: "",
        prefixesAll: Object.assign(Object.assign({}, s["@context"]), this.features.xhtmlInitialContext ? a["@context"] : {}),
        prefixesCustom: {},
        skipElement: false,
        vocab: e2.vocab
      });
    }
    import(e2) {
      const t3 = new i.PassThrough({
        readableObjectMode: true
      });
      e2.on("error", (e3) => r2.emit("error", e3)), e2.on("data", (e3) => t3.push(e3)), e2.on("end", () => t3.push(null));
      const r2 = t3.pipe(new c(this.options));
      return r2;
    }
    _transform(e2, t3, r2) {
      this.parser.write(e2), r2();
    }
    _flush(e2) {
      this.parser.end(), e2();
    }
    onTagOpen(e2, t3) {
      let r2 = this.activeTagStack.length - 1;
      for (; r2 > 0 && this.activeTagStack[r2].skipElement; )
        r2--;
      let n2 = this.activeTagStack[r2];
      r2 !== this.activeTagStack.length - 1 && (n2 = Object.assign(Object.assign({}, n2), {
        language: this.activeTagStack[this.activeTagStack.length - 1].language,
        prefixesAll: this.activeTagStack[this.activeTagStack.length - 1].prefixesAll,
        prefixesCustom: this.activeTagStack[this.activeTagStack.length - 1].prefixesCustom,
        vocab: this.activeTagStack[this.activeTagStack.length - 1].vocab
      }));
      const i2 = {
        collectChildTags: n2.collectChildTags,
        incompleteTriples: [],
        inlist: "inlist" in t3,
        listMapping: [],
        listMappingLocal: n2.listMapping,
        localBaseIRI: n2.localBaseIRI,
        name: e2,
        prefixesAll: null,
        prefixesCustom: null,
        skipElement: false
      };
      if (this.activeTagStack.push(i2), i2.collectChildTags) {
        for (const e3 of Object.keys(n2.prefixesCustom).sort()) {
          const r4 = n2.prefixesCustom[e3], i3 = e3 === "" ? "xmlns" : "xmlns:" + e3;
          i3 in t3 || (t3[i3] = r4);
        }
        const r3 = Object.keys(t3).map((e3) => `${e3}="${t3[e3]}"`).join(" ");
        if (i2.text = [`<${e2}${r3 ? " " + r3 : ""}>`], this.features.skipHandlingXmlLiteralChildren)
          return;
      }
      let a2, s2, o2, c2 = true, l = true;
      if (this.features.onlyAllowUriRelRevIfProperty && ("property" in t3 && "rel" in t3 && (c2 = false, t3.rel.indexOf(":") < 0 && delete t3.rel), "property" in t3 && "rev" in t3 && (l = false, t3.rev.indexOf(":") < 0 && delete t3.rev)), this.features.copyRdfaPatterns) {
        if (n2.collectedPatternTag) {
          const r3 = {
            attributes: t3,
            children: [],
            name: e2,
            referenced: false,
            rootPattern: false,
            text: []
          };
          return n2.collectedPatternTag.children.push(r3), void (i2.collectedPatternTag = r3);
        }
        if (t3.typeof === "rdfa:Pattern")
          return void (i2.collectedPatternTag = {
            attributes: t3,
            children: [],
            name: e2,
            parentTag: n2,
            referenced: false,
            rootPattern: true,
            text: []
          });
        if (t3.property === "rdfa:copy") {
          const e3 = t3.resource || t3.href || t3.src;
          return void (this.rdfaPatterns[e3] ? this.emitPatternCopy(n2, this.rdfaPatterns[e3], e3) : (this.pendingRdfaPatternCopies[e3] || (this.pendingRdfaPatternCopies[e3] = []), this.pendingRdfaPatternCopies[e3].push(n2)));
        }
      }
      if (this.features.baseTag && e2 === "base" && t3.href && (this.util.baseIRI = this.util.getBaseIRI(t3.href)), this.features.xmlBase && t3["xml:base"] && (i2.localBaseIRI = this.util.getBaseIRI(t3["xml:base"])), this.features.timeTag && e2 === "time" && !t3.datatype && (i2.interpretObjectAsTime = true), "vocab" in t3 ? t3.vocab ? (i2.vocab = t3.vocab, this.emitTriple(this.util.getBaseIriTerm(i2), this.util.dataFactory.namedNode(u.Util.RDFA + "usesVocabulary"), this.util.dataFactory.namedNode(i2.vocab))) : i2.vocab = this.activeTagStack[0].vocab : i2.vocab = n2.vocab, i2.prefixesCustom = u.Util.parsePrefixes(t3, n2.prefixesCustom, this.features.xmlnsPrefixMappings), i2.prefixesAll = Object.keys(i2.prefixesCustom).length > 0 ? Object.assign(Object.assign({}, n2.prefixesAll), i2.prefixesCustom) : n2.prefixesAll, this.features.roleAttribute && t3.role) {
        const e3 = t3.id ? this.util.createIri("#" + t3.id, i2, false, false, false) : this.util.createBlankNode(), r3 = i2.vocab;
        i2.vocab = "http://www.w3.org/1999/xhtml/vocab#";
        for (const r4 of this.util.createVocabIris(t3.role, i2, true, false))
          this.emitTriple(e3, this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"), r4);
        i2.vocab = r3;
      }
      "xml:lang" in t3 || this.features.langAttribute && "lang" in t3 ? i2.language = t3["xml:lang"] || t3.lang : i2.language = n2.language;
      const h = this.activeTagStack.length === 2;
      if ("rel" in t3 || "rev" in t3 ? ("about" in t3 ? (a2 = this.util.createIri(t3.about, i2, false, true, true), i2.explicitNewSubject = !!a2, "typeof" in t3 && (o2 = a2)) : h ? a2 = true : n2.object && (a2 = n2.object), "resource" in t3 && (s2 = this.util.createIri(t3.resource, i2, false, true, true)), s2 || ("href" in t3 || "src" in t3 ? s2 = this.util.createIri(t3.href || t3.src, i2, false, false, true) : !("typeof" in t3) || "about" in t3 || this.isInheritSubjectInHeadBody(e2) || (s2 = this.util.createBlankNode())), "typeof" in t3 && !("about" in t3) && (o2 = this.isInheritSubjectInHeadBody(e2) ? a2 : s2)) : !("property" in t3) || "content" in t3 || "datatype" in t3 ? (("about" in t3 || "resource" in t3) && (a2 = this.util.createIri(t3.about || t3.resource, i2, false, true, true), i2.explicitNewSubject = !!a2), a2 || !("href" in t3) && !("src" in t3) || (a2 = this.util.createIri(t3.href || t3.src, i2, false, false, true), i2.explicitNewSubject = !!a2), a2 || (h ? a2 = true : this.isInheritSubjectInHeadBody(e2) ? a2 = n2.object : "typeof" in t3 ? (a2 = this.util.createBlankNode(), i2.explicitNewSubject = true) : n2.object && (a2 = n2.object, "property" in t3 || (i2.skipElement = true))), "typeof" in t3 && (o2 = a2)) : ("about" in t3 ? (a2 = this.util.createIri(t3.about, i2, false, true, true), i2.explicitNewSubject = !!a2) : h ? a2 = true : n2.object && (a2 = n2.object), "typeof" in t3 && ("about" in t3 && (o2 = this.util.createIri(t3.about, i2, false, true, true)), !o2 && h && (o2 = true), !o2 && "resource" in t3 && (o2 = this.util.createIri(t3.resource, i2, false, true, true)), o2 || !("href" in t3) && !("src" in t3) || (o2 = this.util.createIri(t3.href || t3.src, i2, false, false, true)), !o2 && this.isInheritSubjectInHeadBody(e2) && (o2 = a2), o2 || (o2 = this.util.createBlankNode()), s2 = o2)), o2)
        for (const e3 of this.util.createVocabIris(t3.typeof, i2, true, true))
          this.emitTriple(this.util.getResourceOrBaseIri(o2, i2), this.util.dataFactory.namedNode(u.Util.RDF + "type"), e3);
      if (a2 && (i2.listMapping = {}), s2) {
        if ("rel" in t3 && "inlist" in t3)
          for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
            this.addListMapping(i2, a2, e3, s2);
        if (!("rel" in t3) || !("inlist" in t3)) {
          if ("rel" in t3)
            for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
              this.emitTriple(this.util.getResourceOrBaseIri(a2, i2), e3, this.util.getResourceOrBaseIri(s2, i2));
          if ("rev" in t3)
            for (const e3 of this.util.createVocabIris(t3.rev, i2, l, false))
              this.emitTriple(this.util.getResourceOrBaseIri(s2, i2), e3, this.util.getResourceOrBaseIri(a2, i2));
        }
      }
      if (!s2) {
        if ("rel" in t3)
          if ("inlist" in t3)
            for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
              this.addListMapping(i2, a2, e3, null), i2.incompleteTriples.push({
                predicate: e3,
                reverse: false,
                list: true
              });
          else
            for (const e3 of this.util.createVocabIris(t3.rel, i2, c2, false))
              i2.incompleteTriples.push({
                predicate: e3,
                reverse: false
              });
        if ("rev" in t3)
          for (const e3 of this.util.createVocabIris(t3.rev, i2, l, false))
            i2.incompleteTriples.push({
              predicate: e3,
              reverse: true
            });
        i2.incompleteTriples.length > 0 && (s2 = this.util.createBlankNode());
      }
      if ("property" in t3) {
        let e3;
        if (i2.predicates = this.util.createVocabIris(t3.property, i2, true, false), "datatype" in t3 ? (i2.datatype = this.util.createIri(t3.datatype, i2, true, true, false), i2.datatype && (i2.datatype.value === u.Util.RDF + "XMLLiteral" || this.features.htmlDatatype && i2.datatype.value === u.Util.RDF + "HTML") && (i2.collectChildTags = true)) : ("rev" in t3 || "rel" in t3 || "content" in t3 || ("resource" in t3 && (e3 = this.util.createIri(t3.resource, i2, false, true, true)), !e3 && "href" in t3 && (e3 = this.util.createIri(t3.href, i2, false, false, true)), !e3 && "src" in t3 && (e3 = this.util.createIri(t3.src, i2, false, false, true))), "typeof" in t3 && !("about" in t3) && (e3 = o2)), "content" in t3) {
          const e4 = this.util.createLiteral(t3.content, i2);
          if ("inlist" in t3)
            for (const t4 of i2.predicates)
              this.addListMapping(i2, a2, t4, e4);
          else {
            const t4 = this.util.getResourceOrBaseIri(a2, i2);
            for (const r3 of i2.predicates)
              this.emitTriple(t4, r3, e4);
          }
          i2.predicates = null;
        } else if (this.features.datetimeAttribute && "datetime" in t3) {
          i2.interpretObjectAsTime = true;
          const e4 = this.util.createLiteral(t3.datetime, i2);
          if ("inlist" in t3)
            for (const t4 of i2.predicates)
              this.addListMapping(i2, a2, t4, e4);
          else {
            const t4 = this.util.getResourceOrBaseIri(a2, i2);
            for (const r3 of i2.predicates)
              this.emitTriple(t4, r3, e4);
          }
          i2.predicates = null;
        } else if (e3) {
          const r3 = this.util.getResourceOrBaseIri(e3, i2);
          if ("inlist" in t3)
            for (const e4 of i2.predicates)
              this.addListMapping(i2, a2, e4, r3);
          else {
            const e4 = this.util.getResourceOrBaseIri(a2, i2);
            for (const t4 of i2.predicates)
              this.emitTriple(e4, t4, r3);
          }
          i2.predicates = null;
        }
      }
      let d = false;
      if (!i2.skipElement && a2 && n2.incompleteTriples.length > 0) {
        d = true;
        const e3 = this.util.getResourceOrBaseIri(n2.subject, i2), t4 = this.util.getResourceOrBaseIri(a2, i2);
        for (const r3 of n2.incompleteTriples)
          if (r3.reverse)
            this.emitTriple(t4, r3.predicate, e3);
          else if (r3.list) {
            let e4 = null;
            for (let t5 = this.activeTagStack.length - 1; t5 >= 0; t5--)
              if (this.activeTagStack[t5].inlist) {
                e4 = this.activeTagStack[t5];
                break;
              }
            this.addListMapping(e4, a2, r3.predicate, t4);
          } else
            this.emitTriple(e3, r3.predicate, t4);
      }
      !d && n2.incompleteTriples.length > 0 && (i2.incompleteTriples = i2.incompleteTriples.concat(n2.incompleteTriples)), i2.subject = a2 || n2.subject, i2.object = s2 || a2;
    }
    onText(e2) {
      const t3 = this.activeTagStack[this.activeTagStack.length - 1];
      this.features.copyRdfaPatterns && t3.collectedPatternTag ? t3.collectedPatternTag.text.push(e2) : (t3.text || (t3.text = []), t3.text.push(e2));
    }
    onTagClose() {
      const e2 = this.activeTagStack[this.activeTagStack.length - 1], t3 = this.activeTagStack[this.activeTagStack.length - 2];
      if (!(e2.collectChildTags && t3.collectChildTags && this.features.skipHandlingXmlLiteralChildren)) {
        if (this.features.copyRdfaPatterns && e2.collectedPatternTag && e2.collectedPatternTag.rootPattern) {
          const t4 = e2.collectedPatternTag.attributes.resource;
          if (delete e2.collectedPatternTag.attributes.resource, delete e2.collectedPatternTag.attributes.typeof, this.rdfaPatterns[t4] = e2.collectedPatternTag, this.pendingRdfaPatternCopies[t4]) {
            for (const r2 of this.pendingRdfaPatternCopies[t4])
              this.emitPatternCopy(r2, e2.collectedPatternTag, t4);
            delete this.pendingRdfaPatternCopies[t4];
          }
          return void this.activeTagStack.pop();
        }
        if (e2.predicates) {
          const r2 = this.util.getResourceOrBaseIri(e2.subject, e2);
          let n2 = e2.text || [];
          e2.collectChildTags && t3.collectChildTags && (n2 = n2.slice(1));
          const i2 = this.util.createLiteral(n2.join(""), e2);
          if (e2.inlist)
            for (const t4 of e2.predicates)
              this.addListMapping(e2, r2, t4, i2);
          else
            for (const t4 of e2.predicates)
              this.emitTriple(r2, t4, i2);
          t3.predicates || (e2.text = null);
        }
        if (e2.object && Object.keys(e2.listMapping).length > 0) {
          const t4 = this.util.getResourceOrBaseIri(e2.object, e2);
          for (const r2 in e2.listMapping) {
            const n2 = this.util.dataFactory.namedNode(r2), i2 = e2.listMapping[r2];
            if (i2.length > 0) {
              const r3 = i2.map(() => this.util.createBlankNode());
              for (let t5 = 0; t5 < i2.length; t5++) {
                const n3 = this.util.getResourceOrBaseIri(i2[t5], e2);
                this.emitTriple(r3[t5], this.util.dataFactory.namedNode(u.Util.RDF + "first"), n3), this.emitTriple(r3[t5], this.util.dataFactory.namedNode(u.Util.RDF + "rest"), t5 < i2.length - 1 ? r3[t5 + 1] : this.util.dataFactory.namedNode(u.Util.RDF + "nil"));
              }
              this.emitTriple(t4, n2, r3[0]);
            } else
              this.emitTriple(t4, n2, this.util.dataFactory.namedNode(u.Util.RDF + "nil"));
          }
        }
      }
      this.activeTagStack.pop(), e2.collectChildTags && e2.text && e2.text.push(`</${e2.name}>`), e2.text && t3 && (t3.text ? t3.text = t3.text.concat(e2.text) : t3.text = e2.text);
    }
    onEnd() {
      if (this.features.copyRdfaPatterns) {
        this.features.copyRdfaPatterns = false;
        for (const e2 in this.rdfaPatterns) {
          const t3 = this.rdfaPatterns[e2];
          t3.referenced || (t3.attributes.typeof = "rdfa:Pattern", t3.attributes.resource = e2, this.emitPatternCopy(t3.parentTag, t3, e2), t3.referenced = false, delete t3.attributes.typeof, delete t3.attributes.resource);
        }
        for (const e2 in this.pendingRdfaPatternCopies)
          for (const t3 of this.pendingRdfaPatternCopies[e2])
            this.activeTagStack.push(t3), this.onTagOpen("link", {
              property: "rdfa:copy",
              href: e2
            }), this.onTagClose(), this.activeTagStack.pop();
        this.features.copyRdfaPatterns = true;
      }
    }
    isInheritSubjectInHeadBody(e2) {
      return this.features.inheritSubjectInHeadBody && (e2 === "head" || e2 === "body");
    }
    addListMapping(e2, t3, r2, n2) {
      if (e2.explicitNewSubject) {
        const i2 = this.util.createBlankNode();
        this.emitTriple(this.util.getResourceOrBaseIri(t3, e2), r2, i2), this.emitTriple(i2, this.util.dataFactory.namedNode(u.Util.RDF + "first"), this.util.getResourceOrBaseIri(n2, e2)), this.emitTriple(i2, this.util.dataFactory.namedNode(u.Util.RDF + "rest"), this.util.dataFactory.namedNode(u.Util.RDF + "nil"));
      } else {
        let t4 = e2.listMappingLocal[r2.value];
        t4 || (e2.listMappingLocal[r2.value] = t4 = []), n2 && t4.push(n2);
      }
    }
    emitTriple(e2, t3, r2) {
      e2.termType === "NamedNode" && e2.value.indexOf(":") < 0 || t3.termType === "NamedNode" && t3.value.indexOf(":") < 0 || r2.termType === "NamedNode" && r2.value.indexOf(":") < 0 || this.push(this.util.dataFactory.quad(e2, t3, r2, this.defaultGraph));
    }
    emitPatternCopy(e2, t3, r2) {
      if (this.activeTagStack.push(e2), t3.referenced = true, t3.constructedBlankNodes) {
        let e3 = 0;
        this.util.blankNodeFactory = () => t3.constructedBlankNodes[e3++];
      } else
        t3.constructedBlankNodes = [], this.util.blankNodeFactory = () => {
          const e3 = this.util.dataFactory.blankNode();
          return t3.constructedBlankNodes.push(e3), e3;
        };
      this.emitPatternCopyAbsolute(t3, true, r2), this.util.blankNodeFactory = null, this.activeTagStack.pop();
    }
    emitPatternCopyAbsolute(e2, t3, r2) {
      if (t3 || e2.attributes.property !== "rdfa:copy" || e2.attributes.href !== r2) {
        this.onTagOpen(e2.name, e2.attributes);
        for (const t4 of e2.text)
          this.onText(t4);
        for (const t4 of e2.children)
          this.emitPatternCopyAbsolute(t4, false, r2);
        this.onTagClose();
      }
    }
    initializeParser(e2) {
      return new n.Parser({
        onclosetag: () => {
          try {
            this.onTagClose(), this.htmlParseListener && this.htmlParseListener.onTagClose();
          } catch (e3) {
            this.emit("error", e3);
          }
        },
        onend: () => {
          try {
            this.onEnd(), this.htmlParseListener && this.htmlParseListener.onEnd();
          } catch (e3) {
            this.emit("error", e3);
          }
        },
        onopentag: (e3, t3) => {
          try {
            this.onTagOpen(e3, t3), this.htmlParseListener && this.htmlParseListener.onTagOpen(e3, t3);
          } catch (e4) {
            this.emit("error", e4);
          }
        },
        ontext: (e3) => {
          try {
            this.onText(e3), this.htmlParseListener && this.htmlParseListener.onText(e3);
          } catch (e4) {
            this.emit("error", e4);
          }
        }
      }, {
        decodeEntities: true,
        recognizeSelfClosing: true,
        xmlMode: e2
      });
    }
  }
  t2.RdfaParser = c;
}, function(e) {
  e.exports = JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}');
}, function(e) {
  e.exports = JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}');
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(326), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfSerializeN3 = void 0;
  const n = r(148), i = r(41);
  class a extends n.ActorRdfSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        return {
          data: new i.StreamWriter({
            format: t3
          }).import(e2.quadStream),
          triples: t3 === "text/turtle" || t3 === "application/n-triples" || t3 === "text/n3"
        };
      });
    }
  }
  t2.ActorRdfSerializeN3 = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfSerialize = void 0;
  const n = r(34);
  class i extends n.ActorAbstractMediaTyped {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorRdfSerialize = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfSerializeFixedMediaTypes = void 0;
  const n = r(34);
  class i extends n.ActorAbstractMediaTypedFixed {
    constructor(e2) {
      super(e2);
    }
    testHandleChecked(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
  }
  t2.ActorRdfSerializeFixedMediaTypes = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(330), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfSerializeJsonLd = void 0;
  const n = r(148), i = r(331);
  class a extends n.ActorRdfSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        return {
          data: new i.JsonLdSerializer({
            space: " ".repeat(this.jsonStringifyIndentSpaces)
          }).import(e2.quadStream)
        };
      });
    }
  }
  t2.ActorRdfSerializeJsonLd = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(332), t2), i(r(153), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.JsonLdSerializer = void 0;
  const n = r(9), i = r(2), a = r(335), s = r(153);
  class o extends i.Transform {
    constructor(e2 = {}) {
      super({
        objectMode: true
      }), this.indentation = 0, this.options = e2, this.options.baseIRI && !this.options.context && (this.options.context = {
        "@base": this.options.baseIRI
      }), this.options.context ? (this.originalContext = this.options.context, this.context = new n.ContextParser().parse(this.options.context, {
        baseIRI: this.options.baseIRI
      })) : this.context = Promise.resolve(new n.JsonLdContextNormalized({}));
    }
    import(e2) {
      const t3 = new i.PassThrough({
        objectMode: true
      });
      e2.on("error", (e3) => r2.emit("error", e3)), e2.on("data", (e3) => t3.push(e3)), e2.on("end", () => t3.push(null));
      const r2 = t3.pipe(new o(this.options));
      return r2;
    }
    _transform(e2, t3, r2) {
      this.context.then((t4) => {
        this.transformQuad(e2, t4), r2();
      }).catch(r2);
    }
    list(e2) {
      return __async(this, null, function* () {
        const t3 = yield this.context;
        return {
          "@list": e2.map((e3) => s.Util.termToValue(e3, t3, this.options))
        };
      });
    }
    _flush(e2) {
      return this.opened || this.pushDocumentStart(), this.lastPredicate && this.endPredicate(), this.lastSubject && this.endSubject(), this.lastGraph && this.lastGraph.termType !== "DefaultGraph" && this.endGraph(), this.endDocument(), e2(null, null);
    }
    transformQuad(e2, t3) {
      this.opened || this.pushDocumentStart();
      const r2 = this.lastGraph && this.lastGraph.termType !== "DefaultGraph" && this.lastGraph.equals(e2.subject);
      if (!(r2 || this.lastGraph && e2.graph.equals(this.lastGraph))) {
        let r3 = e2.graph.termType !== "DefaultGraph" && this.lastSubject && this.lastSubject.equals(e2.graph);
        this.lastGraph && (this.lastGraph.termType !== "DefaultGraph" ? (this.endPredicate(), this.endSubject(), this.endGraph(true), r3 = false) : r3 ? (this.endPredicate(true), this.lastSubject = null) : (this.endPredicate(), this.endSubject(true))), e2.graph.termType !== "DefaultGraph" && (r3 || this.pushId(e2.graph, t3), this.pushSeparator(this.options.space ? a.SeparatorType.GRAPH_FIELD_NONCOMPACT : a.SeparatorType.GRAPH_FIELD_COMPACT), this.indentation++), this.lastGraph = e2.graph;
      }
      this.lastSubject && e2.subject.equals(this.lastSubject) || (r2 ? (this.endPredicate(), this.endSubject(), this.indentation--, this.pushSeparator(a.SeparatorType.ARRAY_END_COMMA), this.lastGraph = e2.graph) : (this.lastSubject && (this.endPredicate(), this.endSubject(true)), this.pushId(e2.subject, t3)), this.lastSubject = e2.subject), this.lastPredicate && e2.predicate.equals(this.lastPredicate) || (this.lastPredicate && this.endPredicate(true), this.pushPredicate(e2.predicate, t3)), this.pushObject(e2.object, t3);
    }
    pushDocumentStart() {
      this.opened = true, this.originalContext && !this.options.excludeContext ? (this.pushSeparator(a.SeparatorType.OBJECT_START), this.indentation++, this.pushSeparator(a.SeparatorType.CONTEXT_FIELD), this.pushIndented(JSON.stringify(this.originalContext, null, this.options.space) + ","), this.pushSeparator(this.options.space ? a.SeparatorType.GRAPH_FIELD_NONCOMPACT : a.SeparatorType.GRAPH_FIELD_COMPACT), this.indentation++) : (this.pushSeparator(a.SeparatorType.ARRAY_START), this.indentation++);
    }
    pushId(e2, t3) {
      const r2 = e2.termType === "BlankNode" ? "_:" + e2.value : t3.compactIri(e2.value, false);
      this.pushSeparator(a.SeparatorType.OBJECT_START), this.indentation++, this.pushIndented(this.options.space ? `"@id": "${r2}",` : `"@id":"${r2}",`);
    }
    pushPredicate(e2, t3) {
      let r2 = e2.value;
      this.options.useRdfType || r2 !== s.Util.RDF_TYPE || (r2 = "@type", this.objectOptions = Object.assign(Object.assign({}, this.options), {
        compactIds: true,
        vocab: true
      }));
      const n2 = t3.compactIri(r2, true);
      this.pushIndented(this.options.space ? `"${n2}": [` : `"${n2}":[`), this.indentation++, this.lastPredicate = e2;
    }
    pushObject(e2, t3) {
      let r2;
      this.hadObjectForPredicate ? this.pushSeparator(a.SeparatorType.COMMA) : this.hadObjectForPredicate = true;
      try {
        r2 = e2["@list"] ? e2 : s.Util.termToValue(e2, t3, this.objectOptions || this.options);
      } catch (e3) {
        return this.emit("error", e3);
      }
      this.pushIndented(JSON.stringify(r2, null, this.options.space));
    }
    endDocument() {
      this.opened = false, this.originalContext && !this.options.excludeContext ? (this.indentation--, this.pushSeparator(a.SeparatorType.ARRAY_END), this.indentation--, this.pushSeparator(a.SeparatorType.OBJECT_END)) : (this.indentation--, this.pushSeparator(a.SeparatorType.ARRAY_END));
    }
    endPredicate(e2) {
      this.indentation--, this.pushSeparator(e2 ? a.SeparatorType.ARRAY_END_COMMA : a.SeparatorType.ARRAY_END), this.hadObjectForPredicate = false, this.objectOptions = null, this.lastPredicate = null;
    }
    endSubject(e2) {
      this.indentation--, this.pushSeparator(e2 ? a.SeparatorType.OBJECT_END_COMMA : a.SeparatorType.OBJECT_END), this.lastSubject = null;
    }
    endGraph(e2) {
      this.indentation--, this.pushSeparator(a.SeparatorType.ARRAY_END), this.indentation--, this.pushSeparator(e2 ? a.SeparatorType.OBJECT_END_COMMA : a.SeparatorType.OBJECT_END), this.lastGraph = null;
    }
    pushSeparator(e2) {
      this.pushIndented(e2.label);
    }
    pushIndented(e2) {
      const t3 = this.getIndentPrefix(), r2 = e2.split("\n").map((e3) => t3 + e3).join("\n");
      this.push(r2), this.options.space && this.push("\n");
    }
    getIndentPrefix() {
      return this.options.space ? this.options.space.repeat(this.indentation) : "";
    }
  }
  t2.JsonLdSerializer = o;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SeparatorType = void 0;
  class n {
    constructor(e2) {
      this.label = e2;
    }
  }
  t2.SeparatorType = n, n.COMMA = new n(","), n.OBJECT_START = new n("{"), n.OBJECT_END = new n("}"), n.OBJECT_END_COMMA = new n("},"), n.ARRAY_START = new n("["), n.ARRAY_END = new n("]"), n.ARRAY_END_COMMA = new n("],"), n.GRAPH_FIELD_NONCOMPACT = new n('"@graph": ['), n.GRAPH_FIELD_COMPACT = new n('"@graph":['), n.CONTEXT_FIELD = new n('"@context":');
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveQuadPatternRdfJsSource = void 0;
  const n = r(21), i = r(155);
  class a extends n.ActorRdfResolveQuadPatternSource {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!this.hasContextSingleSourceOfType("rdfjsSource", e2.context))
          throw new Error(this.name + " requires a single source with an rdfjsSource to be present in the context.");
        const t3 = this.getContextSource(e2.context);
        if (!t3 || typeof t3 == "string" || !("match" in t3) && !t3.value.match)
          throw new Error(this.name + " received an invalid rdfjsSource.");
        return true;
      });
    }
    getSource(e2) {
      return __async(this, null, function* () {
        const t3 = this.getContextSource(e2);
        return new i.RdfJsQuadSource("match" in t3 ? t3 : t3.value);
      });
    }
  }
  t2.ActorRdfResolveQuadPatternRdfJsSource = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(339), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataPrimaryTopic = void 0;
  const n = r(2), i = r(156);
  class a extends i.ActorRdfMetadata {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        if (e2.triples)
          throw new Error("This actor only supports non-triple quad streams.");
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = new n.Readable({
          objectMode: true
        }), r2 = new n.Readable({
          objectMode: true
        }), i2 = () => {
          t3._read = r2._read = () => {
          }, e2.quads.on("error", (e3) => {
            t3.emit("error", e3), r2.emit("error", e3);
          });
          const n2 = {};
          let i3;
          const a2 = {};
          e2.quads.on("data", (t4) => {
            t4.predicate.value === "http://rdfs.org/ns/void#subset" && t4.object.value === e2.url ? i3 = t4.subject.value : t4.predicate.value === "http://xmlns.com/foaf/0.1/primaryTopic" && (a2[t4.object.value] = t4.subject.value);
            let r3 = n2[t4.graph.value];
            r3 || (r3 = n2[t4.graph.value] = []), r3.push(t4);
          }), e2.quads.on("end", () => {
            const e3 = i3 ? a2[i3] : void 0;
            for (const i4 in n2)
              if (i4 === e3) {
                for (const e4 of n2[i4])
                  r2.push(e4);
                if (this.metadataToData)
                  for (const e4 of n2[i4])
                    t3.push(e4);
              } else {
                for (const e4 of n2[i4])
                  t3.push(e4);
                if (!e3 && this.dataToMetadataOnInvalidMetadataGraph)
                  for (const e4 of n2[i4])
                    r2.push(e4);
              }
            t3.push(null), r2.push(null);
          });
        };
        return t3._read = r2._read = () => {
          i2();
        }, {
          data: t3,
          metadata: r2
        };
      });
    }
  }
  t2.ActorRdfMetadataPrimaryTopic = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataQuadPredicate = void 0;
  const n = r(2), i = r(157);
  class a extends i.ActorRdfMetadata {
    constructor(e2) {
      super(e2);
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = new n.Readable({
          objectMode: true
        }), r2 = new n.Readable({
          objectMode: true
        }), i2 = () => {
          t3._read = r2._read = () => {
          }, e2.quads.on("error", (e3) => {
            t3.emit("error", e3), r2.emit("error", e3);
          });
          const n2 = {};
          e2.quads.on("data", (i3) => {
            this.isMetadata(i3, e2.url, n2) ? r2.push(i3) : t3.push(i3);
          }), e2.quads.on("end", () => {
            t3.push(null), r2.push(null);
          });
        };
        return t3._read = r2._read = () => {
          i2();
        }, {
          data: t3,
          metadata: r2
        };
      });
    }
  }
  t2.ActorRdfMetadataQuadPredicate = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(342), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataAll = void 0;
  const n = r(2), i = r(156);
  class a extends i.ActorRdfMetadata {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = new n.Readable({
          objectMode: true
        }), r2 = new n.Readable({
          objectMode: true
        });
        return t3._read = r2._read = () => {
          t3._read = r2._read = () => {
          }, e2.quads.on("error", (e3) => {
            t3.emit("error", e3), r2.emit("error", e3);
          }), e2.quads.on("data", (e3) => {
            t3.push(e3), r2.push(e3);
          }), e2.quads.on("end", () => {
            t3.push(null), r2.push(null);
          });
        }, {
          data: t3,
          metadata: r2
        };
      });
    }
  }
  t2.ActorRdfMetadataAll = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(344), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataExtractHydraControls = void 0;
  const n = r(85), i = r(373);
  class a extends n.ActorRdfMetadataExtract {
    constructor(e2) {
      super(e2), this.parsedUriTemplateCache = {};
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    getLinks(e2, t3) {
      return a.LINK_TYPES.reduce((r2, n2) => {
        const i2 = t3[n2] || t3[n2 + "Page"], a2 = i2 && i2[e2];
        return r2[n2] = a2 && a2.length > 0 ? a2[0] : null, r2;
      }, {});
    }
    parseUriTemplateCached(e2) {
      const t3 = this.parsedUriTemplateCache[e2];
      return t3 || (this.parsedUriTemplateCache[e2] = i.parse(e2));
    }
    getSearchForms(e2) {
      const t3 = e2.search, r2 = [];
      if (t3)
        for (const n2 in t3)
          for (const i2 of t3[n2]) {
            const t4 = (e2.template || {})[i2] || [];
            if (t4.length !== 1)
              throw new Error("Expected 1 hydra:template for " + i2);
            const a2 = t4[0], s = this.parseUriTemplateCached(a2), o = ((e2.mapping || {})[i2] || []).reduce((t5, r3) => {
              const n3 = ((e2.variable || {})[r3] || [])[0], i3 = ((e2.property || {})[r3] || [])[0];
              if (!n3)
                throw new Error("Expected a hydra:variable for " + r3);
              if (!i3)
                throw new Error("Expected a hydra:property for " + r3);
              return t5[i3] = n3, t5;
            }, {}), u = (e3) => s.expand(Object.keys(e3).reduce((t5, r3) => (t5[o[r3]] = e3[r3], t5), {}));
            r2.push({
              dataset: n2,
              template: a2,
              mappings: o,
              getUri: u
            });
          }
      return {
        values: r2
      };
    }
    getHydraProperties(e2) {
      return new Promise((t3, r2) => {
        e2.on("error", r2);
        const n2 = {};
        e2.on("data", (e3) => {
          if (e3.predicate.value.startsWith(a.HYDRA)) {
            const t4 = e3.predicate.value.slice(a.HYDRA.length), r3 = n2[t4] || (n2[t4] = {});
            (r3[e3.subject.value] || (r3[e3.subject.value] = [])).push(e3.object.value);
          }
        }), e2.on("end", () => t3(n2));
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = {}, r2 = yield this.getHydraProperties(e2.metadata);
        return Object.assign(t3, this.getLinks(e2.url, r2)), t3.searchForms = this.getSearchForms(r2), {
          metadata: t3
        };
      });
    }
  }
  t2.ActorRdfMetadataExtractHydraControls = a, a.HYDRA = "http://www.w3.org/ns/hydra/core#", a.LINK_TYPES = ["first", "next", "previous", "last"];
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataExtractQuery = void 0;
  const n = r(346), i = r(163), a = r(158), s = r(164);
  class o extends a.ActorRdfMetadataExtract {
    constructor(e2, t3, r2) {
      super(r2), this.graphqlClient = new n.Client({
        context: e2,
        queryEngine: new s.GraphQlQueryEngine(this.queryEngine)
      }), this.sparqlOperation = this.graphqlClient.graphQlToSparql({
        query: t3
      });
    }
    queryData(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield i.storeStream(e2), {
          data: n2
        } = yield this.graphqlClient.query(Object.assign(Object.assign({}, yield this.sparqlOperation), {
          queryEngineOptions: {
            source: {
              type: "rdfjsSource",
              value: r2
            },
            initialBindings: t3
          }
        }));
        return n2;
      });
    }
  }
  t2.ActorRdfMetadataExtractQuery = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || t3.hasOwnProperty(r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(347), t2), i(r(371), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__awaiter || function(e2, t3, r2, n2) {
    return new (r2 || (r2 = Promise))(function(i2, a2) {
      function s2(e3) {
        try {
          u(n2.next(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function o(e3) {
        try {
          u(n2.throw(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function u(e3) {
        var t4;
        e3.done ? i2(e3.value) : (t4 = e3.value, t4 instanceof r2 ? t4 : new r2(function(e4) {
          e4(t4);
        })).then(s2, o);
      }
      u((n2 = n2.apply(e2, t3 || [])).next());
    });
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Client = void 0;
  const i = r(159), a = r(9), s = r(120);
  t2.Client = class {
    constructor(e2) {
      this.context = (e2.contextParser || new a.ContextParser()).parse(e2.context, {
        baseIRI: e2.baseIRI
      }), this.queryEngine = e2.queryEngine, this.graphqlToSparqlConverter = e2.graphqlToSparqlConverter || new i.Converter({
        dataFactory: e2.dataFactory,
        requireContext: true
      }), this.sparqlJsonToTreeConverter = e2.sparqlJsonToTreeConverter || new s.Converter({
        dataFactory: e2.dataFactory,
        materializeRdfJsTerms: true
      });
    }
    query(e2) {
      return n(this, void 0, void 0, function* () {
        const {
          sparqlAlgebra: t3,
          singularizeVariables: r2
        } = "query" in e2 ? yield this.graphQlToSparql({
          query: e2.query,
          variables: e2.variables
        }) : e2, n2 = yield this.queryEngine.query(t3, e2.queryEngineOptions);
        return {
          data: this.sparqlJsonToTreeConverter.sparqlJsonResultsToTree(n2, {
            singularizeVariables: r2
          })
        };
      });
    }
    graphQlToSparql({
      query: e2,
      variables: t3
    }) {
      return n(this, void 0, void 0, function* () {
        const t4 = {}, r2 = {
          singularizeVariables: t4,
          variablesDict: {}
        };
        return {
          sparqlAlgebra: yield this.graphqlToSparqlConverter.graphqlToSparqlAlgebra(e2, (yield this.context).getContextRaw(), r2),
          singularizeVariables: t4
        };
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DirectiveNodeHandlerInclude = void 0;
  const n = r(38);
  class i extends n.DirectiveNodeHandlerAdapter {
    constructor(e2, t3) {
      super("include", e2, t3);
    }
    handle(e2, t3) {
      const r2 = this.getDirectiveConditionalValue(e2.directive, t3);
      return r2.termType === "Literal" && r2.value === "false" ? {
        ignore: true
      } : {};
    }
  }
  t2.DirectiveNodeHandlerInclude = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DirectiveNodeHandlerOptional = void 0;
  const n = r(38);
  class i extends n.DirectiveNodeHandlerAdapter {
    constructor(e2, t3) {
      super("optional", e2, t3);
    }
    handle(e2, t3) {
      return {
        operationOverrider: (e3) => this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]), e3)
      };
    }
  }
  t2.DirectiveNodeHandlerOptional = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DirectiveNodeHandlerPlural = void 0;
  const n = r(48), i = r(38);
  class a extends i.DirectiveNodeHandlerAdapter {
    constructor(e2, t3) {
      super("plural", e2, t3);
    }
    handle(e2, t3) {
      return this.isDirectiveScopeAll(e2.directive) && (t3.singularizeState = n.SingularizeState.PLURAL), delete t3.singularizeVariables[this.util.nameToVariable(e2.fieldLabel, t3).value], {};
    }
  }
  t2.DirectiveNodeHandlerPlural = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DirectiveNodeHandlerSingle = void 0;
  const n = r(48), i = r(38);
  class a extends i.DirectiveNodeHandlerAdapter {
    constructor(e2, t3) {
      super("single", e2, t3);
    }
    handle(e2, t3) {
      return this.isDirectiveScopeAll(e2.directive) && (t3.singularizeState = n.SingularizeState.SINGLE), t3.singularizeVariables[this.util.nameToVariable(e2.fieldLabel, t3).value] = true, {};
    }
  }
  t2.DirectiveNodeHandlerSingle = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DirectiveNodeHandlerSkip = void 0;
  const n = r(38);
  class i extends n.DirectiveNodeHandlerAdapter {
    constructor(e2, t3) {
      super("skip", e2, t3);
    }
    handle(e2, t3) {
      const r2 = this.getDirectiveConditionalValue(e2.directive, t3);
      return r2.termType === "Literal" && r2.value === "true" ? {
        ignore: true
      } : {};
    }
  }
  t2.DirectiveNodeHandlerSkip = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(17), t2), i(r(354), t2), i(r(355), t2), i(r(356), t2), i(r(357), t2), i(r(358), t2), i(r(359), t2), i(r(360), t2), i(r(361), t2), i(r(362), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerBoolean = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("BooleanValue", e2, t3), this.datatype = this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean");
    }
    handle(e2, t3, r2) {
      return {
        terms: [this.util.dataFactory.literal(e2.value ? "true" : "false", this.datatype)]
      };
    }
  }
  t2.NodeValueHandlerBoolean = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerEnum = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("EnumValue", e2, t3);
    }
    handle(e2, t3, r2) {
      return {
        terms: [this.util.valueToNamedNode(e2.value, r2.context)]
      };
    }
  }
  t2.NodeValueHandlerEnum = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerFloat = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("FloatValue", e2, t3), this.datatype = this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float");
    }
    handle(e2, t3, r2) {
      return {
        terms: [this.util.dataFactory.literal(e2.value, this.datatype)]
      };
    }
  }
  t2.NodeValueHandlerFloat = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerInt = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("IntValue", e2, t3), this.datatype = this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer");
    }
    handle(e2, t3, r2) {
      return {
        terms: [this.util.dataFactory.literal(e2.value, this.datatype)]
      };
    }
  }
  t2.NodeValueHandlerInt = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerList = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("ListValue", e2, t3), this.nodeFirst = this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"), this.nodeRest = this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"), this.nodeNil = this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil");
    }
    handle(e2, t3, r2) {
      const n2 = [];
      let i2 = [];
      for (const a of e2.values) {
        const e3 = this.util.handleNodeValue(a, t3, r2);
        for (const t4 of e3.terms)
          n2.push(t4);
        e3.auxiliaryPatterns && (i2 = i2.concat(e3.auxiliaryPatterns));
      }
      if (this.settings.arraysToRdfLists) {
        const e3 = this.util.dataFactory.blankNode();
        let t4 = e3, a = n2.length;
        for (const e4 of n2) {
          i2.push(this.util.operationFactory.createPattern(t4, this.nodeFirst, e4, r2.graph));
          const n3 = --a == 0 ? this.nodeNil : this.util.dataFactory.blankNode();
          i2.push(this.util.operationFactory.createPattern(t4, this.nodeRest, n3, r2.graph)), t4 = n3;
        }
        return {
          terms: [e3],
          auxiliaryPatterns: i2
        };
      }
      return {
        terms: n2,
        auxiliaryPatterns: i2
      };
    }
  }
  t2.NodeValueHandlerList = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerNull = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("NullValue", e2, t3), this.nil = this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil");
    }
    handle(e2, t3, r2) {
      return {
        terms: [this.nil]
      };
    }
  }
  t2.NodeValueHandlerNull = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerObject = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("ObjectValue", e2, t3);
    }
    handle(e2, t3, r2) {
      const n2 = this.util.dataFactory.blankNode();
      let i2 = [];
      for (const a of e2.fields) {
        const e3 = this.util.handleNodeValue(a.value, t3, r2);
        for (const t4 of e3.terms)
          i2.push(this.util.createQuadPattern(n2, a.name, t4, r2.graph, r2.context));
        e3.auxiliaryPatterns && (i2 = i2.concat(e3.auxiliaryPatterns));
      }
      return {
        terms: [n2],
        auxiliaryPatterns: i2
      };
    }
  }
  t2.NodeValueHandlerObject = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerString = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("StringValue", e2, t3);
    }
    handle(e2, t3, r2) {
      const n2 = r2.context.getContextRaw()[t3];
      let i2 = null, a = null;
      return n2 && typeof n2 != "string" && (n2["@language"] ? i2 = n2["@language"] : n2["@type"] && (a = this.util.dataFactory.namedNode(n2["@type"]))), {
        terms: [this.util.dataFactory.literal(e2.value, i2 || a)]
      };
    }
  }
  t2.NodeValueHandlerString = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeValueHandlerVariable = void 0;
  const n = r(17);
  class i extends n.NodeValueHandlerAdapter {
    constructor(e2, t3) {
      super("Variable", e2, t3);
    }
    handle(e2, t3, r2) {
      const n2 = e2.name.value, i2 = r2.variablesDict[n2], a = r2.variablesMetaDict[n2];
      if (!i2) {
        if (r2.ignoreUnknownVariables || a && !a.mandatory) {
          const e3 = this.util.dataFactory.variable(n2);
          return r2.terminalVariables.map((e4) => e4.value).indexOf(n2) < 0 && r2.terminalVariables.push(e3), {
            terms: [e3]
          };
        }
        throw new Error("Undefined variable: " + n2);
      }
      if (i2.kind === "Variable")
        throw new Error("Variable refers to another variable: " + n2);
      if (a)
        if (a.list) {
          if (i2.kind !== "ListValue")
            throw new Error(`Expected a list, but got ${i2.kind} for ${n2}`);
          if (a.type) {
            const e3 = i2;
            for (const t4 of e3.values)
              if (t4.kind !== a.type)
                throw new Error(`Expected ${a.type}, but got ${t4.kind} for ${n2}`);
          }
        } else
          a.type;
      return this.util.handleNodeValue(i2, t3, r2);
    }
  }
  t2.NodeValueHandlerVariable = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerDefinitionFragment = void 0;
  const n = r(86);
  class i extends n.NodeHandlerDefinitionAdapter {
    constructor(e2, t3) {
      super("FragmentDefinition", e2, t3);
    }
    handle(e2, t3) {
      throw new Error("Illegal state: fragment definitions must be indexed and removed before processing");
    }
  }
  t2.NodeHandlerDefinitionFragment = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerDefinitionOperation = void 0;
  const n = r(86);
  class i extends n.NodeHandlerDefinitionAdapter {
    constructor(e2, t3) {
      super("OperationDefinition", e2, t3);
    }
    handle(e2, t3) {
      if (e2.operation !== "query")
        throw new Error("Unsupported definition operation: " + e2.operation);
      if (e2.variableDefinitions)
        for (const r3 of e2.variableDefinitions) {
          const e3 = r3.variable.name.value;
          r3.defaultValue && (t3.variablesDict[e3] || (t3.variablesDict[e3] = r3.defaultValue));
          let n3 = r3.type;
          const i2 = n3.kind === "NonNullType";
          i2 && (n3 = n3.type);
          const a = n3.kind === "ListType";
          a && (n3 = n3.type);
          const s = n3.name.value;
          t3.variablesMetaDict[e3] = {
            mandatory: i2,
            list: a,
            type: s
          };
        }
      const r2 = this.getDirectiveOutputs(e2.directives, e2.name ? e2.name.value : "", t3);
      if (!r2)
        return this.util.operationFactory.createBgp([]);
      const n2 = this.util.joinOperations(e2.selectionSet.selections.map((e3) => this.util.handleNode(e3, t3)));
      return this.handleDirectiveOutputs(r2, n2);
    }
  }
  t2.NodeHandlerDefinitionOperation = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerDocument = void 0;
  const n = r(6), i = r(62);
  class a extends i.NodeHandlerAdapter {
    constructor(e2, t3) {
      super("Document", e2, t3);
    }
    handle(e2, t3) {
      const r2 = this.util.operationFactory.createProject(e2.definitions.map((e3) => {
        const r3 = this.getNodeQuadContextDefinitionNode(e3, Object.assign(Object.assign({}, t3), {
          ignoreUnknownVariables: true
        })), n2 = Object.assign(Object.assign({}, t3), {
          graph: r3.graph || t3.graph,
          subject: r3.subject || this.util.dataFactory.blankNode()
        });
        let i2 = this.util.handleNode(e3, n2);
        return r3 && r3.auxiliaryPatterns && (i2 = this.util.joinOperations([i2, this.util.operationFactory.createBgp(r3.auxiliaryPatterns)])), i2;
      }).reduce((e3, t4) => t4 ? e3 ? this.util.operationFactory.createUnion(e3, t4) : t4 : e3, null), t3.terminalVariables);
      return this.translateBlankNodesToVariables(r2);
    }
    getNodeQuadContextDefinitionNode(e2, t3) {
      return e2.kind === "OperationDefinition" ? this.getNodeQuadContextSelectionSet(e2.selectionSet, e2.name ? e2.name.value : "", t3) : null;
    }
    translateBlankNodesToVariables(e2) {
      const t3 = this, r2 = {}, i2 = Array.from(e2.variables).reduce((e3, t4) => (e3[t4.value] = true, e3), {});
      return n.Util.mapOperation(e2, {
        path: (e3, t4) => ({
          recurse: false,
          result: t4.createPath(a2(e3.subject), e3.predicate, a2(e3.object), a2(e3.graph))
        }),
        pattern: (e3, t4) => ({
          recurse: false,
          result: t4.createPattern(a2(e3.subject), a2(e3.predicate), a2(e3.object), a2(e3.graph))
        })
      });
      function a2(e3) {
        if (e3.termType === "BlankNode") {
          let a3 = r2[e3.value];
          return a3 || (a3 = n.Util.createUniqueVariable(e3.value, i2, t3.util.dataFactory), i2[a3.value] = true, r2[e3.value] = a3), a3;
        }
        return e3;
      }
    }
  }
  t2.NodeHandlerDocument = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerSelectionField = void 0;
  const n = r(63);
  class i extends n.NodeHandlerSelectionAdapter {
    constructor(e2, t3) {
      super("Field", e2, t3);
    }
    handle(e2, t3) {
      return this.fieldToOperation(t3, e2, true);
    }
  }
  t2.NodeHandlerSelectionField = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerSelectionFragmentSpread = void 0;
  const n = r(63);
  class i extends n.NodeHandlerSelectionAdapter {
    constructor(e2, t3) {
      super("FragmentSpread", e2, t3);
    }
    handle(e2, t3) {
      const r2 = t3.fragmentDefinitions[e2.name.value];
      if (!r2)
        throw new Error("Undefined fragment definition: " + e2.name.value);
      const n2 = {
        alias: null,
        arguments: null,
        directives: r2.directives,
        kind: "Field",
        name: e2.name,
        selectionSet: r2.selectionSet
      }, i2 = [this.util.newTypePattern(t3.subject, r2.typeCondition, t3)];
      return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]), this.fieldToOperation(t3, n2, false, i2));
    }
  }
  t2.NodeHandlerSelectionFragmentSpread = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NodeHandlerSelectionInlineFragment = void 0;
  const n = r(63);
  class i extends n.NodeHandlerSelectionAdapter {
    constructor(e2, t3) {
      super("InlineFragment", e2, t3);
    }
    handle(e2, t3) {
      const r2 = {
        alias: null,
        arguments: null,
        directives: e2.directives,
        kind: "Field",
        name: {
          kind: "Name",
          value: t3.subject.value
        },
        selectionSet: e2.selectionSet
      }, n2 = e2.typeCondition ? [this.util.newTypePattern(t3.subject, e2.typeCondition, t3)] : [];
      return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]), this.fieldToOperation(t3, r2, false, n2));
    }
  }
  t2.NodeHandlerSelectionInlineFragment = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__awaiter || function(e2, t3, r2, n2) {
    return new (r2 || (r2 = Promise))(function(i2, a2) {
      function s2(e3) {
        try {
          u2(n2.next(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function o2(e3) {
        try {
          u2(n2.throw(e3));
        } catch (e4) {
          a2(e4);
        }
      }
      function u2(e3) {
        var t4;
        e3.done ? i2(e3.value) : (t4 = e3.value, t4 instanceof r2 ? t4 : new r2(function(e4) {
          e4(t4);
        })).then(s2, o2);
      }
      u2((n2 = n2.apply(e2, t3 || [])).next());
    });
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Converter = void 0;
  const i = r(581), a = r(160), s = r(161), o = r(48), u = r(162);
  class c {
    constructor(e2) {
      (e2 = e2 || {}).variableDelimiter = e2.variableDelimiter || "_", e2.expressionVariableCounter = e2.expressionVariableCounter || 0, this.util = new u.Util(e2), this.initializeNodeHandlers(e2);
    }
    static registerNodeHandlers(e2, t3) {
      e2.registerNodeHandler(new a.NodeHandlerDocument(e2, t3)), e2.registerNodeHandler(new a.NodeHandlerDefinitionOperation(e2, t3)), e2.registerNodeHandler(new a.NodeHandlerDefinitionFragment(e2, t3)), e2.registerNodeHandler(new a.NodeHandlerSelectionFragmentSpread(e2, t3)), e2.registerNodeHandler(new a.NodeHandlerSelectionInlineFragment(e2, t3)), e2.registerNodeHandler(new a.NodeHandlerSelectionField(e2, t3));
    }
    static registerNodeValueHandlers(e2, t3) {
      e2.registerNodeValueHandler(new a.NodeValueHandlerVariable(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerInt(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerFloat(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerString(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerBoolean(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerNull(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerEnum(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerList(e2, t3)), e2.registerNodeValueHandler(new a.NodeValueHandlerObject(e2, t3));
    }
    static registerDirectiveNodeHandlers(e2, t3) {
      e2.registerDirectiveNodeHandler(new s.DirectiveNodeHandlerInclude(e2, t3)), e2.registerDirectiveNodeHandler(new s.DirectiveNodeHandlerOptional(e2, t3)), e2.registerDirectiveNodeHandler(new s.DirectiveNodeHandlerPlural(e2, t3)), e2.registerDirectiveNodeHandler(new s.DirectiveNodeHandlerSingle(e2, t3)), e2.registerDirectiveNodeHandler(new s.DirectiveNodeHandlerSkip(e2, t3));
    }
    graphqlToSparqlAlgebra(e2, t3, r2) {
      return n(this, void 0, void 0, function* () {
        return this.graphqlToSparqlAlgebraRawContext(e2, yield this.util.contextParser.parse(t3), r2);
      });
    }
    graphqlToSparqlAlgebraRawContext(e2, t3, r2) {
      r2 = r2 || {};
      const n2 = typeof e2 == "string" ? i.parse(e2) : e2, a2 = {
        context: t3,
        fragmentDefinitions: this.indexFragments(n2),
        graph: this.util.dataFactory.defaultGraph(),
        path: [],
        singularizeState: o.SingularizeState.PLURAL,
        singularizeVariables: r2.singularizeVariables || {},
        subject: null,
        terminalVariables: [],
        variablesDict: r2.variablesDict || {},
        variablesMetaDict: {}
      };
      return this.util.handleNode(n2, a2);
    }
    indexFragments(e2) {
      const t3 = {}, r2 = [];
      for (const n2 of e2.definitions)
        n2.kind === "FragmentDefinition" ? t3[n2.name.value] = n2 : r2.push(n2);
      return e2.definitions = r2, t3;
    }
    initializeNodeHandlers(e2) {
      c.registerNodeHandlers(this.util, e2), c.registerNodeValueHandlers(this.util, e2), c.registerDirectiveNodeHandlers(this.util, e2);
    }
  }
  t2.Converter = c;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  (function(t3) {
    !function() {
      var r2;
      r2 = typeof window == "object" && window ? window : t3, e.exports ? e.exports = r2.Promise ? r2.Promise : s : r2.Promise || (r2.Promise = s);
      var n = r2.setImmediate || function(e2) {
        setTimeout(e2, 1);
      };
      function i(e2, t4) {
        return function() {
          e2.apply(t4, arguments);
        };
      }
      var a = Array.isArray || function(e2) {
        return Object.prototype.toString.call(e2) === "[object Array]";
      };
      function s(e2) {
        if (typeof this != "object")
          throw new TypeError("Promises must be constructed via new");
        if (typeof e2 != "function")
          throw new TypeError("not a function");
        this._state = null, this._value = null, this._deferreds = [], d(e2, i(u, this), i(c, this));
      }
      function o(e2) {
        var t4 = this;
        this._state !== null ? n(function() {
          var r3 = t4._state ? e2.onFulfilled : e2.onRejected;
          if (r3 !== null) {
            var n2;
            try {
              n2 = r3(t4._value);
            } catch (t5) {
              return void e2.reject(t5);
            }
            e2.resolve(n2);
          } else
            (t4._state ? e2.resolve : e2.reject)(t4._value);
        }) : this._deferreds.push(e2);
      }
      function u(e2) {
        try {
          if (e2 === this)
            throw new TypeError("A promise cannot be resolved with itself.");
          if (e2 && (typeof e2 == "object" || typeof e2 == "function")) {
            var t4 = e2.then;
            if (typeof t4 == "function")
              return void d(i(t4, e2), i(u, this), i(c, this));
          }
          this._state = true, this._value = e2, l.call(this);
        } catch (e3) {
          c.call(this, e3);
        }
      }
      function c(e2) {
        this._state = false, this._value = e2, l.call(this);
      }
      function l() {
        for (var e2 = 0, t4 = this._deferreds.length; e2 < t4; e2++)
          o.call(this, this._deferreds[e2]);
        this._deferreds = null;
      }
      function h(e2, t4, r3, n2) {
        this.onFulfilled = typeof e2 == "function" ? e2 : null, this.onRejected = typeof t4 == "function" ? t4 : null, this.resolve = r3, this.reject = n2;
      }
      function d(e2, t4, r3) {
        var n2 = false;
        try {
          e2(function(e3) {
            n2 || (n2 = true, t4(e3));
          }, function(e3) {
            n2 || (n2 = true, r3(e3));
          });
        } catch (e3) {
          if (n2)
            return;
          n2 = true, r3(e3);
        }
      }
      s.prototype.catch = function(e2) {
        return this.then(null, e2);
      }, s.prototype.then = function(e2, t4) {
        var r3 = this;
        return new s(function(n2, i2) {
          o.call(r3, new h(e2, t4, n2, i2));
        });
      }, s.all = function() {
        var e2 = Array.prototype.slice.call(arguments.length === 1 && a(arguments[0]) ? arguments[0] : arguments);
        return new s(function(t4, r3) {
          if (e2.length === 0)
            return t4([]);
          var n2 = e2.length;
          function i2(a3, s2) {
            try {
              if (s2 && (typeof s2 == "object" || typeof s2 == "function")) {
                var o2 = s2.then;
                if (typeof o2 == "function")
                  return void o2.call(s2, function(e3) {
                    i2(a3, e3);
                  }, r3);
              }
              e2[a3] = s2, --n2 == 0 && t4(e2);
            } catch (e3) {
              r3(e3);
            }
          }
          for (var a2 = 0; a2 < e2.length; a2++)
            i2(a2, e2[a2]);
        });
      }, s.resolve = function(e2) {
        return e2 && typeof e2 == "object" && e2.constructor === s ? e2 : new s(function(t4) {
          t4(e2);
        });
      }, s.reject = function(e2) {
        return new s(function(t4, r3) {
          r3(e2);
        });
      }, s.race = function(e2) {
        return new s(function(t4, r3) {
          for (var n2 = 0, i2 = e2.length; n2 < i2; n2++)
            e2[n2].then(t4, r3);
        });
      };
    }();
  }).call(this, r(10));
}, function(e, t2, r) {
  !function(t3) {
    "use strict";
    var r2 = function() {
      function e2(e3) {
        this.options = e3;
      }
      return e2.prototype.toString = function() {
        return JSON && JSON.stringify ? JSON.stringify(this.options) : this.options;
      }, e2;
    }(), n = function() {
      function e2(t4) {
        return typeof Object.freeze == "function" ? function(t5) {
          if (typeof t5 != "object" || t5 === null)
            return t5;
          var r3, n2;
          for (n2 in Object.freeze(t5), t5)
            t5.hasOwnProperty(n2) && typeof (r3 = t5[n2]) == "object" && e2(r3);
          return t5;
        }(t4) : t4;
      }
      return {
        isArray: function(e3) {
          return Object.prototype.toString.apply(e3) === "[object Array]";
        },
        isString: function(e3) {
          return Object.prototype.toString.apply(e3) === "[object String]";
        },
        isNumber: function(e3) {
          return Object.prototype.toString.apply(e3) === "[object Number]";
        },
        isBoolean: function(e3) {
          return Object.prototype.toString.apply(e3) === "[object Boolean]";
        },
        join: function(e3, t4) {
          var r3, n2 = "", i2 = true;
          for (r3 = 0; r3 < e3.length; r3 += 1)
            i2 ? i2 = false : n2 += t4, n2 += e3[r3];
          return n2;
        },
        map: function(e3, t4) {
          for (var r3 = [], n2 = 0; n2 < e3.length; n2 += 1)
            r3.push(t4(e3[n2]));
          return r3;
        },
        filter: function(e3, t4) {
          for (var r3 = [], n2 = 0; n2 < e3.length; n2 += 1)
            t4(e3[n2]) && r3.push(e3[n2]);
          return r3;
        },
        deepFreeze: e2
      };
    }(), i = function() {
      function e2(e3) {
        return e3 >= "0" && e3 <= "9";
      }
      return {
        isAlpha: function(e3) {
          return e3 >= "a" && e3 <= "z" || e3 >= "A" && e3 <= "Z";
        },
        isDigit: e2,
        isHexDigit: function(t4) {
          return e2(t4) || t4 >= "a" && t4 <= "f" || t4 >= "A" && t4 <= "F";
        }
      };
    }(), a = function() {
      var e2 = function(e3) {
        return unescape(encodeURIComponent(e3));
      }, t4 = function(e3) {
        return e3 <= 127 ? 1 : 194 <= e3 && e3 <= 223 ? 2 : 224 <= e3 && e3 <= 239 ? 3 : 240 <= e3 && e3 <= 244 ? 4 : 0;
      }, r3 = function(e3) {
        return 128 <= e3 && e3 <= 191;
      };
      function n2(e3, t5) {
        return e3.charAt(t5) === "%" && i.isHexDigit(e3.charAt(t5 + 1)) && i.isHexDigit(e3.charAt(t5 + 2));
      }
      function a2(e3, t5) {
        return parseInt(e3.substr(t5, 2), 16);
      }
      return {
        encodeCharacter: function(t5) {
          var r4, n3, i2 = "", a3 = e2(t5);
          for (n3 = 0; n3 < a3.length; n3 += 1)
            i2 += "%" + ((r4 = a3.charCodeAt(n3)) < 16 ? "0" : "") + r4.toString(16).toUpperCase();
          return i2;
        },
        isPctEncoded: function(e3) {
          if (!n2(e3, 0))
            return false;
          var i2 = a2(e3, 1), s2 = t4(i2);
          if (s2 === 0)
            return false;
          for (var o2 = 1; o2 < s2; o2 += 1)
            if (!n2(e3, 3 * o2) || !r3(a2(e3, 3 * o2 + 1)))
              return false;
          return true;
        },
        pctCharAt: function(e3, i2) {
          var s2 = e3.charAt(i2);
          if (!n2(e3, i2))
            return s2;
          var o2 = a2(e3, i2 + 1), u2 = t4(o2);
          if (u2 === 0)
            return s2;
          for (var c2 = 1; c2 < u2; c2 += 1)
            if (!n2(e3, i2 + 3 * c2) || !r3(a2(e3, i2 + 3 * c2 + 1)))
              return s2;
          return e3.substr(i2, 3 * u2);
        }
      };
    }(), s = {
      isVarchar: function(e2) {
        return i.isAlpha(e2) || i.isDigit(e2) || e2 === "_" || a.isPctEncoded(e2);
      },
      isUnreserved: function(e2) {
        return i.isAlpha(e2) || i.isDigit(e2) || e2 === "-" || e2 === "." || e2 === "_" || e2 === "~";
      },
      isReserved: function(e2) {
        return e2 === ":" || e2 === "/" || e2 === "?" || e2 === "#" || e2 === "[" || e2 === "]" || e2 === "@" || e2 === "!" || e2 === "$" || e2 === "&" || e2 === "(" || e2 === ")" || e2 === "*" || e2 === "+" || e2 === "," || e2 === ";" || e2 === "=" || e2 === "'";
      }
    }, o = function() {
      function e2(e3, t4) {
        var r3, n2 = "", i2 = "";
        for (typeof e3 != "number" && typeof e3 != "boolean" || (e3 = e3.toString()), r3 = 0; r3 < e3.length; r3 += i2.length)
          i2 = e3.charAt(r3), n2 += s.isUnreserved(i2) || t4 && s.isReserved(i2) ? i2 : a.encodeCharacter(i2);
        return n2;
      }
      return {
        encode: e2,
        encodePassReserved: function(t4) {
          return e2(t4, true);
        },
        encodeLiteral: function(e3) {
          var t4, r3 = "", n2 = "";
          for (t4 = 0; t4 < e3.length; t4 += n2.length)
            (n2 = a.pctCharAt(e3, t4)).length > 1 ? r3 += n2 : r3 += s.isReserved(n2) || s.isUnreserved(n2) ? n2 : a.encodeCharacter(n2);
          return r3;
        },
        encodeLiteralCharacter: function(e3, t4) {
          var r3 = a.pctCharAt(e3, t4);
          return r3.length > 1 || s.isReserved(r3) || s.isUnreserved(r3) ? r3 : a.encodeCharacter(r3);
        }
      };
    }(), u = function() {
      var e2 = {};
      function t4(t5) {
        e2[t5] = {
          symbol: t5,
          separator: t5 === "?" ? "&" : t5 === "" || t5 === "+" || t5 === "#" ? "," : t5,
          named: t5 === ";" || t5 === "&" || t5 === "?",
          ifEmpty: t5 === "&" || t5 === "?" ? "=" : "",
          first: t5 === "+" ? "" : t5,
          encode: t5 === "+" || t5 === "#" ? o.encodePassReserved : o.encode,
          toString: function() {
            return this.symbol;
          }
        };
      }
      return t4(""), t4("+"), t4("#"), t4("."), t4("/"), t4(";"), t4("?"), t4("&"), {
        valueOf: function(t5) {
          return e2[t5] ? e2[t5] : "=,!@|".indexOf(t5) >= 0 ? null : e2[""];
        }
      };
    }();
    function c(e2) {
      var t4;
      if (e2 == null)
        return false;
      if (n.isArray(e2))
        return e2.length > 0;
      if (typeof e2 == "string" || typeof e2 == "number" || typeof e2 == "boolean")
        return true;
      for (t4 in e2)
        if (e2.hasOwnProperty(t4) && c(e2[t4]))
          return true;
      return false;
    }
    var l = function() {
      function e2(e3) {
        this.literal = o.encodeLiteral(e3);
      }
      return e2.prototype.expand = function() {
        return this.literal;
      }, e2.prototype.toString = e2.prototype.expand, e2;
    }(), h = function() {
      function e2(e3) {
        var t4, n2, o2 = [], c2 = null, l2 = null, h2 = null, p2 = "";
        function f() {
          var t5 = e3.substring(l2, n2);
          if (t5.length === 0)
            throw new r2({
              expressionText: e3,
              message: "a varname must be specified",
              position: n2
            });
          c2 = {
            varname: t5,
            exploded: false,
            maxLength: null
          }, l2 = null;
        }
        function g() {
          if (h2 === n2)
            throw new r2({
              expressionText: e3,
              message: "after a ':' you have to specify the length",
              position: n2
            });
          c2.maxLength = parseInt(e3.substring(h2, n2), 10), h2 = null;
        }
        for (t4 = function(t5) {
          var i2 = u.valueOf(t5);
          if (i2 === null)
            throw new r2({
              expressionText: e3,
              message: "illegal use of reserved operator",
              position: n2,
              operator: t5
            });
          return i2;
        }(e3.charAt(0)), n2 = t4.symbol.length, l2 = n2; n2 < e3.length; n2 += p2.length) {
          if (p2 = a.pctCharAt(e3, n2), l2 !== null) {
            if (p2 === ".") {
              if (l2 === n2)
                throw new r2({
                  expressionText: e3,
                  message: "a varname MUST NOT start with a dot",
                  position: n2
                });
              continue;
            }
            if (s.isVarchar(p2))
              continue;
            f();
          }
          if (h2 !== null) {
            if (n2 === h2 && p2 === "0")
              throw new r2({
                expressionText: e3,
                message: "A :prefix must not start with digit 0",
                position: n2
              });
            if (i.isDigit(p2)) {
              if (n2 - h2 >= 4)
                throw new r2({
                  expressionText: e3,
                  message: "A :prefix must have max 4 digits",
                  position: n2
                });
              continue;
            }
            g();
          }
          if (p2 !== ":")
            if (p2 !== "*") {
              if (p2 !== ",")
                throw new r2({
                  expressionText: e3,
                  message: "illegal character",
                  character: p2,
                  position: n2
                });
              o2.push(c2), c2 = null, l2 = n2 + 1;
            } else {
              if (c2 === null)
                throw new r2({
                  expressionText: e3,
                  message: "exploded without varspec",
                  position: n2
                });
              if (c2.exploded)
                throw new r2({
                  expressionText: e3,
                  message: "exploded twice",
                  position: n2
                });
              if (c2.maxLength)
                throw new r2({
                  expressionText: e3,
                  message: "an explode (*) MUST NOT follow to a prefix",
                  position: n2
                });
              c2.exploded = true;
            }
          else {
            if (c2.maxLength !== null)
              throw new r2({
                expressionText: e3,
                message: "only one :maxLength is allowed per varspec",
                position: n2
              });
            if (c2.exploded)
              throw new r2({
                expressionText: e3,
                message: "an exploeded varspec MUST NOT be varspeced",
                position: n2
              });
            h2 = n2 + 1;
          }
        }
        return l2 !== null && f(), h2 !== null && g(), o2.push(c2), new d(e3, t4, o2);
      }
      return function(t4) {
        var n2, i2, a2 = [], s2 = null, o2 = 0;
        for (n2 = 0; n2 < t4.length; n2 += 1)
          if (i2 = t4.charAt(n2), o2 === null) {
            if (s2 === null)
              throw new Error("reached unreachable code");
            if (i2 === "{")
              throw new r2({
                templateText: t4,
                message: "brace already opened",
                position: n2
              });
            if (i2 === "}") {
              if (s2 + 1 === n2)
                throw new r2({
                  templateText: t4,
                  message: "empty braces",
                  position: s2
                });
              try {
                a2.push(e2(t4.substring(s2 + 1, n2)));
              } catch (e3) {
                if (e3.prototype === r2.prototype)
                  throw new r2({
                    templateText: t4,
                    message: e3.options.message,
                    position: s2 + e3.options.position,
                    details: e3.options
                  });
                throw e3;
              }
              s2 = null, o2 = n2 + 1;
            }
          } else {
            if (i2 === "}")
              throw new r2({
                templateText: t4,
                message: "unopened brace closed",
                position: n2
              });
            i2 === "{" && (o2 < n2 && a2.push(new l(t4.substring(o2, n2))), o2 = null, s2 = n2);
          }
        if (s2 !== null)
          throw new r2({
            templateText: t4,
            message: "unclosed brace",
            position: s2
          });
        return o2 < t4.length && a2.push(new l(t4.substr(o2))), new p(t4, a2);
      };
    }(), d = function() {
      function e2(e3) {
        return JSON && JSON.stringify ? JSON.stringify(e3) : e3;
      }
      function t4(e3) {
        if (!c(e3))
          return true;
        if (n.isString(e3))
          return e3 === "";
        if (n.isNumber(e3) || n.isBoolean(e3))
          return false;
        if (n.isArray(e3))
          return e3.length === 0;
        for (var t5 in e3)
          if (e3.hasOwnProperty(t5))
            return false;
        return true;
      }
      function r3(e3) {
        var t5, r4 = [];
        for (t5 in e3)
          e3.hasOwnProperty(t5) && r4.push({
            name: t5,
            value: e3[t5]
          });
        return r4;
      }
      function i2(e3, t5, r4) {
        this.templateText = e3, this.operator = t5, this.varspecs = r4;
      }
      function a2(e3, t5, r4) {
        var n2 = "";
        if (r4 = r4.toString(), t5.named) {
          if (n2 += o.encodeLiteral(e3.varname), r4 === "")
            return n2 += t5.ifEmpty;
          n2 += "=";
        }
        return e3.maxLength !== null && (r4 = r4.substr(0, e3.maxLength)), n2 += t5.encode(r4);
      }
      function s2(e3) {
        return c(e3.value);
      }
      function u2(e3, i3, a3) {
        var u3 = [], l3 = "";
        if (i3.named) {
          if (l3 += o.encodeLiteral(e3.varname), t4(a3))
            return l3 += i3.ifEmpty;
          l3 += "=";
        }
        return n.isArray(a3) ? (u3 = a3, u3 = n.filter(u3, c), u3 = n.map(u3, i3.encode), l3 += n.join(u3, ",")) : (u3 = r3(a3), u3 = n.filter(u3, s2), u3 = n.map(u3, function(e4) {
          return i3.encode(e4.name) + "," + i3.encode(e4.value);
        }), l3 += n.join(u3, ",")), l3;
      }
      function l2(e3, i3, a3) {
        var u3 = [];
        return n.isArray(a3) ? (u3 = a3, u3 = n.filter(u3, c), u3 = n.map(u3, function(r4) {
          var n2 = o.encodeLiteral(e3.varname);
          return t4(r4) ? n2 += i3.ifEmpty : n2 += "=" + i3.encode(r4), n2;
        })) : (u3 = r3(a3), u3 = n.filter(u3, s2), u3 = n.map(u3, function(e4) {
          var r4 = o.encodeLiteral(e4.name);
          return t4(e4.value) ? r4 += i3.ifEmpty : r4 += "=" + i3.encode(e4.value), r4;
        })), n.join(u3, i3.separator);
      }
      function h2(e3, t5) {
        var i3 = [], a3 = "";
        return n.isArray(t5) ? (i3 = t5, i3 = n.filter(i3, c), i3 = n.map(i3, e3.encode), a3 += n.join(i3, e3.separator)) : (i3 = r3(t5), i3 = n.filter(i3, function(e4) {
          return c(e4.value);
        }), i3 = n.map(i3, function(t6) {
          return e3.encode(t6.name) + "=" + e3.encode(t6.value);
        }), a3 += n.join(i3, e3.separator)), a3;
      }
      return i2.prototype.toString = function() {
        return this.templateText;
      }, i2.prototype.expand = function(r4) {
        var i3, s3, o2, d2 = [], p2 = this.operator;
        for (i3 = 0; i3 < this.varspecs.length; i3 += 1)
          if ((o2 = r4[(s3 = this.varspecs[i3]).varname]) != null)
            if (s3.exploded && true, n.isArray(o2), typeof o2 == "string" || typeof o2 == "number" || typeof o2 == "boolean")
              d2.push(a2(s3, p2, o2));
            else {
              if (s3.maxLength && c(o2))
                throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand " + this + " with " + e2(o2));
              s3.exploded ? c(o2) && (p2.named ? d2.push(l2(s3, p2, o2)) : d2.push(h2(p2, o2))) : !p2.named && t4(o2) || d2.push(u2(s3, p2, o2));
            }
        return d2.length === 0 ? "" : p2.first + n.join(d2, p2.separator);
      }, i2;
    }(), p = function() {
      function e2(e3, t4) {
        this.templateText = e3, this.expressions = t4, n.deepFreeze(this);
      }
      return e2.prototype.toString = function() {
        return this.templateText;
      }, e2.prototype.expand = function(e3) {
        var t4, r3 = "";
        for (t4 = 0; t4 < this.expressions.length; t4 += 1)
          r3 += this.expressions[t4].expand(e3);
        return r3;
      }, e2.parse = h, e2.UriTemplateError = r2, e2;
    }();
    !function(t4) {
      e.exports = t4;
    }(p);
  }();
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(375), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataExtractHydraCount = void 0;
  const n = r(85);
  class i extends n.ActorRdfMetadataExtract {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return new Promise((t3, r2) => {
        e2.metadata.on("error", r2), e2.metadata.on("data", (e3) => {
          this.predicates.includes(e3.predicate.value) && t3({
            metadata: {
              totalItems: Number.parseInt(e3.object.value, 10)
            }
          });
        }), e2.metadata.on("end", () => {
          t3({
            metadata: {
              totalItems: 1 / 0
            }
          });
        });
      });
    }
  }
  t2.ActorRdfMetadataExtractHydraCount = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(377), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfMetadataExtractSparqlService = void 0;
  const n = r(85), i = r(13);
  class a extends n.ActorRdfMetadataExtract {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        return new Promise((t3, r2) => {
          e2.metadata.on("error", r2);
          const n2 = {};
          e2.metadata.on("data", (t4) => {
            t4.predicate.value !== "http://www.w3.org/ns/sparql-service-description#endpoint" || t4.subject.termType !== "BlankNode" && t4.subject.value !== e2.url ? t4.predicate.value === "http://www.w3.org/ns/sparql-service-description#defaultGraph" && (n2.defaultGraph = t4.object.value) : n2.sparqlService = t4.object.termType === "Literal" ? i.resolve(t4.object.value, e2.url) : t4.object.value;
          }), e2.metadata.on("end", () => {
            t3({
              metadata: n2
            });
          });
        });
      });
    }
  }
  t2.ActorRdfMetadataExtractSparqlService = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(379), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveHypermediaNone = void 0;
  const n = r(154), i = r(87), a = r(163);
  class s extends i.ActorRdfResolveHypermedia {
    constructor(e2) {
      super(e2, "file");
    }
    testMetadata(e2) {
      return __async(this, null, function* () {
        return {
          filterFactor: 0
        };
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        return this.logInfo(e2.context, "Identified as file source: " + e2.url), {
          source: new n.RdfJsQuadSource(yield a.storeStream(e2.quads))
        };
      });
    }
  }
  t2.ActorRdfResolveHypermediaNone = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveHypermedia = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2, t3) {
      super(e2), this.sourceType = t3;
    }
    test(e2) {
      return __async(this, null, function* () {
        if (e2.forceSourceType && this.sourceType !== e2.forceSourceType)
          throw new Error(`Actor ${this.name} is not able to handle source type ${e2.forceSourceType}.`);
        return this.testMetadata(e2);
      });
    }
  }
  t2.ActorRdfResolveHypermedia = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(382), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveHypermediaLinksNext = void 0;
  const n = r(383);
  class i extends n.ActorRdfResolveHypermediaLinks {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!e2.metadata.next)
          throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        return {
          urls: [e2.metadata.next]
        };
      });
    }
  }
  t2.ActorRdfResolveHypermediaLinksNext = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(384), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveHypermediaLinks = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorRdfResolveHypermediaLinks = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(166), t2), i(r(386), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorHttpInvalidateListenable = void 0;
  const n = r(166);
  class i extends n.ActorHttpInvalidate {
    constructor(e2) {
      super(e2), this.invalidateListeners = [];
    }
    addInvalidateListener(e2) {
      this.invalidateListeners.push(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        for (const t3 of this.invalidateListeners)
          t3(e2);
        return true;
      });
    }
  }
  t2.ActorHttpInvalidateListenable = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(388), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatorAll = void 0;
  const n = r(0);
  class i extends n.Mediator {
    constructor(e2) {
      super(e2);
    }
    mediate(e2) {
      return __async(this, null, function* () {
        const t3 = [];
        let r2;
        try {
          r2 = this.publish(e2);
        } catch (e3) {
          r2 = [];
        }
        for (const e3 of r2)
          try {
            yield e3.reply, t3.push(e3.actor);
          } catch (e4) {
          }
        return (yield Promise.all(t3.map((t4) => t4.runObservable(e2))))[0];
      });
    }
    mediateWith() {
      return __async(this, null, function* () {
        throw new Error("Unsupported operation: MediatorAll#mediateWith");
      });
    }
  }
  t2.MediatorAll = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatorCombinePipeline = void 0;
  const n = r(0);
  class i extends n.Mediator {
    constructor(e2) {
      super(e2);
    }
    mediate(e2) {
      return __async(this, null, function* () {
        let t3;
        try {
          t3 = this.publish(e2);
        } catch (t4) {
          return e2;
        }
        yield Promise.all(t3.map(({
          reply: e3
        }) => e3));
        let r2 = e2;
        for (const e3 of t3.map((e4) => e4.actor))
          r2 = yield e3.runObservable(r2);
        return r2;
      });
    }
    mediateWith() {
      throw new Error("Method not supported.");
    }
  }
  t2.MediatorCombinePipeline = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(391), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorOptimizeQueryOperationJoinBgp = void 0;
  const n = r(392), i = r(6);
  class a extends n.ActorOptimizeQueryOperation {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        return {
          operation: i.Util.mapOperation(e2.operation, {
            join: (e3, t3) => e3.left.type === "bgp" && e3.right.type === "bgp" ? {
              recurse: false,
              result: t3.createBgp(e3.left.patterns.concat(e3.right.patterns))
            } : {
              recurse: false,
              result: e3
            }
          })
        };
      });
    }
  }
  t2.ActorOptimizeQueryOperationJoinBgp = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(393), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorOptimizeQueryOperation = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorOptimizeQueryOperation = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(395), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlParseGraphql = void 0;
  const n = r(168), i = r(159);
  class a extends n.ActorSparqlParse {
    constructor(e2) {
      super(e2), this.graphqlToSparql = new i.Converter({
        requireContext: true
      });
    }
    test(e2) {
      return __async(this, null, function* () {
        if (e2.queryFormat !== "graphql")
          throw new Error("This actor can only parse GraphQL queries");
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = e2.context && e2.context.has("@context") ? e2.context.get("@context") : {}, r2 = {
          singularizeVariables: e2.context && e2.context.get("@comunica/actor-init-sparql:singularizeVariables")
        };
        return {
          operation: yield this.graphqlToSparql.graphqlToSparqlAlgebra(e2.query, t3, r2)
        };
      });
    }
  }
  t2.ActorSparqlParseGraphql = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlParse = void 0;
  const n = r(0);
  class i extends n.Actor {
    constructor(e2) {
      super(e2);
    }
  }
  t2.ActorSparqlParse = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(398), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlParseAlgebra = void 0;
  const n = r(168), i = r(6), a = r(30);
  class s extends n.ActorSparqlParse {
    constructor(e2) {
      super(e2), this.prefixes = Object.freeze(this.prefixes);
    }
    test(e2) {
      return __async(this, null, function* () {
        if (e2.queryFormat && e2.queryFormat !== "sparql")
          throw new Error("This actor can only parse SPARQL queries");
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = new a.Parser({
          prefixes: this.prefixes,
          baseIRI: e2.baseIRI
        });
        t3._resetBlanks();
        const r2 = t3.parse(e2.query);
        return {
          baseIRI: r2.type === "query" ? r2.base : void 0,
          operation: i.translate(r2, {
            quads: true,
            prefixes: this.prefixes,
            blankToVariable: true,
            baseIRI: e2.baseIRI
          })
        };
      });
    }
  }
  t2.ActorSparqlParseAlgebra = s;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(400), t2);
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    Object.defineProperty(t2, "__esModule", {
      value: true
    }), t2.ActorSparqlSerializeJson = void 0;
    const n = r(2), i = r(15), a = r(4);
    class s extends i.ActorSparqlSerializeFixedMediaTypes {
      constructor(e3) {
        super(e3);
      }
      testHandleChecked(e3, t3) {
        return __async(this, null, function* () {
          if (!["bindings", "quads", "boolean"].includes(e3.type))
            throw new Error("This actor can only handle bindings or quad streams.");
          return true;
        });
      }
      runHandle(t3, r2, i2) {
        return __async(this, null, function* () {
          const s2 = new n.Readable();
          s2._read = () => {
          };
          let o = true;
          if (t3.type === "bindings") {
            const e3 = t3.bindingsStream;
            s2.push("["), e3.on("error", (e4) => s2.emit("error", e4)), e3.on("data", (e4) => {
              s2.push(o ? "\n" : ",\n"), s2.push(JSON.stringify(e4.map(a.termToString))), o = false;
            }), e3.on("end", () => {
              s2.push(o ? "]\n" : "\n]\n"), s2.push(null);
            });
          } else if (t3.type === "quads") {
            const e3 = t3.quadStream;
            s2.push("["), e3.on("error", (e4) => s2.emit("error", e4)), e3.on("data", (e4) => {
              s2.push(o ? "\n" : ",\n"), s2.push(JSON.stringify(a.quadToStringQuad(e4))), o = false;
            }), e3.on("end", () => {
              s2.push(o ? "]\n" : "\n]\n"), s2.push(null);
            });
          } else
            try {
              s2.push(JSON.stringify(yield t3.booleanResult) + "\n"), s2.push(null);
            } catch (t4) {
              e2(() => s2.emit("error", t4));
            }
          return {
            data: s2
          };
        });
      }
    }
    t2.ActorSparqlSerializeJson = s;
  }).call(this, r(44).setImmediate);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(402), t2);
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    Object.defineProperty(t2, "__esModule", {
      value: true
    }), t2.ActorSparqlSerializeSimple = void 0;
    const n = r(2), i = r(15);
    class a extends i.ActorSparqlSerializeFixedMediaTypes {
      constructor(e3) {
        super(e3);
      }
      testHandleChecked(e3, t3) {
        return __async(this, null, function* () {
          if (!["bindings", "quads", "boolean"].includes(e3.type))
            throw new Error("This actor can only handle bindings streams, quad streams or booleans.");
          return true;
        });
      }
      runHandle(t3, r2, i2) {
        return __async(this, null, function* () {
          const a2 = new n.Readable();
          let s;
          if (a2._read = () => {
          }, t3.type === "bindings")
            s = t3.bindingsStream, s.on("error", (e3) => a2.emit("error", e3)), s.on("data", (e3) => a2.push(e3.map((e4, t4) => `${t4}: ${e4.value}`).join("\n") + "\n\n")), s.on("end", () => a2.push(null));
          else if (t3.type === "quads")
            s = t3.quadStream, s.on("error", (e3) => a2.emit("error", e3)), s.on("data", (e3) => a2.push(`subject: ${e3.subject.value}
predicate: ${e3.predicate.value}
object: ${e3.object.value}
graph: ${e3.graph.value}

`)), s.on("end", () => a2.push(null));
          else
            try {
              a2.push(JSON.stringify(yield t3.booleanResult) + "\n"), a2.push(null);
            } catch (t4) {
              e2(() => a2.emit("error", t4));
            }
          return {
            data: a2
          };
        });
      }
    }
    t2.ActorSparqlSerializeSimple = a;
  }).call(this, r(44).setImmediate);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(404), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeSparqlCsv = void 0;
  const n = r(2), i = r(15);
  class a extends i.ActorSparqlSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    static bindingToCsvBindings(e2) {
      if (!e2)
        return "";
      let t3 = e2.value;
      return t3 = e2.termType === "Literal" ? "" + t3 : e2.termType === "BlankNode" ? "_:" + t3 : `<${t3}>`, /[",\n\r]/u.exec(t3) && (t3 = `"${t3.replace(/"/gu, '""')}"`), t3;
    }
    testHandleChecked(e2, t3) {
      return __async(this, null, function* () {
        if (e2.type !== "bindings")
          throw new Error("This actor can only handle bindings streams.");
        return true;
      });
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        const i2 = e2, s = new n.Readable();
        return s._read = () => {
        }, s.push(i2.variables.map((e3) => e3.slice(1)).join(",") + "\r\n"), i2.bindingsStream.on("error", (e3) => {
          s.emit("error", e3);
        }), i2.bindingsStream.on("data", (e3) => {
          s.push(i2.variables.map((t4) => a.bindingToCsvBindings(e3.get(t4))).join(",") + "\r\n");
        }), i2.bindingsStream.on("end", () => {
          s.push(null);
        }), {
          data: s
        };
      });
    }
  }
  t2.ActorSparqlSerializeSparqlCsv = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(406), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeSparqlJson = void 0;
  const n = r(2), i = r(15);
  class a extends i.ActorSparqlSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    static bindingToJsonBindings(e2) {
      if (e2.termType === "Literal") {
        const t3 = e2, r2 = {
          value: t3.value,
          type: "literal"
        }, {
          language: n2
        } = t3, {
          datatype: i2
        } = t3;
        return n2 ? r2["xml:lang"] = n2 : i2 && i2.value !== "http://www.w3.org/2001/XMLSchema#string" && (r2.datatype = i2.value), r2;
      }
      return e2.termType === "BlankNode" ? {
        value: e2.value,
        type: "bnode"
      } : {
        value: e2.value,
        type: "uri"
      };
    }
    testHandleChecked(e2, t3) {
      return __async(this, null, function* () {
        if (!["bindings", "boolean"].includes(e2.type))
          throw new Error("This actor can only handle bindings streams or booleans.");
        return true;
      });
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        const i2 = new n.Readable();
        i2._read = () => {
        };
        const s = {};
        e2.type === "bindings" && e2.variables.length > 0 && (s.vars = e2.variables.map((e3) => e3.slice(1))), i2.push(`{"head": ${JSON.stringify(s)},
`);
        let o = true;
        if (e2.type === "bindings") {
          const t4 = e2.bindingsStream;
          t4.on("error", (e3) => {
            i2.emit("error", e3);
          }), t4.on("data", (e3) => {
            o ? i2.push('"results": { "bindings": [\n') : i2.push(",\n");
            const t5 = e3.filter((e4, t6) => Boolean(e4) && t6.startsWith("?"));
            i2.push(JSON.stringify(t5.mapEntries(([e4, t6]) => [e4.slice(1), a.bindingToJsonBindings(t6)]).toJSON())), o = false;
          }), t4.on("end", () => {
            o ? i2.push('"results": { "bindings": [] }}\n') : i2.push("\n]}}\n"), i2.push(null);
          });
        } else
          try {
            i2.push(`"boolean":${yield e2.booleanResult}
}
`), i2.push(null);
          } catch (e3) {
            i2.once("newListener", () => i2.emit("error", e3));
          }
        return {
          data: i2
        };
      });
    }
  }
  t2.ActorSparqlSerializeSparqlJson = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(408), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeSparqlTsv = void 0;
  const n = r(2), i = r(15), a = r(409);
  class s extends i.ActorSparqlSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    static bindingToTsvBindings(e2) {
      return e2 ? a.termToString(e2).replace(/\t/gu, "\\t").replace(/\n/gu, "\\n").replace(/\r/gu, "\\r") : "";
    }
    testHandleChecked(e2, t3) {
      return __async(this, null, function* () {
        if (e2.type !== "bindings")
          throw new Error("This actor can only handle bindings streams.");
        return true;
      });
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        const i2 = e2, a2 = new n.Readable();
        return a2._read = () => {
        }, a2.push(i2.variables.map((e3) => e3.slice(1)).join("	") + "\n"), i2.bindingsStream.on("error", (e3) => {
          a2.emit("error", e3);
        }), i2.bindingsStream.on("data", (e3) => {
          a2.push(i2.variables.map((t4) => s.bindingToTsvBindings(e3.get(t4))).join("	") + "\n");
        }), i2.bindingsStream.on("end", () => {
          a2.push(null);
        }), {
          data: a2
        };
      });
    }
  }
  t2.ActorSparqlSerializeSparqlTsv = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.termToString = t2.stringToTerm = t2.stringQuadToQuad = t2.quadToStringQuad = t2.getLiteralValue = t2.getLiteralType = t2.getLiteralLanguage = void 0;
  const n = r(410);
  Object.defineProperty(t2, "getLiteralLanguage", {
    enumerable: true,
    get: function() {
      return n.getLiteralLanguage;
    }
  }), Object.defineProperty(t2, "getLiteralType", {
    enumerable: true,
    get: function() {
      return n.getLiteralType;
    }
  }), Object.defineProperty(t2, "getLiteralValue", {
    enumerable: true,
    get: function() {
      return n.getLiteralValue;
    }
  }), Object.defineProperty(t2, "quadToStringQuad", {
    enumerable: true,
    get: function() {
      return n.quadToStringQuad;
    }
  }), Object.defineProperty(t2, "stringQuadToQuad", {
    enumerable: true,
    get: function() {
      return n.stringQuadToQuad;
    }
  }), Object.defineProperty(t2, "stringToTerm", {
    enumerable: true,
    get: function() {
      return n.stringToTerm;
    }
  }), Object.defineProperty(t2, "termToString", {
    enumerable: true,
    get: function() {
      return n.termToString;
    }
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.stringQuadToQuad = t2.quadToStringQuad = t2.stringToTerm = t2.getLiteralLanguage = t2.getLiteralType = t2.getLiteralValue = t2.termToString = void 0;
  const n = new (r(5)).DataFactory();
  function i(e2) {
    if (e2)
      switch (e2.termType) {
        case "NamedNode":
          return "<" + e2.value + ">";
        case "BlankNode":
          return "_:" + e2.value;
        case "Literal":
          const t3 = e2;
          return '"' + t3.value.replace(/"/gu, '\\"') + '"' + (t3.datatype && t3.datatype.value !== "http://www.w3.org/2001/XMLSchema#string" && t3.datatype.value !== "http://www.w3.org/1999/02/22-rdf-syntax-ns#langString" ? "^^<" + t3.datatype.value + ">" : "") + (t3.language ? "@" + t3.language : "");
        case "Quad":
          return `<<${i(e2.subject)} ${i(e2.predicate)} ${i(e2.object)}${e2.graph.termType === "DefaultGraph" ? "" : " " + i(e2.graph)}>>`;
        case "Variable":
          return "?" + e2.value;
        case "DefaultGraph":
          return e2.value;
      }
  }
  function a(e2) {
    const t3 = /^"([^]*)"((\^\^.*)|(@.*))?$/.exec(e2);
    if (!t3)
      throw new Error(e2 + " is not a literal");
    return t3[1].replace(/\\"/gu, '"');
  }
  function s(e2) {
    const t3 = /^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/.exec(e2);
    if (!t3)
      throw new Error(e2 + " is not a literal");
    return t3[1] || (t3[2] ? "http://www.w3.org/1999/02/22-rdf-syntax-ns#langString" : "http://www.w3.org/2001/XMLSchema#string");
  }
  function o(e2) {
    const t3 = /^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e2);
    if (!t3)
      throw new Error(e2 + " is not a literal");
    return t3[1] ? t3[1].toLowerCase() : "";
  }
  function u(e2, t3) {
    if (t3 = t3 || n, !e2 || !e2.length)
      return t3.defaultGraph();
    switch (e2[0]) {
      case "_":
        return t3.blankNode(e2.substr(2));
      case "?":
        if (!t3.variable)
          throw new Error("Missing 'variable()' method on the given DataFactory");
        return t3.variable(e2.substr(1));
      case '"':
        const r2 = o(e2), n2 = t3.namedNode(s(e2));
        return t3.literal(a(e2), r2 || n2);
      case "<":
      default:
        if (e2.startsWith("<<") && e2.endsWith(">>")) {
          const r3 = e2.slice(2, -2), n3 = [];
          let i2 = 0, a2 = 0;
          for (let t4 = 0; t4 < r3.length; t4++) {
            const s2 = r3[t4];
            if (s2 === "<" && i2++, s2 === ">") {
              if (i2 === 0)
                throw new Error("Found closing tag without opening tag in " + e2);
              i2--;
            }
            s2 === " " && i2 === 0 && (n3.push(r3.slice(a2, t4)), a2 = t4 + 1);
          }
          if (i2 !== 0)
            throw new Error("Found opening tag without closing tag in " + e2);
          if (n3.push(r3.slice(a2, r3.length)), n3.length !== 3 && n3.length !== 4)
            throw new Error("Nested quad syntax error " + e2);
          return t3.quad(u(n3[0]), u(n3[1]), u(n3[2]), n3[3] ? u(n3[3]) : void 0);
        }
        if (e2.charAt(0) !== "<" || e2.charAt(e2.length - 1) !== ">")
          throw new Error("Detected invalid iri for named node (must be wrapped in <>): " + e2);
        return t3.namedNode(e2.substring(1, e2.length - 1));
    }
  }
  t2.termToString = i, t2.getLiteralValue = a, t2.getLiteralType = s, t2.getLiteralLanguage = o, t2.stringToTerm = u, t2.quadToStringQuad = function(e2) {
    return {
      subject: i(e2.subject),
      predicate: i(e2.predicate),
      object: i(e2.object),
      graph: i(e2.graph)
    };
  }, t2.stringQuadToQuad = function(e2, t3) {
    return (t3 = t3 || n).quad(u(e2.subject, t3), u(e2.predicate, t3), u(e2.object, t3), u(e2.graph, t3));
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(412), t2);
}, function(e, t2, r) {
  "use strict";
  (function(e2) {
    Object.defineProperty(t2, "__esModule", {
      value: true
    }), t2.ActorSparqlSerializeSparqlXml = void 0;
    const n = r(2), i = r(15), a = r(413);
    class s extends i.ActorSparqlSerializeFixedMediaTypes {
      constructor(e3) {
        super(e3);
      }
      static bindingToXmlBindings(e3, t3) {
        let r2;
        if (e3.termType === "Literal") {
          const t4 = e3;
          r2 = {
            literal: t4.value
          };
          const {
            language: n2
          } = t4, {
            datatype: i2
          } = t4;
          n2 ? r2.literal = [{
            _attr: {
              "xml:lang": n2
            }
          }, r2.literal] : i2 && i2.value !== "http://www.w3.org/2001/XMLSchema#string" && (r2.literal = [{
            _attr: {
              datatype: i2.value
            }
          }, r2.literal]);
        } else
          r2 = e3.termType === "BlankNode" ? {
            bnode: e3.value
          } : {
            uri: e3.value
          };
        return {
          binding: [{
            _attr: {
              name: t3.slice(1)
            }
          }, r2]
        };
      }
      testHandleChecked(e3, t3) {
        return __async(this, null, function* () {
          if (!["bindings", "boolean"].includes(e3.type))
            throw new Error("This actor can only handle bindings streams or booleans.");
          return true;
        });
      }
      runHandle(t3, r2, i2) {
        return __async(this, null, function* () {
          const o = new n.Readable();
          o._read = () => {
          };
          const u = a.element({
            _attr: {
              xlmns: "http://www.w3.org/2005/sparql-results#"
            }
          });
          if (a({
            sparql: u
          }, {
            stream: true,
            indent: "  ",
            declaration: true
          }).on("data", (e3) => o.push(e3 + "\n")), t3.type === "bindings" && t3.variables.length > 0 && u.push({
            head: t3.variables.map((e3) => ({
              variable: {
                _attr: {
                  name: e3.slice(1)
                }
              }
            }))
          }), t3.type === "bindings") {
            const r3 = a.element({});
            u.push({
              results: r3
            });
            const n2 = t3.bindingsStream;
            n2.on("error", (e3) => {
              o.emit("error", e3);
            }), n2.on("data", (e3) => {
              const t4 = e3.filter((e4, t5) => Boolean(e4) && t5.startsWith("?"));
              r3.push({
                result: t4.map(s.bindingToXmlBindings)
              });
            }), n2.on("end", () => {
              r3.close(), u.close(), e2(() => o.push(null));
            });
          } else
            try {
              u.push({
                boolean: yield t3.booleanResult
              }), u.close(), e2(() => o.push(null));
            } catch (t4) {
              e2(() => o.emit("error", t4));
            }
          return {
            data: o
          };
        });
      }
    }
    t2.ActorSparqlSerializeSparqlXml = s;
  }).call(this, r(44).setImmediate);
}, function(e, t2, r) {
  (function(t3) {
    var n = r(414), i = r(2).Stream;
    function a(e2, t4, r2) {
      r2 = r2 || 0;
      var i2, s2, o = (i2 = t4, new Array(r2 || 0).join(i2 || "")), u = e2;
      if (typeof e2 == "object" && ((u = e2[s2 = Object.keys(e2)[0]]) && u._elem))
        return u._elem.name = s2, u._elem.icount = r2, u._elem.indent = t4, u._elem.indents = o, u._elem.interrupt = u, u._elem;
      var c, l = [], h = [];
      function d(e3) {
        Object.keys(e3).forEach(function(t5) {
          l.push(function(e4, t6) {
            return e4 + '="' + n(t6) + '"';
          }(t5, e3[t5]));
        });
      }
      switch (typeof u) {
        case "object":
          if (u === null)
            break;
          u._attr && d(u._attr), u._cdata && h.push(("<![CDATA[" + u._cdata).replace(/\]\]>/g, "]]]]><![CDATA[>") + "]]>"), u.forEach && (c = false, h.push(""), u.forEach(function(e3) {
            typeof e3 == "object" ? Object.keys(e3)[0] == "_attr" ? d(e3._attr) : h.push(a(e3, t4, r2 + 1)) : (h.pop(), c = true, h.push(n(e3)));
          }), c || h.push(""));
          break;
        default:
          h.push(n(u));
      }
      return {
        name: s2,
        interrupt: false,
        attributes: l,
        content: h,
        icount: r2,
        indents: o,
        indent: t4
      };
    }
    function s(e2, t4, r2) {
      if (typeof t4 != "object")
        return e2(false, t4);
      var n2 = t4.interrupt ? 1 : t4.content.length;
      function i2() {
        for (; t4.content.length; ) {
          var i3 = t4.content.shift();
          if (i3 !== void 0) {
            if (a2(i3))
              return;
            s(e2, i3);
          }
        }
        e2(false, (n2 > 1 ? t4.indents : "") + (t4.name ? "</" + t4.name + ">" : "") + (t4.indent && !r2 ? "\n" : "")), r2 && r2();
      }
      function a2(t5) {
        return !!t5.interrupt && (t5.interrupt.append = e2, t5.interrupt.end = i2, t5.interrupt = false, e2(true), true);
      }
      if (e2(false, t4.indents + (t4.name ? "<" + t4.name : "") + (t4.attributes.length ? " " + t4.attributes.join(" ") : "") + (n2 ? t4.name ? ">" : "" : t4.name ? "/>" : "") + (t4.indent && n2 > 1 ? "\n" : "")), !n2)
        return e2(false, t4.indent ? "\n" : "");
      a2(t4) || i2();
    }
    e.exports = function(e2, r2) {
      typeof r2 != "object" && (r2 = {
        indent: r2
      });
      var n2, o, u = r2.stream ? new i() : null, c = "", l = false, h = r2.indent ? r2.indent === true ? "    " : r2.indent : "", d = true;
      function p(e3) {
        d ? t3.nextTick(e3) : e3();
      }
      function f(e3, t4) {
        if (t4 !== void 0 && (c += t4), e3 && !l && (u = u || new i(), l = true), e3 && l) {
          var r3 = c;
          p(function() {
            u.emit("data", r3);
          }), c = "";
        }
      }
      function g(e3, t4) {
        s(f, a(e3, h, h ? 1 : 0), t4);
      }
      function m() {
        if (u) {
          var e3 = c;
          p(function() {
            u.emit("data", e3), u.emit("end"), u.readable = false, u.emit("close");
          });
        }
      }
      return p(function() {
        d = false;
      }), r2.declaration && (n2 = r2.declaration, o = {
        version: "1.0",
        encoding: n2.encoding || "UTF-8"
      }, n2.standalone && (o.standalone = n2.standalone), g({
        "?xml": {
          _attr: o
        }
      }), c = c.replace("/>", "?>")), e2 && e2.forEach ? e2.forEach(function(t4, r3) {
        var n3;
        r3 + 1 === e2.length && (n3 = m), g(t4, n3);
      }) : g(e2, m), u ? (u.readable = true, u) : c;
    }, e.exports.element = e.exports.Element = function() {
      var e2 = Array.prototype.slice.call(arguments), t4 = {
        _elem: a(e2),
        push: function(e3) {
          if (!this.append)
            throw new Error("not assigned to a parent!");
          var t5 = this, r2 = this._elem.indent;
          s(this.append, a(e3, r2, this._elem.icount + (r2 ? 1 : 0)), function() {
            t5.append(true);
          });
        },
        close: function(e3) {
          e3 !== void 0 && this.push(e3), this.end && this.end();
        }
      };
      return t4;
    };
  }).call(this, r(8));
}, function(e, t2) {
  var r = {
    "&": "&amp;",
    '"': "&quot;",
    "'": "&apos;",
    "<": "&lt;",
    ">": "&gt;"
  };
  e.exports = function(e2) {
    return e2 && e2.replace ? e2.replace(/([&"<>'])/g, function(e3, t3) {
      return r[t3];
    }) : e2;
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(416), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeTable = void 0;
  const n = r(2), i = r(15), a = r(18);
  class s extends i.ActorSparqlSerializeFixedMediaTypes {
    constructor(e2) {
      super(e2), this.padding = s.repeat(" ", this.columnWidth);
    }
    static repeat(e2, t3) {
      return new Array(t3 + 1).join(e2);
    }
    testHandleChecked(e2, t3) {
      return __async(this, null, function* () {
        if (!["bindings", "quads"].includes(e2.type))
          throw new Error("This actor can only handle bindings or quad streams.");
        return true;
      });
    }
    pad(e2) {
      return e2.length <= this.columnWidth ? e2 + this.padding.slice(e2.length) : e2.slice(0, this.columnWidth - 1) + "\u2026";
    }
    pushHeader(e2, t3) {
      const r2 = t3.map((e3) => this.pad(e3)).join(" ");
      e2.push(`${r2}
${s.repeat("-", r2.length)}
`);
    }
    pushRow(e2, t3, r2) {
      e2.push(t3.map((e3) => r2.has(e3) ? r2.get(e3).value : "").map((e3) => this.pad(e3)).join(" ") + "\n");
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        const i2 = new n.Readable();
        let s2;
        if (i2._read = () => {
        }, e2.type === "bindings") {
          s2 = e2.bindingsStream;
          const t4 = e2.variables;
          this.pushHeader(i2, t4), s2.on("error", (e3) => i2.emit("error", e3)), s2.on("data", (e3) => this.pushRow(i2, t4, e3));
        } else
          s2 = e2.quadStream, this.pushHeader(i2, a.QUAD_TERM_NAMES), s2.on("error", (e3) => i2.emit("error", e3)), s2.on("data", (e3) => i2.push(a.getTerms(e3).map((e4) => this.pad(e4.value)).join(" ") + "\n"));
        return s2.on("end", () => i2.push(null)), {
          data: i2
        };
      });
    }
  }
  t2.ActorSparqlSerializeTable = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
  const n = new (r(5)).DataFactory();
  function i(e2, t3) {
    return t3 && e2.graph.termType === "DefaultGraph" ? [e2.subject, e2.predicate, e2.object] : [e2.subject, e2.predicate, e2.object, e2.graph];
  }
  function a(e2, t3) {
    return !t3 || t3.termType === "Variable" || t3.termType === "Quad" && e2.termType === "Quad" && o(e2, t3) || t3.equals(e2);
  }
  function s(e2, t3, r2, n2, i2) {
    return a(e2.subject, t3) && a(e2.predicate, r2) && a(e2.object, n2) && a(e2.graph, i2);
  }
  function o(e2, t3) {
    return s(e2, t3.subject, t3.predicate, t3.object, t3.graph);
  }
  t2.QUAD_TERM_NAMES = ["subject", "predicate", "object", "graph"], t2.TRIPLE_TERM_NAMES = ["subject", "predicate", "object"], t2.getTerms = i, t2.getTermsNested = function e2(t3, r2) {
    const n2 = [];
    for (const a2 of i(t3, r2))
      a2.termType === "Quad" ? e2(a2, r2).forEach((e3) => n2.push(e3)) : n2.push(a2);
    return n2;
  }, t2.getNamedTerms = function(e2) {
    return [{
      key: "subject",
      value: e2.subject
    }, {
      key: "predicate",
      value: e2.predicate
    }, {
      key: "object",
      value: e2.object
    }, {
      key: "graph",
      value: e2.graph
    }];
  }, t2.collectNamedTerms = function(e2, t3, r2) {
    const i2 = {};
    return e2.forEach((e3) => i2[e3.key] = e3.value), t3 && (i2.subject = i2.subject || t3("subject"), i2.predicate = i2.predicate || t3("predicate"), i2.object = i2.object || t3("object"), i2.graph = i2.graph || t3("graph")), (r2 || n).quad(i2.subject, i2.predicate, i2.object, i2.graph);
  }, t2.forEachTerms = function(e2, t3) {
    t3(e2.subject, "subject"), t3(e2.predicate, "predicate"), t3(e2.object, "object"), t3(e2.graph, "graph");
  }, t2.filterTerms = function(e2, t3) {
    const r2 = [];
    return t3(e2.subject, "subject") && r2.push(e2.subject), t3(e2.predicate, "predicate") && r2.push(e2.predicate), t3(e2.object, "object") && r2.push(e2.object), t3(e2.graph, "graph") && r2.push(e2.graph), r2;
  }, t2.filterQuadTermNames = function(e2, t3) {
    const r2 = [];
    return t3(e2.subject, "subject") && r2.push("subject"), t3(e2.predicate, "predicate") && r2.push("predicate"), t3(e2.object, "object") && r2.push("object"), t3(e2.graph, "graph") && r2.push("graph"), r2;
  }, t2.mapTerms = function(e2, t3, r2) {
    return (r2 || n).quad(t3(e2.subject, "subject"), t3(e2.predicate, "predicate"), t3(e2.object, "object"), t3(e2.graph, "graph"));
  }, t2.reduceTerms = function(e2, t3, r2) {
    let n2 = r2;
    return n2 = t3(n2, e2.subject, "subject"), n2 = t3(n2, e2.predicate, "predicate"), n2 = t3(n2, e2.object, "object"), t3(n2, e2.graph, "graph");
  }, t2.everyTerms = function(e2, t3) {
    return t3(e2.subject, "subject") && t3(e2.predicate, "predicate") && t3(e2.object, "object") && t3(e2.graph, "graph");
  }, t2.someTerms = function(e2, t3) {
    return t3(e2.subject, "subject") || t3(e2.predicate, "predicate") || t3(e2.object, "object") || t3(e2.graph, "graph");
  }, t2.matchTerm = a, t2.matchPattern = s, t2.matchPatternComplete = o;
}, function(e, t2, r) {
  "use strict";
  function n(e2, t3) {
    return e2.filter((e3) => e3.termType === t3);
  }
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.TERM_TYPES = ["NamedNode", "BlankNode", "Literal", "Variable", "DefaultGraph", "Quad"], t2.uniqTerms = function(e2) {
    return r(419)(e2, (e3, t3) => e3.equals(t3));
  }, t2.getTermsOfType = n, t2.getNamedNodes = function(e2) {
    return n(e2, "NamedNode");
  }, t2.getBlankNodes = function(e2) {
    return n(e2, "BlankNode");
  }, t2.getLiterals = function(e2) {
    return n(e2, "Literal");
  }, t2.getVariables = function(e2) {
    return n(e2, "Variable");
  }, t2.getDefaultGraphs = function(e2) {
    return n(e2, "DefaultGraph");
  }, t2.getQuads = function(e2) {
    return n(e2, "Quad");
  };
}, function(e, t2, r) {
  (function(t3) {
    var r2 = /^\[object .+?Constructor\]$/, n = typeof t3 == "object" && t3 && t3.Object === Object && t3, i = typeof self == "object" && self && self.Object === Object && self, a = n || i || Function("return this")();
    function s(e2, t4) {
      return !!(e2 ? e2.length : 0) && function(e3, t5, r3) {
        if (t5 != t5)
          return function(e4, t6, r4, n3) {
            var i3 = e4.length, a2 = r4 + (n3 ? 1 : -1);
            for (; n3 ? a2-- : ++a2 < i3; )
              if (t6(e4[a2], a2, e4))
                return a2;
            return -1;
          }(e3, u, r3);
        var n2 = r3 - 1, i2 = e3.length;
        for (; ++n2 < i2; )
          if (e3[n2] === t5)
            return n2;
        return -1;
      }(e2, t4, 0) > -1;
    }
    function o(e2, t4, r3) {
      for (var n2 = -1, i2 = e2 ? e2.length : 0; ++n2 < i2; )
        if (r3(t4, e2[n2]))
          return true;
      return false;
    }
    function u(e2) {
      return e2 != e2;
    }
    function c(e2, t4) {
      return e2.has(t4);
    }
    function l(e2) {
      var t4 = -1, r3 = Array(e2.size);
      return e2.forEach(function(e3) {
        r3[++t4] = e3;
      }), r3;
    }
    var h, d = Array.prototype, p = Function.prototype, f = Object.prototype, g = a["__core-js_shared__"], m = (h = /[^.]+$/.exec(g && g.keys && g.keys.IE_PROTO || "")) ? "Symbol(src)_1." + h : "", y = p.toString, b = f.hasOwnProperty, _ = f.toString, v = RegExp("^" + y.call(b).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), w = d.splice, S = D(a, "Map"), T = D(a, "Set"), E = D(Object, "create");
    function x(e2) {
      var t4 = -1, r3 = e2 ? e2.length : 0;
      for (this.clear(); ++t4 < r3; ) {
        var n2 = e2[t4];
        this.set(n2[0], n2[1]);
      }
    }
    function O(e2) {
      var t4 = -1, r3 = e2 ? e2.length : 0;
      for (this.clear(); ++t4 < r3; ) {
        var n2 = e2[t4];
        this.set(n2[0], n2[1]);
      }
    }
    function A(e2) {
      var t4 = -1, r3 = e2 ? e2.length : 0;
      for (this.clear(); ++t4 < r3; ) {
        var n2 = e2[t4];
        this.set(n2[0], n2[1]);
      }
    }
    function R(e2) {
      var t4 = -1, r3 = e2 ? e2.length : 0;
      for (this.__data__ = new A(); ++t4 < r3; )
        this.add(e2[t4]);
    }
    function I(e2, t4) {
      for (var r3, n2, i2 = e2.length; i2--; )
        if ((r3 = e2[i2][0]) === (n2 = t4) || r3 != r3 && n2 != n2)
          return i2;
      return -1;
    }
    function N(e2) {
      return !(!j(e2) || (t4 = e2, m && m in t4)) && (function(e3) {
        var t5 = j(e3) ? _.call(e3) : "";
        return t5 == "[object Function]" || t5 == "[object GeneratorFunction]";
      }(e2) || function(e3) {
        var t5 = false;
        if (e3 != null && typeof e3.toString != "function")
          try {
            t5 = !!(e3 + "");
          } catch (e4) {
          }
        return t5;
      }(e2) ? v : r2).test(function(e3) {
        if (e3 != null) {
          try {
            return y.call(e3);
          } catch (e4) {
          }
          try {
            return e3 + "";
          } catch (e4) {
          }
        }
        return "";
      }(e2));
      var t4;
    }
    x.prototype.clear = function() {
      this.__data__ = E ? E(null) : {};
    }, x.prototype.delete = function(e2) {
      return this.has(e2) && delete this.__data__[e2];
    }, x.prototype.get = function(e2) {
      var t4 = this.__data__;
      if (E) {
        var r3 = t4[e2];
        return r3 === "__lodash_hash_undefined__" ? void 0 : r3;
      }
      return b.call(t4, e2) ? t4[e2] : void 0;
    }, x.prototype.has = function(e2) {
      var t4 = this.__data__;
      return E ? t4[e2] !== void 0 : b.call(t4, e2);
    }, x.prototype.set = function(e2, t4) {
      return this.__data__[e2] = E && t4 === void 0 ? "__lodash_hash_undefined__" : t4, this;
    }, O.prototype.clear = function() {
      this.__data__ = [];
    }, O.prototype.delete = function(e2) {
      var t4 = this.__data__, r3 = I(t4, e2);
      return !(r3 < 0) && (r3 == t4.length - 1 ? t4.pop() : w.call(t4, r3, 1), true);
    }, O.prototype.get = function(e2) {
      var t4 = this.__data__, r3 = I(t4, e2);
      return r3 < 0 ? void 0 : t4[r3][1];
    }, O.prototype.has = function(e2) {
      return I(this.__data__, e2) > -1;
    }, O.prototype.set = function(e2, t4) {
      var r3 = this.__data__, n2 = I(r3, e2);
      return n2 < 0 ? r3.push([e2, t4]) : r3[n2][1] = t4, this;
    }, A.prototype.clear = function() {
      this.__data__ = {
        hash: new x(),
        map: new (S || O)(),
        string: new x()
      };
    }, A.prototype.delete = function(e2) {
      return C(this, e2).delete(e2);
    }, A.prototype.get = function(e2) {
      return C(this, e2).get(e2);
    }, A.prototype.has = function(e2) {
      return C(this, e2).has(e2);
    }, A.prototype.set = function(e2, t4) {
      return C(this, e2).set(e2, t4), this;
    }, R.prototype.add = R.prototype.push = function(e2) {
      return this.__data__.set(e2, "__lodash_hash_undefined__"), this;
    }, R.prototype.has = function(e2) {
      return this.__data__.has(e2);
    };
    var P = T && 1 / l(new T([, -0]))[1] == 1 / 0 ? function(e2) {
      return new T(e2);
    } : function() {
    };
    function C(e2, t4) {
      var r3, n2, i2 = e2.__data__;
      return ((n2 = typeof (r3 = t4)) == "string" || n2 == "number" || n2 == "symbol" || n2 == "boolean" ? r3 !== "__proto__" : r3 === null) ? i2[typeof t4 == "string" ? "string" : "hash"] : i2.map;
    }
    function D(e2, t4) {
      var r3 = function(e3, t5) {
        return e3 == null ? void 0 : e3[t5];
      }(e2, t4);
      return N(r3) ? r3 : void 0;
    }
    function j(e2) {
      var t4 = typeof e2;
      return !!e2 && (t4 == "object" || t4 == "function");
    }
    e.exports = function(e2, t4) {
      return e2 && e2.length ? function(e3, t5, r3) {
        var n2 = -1, i2 = s, a2 = e3.length, u2 = true, h2 = [], d2 = h2;
        if (r3)
          u2 = false, i2 = o;
        else if (a2 >= 200) {
          var p2 = t5 ? null : P(e3);
          if (p2)
            return l(p2);
          u2 = false, i2 = c, d2 = new R();
        } else
          d2 = t5 ? [] : h2;
        e:
          for (; ++n2 < a2; ) {
            var f2 = e3[n2], g2 = t5 ? t5(f2) : f2;
            if (f2 = r3 || f2 !== 0 ? f2 : 0, u2 && g2 == g2) {
              for (var m2 = d2.length; m2--; )
                if (d2[m2] === g2)
                  continue e;
              t5 && d2.push(g2), h2.push(f2);
            } else
              i2(d2, g2, r3) || (d2 !== h2 && d2.push(g2), h2.push(f2));
          }
        return h2;
      }(e2, void 0, t4) : [];
    };
  }).call(this, r(10));
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(421), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationBgpEmpty = void 0;
  const n = r(1), i = r(3), a = r(4), s = r(18);
  class o extends n.ActorQueryOperationTyped {
    constructor(e2) {
      super(e2, "bgp");
    }
    static getVariables(e2) {
      return s.uniqTerms(e2.map((e3) => s.getTerms(e3).filter((e4) => e4.termType === "Variable")).reduce((e3, t3) => e3.concat(t3), [])).map((e3) => a.termToString(e3));
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        if (e2.patterns.length > 0)
          throw new Error(`Actor ${this.name} can only operate on empty BGPs.`);
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        return {
          bindingsStream: new i.SingletonIterator(n.Bindings({})),
          metadata: () => Promise.resolve({
            totalItems: 1
          }),
          type: "bindings",
          variables: o.getVariables(e2.patterns),
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationBgpEmpty = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(423), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationValues = void 0;
  const n = r(1), i = r(3), a = r(4);
  class s extends n.ActorQueryOperationTyped {
    constructor(e2) {
      super(e2, "values");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = new i.ArrayIterator(e2.bindings.map((e3) => n.Bindings(e3))), s2 = e2.variables.map((e3) => a.termToString(e3)), o = e2.bindings.some((e3) => s2.some((t4) => !(t4 in e3)));
        return {
          type: "bindings",
          bindingsStream: r2,
          metadata: () => Promise.resolve({
            totalItems: e2.bindings.length
          }),
          variables: s2,
          canContainUndefs: o
        };
      });
    }
  }
  t2.ActorQueryOperationValues = s;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(425), t2), i(r(171), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.KEY_CONTEXT_STRICTVALUES = t2.KEY_CONTEXT_DOCUMENTLOADER = t2.ActorRdfParseJsonLd = void 0;
  const n = r(46), i = r(426), a = r(171);
  class s extends n.ActorRdfParseFixedMediaTypes {
    constructor(e2) {
      super(e2);
    }
    testHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        if (r2 && r2.has("@comunica/actor-rdf-parse-html-script:processing-html-script") && t3 !== "application/ld+json")
          throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");
        if (!(t3 in this.mediaTypes) && !t3.endsWith("+json"))
          throw new Error("Unrecognized media type: " + t3);
        return yield this.testHandleChecked(e2);
      });
    }
    runHandle(e2, r2, n2) {
      return __async(this, null, function* () {
        return {
          quads: i.JsonLdParser.fromHttpResponse(e2.baseIRI, r2, e2.headers, {
            documentLoader: n2 && n2.get(t2.KEY_CONTEXT_DOCUMENTLOADER) || new a.DocumentLoaderMediated(this.mediatorHttp, n2),
            strictValues: n2 && n2.get(t2.KEY_CONTEXT_STRICTVALUES)
          }).import(e2.input)
        };
      });
    }
  }
  t2.ActorRdfParseJsonLd = s, t2.KEY_CONTEXT_DOCUMENTLOADER = "@comunica/actor-rdf-parse-jsonld:documentLoader", t2.KEY_CONTEXT_STRICTVALUES = "@comunica/actor-rdf-parse-jsonld:strictValues";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(169), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerArrayValue = void 0;
  const n = r(27);
  t2.EntryHandlerArrayValue = class {
    isPropertyHandler() {
      return false;
    }
    isStackProcessor() {
      return true;
    }
    validate(e2, t3, r2, n2, i) {
      return __async(this, null, function* () {
        return this.test(e2, t3, null, r2, n2);
      });
    }
    test(e2, t3, r2, n2, i) {
      return __async(this, null, function* () {
        return typeof n2[i] == "number";
      });
    }
    handle(e2, t3, r2, i, a, s) {
      return __async(this, null, function* () {
        let o = yield t3.unaliasKeywordParent(i, s);
        if (o === "@list") {
          let r3 = null, n2 = 0;
          for (let e3 = s - 2; e3 > 0; e3--) {
            const t4 = i[e3];
            if (typeof t4 == "string" || typeof t4 == "number") {
              n2 = e3, r3 = t4;
              break;
            }
          }
          if (r3 !== null) {
            const o2 = yield t3.valueToTerm(yield e2.getContext(i), r3, a, s, i);
            for (const r4 of o2)
              yield this.handleListElement(e2, t3, r4, a, s, i.slice(0, n2), n2);
            o2.length === 0 && (yield this.handleListElement(e2, t3, null, a, s, i.slice(0, n2), n2));
          }
        } else if (o === "@set")
          yield e2.newOnValueJob(i.slice(0, -2), a, s - 2, false);
        else if (o !== void 0 && o !== "@type") {
          for (let e3 = s - 1; e3 > 0; e3--)
            if (typeof i[e3] != "number") {
              o = yield t3.unaliasKeyword(i[e3], i, e3);
              break;
            }
          const r3 = yield e2.getContext(i.slice(0, -1));
          if ("@list" in n.Util.getContextValueContainer(r3, o)) {
            e2.emittedStack[s + 1] = true;
            const r4 = yield t3.valueToTerm(yield e2.getContext(i), o, a, s, i);
            for (const n2 of r4)
              yield this.handleListElement(e2, t3, n2, a, s, i.slice(0, -1), s - 1);
            r4.length === 0 && (yield this.handleListElement(e2, t3, null, a, s, i.slice(0, -1), s - 1));
          } else
            e2.shiftStack(s, 1), yield e2.newOnValueJob(i.slice(0, -1), a, s - 1, false), e2.contextTree.removeContext(i.slice(0, -1));
        }
      });
    }
    handleListElement(e2, t3, r2, n2, i, a, s) {
      return __async(this, null, function* () {
        let o = e2.listPointerStack[i];
        if (n2 !== null && (yield t3.unaliasKeywords(n2, a, i))["@value"] !== null) {
          if (o && o.value) {
            const r3 = t3.dataFactory.blankNode();
            e2.emitQuad(i, t3.dataFactory.quad(o.value, t3.rdfRest, r3, t3.getDefaultGraph())), o.value = r3;
          } else {
            const e3 = t3.dataFactory.blankNode();
            o = {
              value: e3,
              listRootDepth: s,
              listId: e3
            };
          }
          r2 && e2.emitQuad(i, t3.dataFactory.quad(o.value, t3.rdfFirst, r2, t3.getDefaultGraph()));
        } else
          o || (o = {
            listRootDepth: s,
            listId: t3.rdfNil
          });
        e2.listPointerStack[i] = o;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ContainerHandlerIdentifier = void 0;
  t2.ContainerHandlerIdentifier = class {
    canCombineWithGraph() {
      return true;
    }
    handle(e2, t3, r2, n, i, a) {
      return __async(this, null, function* () {
        let s;
        if (t3.emittedStack[a + 1] && t3.idStack[a + 1])
          s = t3.idStack[a + 1][0];
        else {
          const e3 = (yield r2.getContainerKey(n[a], n, a)) !== null ? yield r2.resourceToTerm(yield t3.getContext(n), n[a]) : r2.dataFactory.blankNode();
          if (!e3)
            return void (t3.emittedStack[a] = false);
          s = e3, t3.idStack[a + 1] = [s];
        }
        let o = t3.idStack[a];
        o || (o = t3.idStack[a] = []), o.some((e3) => e3.equals(s)) || o.push(s), (yield t3.handlePendingContainerFlushBuffers()) || (t3.emittedStack[a] = false);
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ContainerHandlerIndex = void 0;
  const n = r(9), i = r(64), a = r(27);
  t2.ContainerHandlerIndex = class {
    canCombineWithGraph() {
      return true;
    }
    handle(e2, t3, r2, s, o, u) {
      return __async(this, null, function* () {
        if (!Array.isArray(o)) {
          const c = "@graph" in e2, l = yield t3.getContext(s), h = s[u - 1], d = a.Util.getContextValueIndex(l, h);
          if (d) {
            if (n.Util.isPotentialKeyword(d))
              throw new n.ErrorCoded("Keywords can not be used as @index value, got: " + d, n.ERROR_CODES.INVALID_TERM_DEFINITION);
            if (typeof d != "string")
              throw new n.ErrorCoded("@index values must be strings, got: " + d, n.ERROR_CODES.INVALID_TERM_DEFINITION);
            if (typeof o != "object") {
              if (a.Util.getContextValueType(l, h) !== "@id")
                throw new n.ErrorCoded("Property-based index containers require nodes as values or strings with @type: @id, but got: " + o, n.ERROR_CODES.INVALID_VALUE_OBJECT);
              const e4 = r2.resourceToTerm(l, o);
              e4 && (t3.idStack[u + 1] = [e4]);
            }
            const e3 = r2.createVocabOrBaseTerm(l, d);
            if (e3) {
              const n2 = yield r2.valueToTerm(l, d, yield r2.getContainerKey(s[u], s, u), u, s);
              if (c) {
                const i2 = yield r2.getGraphContainerValue(s, u + 1);
                for (const a2 of n2)
                  t3.emitQuad(u, r2.dataFactory.quad(i2, e3, a2, r2.getDefaultGraph()));
              } else
                for (const a2 of n2)
                  yield i.EntryHandlerPredicate.handlePredicateObject(t3, r2, s, u + 1, e3, a2, false);
            }
          }
          const p = c ? 2 : 1;
          yield t3.newOnValueJob(s.slice(0, s.length - p), o, u - p, true), yield t3.handlePendingContainerFlushBuffers();
        }
        t3.emittedStack[u] = false;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ContainerHandlerLanguage = void 0;
  const n = r(9);
  t2.ContainerHandlerLanguage = class {
    canCombineWithGraph() {
      return false;
    }
    handle(e2, t3, r2, i, a, s) {
      return __async(this, null, function* () {
        const o = yield r2.getContainerKey(i[s], i, s);
        if (Array.isArray(a))
          a = a.map((e3) => ({
            "@value": e3,
            "@language": o
          }));
        else {
          if (typeof a != "string")
            throw new n.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(a)}', but expected string`, n.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);
          a = {
            "@value": a,
            "@language": o
          };
        }
        yield t3.newOnValueJob(i.slice(0, i.length - 1), a, s - 1, true), t3.emittedStack[s] = false;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ContainerHandlerType = void 0;
  const n = r(64), i = r(27);
  t2.ContainerHandlerType = class {
    canCombineWithGraph() {
      return false;
    }
    handle(e2, t3, r2, a, s, o) {
      return __async(this, null, function* () {
        if (!Array.isArray(s)) {
          if (typeof s == "string") {
            const e4 = yield t3.getContext(a), n2 = i.Util.getContextValueType(e4, a[o - 1]) === "@vocab" ? yield r2.createVocabOrBaseTerm(e4, s) : yield r2.resourceToTerm(e4, s);
            if (n2) {
              const e5 = {
                "@id": n2.termType === "NamedNode" ? n2.value : s
              };
              yield t3.newOnValueJob(a.slice(0, a.length - 1), e5, o - 1, true), t3.idStack[o + 1] = [n2];
            }
          } else {
            const e4 = !!t3.idStack[o + 1];
            e4 || delete t3.idStack[o], yield t3.newOnValueJob(a.slice(0, a.length - 1), s, o - 1, true), e4 || (t3.idStack[o + 1] = t3.idStack[o]);
          }
          const e3 = yield r2.getContainerKey(a[o], a, o), u = e3 !== null ? r2.createVocabOrBaseTerm(yield t3.getContext(a), e3) : null;
          u && (yield n.EntryHandlerPredicate.handlePredicateObject(t3, r2, a, o + 1, r2.rdfType, u, false)), yield t3.handlePendingContainerFlushBuffers();
        }
        t3.emittedStack[o] = false;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerInvalidFallback = void 0;
  t2.EntryHandlerInvalidFallback = class {
    isPropertyHandler() {
      return false;
    }
    isStackProcessor() {
      return true;
    }
    validate(e2, t3, r2, n, i) {
      return __async(this, null, function* () {
        return false;
      });
    }
    test(e2, t3, r2, n, i) {
      return __async(this, null, function* () {
        return true;
      });
    }
    handle(e2, t3, r2, n, i, a) {
      return __async(this, null, function* () {
        e2.emittedStack[a] = false;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordContext = void 0;
  const n = r(9), i = r(28);
  class a extends i.EntryHandlerKeyword {
    constructor() {
      super("@context");
    }
    isStackProcessor() {
      return false;
    }
    handle(e2, t3, r2, i2, a2, s) {
      return __async(this, null, function* () {
        e2.streamingProfile && (e2.processingStack[s] || e2.processingType[s] || e2.idStack[s] !== void 0) && e2.emitError(new n.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)", n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));
        const o = e2.getContext(i2), u = e2.parseContext(a2, (yield o).getContextRaw());
        e2.contextTree.setContext(i2.slice(0, -1), u), e2.emitContext(a2), yield e2.validateContext(yield u);
      });
    }
  }
  t2.EntryHandlerKeywordContext = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordGraph = void 0;
  const n = r(28);
  class i extends n.EntryHandlerKeyword {
    constructor() {
      super("@graph");
    }
    handle(e2, t3, r2, n2, i2, a) {
      return __async(this, null, function* () {
        e2.graphStack[a + 1] = true;
      });
    }
  }
  t2.EntryHandlerKeywordGraph = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordId = void 0;
  const n = r(9), i = r(28);
  class a extends i.EntryHandlerKeyword {
    constructor() {
      super("@id");
    }
    isStackProcessor() {
      return false;
    }
    handle(e2, t3, r2, i2, a2, s) {
      return __async(this, null, function* () {
        typeof a2 != "string" && e2.emitError(new n.ErrorCoded(`Found illegal @id '${a2}'`, n.ERROR_CODES.INVALID_ID_VALUE));
        const o = yield t3.getPropertiesDepth(i2, s);
        e2.idStack[o] !== void 0 && (e2.idStack[o][0].listHead ? e2.emitError(new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i2[s - 1]}'`, n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)) : e2.emitError(new n.ErrorCoded(`Found duplicate @ids '${e2.idStack[o][0].value}' and '${a2}'`, n.ERROR_CODES.COLLIDING_KEYWORDS))), e2.idStack[o] = t3.nullableTermToArray(yield t3.resourceToTerm(yield e2.getContext(i2), a2));
      });
    }
  }
  t2.EntryHandlerKeywordId = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordIncluded = void 0;
  const n = r(9), i = r(28);
  class a extends i.EntryHandlerKeyword {
    constructor() {
      super("@included");
    }
    handle(e2, t3, r2, i2, a2, s) {
      return __async(this, null, function* () {
        typeof a2 != "object" && e2.emitError(new n.ErrorCoded(`Found illegal @included '${a2}'`, n.ERROR_CODES.INVALID_INCLUDED_VALUE));
        const o = yield t3.unaliasKeywords(a2, i2, s, yield e2.getContext(i2));
        "@value" in o && e2.emitError(new n.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(a2)}'`, n.ERROR_CODES.INVALID_INCLUDED_VALUE)), "@list" in o && e2.emitError(new n.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(a2)}'`, n.ERROR_CODES.INVALID_INCLUDED_VALUE)), e2.emittedStack[s] = false;
      });
    }
  }
  t2.EntryHandlerKeywordIncluded = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordNest = void 0;
  const n = r(9), i = r(28);
  class a extends i.EntryHandlerKeyword {
    constructor() {
      super("@nest");
    }
    handle(e2, t3, r2, i2, a2, s) {
      return __async(this, null, function* () {
        typeof a2 != "object" && e2.emitError(new n.ErrorCoded(`Found invalid @nest entry for '${r2}': '${a2}'`, n.ERROR_CODES.INVALID_NEST_VALUE)), "@value" in (yield t3.unaliasKeywords(a2, i2, s, yield e2.getContext(i2))) && e2.emitError(new n.ErrorCoded(`Found an invalid @value node for '${r2}'`, n.ERROR_CODES.INVALID_NEST_VALUE)), e2.emittedStack[s] = false;
      });
    }
  }
  t2.EntryHandlerKeywordNest = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordType = void 0;
  const n = r(9), i = r(27), a = r(64), s = r(28);
  class o extends s.EntryHandlerKeyword {
    constructor() {
      super("@type");
    }
    isStackProcessor() {
      return false;
    }
    handle(e2, t3, r2, s2, o2, u) {
      return __async(this, null, function* () {
        const c = s2[u], l = yield e2.getContext(s2), h = t3.rdfType, d = i.Util.isPropertyReverse(l, c, yield t3.unaliasKeywordParent(s2, u)), p = Array.isArray(o2) ? o2 : [o2];
        for (const r3 of p) {
          typeof r3 != "string" && e2.emitError(new n.ErrorCoded(`Found illegal @type '${r3}'`, n.ERROR_CODES.INVALID_TYPE_VALUE));
          const i2 = t3.createVocabOrBaseTerm(l, r3);
          i2 && (yield a.EntryHandlerPredicate.handlePredicateObject(e2, t3, s2, u, h, i2, d));
        }
        let f = Promise.resolve(l), g = false;
        for (const t4 of p.sort()) {
          const r3 = i.Util.getContextValue(l, "@context", t4, null);
          r3 && (g = true, f = f.then((t5) => e2.parseContext(r3, t5.getContextRaw())));
        }
        !e2.streamingProfile || !g && e2.streamingProfileAllowOutOfOrderPlainType || !e2.processingStack[u] && !e2.idStack[u] || e2.emitError(new n.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)", n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)), g && (f = f.then((e3) => ("@propagate" in e3.getContextRaw() || (e3.getContextRaw()["@propagate"] = false), e3.getContextRaw()["@propagate"] === false && (e3.getContextRaw()["@__propagateFallback"] = l.getContextRaw()), e3)), e2.contextTree.setContext(s2.slice(0, s2.length - 1), f)), e2.processingType[u] = true;
      });
    }
  }
  t2.EntryHandlerKeywordType = o;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordUnknownFallback = void 0;
  const n = r(9);
  class i {
    isPropertyHandler() {
      return false;
    }
    isStackProcessor() {
      return true;
    }
    validate(e2, t3, r2, i2, a) {
      return __async(this, null, function* () {
        const s = yield t3.unaliasKeyword(r2[i2], r2, i2);
        return !!n.Util.isPotentialKeyword(s) && !(!a && s === "@list");
      });
    }
    test(e2, t3, r2, i2, a) {
      return __async(this, null, function* () {
        return n.Util.isPotentialKeyword(r2);
      });
    }
    handle(e2, t3, r2, a, s, o) {
      return __async(this, null, function* () {
        const u = i.VALID_KEYWORDS_TYPES[r2];
        u !== void 0 ? u && typeof s !== u.type && e2.emitError(new n.ErrorCoded(`Invalid value type for '${r2}' with value '${s}'`, u.errorCode)) : e2.strictValues && e2.emitError(new Error(`Unknown keyword '${r2}' with value '${s}'`)), e2.emittedStack[o] = false;
      });
    }
  }
  t2.EntryHandlerKeywordUnknownFallback = i, i.VALID_KEYWORDS_TYPES = {
    "@index": {
      type: "string",
      errorCode: n.ERROR_CODES.INVALID_INDEX_VALUE
    },
    "@list": null,
    "@reverse": {
      type: "object",
      errorCode: n.ERROR_CODES.INVALID_REVERSE_VALUE
    },
    "@set": null,
    "@value": null
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.EntryHandlerKeywordValue = void 0;
  const n = r(28);
  class i extends n.EntryHandlerKeyword {
    constructor() {
      super("@value");
    }
    test(e2, t3, r2, n2, i2) {
      return __async(this, null, function* () {
        return (yield t3.unaliasKeyword(n2[i2], n2.slice(0, n2.length - 1), i2 - 1, true)) === "@value";
      });
    }
    handle(e2, t3, r2, n2, i2, a) {
      return __async(this, null, function* () {
        e2.literalStack[a] = true, delete e2.unidentifiedValuesBuffer[a], delete e2.unidentifiedGraphsBuffer[a], e2.emittedStack[a] = false;
      });
    }
  }
  t2.EntryHandlerKeywordValue = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ParsingContext = void 0;
  const n = r(9), i = r(47), a = r(442), s = r(169);
  class o {
    constructor(e2) {
      this.contextParser = new n.ContextParser({
        documentLoader: e2.documentLoader
      }), this.streamingProfile = !!e2.streamingProfile, this.baseIRI = e2.baseIRI, this.produceGeneralizedRdf = !!e2.produceGeneralizedRdf, this.allowSubjectList = !!e2.allowSubjectList, this.processingMode = e2.processingMode || s.JsonLdParser.DEFAULT_PROCESSING_MODE, this.strictValues = !!e2.strictValues, this.validateValueIndexes = !!e2.validateValueIndexes, this.defaultGraph = e2.defaultGraph, this.rdfDirection = e2.rdfDirection, this.normalizeLanguageTags = e2.normalizeLanguageTags, this.streamingProfileAllowOutOfOrderPlainType = e2.streamingProfileAllowOutOfOrderPlainType, this.topLevelProperties = false, this.activeProcessingMode = parseFloat(this.processingMode), this.processingStack = [], this.processingType = [], this.emittedStack = [], this.idStack = [], this.graphStack = [], this.graphContainerTermStack = [], this.listPointerStack = [], this.contextTree = new a.ContextTree(), this.literalStack = [], this.validationStack = [], this.unaliasedKeywordCacheStack = [], this.jsonLiteralStack = [], this.unidentifiedValuesBuffer = [], this.unidentifiedGraphsBuffer = [], this.pendingContainerFlushBuffers = [], this.parser = e2.parser, e2.context ? (this.rootContext = this.parseContext(e2.context), this.rootContext.then((e3) => this.validateContext(e3))) : this.rootContext = Promise.resolve(new n.JsonLdContextNormalized(this.baseIRI ? {
        "@base": this.baseIRI,
        "@__baseDocument": true
      } : {}));
    }
    parseContext(e2, t3, r2) {
      return __async(this, null, function* () {
        return this.contextParser.parse(e2, {
          baseIRI: this.baseIRI,
          ignoreProtection: r2,
          normalizeLanguageTags: this.normalizeLanguageTags,
          parentContext: t3,
          processingMode: this.activeProcessingMode
        });
      });
    }
    validateContext(e2) {
      const t3 = e2.getContextRaw()["@version"];
      if (t3) {
        if (this.activeProcessingMode && t3 > this.activeProcessingMode)
          throw new i.ErrorCoded(`Unsupported JSON-LD version '${t3}' under active processing mode ${this.activeProcessingMode}.`, i.ERROR_CODES.PROCESSING_MODE_CONFLICT);
        if (this.activeProcessingMode && t3 < this.activeProcessingMode)
          throw new i.ErrorCoded(`Invalid JSON-LD version ${t3} under active processing mode ${this.activeProcessingMode}.`, i.ERROR_CODES.INVALID_VERSION_VALUE);
        this.activeProcessingMode = t3;
      }
    }
    getContext(e2, t3 = 1) {
      return __async(this, null, function* () {
        const r2 = e2;
        for (; typeof e2[e2.length - 1] == "number"; )
          e2 = e2.slice(0, e2.length - 1);
        t3 && (e2 = e2.slice(0, -t3));
        const i2 = yield this.getContextPropagationAware(e2);
        let a2 = i2.context.getContextRaw();
        for (let e3 = i2.depth; e3 < r2.length - t3; e3++) {
          const i3 = r2[e3], s2 = a2[i3];
          if (s2 && typeof s2 == "object" && "@context" in s2) {
            const o2 = (yield this.parseContext(s2, a2, true)).getContextRaw(), u = !(i3 in o2) || o2[i3]["@context"]["@propagate"];
            u === false && e3 !== r2.length - 1 - t3 || (a2 = o2, delete a2["@propagate"], a2[i3] = Object.assign({}, a2[i3]), "@id" in s2 && (a2[i3]["@id"] = s2["@id"]), delete a2[i3]["@context"], u !== false && this.contextTree.setContext(r2.slice(0, e3 + t3), Promise.resolve(new n.JsonLdContextNormalized(a2))));
          }
        }
        return new n.JsonLdContextNormalized(a2);
      });
    }
    getContextPropagationAware(e2) {
      return __async(this, null, function* () {
        const t3 = e2.length;
        let r2, i2 = null;
        do {
          r2 = false, i2 && "@__propagateFallback" in i2.context.getContextRaw() ? i2.context = new n.JsonLdContextNormalized(i2.context.getContextRaw()["@__propagateFallback"]) : (i2 && (e2 = e2.slice(0, i2.depth - 1)), i2 = (yield this.contextTree.getContext(e2)) || {
            context: yield this.rootContext,
            depth: 0
          });
          const t4 = e2[e2.length - 1];
          if (t4 in i2.context.getContextRaw()) {
            const e3 = i2.context.getContextRaw()[t4];
            e3 && typeof e3 == "object" && "@context" in e3 && (r2 = true);
          }
        } while (i2.depth > 0 && i2.context.getContextRaw()["@propagate"] === false && i2.depth !== t3 && !r2);
        return i2.depth === 0 && i2.context.getContextRaw()["@propagate"] === false && i2.depth !== t3 && (i2.context = new n.JsonLdContextNormalized({})), i2;
      });
    }
    newOnValueJob(e2, t3, r2, n2) {
      return __async(this, null, function* () {
        yield this.parser.newOnValueJob(e2, t3, r2, n2);
      });
    }
    handlePendingContainerFlushBuffers() {
      return __async(this, null, function* () {
        if (this.pendingContainerFlushBuffers.length > 0) {
          for (const e2 of this.pendingContainerFlushBuffers)
            yield this.parser.flushBuffer(e2.depth, e2.keys), this.parser.flushStacks(e2.depth);
          return this.pendingContainerFlushBuffers.splice(0, this.pendingContainerFlushBuffers.length), true;
        }
        return false;
      });
    }
    emitQuad(e2, t3) {
      e2 === 1 && (this.topLevelProperties = true), this.parser.push(t3);
    }
    emitError(e2) {
      this.parser.emit("error", e2);
    }
    emitContext(e2) {
      this.parser.emit("context", e2);
    }
    getUnidentifiedValueBufferSafe(e2) {
      let t3 = this.unidentifiedValuesBuffer[e2];
      return t3 || (t3 = [], this.unidentifiedValuesBuffer[e2] = t3), t3;
    }
    getUnidentifiedGraphBufferSafe(e2) {
      let t3 = this.unidentifiedGraphsBuffer[e2];
      return t3 || (t3 = [], this.unidentifiedGraphsBuffer[e2] = t3), t3;
    }
    getExpandOptions() {
      return o.EXPAND_OPTIONS[this.activeProcessingMode];
    }
    shiftStack(e2, t3) {
      const r2 = this.idStack[e2 + t3];
      if (r2 && (this.idStack[e2] = r2, this.emittedStack[e2] = true, delete this.idStack[e2 + t3]), this.pendingContainerFlushBuffers.length)
        for (const r3 of this.pendingContainerFlushBuffers)
          r3.depth >= e2 + t3 && (r3.depth -= t3, r3.keys.splice(e2, t3));
      this.unidentifiedValuesBuffer[e2 + t3] && (this.unidentifiedValuesBuffer[e2] = this.unidentifiedValuesBuffer[e2 + t3], delete this.unidentifiedValuesBuffer[e2 + t3]);
    }
  }
  t2.ParsingContext = o, o.EXPAND_OPTIONS = {
    1: {
      allowPrefixForcing: false,
      allowPrefixNonGenDelims: false,
      allowVocabRelativeToBase: false
    },
    1.1: {
      allowPrefixForcing: true,
      allowPrefixNonGenDelims: false,
      allowVocabRelativeToBase: true
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ContextTree = void 0;
  class n {
    constructor() {
      this.subTrees = {};
    }
    getContext(e2) {
      if (e2.length > 0) {
        const [t3, ...r2] = e2, n2 = this.subTrees[t3];
        if (n2) {
          const e3 = n2.getContext(r2);
          if (e3)
            return e3.then(({
              context: e4,
              depth: t4
            }) => ({
              context: e4,
              depth: t4 + 1
            }));
        }
      }
      return this.context ? this.context.then((e3) => ({
        context: e3,
        depth: 0
      })) : null;
    }
    setContext(e2, t3) {
      if (e2.length === 0)
        this.context = t3;
      else {
        const [r2, ...i] = e2;
        let a = this.subTrees[r2];
        a || (a = this.subTrees[r2] = new n()), a.setContext(i, t3);
      }
    }
    removeContext(e2) {
      this.setContext(e2, null);
    }
  }
  t2.ContextTree = n;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(444), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveHypermediaSparql = void 0;
  const n = r(87), i = r(445);
  class a extends n.ActorRdfResolveHypermedia {
    constructor(e2) {
      super(e2, "sparql");
    }
    testMetadata(e2) {
      return __async(this, null, function* () {
        if (!(e2.forceSourceType || e2.metadata.sparqlService || this.checkUrlSuffix && e2.url.endsWith("/sparql")))
          throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);
        return {
          filterFactor: 1
        };
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        this.logInfo(e2.context, "Identified as sparql source: " + e2.url);
        return {
          source: new i.RdfSourceSparql(e2.metadata.sparqlService || e2.url, e2.context, this.mediatorHttp)
        };
      });
    }
  }
  t2.ActorRdfResolveHypermediaSparql = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RdfSourceSparql = void 0;
  const n = r(446), i = r(18), a = r(6);
  class s {
    constructor(e2, t3, r2) {
      this.url = e2, this.context = t3, this.mediatorHttp = r2;
    }
    queryBindings(e2, t3, r2) {
      return new n.AsyncIteratorJsonBindings(e2, t3, r2, this.mediatorHttp);
    }
    match(e2, t3, r2, a2) {
      const o = n.ActorRdfResolveQuadPatternSparqlJson.replaceBlankNodes(s.FACTORY.createPattern(e2, t3, r2, a2)), u = n.ActorRdfResolveQuadPatternSparqlJson.patternToCountQuery(o), c = n.ActorRdfResolveQuadPatternSparqlJson.patternToSelectQuery(o);
      new Promise((e3) => {
        const t4 = this.queryBindings(this.url, u, this.context);
        t4.on("data", (t5) => {
          const r3 = t5.get("?count");
          if (r3) {
            const t6 = Number.parseInt(r3.value, 10);
            return Number.isNaN(t6) ? e3({
              totalItems: 1 / 0
            }) : e3({
              totalItems: t6
            });
          }
          return e3({
            totalItems: 1 / 0
          });
        }), t4.on("error", () => e3({
          totalItems: 1 / 0
        })), t4.on("end", () => e3({
          totalItems: 1 / 0
        }));
      }).then((e3) => l.setProperty("metadata", e3));
      const l = this.queryBindings(this.url, c, this.context).map((e3) => i.mapTerms(o, (t4) => {
        if (t4.termType === "Variable") {
          const r3 = e3.get("?" + t4.value);
          return r3 || l.destroy(new Error(`The endpoint ${this.url} failed to provide a binding for ${t4.value}.`)), r3;
        }
        return t4;
      }));
      return l;
    }
  }
  t2.RdfSourceSparql = s, s.FACTORY = new a.Factory();
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(447), t2), i(r(172), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveQuadPatternSparqlJson = void 0;
  const n = r(21), i = r(3), a = r(5), s = r(18), o = r(6), u = r(172), c = new a.DataFactory();
  class l extends n.ActorRdfResolveQuadPattern {
    constructor(e2) {
      super(e2);
    }
    static replaceBlankNodes(e2) {
      const t3 = s.getVariables(s.getTerms(e2)).map((e3) => e3.value), r2 = {};
      let n2 = false;
      const i2 = s.mapTerms(e2, (e3) => {
        if (e3.termType === "BlankNode") {
          let i3 = e3.value;
          if (r2[i3])
            i3 = r2[i3];
          else {
            if (t3.includes(i3)) {
              let e4 = 0;
              for (; t3.includes(`${i3}${e4}`); )
                ++e4;
              i3 += e4;
            }
            r2[e3.value] = i3, t3.push(i3);
          }
          return n2 = true, c.variable(i3);
        }
        return e3;
      });
      return n2 ? i2 : e2;
    }
    static patternToBgp(e2) {
      return l.FACTORY.createBgp([l.FACTORY.createPattern(e2.subject, e2.predicate, e2.object, e2.graph)]);
    }
    static patternToSelectQuery(e2) {
      const t3 = s.getVariables(s.getTerms(e2));
      return o.toSparql(l.FACTORY.createProject(l.patternToBgp(e2), t3));
    }
    static patternToCountQuery(e2) {
      return o.toSparql(l.FACTORY.createProject(l.FACTORY.createExtend(l.FACTORY.createGroup(l.patternToBgp(e2), [], [l.FACTORY.createBoundAggregate(c.variable("var0"), "count", l.FACTORY.createWildcardExpression(), false)]), c.variable("count"), l.FACTORY.createTermExpression(c.variable("var0"))), [c.variable("count")]));
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!this.hasContextSingleSourceOfType("sparql", e2.context))
          throw new Error(this.name + " requires a single source with a 'sparql' endpoint to be present in the context.");
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = this.getContextSourceUrl(this.getContextSource(e2.context)), r2 = l.replaceBlankNodes(e2.pattern), n2 = l.patternToSelectQuery(r2), a2 = l.patternToCountQuery(r2);
        this.queryBindings(t3, a2, e2.context).then((e3) => new Promise((t4) => {
          e3.on("data", (e4) => {
            const r3 = e4.get("?count");
            if (r3) {
              const e5 = Number.parseInt(r3.value, 10);
              return Number.isNaN(e5) ? t4({
                totalItems: 1 / 0
              }) : t4({
                totalItems: e5
              });
            }
            return t4({
              totalItems: 1 / 0
            });
          }), e3.on("error", () => t4({
            totalItems: 1 / 0
          })), e3.on("end", () => t4({
            totalItems: 1 / 0
          }));
        })).then((e3) => o2.setProperty("metadata", e3)).catch((e3) => {
          o2.destroy(e3), o2.setProperty("metadata", {
            totalItems: 1 / 0
          });
        });
        const o2 = new i.TransformIterator(() => __async(this, null, function* () {
          return (yield this.queryBindings(t3, n2, e2.context)).map((e3) => s.mapTerms(r2, (r3) => {
            if (r3.termType === "Variable") {
              const n3 = e3.get("?" + r3.value);
              return n3 || o2.emit("error", new Error(`The endpoint ${t3} failed to provide a binding for ${r3.value}`)), n3;
            }
            return r3;
          }));
        }), {
          autoStart: false
        });
        return {
          data: o2
        };
      });
    }
    queryBindings(e2, t3, r2) {
      return __async(this, null, function* () {
        return new u.AsyncIteratorJsonBindings(e2, t3, r2, this.mediatorHttp);
      });
    }
  }
  t2.ActorRdfResolveQuadPatternSparqlJson = l, l.FACTORY = new o.Factory();
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(449), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationSparqlEndpoint = void 0;
  const n = r(1), i = r(21), a = r(450), s = r(3), o = r(452), u = r(4), c = r(6);
  class l extends n.ActorQueryOperation {
    constructor(e2) {
      super(e2), this.endpointFetcher = new o.SparqlEndpointFetcher({
        fetch: (e3, t3) => this.mediatorHttp.mediate({
          input: e3,
          init: t3,
          context: this.lastContext
        }),
        prefixVariableQuestionMark: true
      });
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!e2.operation)
          throw new Error("Missing field 'operation' in a query operation action.");
        const t3 = yield a.DataSourceUtils.getSingleSource(e2.context);
        if (t3 && i.getDataSourceType(t3) === "sparql")
          return {
            httpRequests: 1
          };
        throw new Error(this.name + " requires a single source with a 'sparql' endpoint to be present in the context.");
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = yield a.DataSourceUtils.getSingleSource(e2.context);
        if (!t3)
          throw new Error("Illegal state: undefined sparql endpoint source.");
        const r2 = i.getDataSourceValue(t3);
        let n2, s2, o2;
        this.lastContext = e2.context;
        try {
          n2 = c.toSparql(e2.operation), s2 = this.endpointFetcher.getQueryType(n2);
        } catch (e3) {
        }
        switch (s2 && s2 !== "UNKNOWN" || (o2 = c.Util.inScopeVariables(e2.operation), n2 = c.toSparql(l.FACTORY.createProject(e2.operation, o2)), s2 = "SELECT"), s2) {
          case "SELECT":
            return o2 || (o2 = c.Util.inScopeVariables(e2.operation)), this.executeQuery(r2, n2, false, o2);
          case "CONSTRUCT":
            return this.executeQuery(r2, n2, true);
          case "ASK":
            return {
              type: "boolean",
              booleanResult: this.endpointFetcher.fetchAsk(r2, n2)
            };
        }
      });
    }
    executeQuery(e2, t3, r2, i2) {
      const a2 = r2 ? this.endpointFetcher.fetchTriples(e2, t3) : this.endpointFetcher.fetchBindings(e2, t3);
      let o2 = 0;
      const c2 = s.wrap(a2, {
        autoStart: false,
        maxBufferSize: 1 / 0
      }).map((e3) => (o2++, r2 ? e3 : n.Bindings(e3)));
      a2.then((e3) => e3.on("end", () => c2.emit("metadata", {
        totalItems: o2
      })), () => {
      });
      const h = l.cachifyMetadata(() => new Promise((e3, t4) => {
        c2._fillBuffer(), c2.on("error", t4), c2.on("end", () => t4(new Error("No metadata was found"))), c2.on("metadata", e3);
      }));
      return r2 ? {
        type: "quads",
        quadStream: c2,
        metadata: h
      } : {
        type: "bindings",
        bindingsStream: c2,
        metadata: h,
        variables: i2.map((e3) => u.termToString(e3)),
        canContainUndefs: true
      };
    }
  }
  t2.ActorQueryOperationSparqlEndpoint = l, l.FACTORY = new c.Factory();
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(451), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.DataSourceUtils = void 0;
  const n = r(21);
  t2.DataSourceUtils = {
    getSingleSource(e2) {
      return __async(this, null, function* () {
        if (e2 && e2.has(n.KEY_CONTEXT_SOURCE))
          return e2.get(n.KEY_CONTEXT_SOURCE);
        if (e2 && e2.has(n.KEY_CONTEXT_SOURCES)) {
          const t3 = e2.get(n.KEY_CONTEXT_SOURCES);
          if (t3.length === 1)
            return t3[0];
        }
      });
    },
    getSingleSourceType(e2) {
      return __async(this, null, function* () {
        const t3 = yield this.getSingleSource(e2);
        return t3 ? n.getDataSourceType(t3) : void 0;
      });
    },
    singleSourceHasType(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.getSingleSourceType(e2);
        return !!r2 && r2 === t3;
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(453), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SparqlEndpointFetcher = void 0, r(45);
  const n = r(30), i = r(74), a = r(454), s = r(41), o = r(124), u = r(125).toNodeReadable;
  class c {
    constructor(e2) {
      e2 = e2 || {}, this.fetchCb = e2.fetch, this.sparqlJsonParser = new i.SparqlJsonParser(e2), this.sparqlXmlParser = new a.SparqlXmlParser(e2), this.sparqlParsers = {
        [c.CONTENTTYPE_SPARQL_JSON]: {
          parseBooleanStream: (e3) => this.sparqlJsonParser.parseJsonBooleanStream(e3),
          parseResultsStream: (e3) => this.sparqlJsonParser.parseJsonResultsStream(e3)
        },
        [c.CONTENTTYPE_SPARQL_XML]: {
          parseBooleanStream: (e3) => this.sparqlXmlParser.parseXmlBooleanStream(e3),
          parseResultsStream: (e3) => this.sparqlXmlParser.parseXmlResultsStream(e3)
        }
      };
    }
    getQueryType(e2) {
      const t3 = new n.Parser().parse(e2);
      return t3.type === "query" ? t3.queryType === "DESCRIBE" ? "CONSTRUCT" : t3.queryType : "UNKNOWN";
    }
    fetchBindings(e2, t3) {
      return __async(this, null, function* () {
        const [r2, n2] = yield this.fetchRawStream(e2, t3, c.CONTENTTYPE_SPARQL), i2 = this.sparqlParsers[r2];
        if (!i2)
          throw new Error("Unknown SPARQL results content type: " + r2);
        return i2.parseResultsStream(n2);
      });
    }
    fetchAsk(e2, t3) {
      return __async(this, null, function* () {
        const [r2, n2] = yield this.fetchRawStream(e2, t3, c.CONTENTTYPE_SPARQL), i2 = this.sparqlParsers[r2];
        if (!i2)
          throw new Error("Unknown SPARQL results content type: " + r2);
        return i2.parseBooleanStream(n2);
      });
    }
    fetchTriples(e2, t3) {
      return __async(this, null, function* () {
        return (yield this.fetchRawStream(e2, t3, c.CONTENTTYPE_TURTLE))[1].pipe(new s.StreamParser({
          format: c.CONTENTTYPE_TURTLE
        }));
      });
    }
    fetchRawStream(e2, t3, r2) {
      return __async(this, null, function* () {
        const n2 = e2 + "?query=" + encodeURIComponent(t3), i2 = new Headers();
        i2.append("Accept", r2);
        const a2 = yield (this.fetchCb || fetch)(n2, {
          headers: i2
        }), s2 = o(a2.body) ? a2.body : u(a2.body);
        let c2 = a2.headers.get("Content-Type") || "";
        if (c2.indexOf(";") > 0 && (c2 = c2.substr(0, c2.indexOf(";"))), !a2.ok)
          throw new Error("Invalid SPARQL endpoint (" + e2 + ") response: " + a2.statusText);
        return [c2, s2];
      });
    }
  }
  t2.SparqlEndpointFetcher = c, c.CONTENTTYPE_SPARQL_JSON = "application/sparql-results+json", c.CONTENTTYPE_SPARQL_XML = "application/sparql-results+xml", c.CONTENTTYPE_SPARQL = `${c.CONTENTTYPE_SPARQL_JSON};q=1.0,${c.CONTENTTYPE_SPARQL_XML};q=0.7`, c.CONTENTTYPE_TURTLE = "text/turtle";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(455), t2), i(r(173), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SparqlXmlParser = void 0;
  const n = r(5), i = r(173), a = r(456);
  t2.SparqlXmlParser = class {
    constructor(e2) {
      e2 = e2 || {}, this.dataFactory = e2.dataFactory || new n.DataFactory(), this.prefixVariableQuestionMark = !!e2.prefixVariableQuestionMark;
    }
    parseXmlResultsStream(e2) {
      const t3 = [];
      e2.pipe(a({
        strict: true,
        tag: "variable"
      })).on("data", (e3) => t3.push(this.dataFactory.variable(e3.attribs.name))).on("error", () => {
      }).on("finish", () => r2.emit("variables", t3));
      const r2 = e2.pipe(a({
        strict: true,
        tag: "result"
      })).on("error", (e3) => r2.emit("error", e3)).pipe(new i.SparqlXmlBindingsTransformer(this));
      return e2.on("error", (e3) => r2.emit("error", e3)), r2;
    }
    parseXmlBindings(e2) {
      const t3 = {};
      if (e2.children) {
        const r2 = Array.isArray(e2.children.binding) ? e2.children.binding : [e2.children.binding];
        for (const e3 of r2)
          if (e3.attribs && e3.children) {
            const r3 = e3.attribs.name;
            let n2 = null;
            if (e3.children.bnode)
              n2 = this.dataFactory.blankNode(e3.children.bnode.value);
            else if (e3.children.literal) {
              const t4 = e3.children.literal.value || "", r4 = e3.children.literal.attribs;
              n2 = r4 && r4["xml:lang"] ? this.dataFactory.literal(t4, r4["xml:lang"]) : r4 && r4.datatype ? this.dataFactory.literal(t4, this.dataFactory.namedNode(r4.datatype)) : this.dataFactory.literal(t4);
            } else
              n2 = this.dataFactory.namedNode(e3.children.uri.value);
            t3[this.prefixVariableQuestionMark ? "?" + r3 : r3] = n2;
          }
      }
      return t3;
    }
    parseXmlBooleanStream(e2) {
      return new Promise((t3, r2) => {
        e2.on("error", r2), e2.pipe(a({
          strict: true,
          tag: "boolean"
        })).on("error", r2).on("data", (e3) => t3(e3.value === "true")).on("end", () => r2(new Error("No valid ASK response was found.")));
      });
    }
  };
}, function(e, t2, r) {
  e.exports = r(457);
}, function(e, t2, r) {
  var n = r(2).Transform, i = r(458), a = r(131), s = r(461), o = r(462)("sax-stream");
  function u(e2) {
    if (!(this instanceof u))
      return new u(e2);
    n.call(this, {
      highWaterMark: e2.highWaterMark || 350,
      objectMode: true
    }), this.records = [], this.error = null, this.parser = this.createSaxParser(e2);
  }
  e.exports = u, i.inherits(u, n), u.prototype.createSaxParser = function(e2) {
    var t3, r2 = this, n2 = a.parser(e2.strict || false, function(e3) {
      return ["trim", "normalize", "lowercase", "xmlns", "position", "strictEntities", "noscript"].reduce(function(t4, r3) {
        return r3 in e3 && (t4[r3] = e3[r3]), t4;
      }, {
        position: false
      });
    }(e2)), i2 = function(t4) {
      return t4 === e2.tag;
    }, u2 = function(e3, t4) {
      r2.records.push(t4);
    };
    return Array.isArray(e2.tag) && (i2 = function(t4) {
      return e2.tag.indexOf(t4) !== -1;
    }, u2 = function(e3, t4) {
      r2.records.push({
        tag: e3,
        record: t4
      });
    }), n2.onopentag = function(e3) {
      o('Open "%s"', e3.name), t3 ? t3 = s.addChild(t3, e3.name) : i2(e3.name) && (t3 = {}), t3 && Object.keys(e3.attributes).length && (t3.attribs = e3.attributes);
    }, n2.onclosetag = function(e3) {
      o('Closed "%s"', e3), i2(e3) && !t3.parent ? (o("Emitting record", t3), u2(e3, t3), t3 = void 0) : t3 && (t3 = t3.parent);
    }, n2.ontext = function(e3) {
      t3 && s.addText(t3, e3);
    }, n2.oncdata = function(e3) {
      t3 && s.concatText(t3, e3);
    }, n2.onerror = function(e3) {
      r2.error = e3;
    }, n2.onend = function() {
      o("onend - flushing remaining items"), r2.pushAll(r2.callback), r2.callback = null;
    }, n2;
  }, u.prototype.pushAll = function(e2) {
    if (this.error)
      return e2(this.error), void (this.error = null);
    o("pushing %d", this.records.length), this.records.forEach(this.push.bind(this)), this.records.length = 0, e2();
  }, u.prototype._transform = function(e2, t3, r2) {
    this.parser.write(e2.toString()), this.pushAll(r2);
  }, u.prototype._flush = function(e2) {
    this.callback = e2, this.parser.close();
  };
}, function(e, t2, r) {
  (function(e2) {
    var n = Object.getOwnPropertyDescriptors || function(e3) {
      for (var t3 = Object.keys(e3), r2 = {}, n2 = 0; n2 < t3.length; n2++)
        r2[t3[n2]] = Object.getOwnPropertyDescriptor(e3, t3[n2]);
      return r2;
    }, i = /%[sdj%]/g;
    t2.format = function(e3) {
      if (!y(e3)) {
        for (var t3 = [], r2 = 0; r2 < arguments.length; r2++)
          t3.push(o(arguments[r2]));
        return t3.join(" ");
      }
      r2 = 1;
      for (var n2 = arguments, a2 = n2.length, s2 = String(e3).replace(i, function(e4) {
        if (e4 === "%%")
          return "%";
        if (r2 >= a2)
          return e4;
        switch (e4) {
          case "%s":
            return String(n2[r2++]);
          case "%d":
            return Number(n2[r2++]);
          case "%j":
            try {
              return JSON.stringify(n2[r2++]);
            } catch (e5) {
              return "[Circular]";
            }
          default:
            return e4;
        }
      }), u2 = n2[r2]; r2 < a2; u2 = n2[++r2])
        g(u2) || !v(u2) ? s2 += " " + u2 : s2 += " " + o(u2);
      return s2;
    }, t2.deprecate = function(r2, n2) {
      if (e2 !== void 0 && e2.noDeprecation === true)
        return r2;
      if (e2 === void 0)
        return function() {
          return t2.deprecate(r2, n2).apply(this, arguments);
        };
      var i2 = false;
      return function() {
        if (!i2) {
          if (e2.throwDeprecation)
            throw new Error(n2);
          e2.traceDeprecation ? console.trace(n2) : console.error(n2), i2 = true;
        }
        return r2.apply(this, arguments);
      };
    };
    var a, s = {};
    function o(e3, r2) {
      var n2 = {
        seen: [],
        stylize: c
      };
      return arguments.length >= 3 && (n2.depth = arguments[2]), arguments.length >= 4 && (n2.colors = arguments[3]), f(r2) ? n2.showHidden = r2 : r2 && t2._extend(n2, r2), b(n2.showHidden) && (n2.showHidden = false), b(n2.depth) && (n2.depth = 2), b(n2.colors) && (n2.colors = false), b(n2.customInspect) && (n2.customInspect = true), n2.colors && (n2.stylize = u), l(n2, e3, n2.depth);
    }
    function u(e3, t3) {
      var r2 = o.styles[t3];
      return r2 ? "[" + o.colors[r2][0] + "m" + e3 + "[" + o.colors[r2][1] + "m" : e3;
    }
    function c(e3, t3) {
      return e3;
    }
    function l(e3, r2, n2) {
      if (e3.customInspect && r2 && T(r2.inspect) && r2.inspect !== t2.inspect && (!r2.constructor || r2.constructor.prototype !== r2)) {
        var i2 = r2.inspect(n2, e3);
        return y(i2) || (i2 = l(e3, i2, n2)), i2;
      }
      var a2 = function(e4, t3) {
        if (b(t3))
          return e4.stylize("undefined", "undefined");
        if (y(t3)) {
          var r3 = "'" + JSON.stringify(t3).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
          return e4.stylize(r3, "string");
        }
        if (m(t3))
          return e4.stylize("" + t3, "number");
        if (f(t3))
          return e4.stylize("" + t3, "boolean");
        if (g(t3))
          return e4.stylize("null", "null");
      }(e3, r2);
      if (a2)
        return a2;
      var s2 = Object.keys(r2), o2 = function(e4) {
        var t3 = {};
        return e4.forEach(function(e5, r3) {
          t3[e5] = true;
        }), t3;
      }(s2);
      if (e3.showHidden && (s2 = Object.getOwnPropertyNames(r2)), S(r2) && (s2.indexOf("message") >= 0 || s2.indexOf("description") >= 0))
        return h(r2);
      if (s2.length === 0) {
        if (T(r2)) {
          var u2 = r2.name ? ": " + r2.name : "";
          return e3.stylize("[Function" + u2 + "]", "special");
        }
        if (_(r2))
          return e3.stylize(RegExp.prototype.toString.call(r2), "regexp");
        if (w(r2))
          return e3.stylize(Date.prototype.toString.call(r2), "date");
        if (S(r2))
          return h(r2);
      }
      var c2, v2 = "", E2 = false, x2 = ["{", "}"];
      (p(r2) && (E2 = true, x2 = ["[", "]"]), T(r2)) && (v2 = " [Function" + (r2.name ? ": " + r2.name : "") + "]");
      return _(r2) && (v2 = " " + RegExp.prototype.toString.call(r2)), w(r2) && (v2 = " " + Date.prototype.toUTCString.call(r2)), S(r2) && (v2 = " " + h(r2)), s2.length !== 0 || E2 && r2.length != 0 ? n2 < 0 ? _(r2) ? e3.stylize(RegExp.prototype.toString.call(r2), "regexp") : e3.stylize("[Object]", "special") : (e3.seen.push(r2), c2 = E2 ? function(e4, t3, r3, n3, i3) {
        for (var a3 = [], s3 = 0, o3 = t3.length; s3 < o3; ++s3)
          R(t3, String(s3)) ? a3.push(d(e4, t3, r3, n3, String(s3), true)) : a3.push("");
        return i3.forEach(function(i4) {
          i4.match(/^\d+$/) || a3.push(d(e4, t3, r3, n3, i4, true));
        }), a3;
      }(e3, r2, n2, o2, s2) : s2.map(function(t3) {
        return d(e3, r2, n2, o2, t3, E2);
      }), e3.seen.pop(), function(e4, t3, r3) {
        if (e4.reduce(function(e5, t4) {
          return t4.indexOf("\n") >= 0 && 0, e5 + t4.replace(/\u001b\[\d\d?m/g, "").length + 1;
        }, 0) > 60)
          return r3[0] + (t3 === "" ? "" : t3 + "\n ") + " " + e4.join(",\n  ") + " " + r3[1];
        return r3[0] + t3 + " " + e4.join(", ") + " " + r3[1];
      }(c2, v2, x2)) : x2[0] + v2 + x2[1];
    }
    function h(e3) {
      return "[" + Error.prototype.toString.call(e3) + "]";
    }
    function d(e3, t3, r2, n2, i2, a2) {
      var s2, o2, u2;
      if ((u2 = Object.getOwnPropertyDescriptor(t3, i2) || {
        value: t3[i2]
      }).get ? o2 = u2.set ? e3.stylize("[Getter/Setter]", "special") : e3.stylize("[Getter]", "special") : u2.set && (o2 = e3.stylize("[Setter]", "special")), R(n2, i2) || (s2 = "[" + i2 + "]"), o2 || (e3.seen.indexOf(u2.value) < 0 ? (o2 = g(r2) ? l(e3, u2.value, null) : l(e3, u2.value, r2 - 1)).indexOf("\n") > -1 && (o2 = a2 ? o2.split("\n").map(function(e4) {
        return "  " + e4;
      }).join("\n").substr(2) : "\n" + o2.split("\n").map(function(e4) {
        return "   " + e4;
      }).join("\n")) : o2 = e3.stylize("[Circular]", "special")), b(s2)) {
        if (a2 && i2.match(/^\d+$/))
          return o2;
        (s2 = JSON.stringify("" + i2)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (s2 = s2.substr(1, s2.length - 2), s2 = e3.stylize(s2, "name")) : (s2 = s2.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), s2 = e3.stylize(s2, "string"));
      }
      return s2 + ": " + o2;
    }
    function p(e3) {
      return Array.isArray(e3);
    }
    function f(e3) {
      return typeof e3 == "boolean";
    }
    function g(e3) {
      return e3 === null;
    }
    function m(e3) {
      return typeof e3 == "number";
    }
    function y(e3) {
      return typeof e3 == "string";
    }
    function b(e3) {
      return e3 === void 0;
    }
    function _(e3) {
      return v(e3) && E(e3) === "[object RegExp]";
    }
    function v(e3) {
      return typeof e3 == "object" && e3 !== null;
    }
    function w(e3) {
      return v(e3) && E(e3) === "[object Date]";
    }
    function S(e3) {
      return v(e3) && (E(e3) === "[object Error]" || e3 instanceof Error);
    }
    function T(e3) {
      return typeof e3 == "function";
    }
    function E(e3) {
      return Object.prototype.toString.call(e3);
    }
    function x(e3) {
      return e3 < 10 ? "0" + e3.toString(10) : e3.toString(10);
    }
    t2.debuglog = function(r2) {
      if (b(a) && (a = e2.env.NODE_DEBUG || ""), r2 = r2.toUpperCase(), !s[r2])
        if (new RegExp("\\b" + r2 + "\\b", "i").test(a)) {
          var n2 = e2.pid;
          s[r2] = function() {
            var e3 = t2.format.apply(t2, arguments);
            console.error("%s %d: %s", r2, n2, e3);
          };
        } else
          s[r2] = function() {
          };
      return s[r2];
    }, t2.inspect = o, o.colors = {
      bold: [1, 22],
      italic: [3, 23],
      underline: [4, 24],
      inverse: [7, 27],
      white: [37, 39],
      grey: [90, 39],
      black: [30, 39],
      blue: [34, 39],
      cyan: [36, 39],
      green: [32, 39],
      magenta: [35, 39],
      red: [31, 39],
      yellow: [33, 39]
    }, o.styles = {
      special: "cyan",
      number: "yellow",
      boolean: "yellow",
      undefined: "grey",
      null: "bold",
      string: "green",
      date: "magenta",
      regexp: "red"
    }, t2.isArray = p, t2.isBoolean = f, t2.isNull = g, t2.isNullOrUndefined = function(e3) {
      return e3 == null;
    }, t2.isNumber = m, t2.isString = y, t2.isSymbol = function(e3) {
      return typeof e3 == "symbol";
    }, t2.isUndefined = b, t2.isRegExp = _, t2.isObject = v, t2.isDate = w, t2.isError = S, t2.isFunction = T, t2.isPrimitive = function(e3) {
      return e3 === null || typeof e3 == "boolean" || typeof e3 == "number" || typeof e3 == "string" || typeof e3 == "symbol" || e3 === void 0;
    }, t2.isBuffer = r(459);
    var O = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    function A() {
      var e3 = new Date(), t3 = [x(e3.getHours()), x(e3.getMinutes()), x(e3.getSeconds())].join(":");
      return [e3.getDate(), O[e3.getMonth()], t3].join(" ");
    }
    function R(e3, t3) {
      return Object.prototype.hasOwnProperty.call(e3, t3);
    }
    t2.log = function() {
      console.log("%s - %s", A(), t2.format.apply(t2, arguments));
    }, t2.inherits = r(460), t2._extend = function(e3, t3) {
      if (!t3 || !v(t3))
        return e3;
      for (var r2 = Object.keys(t3), n2 = r2.length; n2--; )
        e3[r2[n2]] = t3[r2[n2]];
      return e3;
    };
    var I = typeof Symbol != "undefined" ? Symbol("util.promisify.custom") : void 0;
    function N(e3, t3) {
      if (!e3) {
        var r2 = new Error("Promise was rejected with a falsy value");
        r2.reason = e3, e3 = r2;
      }
      return t3(e3);
    }
    t2.promisify = function(e3) {
      if (typeof e3 != "function")
        throw new TypeError('The "original" argument must be of type Function');
      if (I && e3[I]) {
        var t3;
        if (typeof (t3 = e3[I]) != "function")
          throw new TypeError('The "util.promisify.custom" argument must be of type Function');
        return Object.defineProperty(t3, I, {
          value: t3,
          enumerable: false,
          writable: false,
          configurable: true
        }), t3;
      }
      function t3() {
        for (var t4, r2, n2 = new Promise(function(e4, n3) {
          t4 = e4, r2 = n3;
        }), i2 = [], a2 = 0; a2 < arguments.length; a2++)
          i2.push(arguments[a2]);
        i2.push(function(e4, n3) {
          e4 ? r2(e4) : t4(n3);
        });
        try {
          e3.apply(this, i2);
        } catch (e4) {
          r2(e4);
        }
        return n2;
      }
      return Object.setPrototypeOf(t3, Object.getPrototypeOf(e3)), I && Object.defineProperty(t3, I, {
        value: t3,
        enumerable: false,
        writable: false,
        configurable: true
      }), Object.defineProperties(t3, n(e3));
    }, t2.promisify.custom = I, t2.callbackify = function(t3) {
      if (typeof t3 != "function")
        throw new TypeError('The "original" argument must be of type Function');
      function r2() {
        for (var r3 = [], n2 = 0; n2 < arguments.length; n2++)
          r3.push(arguments[n2]);
        var i2 = r3.pop();
        if (typeof i2 != "function")
          throw new TypeError("The last argument must be of type Function");
        var a2 = this, s2 = function() {
          return i2.apply(a2, arguments);
        };
        t3.apply(this, r3).then(function(t4) {
          e2.nextTick(s2, null, t4);
        }, function(t4) {
          e2.nextTick(N, t4, s2);
        });
      }
      return Object.setPrototypeOf(r2, Object.getPrototypeOf(t3)), Object.defineProperties(r2, n(t3)), r2;
    };
  }).call(this, r(8));
}, function(e, t2) {
  e.exports = function(e2) {
    return e2 && typeof e2 == "object" && typeof e2.copy == "function" && typeof e2.fill == "function" && typeof e2.readUInt8 == "function";
  };
}, function(e, t2) {
  typeof Object.create == "function" ? e.exports = function(e2, t3) {
    e2.super_ = t3, e2.prototype = Object.create(t3.prototype, {
      constructor: {
        value: e2,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  } : e.exports = function(e2, t3) {
    e2.super_ = t3;
    var r = function() {
    };
    r.prototype = t3.prototype, e2.prototype = new r(), e2.prototype.constructor = e2;
  };
}, function(e, t2) {
  function r(e2, t3) {
    var n;
    if (e2 && (Array.isArray(e2) && (e2 = e2[0]), Array.isArray(t3) || (t3 = t3.split("/")), n = t3.shift(), e2.children))
      return e2 = e2.children[n], t3.length ? r(e2, t3) : e2;
  }
  t2.child = r, t2.value = function(e2, t3) {
    return (e2 = r(e2, t3)) && e2.value;
  }, t2.attr = function(e2, t3, n) {
    return (e2 = r(e2, t3)) && e2.attribs && e2.attribs[n];
  }, t2.addChild = function(e2, t3) {
    var r2 = {
      parent: e2
    };
    return e2.children = e2.children || {}, e2.children[t3] ? (Array.isArray(e2.children[t3]) || (e2.children[t3] = [e2.children[t3]]), e2.children[t3].push(r2)) : e2.children[t3] = r2, r2;
  }, t2.addText = function(e2, t3) {
    return e2.value = t3, e2;
  }, t2.concatText = function(e2, t3) {
    return e2.value = (e2.value || "") + t3, e2;
  };
}, function(e, t2, r) {
  (function(n) {
    function i() {
      var e2;
      try {
        e2 = t2.storage.debug;
      } catch (e3) {
      }
      return !e2 && n !== void 0 && "env" in n && (e2 = n.env.DEBUG), e2;
    }
    (t2 = e.exports = r(463)).log = function() {
      return typeof console == "object" && console.log && Function.prototype.apply.call(console.log, console, arguments);
    }, t2.formatArgs = function(e2) {
      var r2 = this.useColors;
      if (e2[0] = (r2 ? "%c" : "") + this.namespace + (r2 ? " %c" : " ") + e2[0] + (r2 ? "%c " : " ") + "+" + t2.humanize(this.diff), !r2)
        return;
      var n2 = "color: " + this.color;
      e2.splice(1, 0, n2, "color: inherit");
      var i2 = 0, a = 0;
      e2[0].replace(/%[a-zA-Z%]/g, function(e3) {
        e3 !== "%%" && (i2++, e3 === "%c" && (a = i2));
      }), e2.splice(a, 0, n2);
    }, t2.save = function(e2) {
      try {
        e2 == null ? t2.storage.removeItem("debug") : t2.storage.debug = e2;
      } catch (e3) {
      }
    }, t2.load = i, t2.useColors = function() {
      if (typeof window != "undefined" && window.process && window.process.type === "renderer")
        return true;
      return typeof document != "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window != "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator != "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator != "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
    }, t2.storage = typeof chrome != "undefined" && chrome.storage !== void 0 ? chrome.storage.local : function() {
      try {
        return window.localStorage;
      } catch (e2) {
      }
    }(), t2.colors = ["lightseagreen", "forestgreen", "goldenrod", "dodgerblue", "darkorchid", "crimson"], t2.formatters.j = function(e2) {
      try {
        return JSON.stringify(e2);
      } catch (e3) {
        return "[UnexpectedJSONParseError]: " + e3.message;
      }
    }, t2.enable(i());
  }).call(this, r(8));
}, function(e, t2, r) {
  var n;
  function i(e2) {
    function r2() {
      if (r2.enabled) {
        var e3 = r2, i2 = +new Date(), a = i2 - (n || i2);
        e3.diff = a, e3.prev = n, e3.curr = i2, n = i2;
        for (var s = new Array(arguments.length), o = 0; o < s.length; o++)
          s[o] = arguments[o];
        s[0] = t2.coerce(s[0]), typeof s[0] != "string" && s.unshift("%O");
        var u = 0;
        s[0] = s[0].replace(/%([a-zA-Z%])/g, function(r3, n2) {
          if (r3 === "%%")
            return r3;
          u++;
          var i3 = t2.formatters[n2];
          if (typeof i3 == "function") {
            var a2 = s[u];
            r3 = i3.call(e3, a2), s.splice(u, 1), u--;
          }
          return r3;
        }), t2.formatArgs.call(e3, s);
        var c = r2.log || t2.log || console.log.bind(console);
        c.apply(e3, s);
      }
    }
    return r2.namespace = e2, r2.enabled = t2.enabled(e2), r2.useColors = t2.useColors(), r2.color = function(e3) {
      var r3, n2 = 0;
      for (r3 in e3)
        n2 = (n2 << 5) - n2 + e3.charCodeAt(r3), n2 |= 0;
      return t2.colors[Math.abs(n2) % t2.colors.length];
    }(e2), typeof t2.init == "function" && t2.init(r2), r2;
  }
  (t2 = e.exports = i.debug = i.default = i).coerce = function(e2) {
    return e2 instanceof Error ? e2.stack || e2.message : e2;
  }, t2.disable = function() {
    t2.enable("");
  }, t2.enable = function(e2) {
    t2.save(e2), t2.names = [], t2.skips = [];
    for (var r2 = (typeof e2 == "string" ? e2 : "").split(/[\s,]+/), n2 = r2.length, i2 = 0; i2 < n2; i2++)
      r2[i2] && ((e2 = r2[i2].replace(/\*/g, ".*?"))[0] === "-" ? t2.skips.push(new RegExp("^" + e2.substr(1) + "$")) : t2.names.push(new RegExp("^" + e2 + "$")));
  }, t2.enabled = function(e2) {
    var r2, n2;
    for (r2 = 0, n2 = t2.skips.length; r2 < n2; r2++)
      if (t2.skips[r2].test(e2))
        return false;
    for (r2 = 0, n2 = t2.names.length; r2 < n2; r2++)
      if (t2.names[r2].test(e2))
        return true;
    return false;
  }, t2.humanize = r(464), t2.names = [], t2.skips = [], t2.formatters = {};
}, function(e, t2) {
  var r = 1e3, n = 6e4, i = 60 * n, a = 24 * i;
  function s(e2, t3, r2) {
    if (!(e2 < t3))
      return e2 < 1.5 * t3 ? Math.floor(e2 / t3) + " " + r2 : Math.ceil(e2 / t3) + " " + r2 + "s";
  }
  e.exports = function(e2, t3) {
    t3 = t3 || {};
    var o, u = typeof e2;
    if (u === "string" && e2.length > 0)
      return function(e3) {
        if ((e3 = String(e3)).length > 100)
          return;
        var t4 = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e3);
        if (!t4)
          return;
        var s2 = parseFloat(t4[1]);
        switch ((t4[2] || "ms").toLowerCase()) {
          case "years":
          case "year":
          case "yrs":
          case "yr":
          case "y":
            return 315576e5 * s2;
          case "days":
          case "day":
          case "d":
            return s2 * a;
          case "hours":
          case "hour":
          case "hrs":
          case "hr":
          case "h":
            return s2 * i;
          case "minutes":
          case "minute":
          case "mins":
          case "min":
          case "m":
            return s2 * n;
          case "seconds":
          case "second":
          case "secs":
          case "sec":
          case "s":
            return s2 * r;
          case "milliseconds":
          case "millisecond":
          case "msecs":
          case "msec":
          case "ms":
            return s2;
          default:
            return;
        }
      }(e2);
    if (u === "number" && isNaN(e2) === false)
      return t3.long ? s(o = e2, a, "day") || s(o, i, "hour") || s(o, n, "minute") || s(o, r, "second") || o + " ms" : function(e3) {
        if (e3 >= a)
          return Math.round(e3 / a) + "d";
        if (e3 >= i)
          return Math.round(e3 / i) + "h";
        if (e3 >= n)
          return Math.round(e3 / n) + "m";
        if (e3 >= r)
          return Math.round(e3 / r) + "s";
        return e3 + "ms";
      }(e2);
    throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e2));
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(466), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfJoinMultiSmallest = void 0;
  const n = r(1), i = r(55);
  class a extends i.ActorRdfJoin {
    constructor(e2) {
      super(e2, 3, true);
    }
    static getSmallestPatternId(e2) {
      let t3 = -1, r2 = 1 / 0;
      for (const [n2, i2] of e2.entries())
        i2 <= r2 && (r2 = i2, t3 = n2);
      return t3;
    }
    getOutput(e2) {
      return __async(this, null, function* () {
        const t3 = e2.entries.slice(), r2 = (yield Promise.all(e2.entries.map((e3) => n.getMetadata(e3)))).map((e3) => "totalItems" in e3 ? e3.totalItems : 1 / 0), i2 = a.getSmallestPatternId(r2), s = t3.splice(i2, 1)[0], o = (r2.splice(i2, 1), a.getSmallestPatternId(r2)), u = t3.splice(o, 1)[0], c = (r2.splice(o, 1), yield this.mediatorJoin.mediate({
          entries: [s, u]
        }));
        return t3.push(c), yield this.mediatorJoin.mediate({
          entries: t3
        });
      });
    }
    getIterations(e2) {
      return __async(this, null, function* () {
        return (yield Promise.all(e2.entries.map((e3) => n.getMetadata(e3)))).reduce((e3, t3) => e3 * t3.totalItems, 1);
      });
    }
  }
  t2.ActorRdfJoinMultiSmallest = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(174), t2), i(r(471), t2);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(175), t2), i(r(469), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfDereferenceMediaMappings = void 0;
  const n = r(175);
  class i extends n.ActorRdfDereference {
    constructor(e2) {
      super(e2);
    }
    getMediaTypeFromExtension(e2) {
      const t3 = e2.lastIndexOf(".");
      if (t3 >= 0) {
        const r2 = e2.slice(t3);
        return this.mediaMappings[r2.slice(1)] || "";
      }
      return "";
    }
  }
  t2.ActorRdfDereferenceMediaMappings = i;
}, function(e, t2) {
  var r = function(e2) {
    function t3() {
      this.fetch = false, this.DOMException = e2.DOMException;
    }
    return t3.prototype = e2, new t3();
  }(typeof self != "undefined" ? self : this);
  !function(e2) {
    !function(t3) {
      var r2 = "URLSearchParams" in e2, n = "Symbol" in e2 && "iterator" in Symbol, i = "FileReader" in e2 && "Blob" in e2 && function() {
        try {
          return new Blob(), true;
        } catch (e3) {
          return false;
        }
      }(), a = "FormData" in e2, s = "ArrayBuffer" in e2;
      if (s)
        var o = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], u = ArrayBuffer.isView || function(e3) {
          return e3 && o.indexOf(Object.prototype.toString.call(e3)) > -1;
        };
      function c(e3) {
        if (typeof e3 != "string" && (e3 = String(e3)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e3))
          throw new TypeError("Invalid character in header field name");
        return e3.toLowerCase();
      }
      function l(e3) {
        return typeof e3 != "string" && (e3 = String(e3)), e3;
      }
      function h(e3) {
        var t4 = {
          next: function() {
            var t5 = e3.shift();
            return {
              done: t5 === void 0,
              value: t5
            };
          }
        };
        return n && (t4[Symbol.iterator] = function() {
          return t4;
        }), t4;
      }
      function d(e3) {
        this.map = {}, e3 instanceof d ? e3.forEach(function(e4, t4) {
          this.append(t4, e4);
        }, this) : Array.isArray(e3) ? e3.forEach(function(e4) {
          this.append(e4[0], e4[1]);
        }, this) : e3 && Object.getOwnPropertyNames(e3).forEach(function(t4) {
          this.append(t4, e3[t4]);
        }, this);
      }
      function p(e3) {
        if (e3.bodyUsed)
          return Promise.reject(new TypeError("Already read"));
        e3.bodyUsed = true;
      }
      function f(e3) {
        return new Promise(function(t4, r3) {
          e3.onload = function() {
            t4(e3.result);
          }, e3.onerror = function() {
            r3(e3.error);
          };
        });
      }
      function g(e3) {
        var t4 = new FileReader(), r3 = f(t4);
        return t4.readAsArrayBuffer(e3), r3;
      }
      function m(e3) {
        if (e3.slice)
          return e3.slice(0);
        var t4 = new Uint8Array(e3.byteLength);
        return t4.set(new Uint8Array(e3)), t4.buffer;
      }
      function y() {
        return this.bodyUsed = false, this._initBody = function(e3) {
          var t4;
          this._bodyInit = e3, e3 ? typeof e3 == "string" ? this._bodyText = e3 : i && Blob.prototype.isPrototypeOf(e3) ? this._bodyBlob = e3 : a && FormData.prototype.isPrototypeOf(e3) ? this._bodyFormData = e3 : r2 && URLSearchParams.prototype.isPrototypeOf(e3) ? this._bodyText = e3.toString() : s && i && ((t4 = e3) && DataView.prototype.isPrototypeOf(t4)) ? (this._bodyArrayBuffer = m(e3.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : s && (ArrayBuffer.prototype.isPrototypeOf(e3) || u(e3)) ? this._bodyArrayBuffer = m(e3) : this._bodyText = e3 = Object.prototype.toString.call(e3) : this._bodyText = "", this.headers.get("content-type") || (typeof e3 == "string" ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : r2 && URLSearchParams.prototype.isPrototypeOf(e3) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
        }, i && (this.blob = function() {
          var e3 = p(this);
          if (e3)
            return e3;
          if (this._bodyBlob)
            return Promise.resolve(this._bodyBlob);
          if (this._bodyArrayBuffer)
            return Promise.resolve(new Blob([this._bodyArrayBuffer]));
          if (this._bodyFormData)
            throw new Error("could not read FormData body as blob");
          return Promise.resolve(new Blob([this._bodyText]));
        }, this.arrayBuffer = function() {
          return this._bodyArrayBuffer ? p(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(g);
        }), this.text = function() {
          var e3, t4, r3, n2 = p(this);
          if (n2)
            return n2;
          if (this._bodyBlob)
            return e3 = this._bodyBlob, t4 = new FileReader(), r3 = f(t4), t4.readAsText(e3), r3;
          if (this._bodyArrayBuffer)
            return Promise.resolve(function(e4) {
              for (var t5 = new Uint8Array(e4), r4 = new Array(t5.length), n3 = 0; n3 < t5.length; n3++)
                r4[n3] = String.fromCharCode(t5[n3]);
              return r4.join("");
            }(this._bodyArrayBuffer));
          if (this._bodyFormData)
            throw new Error("could not read FormData body as text");
          return Promise.resolve(this._bodyText);
        }, a && (this.formData = function() {
          return this.text().then(v);
        }), this.json = function() {
          return this.text().then(JSON.parse);
        }, this;
      }
      d.prototype.append = function(e3, t4) {
        e3 = c(e3), t4 = l(t4);
        var r3 = this.map[e3];
        this.map[e3] = r3 ? r3 + ", " + t4 : t4;
      }, d.prototype.delete = function(e3) {
        delete this.map[c(e3)];
      }, d.prototype.get = function(e3) {
        return e3 = c(e3), this.has(e3) ? this.map[e3] : null;
      }, d.prototype.has = function(e3) {
        return this.map.hasOwnProperty(c(e3));
      }, d.prototype.set = function(e3, t4) {
        this.map[c(e3)] = l(t4);
      }, d.prototype.forEach = function(e3, t4) {
        for (var r3 in this.map)
          this.map.hasOwnProperty(r3) && e3.call(t4, this.map[r3], r3, this);
      }, d.prototype.keys = function() {
        var e3 = [];
        return this.forEach(function(t4, r3) {
          e3.push(r3);
        }), h(e3);
      }, d.prototype.values = function() {
        var e3 = [];
        return this.forEach(function(t4) {
          e3.push(t4);
        }), h(e3);
      }, d.prototype.entries = function() {
        var e3 = [];
        return this.forEach(function(t4, r3) {
          e3.push([r3, t4]);
        }), h(e3);
      }, n && (d.prototype[Symbol.iterator] = d.prototype.entries);
      var b = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
      function _(e3, t4) {
        var r3, n2, i2 = (t4 = t4 || {}).body;
        if (e3 instanceof _) {
          if (e3.bodyUsed)
            throw new TypeError("Already read");
          this.url = e3.url, this.credentials = e3.credentials, t4.headers || (this.headers = new d(e3.headers)), this.method = e3.method, this.mode = e3.mode, this.signal = e3.signal, i2 || e3._bodyInit == null || (i2 = e3._bodyInit, e3.bodyUsed = true);
        } else
          this.url = String(e3);
        if (this.credentials = t4.credentials || this.credentials || "same-origin", !t4.headers && this.headers || (this.headers = new d(t4.headers)), this.method = (r3 = t4.method || this.method || "GET", n2 = r3.toUpperCase(), b.indexOf(n2) > -1 ? n2 : r3), this.mode = t4.mode || this.mode || null, this.signal = t4.signal || this.signal, this.referrer = null, (this.method === "GET" || this.method === "HEAD") && i2)
          throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(i2);
      }
      function v(e3) {
        var t4 = new FormData();
        return e3.trim().split("&").forEach(function(e4) {
          if (e4) {
            var r3 = e4.split("="), n2 = r3.shift().replace(/\+/g, " "), i2 = r3.join("=").replace(/\+/g, " ");
            t4.append(decodeURIComponent(n2), decodeURIComponent(i2));
          }
        }), t4;
      }
      function w(e3, t4) {
        t4 || (t4 = {}), this.type = "default", this.status = t4.status === void 0 ? 200 : t4.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t4 ? t4.statusText : "OK", this.headers = new d(t4.headers), this.url = t4.url || "", this._initBody(e3);
      }
      _.prototype.clone = function() {
        return new _(this, {
          body: this._bodyInit
        });
      }, y.call(_.prototype), y.call(w.prototype), w.prototype.clone = function() {
        return new w(this._bodyInit, {
          status: this.status,
          statusText: this.statusText,
          headers: new d(this.headers),
          url: this.url
        });
      }, w.error = function() {
        var e3 = new w(null, {
          status: 0,
          statusText: ""
        });
        return e3.type = "error", e3;
      };
      var S = [301, 302, 303, 307, 308];
      w.redirect = function(e3, t4) {
        if (S.indexOf(t4) === -1)
          throw new RangeError("Invalid status code");
        return new w(null, {
          status: t4,
          headers: {
            location: e3
          }
        });
      }, t3.DOMException = e2.DOMException;
      try {
        new t3.DOMException();
      } catch (e3) {
        t3.DOMException = function(e4, t4) {
          this.message = e4, this.name = t4;
          var r3 = Error(e4);
          this.stack = r3.stack;
        }, t3.DOMException.prototype = Object.create(Error.prototype), t3.DOMException.prototype.constructor = t3.DOMException;
      }
      function T(e3, r3) {
        return new Promise(function(n2, a2) {
          var s2 = new _(e3, r3);
          if (s2.signal && s2.signal.aborted)
            return a2(new t3.DOMException("Aborted", "AbortError"));
          var o2 = new XMLHttpRequest();
          function u2() {
            o2.abort();
          }
          o2.onload = function() {
            var e4, t4, r4 = {
              status: o2.status,
              statusText: o2.statusText,
              headers: (e4 = o2.getAllResponseHeaders() || "", t4 = new d(), e4.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(e5) {
                var r5 = e5.split(":"), n3 = r5.shift().trim();
                if (n3) {
                  var i3 = r5.join(":").trim();
                  t4.append(n3, i3);
                }
              }), t4)
            };
            r4.url = "responseURL" in o2 ? o2.responseURL : r4.headers.get("X-Request-URL");
            var i2 = "response" in o2 ? o2.response : o2.responseText;
            n2(new w(i2, r4));
          }, o2.onerror = function() {
            a2(new TypeError("Network request failed"));
          }, o2.ontimeout = function() {
            a2(new TypeError("Network request failed"));
          }, o2.onabort = function() {
            a2(new t3.DOMException("Aborted", "AbortError"));
          }, o2.open(s2.method, s2.url, true), s2.credentials === "include" ? o2.withCredentials = true : s2.credentials === "omit" && (o2.withCredentials = false), "responseType" in o2 && i && (o2.responseType = "blob"), s2.headers.forEach(function(e4, t4) {
            o2.setRequestHeader(t4, e4);
          }), s2.signal && (s2.signal.addEventListener("abort", u2), o2.onreadystatechange = function() {
            o2.readyState === 4 && s2.signal.removeEventListener("abort", u2);
          }), o2.send(s2._bodyInit === void 0 ? null : s2._bodyInit);
        });
      }
      T.polyfill = true, e2.fetch || (e2.fetch = T, e2.Headers = d, e2.Request = _, e2.Response = w), t3.Headers = d, t3.Request = _, t3.Response = w, t3.fetch = T;
    }({});
  }(r), delete r.fetch.polyfill, (t2 = r.fetch).default = r.fetch, t2.fetch = r.fetch, t2.Headers = r.Headers, t2.Request = r.Request, t2.Response = r.Response, e.exports = t2;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfDereferenceHttpParse = void 0;
  const n = r(174);
  class i extends n.ActorRdfDereferenceHttpParseBase {
    constructor(e2) {
      super(e2);
    }
    getMaxAcceptHeaderLength() {
      return this.maxAcceptHeaderLengthBrowser;
    }
  }
  t2.ActorRdfDereferenceHttpParse = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(473), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfParseHtmlScript = void 0;
  const n = r(81), i = r(474);
  class a extends n.ActorRdfParseHtml {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        const t3 = (yield this.mediatorRdfParseMediatypes.mediate({
          context: e2.context,
          mediaTypes: true
        })).mediaTypes;
        return {
          htmlParseListener: new i.HtmlScriptListener(this.mediatorRdfParseHandle, e2.emit, e2.error, e2.end, t3, e2.context, e2.baseIRI, e2.headers)
        };
      });
    }
  }
  t2.ActorRdfParseHtmlScript = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.HtmlScriptListener = void 0;
  const n = r(2), i = r(0), a = r(13);
  class s {
    constructor(e2, t3, r2, n2, a2, s2, o, u) {
      var c;
      this.textChunksJsonLd = [], this.endBarrier = 1, this.passedScripts = 0, this.isFinalJsonLdProcessing = false, this.mediatorRdfParseHandle = e2, this.cbQuad = t3, this.cbError = r2, this.cbEnd = n2, this.supportedTypes = a2, this.context = (s2 || i.ActionContext({})).set("@comunica/actor-rdf-parse-html-script:processing-html-script", true), this.baseIRI = o, this.headers = u, this.onlyFirstScript = (c = s2 && s2.get("extractAllScripts") === false) !== null && c !== void 0 && c;
      const l = this.baseIRI.indexOf("#");
      this.targetScriptId = l > 0 ? this.baseIRI.slice(l + 1, this.baseIRI.length) : null;
    }
    static newErrorCoded(e2, t3) {
      const r2 = new Error(e2);
      return r2.code = t3, r2;
    }
    onEnd() {
      --this.endBarrier == 0 && (this.textChunksJsonLd.length > 0 ? (this.handleMediaType = "application/ld+json", this.textChunks = this.textChunksJsonLd, this.textChunks.push("]"), this.textChunksJsonLd = [], this.isFinalJsonLdProcessing = true, this.endBarrier++, this.onTagClose()) : (this.passedScripts === 0 && this.targetScriptId && this.cbError(s.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`, "loading document failed")), this.cbEnd()), this.isFinalJsonLdProcessing = false);
    }
    onTagClose() {
      if (this.handleMediaType)
        if (this.requiresCustomJsonLdHandling(this.handleMediaType) && !this.isFinalJsonLdProcessing)
          this.handleMediaType = void 0, this.textChunks = void 0, this.onEnd();
        else {
          const e2 = new n.Readable({
            objectMode: true
          });
          e2._read = () => {
          };
          const t3 = this.textChunks, r2 = {
            context: this.context,
            handle: {
              baseIRI: this.baseIRI,
              input: e2,
              headers: this.headers
            },
            handleMediaType: this.handleMediaType
          };
          this.mediatorRdfParseHandle.mediate(r2).then(({
            handle: r3
          }) => {
            r3.quads.on("error", (e3) => this.cbError(s.newErrorCoded(e3.message, "invalid script element"))).on("data", this.cbQuad).on("end", () => this.onEnd());
            for (const r4 of t3)
              e2.push(r4);
            e2.push(null);
          }).catch((e3) => {
            this.targetScriptId ? this.cbError(s.newErrorCoded(e3.message, "loading document failed")) : this.onEnd();
          }), this.handleMediaType = void 0, this.textChunks = void 0;
        }
    }
    onTagOpen(e2, t3) {
      e2 === "base" && t3.href && (this.baseIRI = a.resolve(t3.href, this.baseIRI)), e2 !== "script" || this.targetScriptId && t3.id !== this.targetScriptId ? this.handleMediaType = void 0 : this.supportedTypes[t3.type] ? this.onlyFirstScript && this.passedScripts > 0 ? this.handleMediaType = void 0 : (this.passedScripts++, this.handleMediaType = t3.type, this.endBarrier++, this.requiresCustomJsonLdHandling(this.handleMediaType) ? (this.textChunks = this.textChunksJsonLd, this.textChunks.push(this.textChunks.length === 0 ? "[" : ",")) : this.textChunks = []) : this.targetScriptId && this.cbError(s.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`, "loading document failed"));
    }
    onText(e2) {
      this.handleMediaType && this.textChunks.push(e2);
    }
    requiresCustomJsonLdHandling(e2) {
      return !this.onlyFirstScript && !this.targetScriptId && e2 === "application/ld+json";
    }
  }
  t2.HtmlScriptListener = s;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(476), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorSparqlSerializeRdf = void 0;
  const n = r(15);
  class i extends n.ActorSparqlSerialize {
    constructor(e2) {
      super(e2);
    }
    testHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        if (e2.type !== "quads")
          throw new Error(`Actor ${this.name} can only handle quad streams`);
        const {
          mediaTypes: n2
        } = yield this.mediatorMediaTypeCombiner.mediate({
          context: r2,
          mediaTypes: true
        });
        if (!(t3 in n2))
          throw new Error(`Actor ${this.name} can not handle media type ${t3}. All available types: ${Object.keys(n2)}`);
        return true;
      });
    }
    runHandle(e2, t3, r2) {
      return __async(this, null, function* () {
        return (yield this.mediatorRdfSerialize.mediate({
          context: r2,
          handle: e2,
          handleMediaType: t3
        })).handle;
      });
    }
    testMediaType(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    getMediaTypes(e2) {
      return __async(this, null, function* () {
        return (yield this.mediatorMediaTypeCombiner.mediate({
          context: e2,
          mediaTypes: true
        })).mediaTypes;
      });
    }
    testMediaTypeFormats(e2) {
      return __async(this, null, function* () {
        return true;
      });
    }
    getMediaTypeFormats(e2) {
      return __async(this, null, function* () {
        return (yield this.mediatorMediaTypeFormatCombiner.mediate({
          context: e2,
          mediaTypeFormats: true
        })).mediaTypeFormats;
      });
    }
  }
  t2.ActorSparqlSerializeRdf = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(478), t2), i(r(176), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveQuadPatternFederated = void 0;
  const n = r(21), i = r(176);
  class a extends n.ActorRdfResolveQuadPatternSource {
    constructor(e2) {
      super(e2), this.emptyPatterns = new Map();
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!this.getContextSources(e2.context))
          throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);
        return true;
      });
    }
    getSource(e2) {
      return __async(this, null, function* () {
        return new i.FederatedQuadSource(this.mediatorResolveQuadPattern, e2, this.emptyPatterns, this.skipEmptyPatterns);
      });
    }
  }
  t2.ActorRdfResolveQuadPatternFederated = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.BlankNodeScoped = void 0;
  t2.BlankNodeScoped = class {
    constructor(e2, t3) {
      this.termType = "BlankNode", this.value = e2, this.skolemized = t3;
    }
    equals(e2) {
      return !!e2 && e2.termType === "BlankNode" && e2.value === this.value;
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(481), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationQuadpattern = void 0;
  const n = r(1), i = r(3), a = r(4), s = r(18);
  class o extends n.ActorQueryOperationTyped {
    constructor(e2) {
      super(e2, "pattern");
    }
    static isTermVariable(e2) {
      return e2.termType === "Variable";
    }
    static getVariables(e2) {
      return s.uniqTerms(s.getTerms(e2).filter(o.isTermVariable)).map((e3) => a.termToString(e3));
    }
    static getDuplicateElementLinks(e2) {
      const t3 = {};
      let r2 = false;
      for (const n3 of s.QUAD_TERM_NAMES)
        if (e2[n3].termType === "Variable") {
          const i2 = a.termToString(e2[n3]), s2 = (t3[i2] || (t3[i2] = [])).push(n3);
          r2 = r2 || s2 > 1;
        }
      if (!r2)
        return;
      const n2 = {};
      for (const e3 in t3) {
        const r3 = t3[e3], i2 = r3.slice(1);
        i2.length > 0 && (n2[r3[0]] = i2);
      }
      return n2;
    }
    static getMetadata(e2) {
      return () => new Promise((t3, r2) => {
        e2.getProperty("metadata", (e3) => t3(e3)), e2.on("error", r2);
      });
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        e2.context && (t3 = t3 ? t3.merge(e2.context) : e2.context);
        const r2 = yield this.mediatorResolveQuadPattern.mediate({
          pattern: e2,
          context: t3
        }), u = o.getVariables(e2), c = o.getMetadata(r2.data), l = s.reduceTerms(e2, (e3, t4, r3) => (o.isTermVariable(t4) && (e3[r3] = a.termToString(t4)), e3), {}), h = (e3, t4, r3) => {
          const n2 = l[r3];
          return n2 && (e3[n2] = t4), e3;
        };
        return {
          type: "bindings",
          bindingsStream: new i.TransformIterator(() => __async(this, null, function* () {
            let t4 = r2.data;
            const i2 = o.getDuplicateElementLinks(e2);
            return i2 && (t4 = t4.filter((e3) => {
              for (const t5 of s.TRIPLE_TERM_NAMES)
                for (const r3 of i2[t5] || [])
                  if (!e3[t5].equals(e3[r3]))
                    return false;
              return true;
            })), t4.map((e3) => n.Bindings(s.reduceTerms(e3, h, {})), {
              autoStart: true,
              maxBufferSize: 128
            });
          }), {
            autoStart: false
          }),
          variables: u,
          metadata: c,
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationQuadpattern = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(483), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveHypermediaQpf = void 0;
  const n = r(87), i = r(484);
  class a extends n.ActorRdfResolveHypermedia {
    constructor(e2) {
      super(e2, "qpf");
    }
    testMetadata(e2) {
      return __async(this, null, function* () {
        const {
          searchForm: t3
        } = this.createSource(e2.metadata, e2.context);
        if (e2.handledDatasets && e2.handledDatasets[t3.dataset])
          throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);
        return {
          filterFactor: 1
        };
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        this.logInfo(e2.context, "Identified as qpf source: " + e2.url);
        const t3 = this.createSource(e2.metadata, e2.context, e2.quads);
        return {
          source: t3,
          dataset: t3.searchForm.dataset
        };
      });
    }
    createSource(e2, t3, r2) {
      return new i.RdfSourceQpf(this.mediatorMetadata, this.mediatorMetadataExtract, this.mediatorRdfDereference, this.subjectUri, this.predicateUri, this.objectUri, this.graphUri, e2, t3, r2);
    }
  }
  t2.ActorRdfResolveHypermediaQpf = a;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.RdfSourceQpf = void 0;
  const n = r(3), i = r(5), a = r(4), s = r(18), o = new i.DataFactory();
  t2.RdfSourceQpf = class {
    constructor(e2, t3, r2, i2, a2, s2, u, c, l, h) {
      this.mediatorMetadata = e2, this.mediatorMetadataExtract = t3, this.mediatorRdfDereference = r2, this.subjectUri = i2, this.predicateUri = a2, this.objectUri = s2, this.graphUri = u, this.context = l, this.cachedQuads = {};
      const d = this.getSearchForm(c);
      if (!d)
        throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");
      if (this.searchForm = d, this.defaultGraph = c.defaultGraph ? o.namedNode(c.defaultGraph) : void 0, h) {
        let e3 = n.wrap(h);
        this.defaultGraph && (e3 = this.reverseMapQuadsToDefaultGraph(e3)), e3.setProperty("metadata", c), this.cacheQuads(e3, o.variable(""), o.variable(""), o.variable(""), o.variable(""));
      }
    }
    getSearchForm(e2) {
      if (!e2.searchForms || !e2.searchForms.values)
        return;
      const {
        searchForms: t3
      } = e2;
      for (const e3 of t3.values) {
        if (this.graphUri && this.subjectUri in e3.mappings && this.predicateUri in e3.mappings && this.objectUri in e3.mappings && this.graphUri in e3.mappings && Object.keys(e3.mappings).length === 4)
          return e3;
        if (this.subjectUri in e3.mappings && this.predicateUri in e3.mappings && this.objectUri in e3.mappings && Object.keys(e3.mappings).length === 3)
          return e3;
      }
    }
    createFragmentUri(e2, t3, r2, n2, i2) {
      const s2 = {}, o2 = [{
        uri: this.subjectUri,
        term: t3
      }, {
        uri: this.predicateUri,
        term: r2
      }, {
        uri: this.objectUri,
        term: n2
      }, {
        uri: this.graphUri,
        term: i2
      }];
      for (const e3 of o2)
        e3.uri && e3.term.termType !== "Variable" && (s2[e3.uri] = a.termToString(e3.term));
      return e2.getUri(s2);
    }
    match(e2, t3, r2, i2) {
      let a2 = false;
      this.defaultGraph && i2.termType === "DefaultGraph" && (a2 = true, i2 = this.defaultGraph);
      const u = this.getCachedQuads(e2, t3, r2, i2);
      if (u)
        return u;
      const c = new n.TransformIterator(() => __async(this, null, function* () {
        let u2 = this.createFragmentUri(this.searchForm, e2, t3, r2, i2);
        const l = yield this.mediatorRdfDereference.mediate({
          context: this.context,
          url: u2
        });
        u2 = l.url;
        const h = yield this.mediatorMetadata.mediate({
          context: this.context,
          url: u2,
          quads: l.quads,
          triples: l.triples
        }), d = this.mediatorMetadataExtract.mediate({
          context: this.context,
          url: u2,
          metadata: h.metadata
        }).then(({
          metadata: e3
        }) => c.setProperty("metadata", e3)), p = o.defaultGraph();
        let f = n.wrap(h.data).transform({
          filter: (n2) => !!s.matchPattern(n2, e2, t3, r2, i2) || a2 && s.matchPattern(n2, e2, t3, r2, p)
        });
        return (a2 || i2.termType === "Variable") && (f = this.reverseMapQuadsToDefaultGraph(f)), f.on("error", () => {
        }), yield d, f;
      }), {
        autoStart: false
      });
      return this.cacheQuads(c, e2, t3, r2, i2), this.getCachedQuads(e2, t3, r2, i2);
    }
    reverseMapQuadsToDefaultGraph(e2) {
      const t3 = o.defaultGraph();
      return e2.map((e3) => s.mapTerms(e3, (e4, r2) => r2 === "graph" && e4.equals(this.defaultGraph) ? t3 : e4));
    }
    getPatternId(e2, t3, r2, n2) {
      return JSON.stringify({
        s: e2.termType === "Variable" ? "" : a.termToString(e2),
        p: t3.termType === "Variable" ? "" : a.termToString(t3),
        o: r2.termType === "Variable" ? "" : a.termToString(r2),
        g: n2.termType === "Variable" ? "" : a.termToString(n2)
      });
    }
    cacheQuads(e2, t3, r2, n2, i2) {
      const a2 = this.getPatternId(t3, r2, n2, i2);
      this.cachedQuads[a2] = e2.clone();
    }
    getCachedQuads(e2, t3, r2, n2) {
      const i2 = this.getPatternId(e2, t3, r2, n2), a2 = this.cachedQuads[i2];
      if (a2)
        return a2.clone();
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(486), t2), i(r(179), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorRdfResolveQuadPatternHypermedia = void 0;
  const n = r(21), i = r(178), a = r(179);
  class s extends n.ActorRdfResolveQuadPatternSource {
    constructor(e2) {
      super(e2), this.cache = this.cacheSize ? new i({
        max: this.cacheSize
      }) : void 0;
      const t3 = this.cache;
      t3 && this.httpInvalidator.addInvalidateListener(({
        url: e3
      }) => e3 ? t3.del(e3) : t3.reset());
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!this.hasContextSingleSource(e2.context))
          throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a single source.`);
        return true;
      });
    }
    getSource(e2, t3) {
      const r2 = this.getContextSource(e2), i2 = this.getContextSourceUrl(r2);
      let s2;
      return this.cache && this.cache.has(i2) ? s2 = this.cache.get(i2) : (s2 = new a.MediatedQuadSource(this.cacheSize, e2, i2, n.getDataSourceType(r2), {
        mediatorMetadata: this.mediatorMetadata,
        mediatorMetadataExtract: this.mediatorMetadataExtract,
        mediatorRdfDereference: this.mediatorRdfDereference,
        mediatorRdfResolveHypermedia: this.mediatorRdfResolveHypermedia,
        mediatorRdfResolveHypermediaLinks: this.mediatorRdfResolveHypermediaLinks
      }), this.cache && this.cache.set(i2, s2)), Promise.resolve(s2);
    }
  }
  t2.ActorRdfResolveQuadPatternHypermedia = s;
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    var t3 = this;
    if (t3 instanceof n || (t3 = new n()), t3.tail = null, t3.head = null, t3.length = 0, e2 && typeof e2.forEach == "function")
      e2.forEach(function(e3) {
        t3.push(e3);
      });
    else if (arguments.length > 0)
      for (var r2 = 0, i2 = arguments.length; r2 < i2; r2++)
        t3.push(arguments[r2]);
    return t3;
  }
  function i(e2, t3, r2) {
    var n2 = t3 === e2.head ? new o(r2, null, t3, e2) : new o(r2, t3, t3.next, e2);
    return n2.next === null && (e2.tail = n2), n2.prev === null && (e2.head = n2), e2.length++, n2;
  }
  function a(e2, t3) {
    e2.tail = new o(t3, e2.tail, null, e2), e2.head || (e2.head = e2.tail), e2.length++;
  }
  function s(e2, t3) {
    e2.head = new o(t3, null, e2.head, e2), e2.tail || (e2.tail = e2.head), e2.length++;
  }
  function o(e2, t3, r2, n2) {
    if (!(this instanceof o))
      return new o(e2, t3, r2, n2);
    this.list = n2, this.value = e2, t3 ? (t3.next = this, this.prev = t3) : this.prev = null, r2 ? (r2.prev = this, this.next = r2) : this.next = null;
  }
  e.exports = n, n.Node = o, n.create = n, n.prototype.removeNode = function(e2) {
    if (e2.list !== this)
      throw new Error("removing node which does not belong to this list");
    var t3 = e2.next, r2 = e2.prev;
    return t3 && (t3.prev = r2), r2 && (r2.next = t3), e2 === this.head && (this.head = t3), e2 === this.tail && (this.tail = r2), e2.list.length--, e2.next = null, e2.prev = null, e2.list = null, t3;
  }, n.prototype.unshiftNode = function(e2) {
    if (e2 !== this.head) {
      e2.list && e2.list.removeNode(e2);
      var t3 = this.head;
      e2.list = this, e2.next = t3, t3 && (t3.prev = e2), this.head = e2, this.tail || (this.tail = e2), this.length++;
    }
  }, n.prototype.pushNode = function(e2) {
    if (e2 !== this.tail) {
      e2.list && e2.list.removeNode(e2);
      var t3 = this.tail;
      e2.list = this, e2.prev = t3, t3 && (t3.next = e2), this.tail = e2, this.head || (this.head = e2), this.length++;
    }
  }, n.prototype.push = function() {
    for (var e2 = 0, t3 = arguments.length; e2 < t3; e2++)
      a(this, arguments[e2]);
    return this.length;
  }, n.prototype.unshift = function() {
    for (var e2 = 0, t3 = arguments.length; e2 < t3; e2++)
      s(this, arguments[e2]);
    return this.length;
  }, n.prototype.pop = function() {
    if (this.tail) {
      var e2 = this.tail.value;
      return this.tail = this.tail.prev, this.tail ? this.tail.next = null : this.head = null, this.length--, e2;
    }
  }, n.prototype.shift = function() {
    if (this.head) {
      var e2 = this.head.value;
      return this.head = this.head.next, this.head ? this.head.prev = null : this.tail = null, this.length--, e2;
    }
  }, n.prototype.forEach = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = this.head, n2 = 0; r2 !== null; n2++)
      e2.call(t3, r2.value, n2, this), r2 = r2.next;
  }, n.prototype.forEachReverse = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = this.tail, n2 = this.length - 1; r2 !== null; n2--)
      e2.call(t3, r2.value, n2, this), r2 = r2.prev;
  }, n.prototype.get = function(e2) {
    for (var t3 = 0, r2 = this.head; r2 !== null && t3 < e2; t3++)
      r2 = r2.next;
    if (t3 === e2 && r2 !== null)
      return r2.value;
  }, n.prototype.getReverse = function(e2) {
    for (var t3 = 0, r2 = this.tail; r2 !== null && t3 < e2; t3++)
      r2 = r2.prev;
    if (t3 === e2 && r2 !== null)
      return r2.value;
  }, n.prototype.map = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = new n(), i2 = this.head; i2 !== null; )
      r2.push(e2.call(t3, i2.value, this)), i2 = i2.next;
    return r2;
  }, n.prototype.mapReverse = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = new n(), i2 = this.tail; i2 !== null; )
      r2.push(e2.call(t3, i2.value, this)), i2 = i2.prev;
    return r2;
  }, n.prototype.reduce = function(e2, t3) {
    var r2, n2 = this.head;
    if (arguments.length > 1)
      r2 = t3;
    else {
      if (!this.head)
        throw new TypeError("Reduce of empty list with no initial value");
      n2 = this.head.next, r2 = this.head.value;
    }
    for (var i2 = 0; n2 !== null; i2++)
      r2 = e2(r2, n2.value, i2), n2 = n2.next;
    return r2;
  }, n.prototype.reduceReverse = function(e2, t3) {
    var r2, n2 = this.tail;
    if (arguments.length > 1)
      r2 = t3;
    else {
      if (!this.tail)
        throw new TypeError("Reduce of empty list with no initial value");
      n2 = this.tail.prev, r2 = this.tail.value;
    }
    for (var i2 = this.length - 1; n2 !== null; i2--)
      r2 = e2(r2, n2.value, i2), n2 = n2.prev;
    return r2;
  }, n.prototype.toArray = function() {
    for (var e2 = new Array(this.length), t3 = 0, r2 = this.head; r2 !== null; t3++)
      e2[t3] = r2.value, r2 = r2.next;
    return e2;
  }, n.prototype.toArrayReverse = function() {
    for (var e2 = new Array(this.length), t3 = 0, r2 = this.tail; r2 !== null; t3++)
      e2[t3] = r2.value, r2 = r2.prev;
    return e2;
  }, n.prototype.slice = function(e2, t3) {
    (t3 = t3 || this.length) < 0 && (t3 += this.length), (e2 = e2 || 0) < 0 && (e2 += this.length);
    var r2 = new n();
    if (t3 < e2 || t3 < 0)
      return r2;
    e2 < 0 && (e2 = 0), t3 > this.length && (t3 = this.length);
    for (var i2 = 0, a2 = this.head; a2 !== null && i2 < e2; i2++)
      a2 = a2.next;
    for (; a2 !== null && i2 < t3; i2++, a2 = a2.next)
      r2.push(a2.value);
    return r2;
  }, n.prototype.sliceReverse = function(e2, t3) {
    (t3 = t3 || this.length) < 0 && (t3 += this.length), (e2 = e2 || 0) < 0 && (e2 += this.length);
    var r2 = new n();
    if (t3 < e2 || t3 < 0)
      return r2;
    e2 < 0 && (e2 = 0), t3 > this.length && (t3 = this.length);
    for (var i2 = this.length, a2 = this.tail; a2 !== null && i2 > t3; i2--)
      a2 = a2.prev;
    for (; a2 !== null && i2 > e2; i2--, a2 = a2.prev)
      r2.push(a2.value);
    return r2;
  }, n.prototype.splice = function(e2, t3, ...r2) {
    e2 > this.length && (e2 = this.length - 1), e2 < 0 && (e2 = this.length + e2);
    for (var n2 = 0, a2 = this.head; a2 !== null && n2 < e2; n2++)
      a2 = a2.next;
    var s2 = [];
    for (n2 = 0; a2 && n2 < t3; n2++)
      s2.push(a2.value), a2 = this.removeNode(a2);
    a2 === null && (a2 = this.tail), a2 !== this.head && a2 !== this.tail && (a2 = a2.prev);
    for (n2 = 0; n2 < r2.length; n2++)
      a2 = i(this, a2, r2[n2]);
    return s2;
  }, n.prototype.reverse = function() {
    for (var e2 = this.head, t3 = this.tail, r2 = e2; r2 !== null; r2 = r2.prev) {
      var n2 = r2.prev;
      r2.prev = r2.next, r2.next = n2;
    }
    return this.head = t3, this.tail = e2, this;
  };
  try {
    r(488)(n);
  } catch (e2) {
  }
}, function(e, t2, r) {
  "use strict";
  e.exports = function(e2) {
    e2.prototype[Symbol.iterator] = function* () {
      for (let e3 = this.head; e3; e3 = e3.next)
        yield e3.value;
    };
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.MediatedLinkedRdfSourcesAsyncRdfIterator = void 0;
  const n = r(490);
  class i extends n.LinkedRdfSourcesAsyncRdfIterator {
    constructor(e2, t3, r2, n2, i2, a, s, o, u) {
      super(e2, n2, i2, a, s, o), this.context = t3, this.forceSourceType = r2, this.mediatorRdfDereference = u.mediatorRdfDereference, this.mediatorMetadata = u.mediatorMetadata, this.mediatorMetadataExtract = u.mediatorMetadataExtract, this.mediatorRdfResolveHypermedia = u.mediatorRdfResolveHypermedia, this.mediatorRdfResolveHypermediaLinks = u.mediatorRdfResolveHypermediaLinks, this.handledUrls = {};
    }
    getSourceLinks(e2) {
      return __async(this, null, function* () {
        try {
          const {
            urls: t3
          } = yield this.mediatorRdfResolveHypermediaLinks.mediate({
            context: this.context,
            metadata: e2
          });
          return t3.map((e3) => typeof e3 == "string" ? {
            url: e3
          } : e3).filter((e3) => !this.handledUrls[e3.url] && (this.handledUrls[e3.url] = true, true));
        } catch (e3) {
          return [];
        }
      });
    }
    getSource(e2, t3) {
      return __async(this, null, function* () {
        let r2 = this.context;
        e2.context && (r2 = r2.merge(e2.context));
        let n2 = e2.url;
        const i2 = yield this.mediatorRdfDereference.mediate({
          context: r2,
          url: n2
        });
        n2 = i2.url;
        const a = yield this.mediatorMetadata.mediate({
          context: r2,
          url: n2,
          quads: i2.quads,
          triples: i2.triples
        }), {
          metadata: s
        } = yield this.mediatorMetadataExtract.mediate({
          context: r2,
          url: n2,
          metadata: a.metadata
        });
        e2.transform && (a.data = yield e2.transform(a.data));
        const {
          source: o,
          dataset: u
        } = yield this.mediatorRdfResolveHypermedia.mediate({
          context: r2,
          forceSourceType: this.forceSourceType,
          handledDatasets: t3,
          metadata: s,
          quads: a.data,
          url: n2
        });
        return u && (t3[u] = true), {
          source: o,
          metadata: s,
          handledDatasets: t3
        };
      });
    }
  }
  t2.MediatedLinkedRdfSourcesAsyncRdfIterator = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.LinkedRdfSourcesAsyncRdfIterator = void 0;
  const n = r(3), i = r(178);
  class a extends n.BufferedIterator {
    constructor(e2, t3, r2, n2, i2, a2) {
      super({
        autoStart: true
      }), this.started = false, this.cacheSize = e2, this.subject = t3, this.predicate = r2, this.object = n2, this.graph = i2, this.linkQueue = [], this.firstUrl = a2;
    }
    setSourcesState(e2) {
      e2 ? this.sourcesState = e2 : (this.sourcesState = {
        sources: new i({
          max: this.cacheSize
        })
      }, this.getSourceCached({
        url: this.firstUrl
      }, {}).catch((e3) => this.destroy(e3)));
    }
    getSourceCached(e2, t3) {
      let r2 = this.sourcesState.sources.get(e2.url);
      return r2 || (r2 = this.getSource(e2, t3), this.sourcesState.sources.set(e2.url, r2), r2);
    }
    _read(e2, t3) {
      if (this.started)
        if (this.currentIterator) {
          for (; e2 > 0; ) {
            const t4 = this.currentIterator.read();
            if (t4 === null)
              break;
            e2--, this._push(t4);
          }
          t3();
        } else
          t3();
      else
        this.started = true, this.sourcesState || this.setSourcesState(), this.getSourceCached({
          url: this.firstUrl
        }, {}).then((e3) => {
          this.setCurrentIterator(e3, true), t3();
        }).catch((e3) => {
          t3();
        });
    }
    setCurrentIterator(e2, t3) {
      this.currentIterator = e2.source.match(this.subject, this.predicate, this.object, this.graph);
      let r2 = false;
      this.currentIterator._destination = this, this.currentIterator.on("error", (e3) => this.destroy(e3)), this.currentIterator.on("readable", () => this._fillBuffer()), this.currentIterator.on("end", () => {
        this.currentIterator = void 0, r2 && this.handleNextUrl(e2);
      }), this.currentIterator.getProperty("metadata", (n2) => {
        e2.metadata = Object.assign(Object.assign({}, e2.metadata), n2), t3 && this.setProperty("metadata", e2.metadata), this.getSourceLinks(e2.metadata).then((e3) => Promise.all(e3)).then((t4) => __async(this, null, function* () {
          for (const e3 of t4)
            this.linkQueue.push(e3);
          r2 = true, this.currentIterator || this.handleNextUrl(e2);
        })).catch((e3) => this.destroy(e3));
      });
    }
    handleNextUrl(e2) {
      this.linkQueue.length === 0 ? this.close() : (this.getSourceCached(this.linkQueue[0], e2.handledDatasets).then((e3) => this.setCurrentIterator(e3, false)).catch((e3) => this.destroy(e3)), this.linkQueue.shift());
    }
  }
  t2.LinkedRdfSourcesAsyncRdfIterator = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(492), t2), i(r(493), t2), i(r(494), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.KEY_CONTEXT_HTTPPROXYHANDLER = t2.ActorHttpProxy = void 0;
  const n = r(36);
  class i extends n.ActorHttp {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        if (!e2.context)
          throw new Error(`Actor ${this.name} could not find a context.`);
        const r2 = e2.context.get(t2.KEY_CONTEXT_HTTPPROXYHANDLER);
        if (!r2)
          throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);
        if (!(yield r2.getProxy(e2)))
          throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);
        return {
          time: 1 / 0
        };
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        var r2;
        const n2 = typeof e2.input == "string" ? e2.input : e2.input.url;
        if (!e2.context)
          throw new Error("Illegal state: missing context");
        const i2 = e2.context.get(t2.KEY_CONTEXT_HTTPPROXYHANDLER), a = yield this.mediatorHttp.mediate(Object.assign(Object.assign({}, yield i2.getProxy(e2)), {
          context: e2.context.delete(t2.KEY_CONTEXT_HTTPPROXYHANDLER)
        }));
        return a.url = (r2 = a.headers.get("x-final-url")) !== null && r2 !== void 0 ? r2 : n2, a;
      });
    }
  }
  t2.ActorHttpProxy = i, t2.KEY_CONTEXT_HTTPPROXYHANDLER = "@comunica/actor-http-proxy:httpProxyHandler";
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  });
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ProxyHandlerStatic = void 0;
  t2.ProxyHandlerStatic = class {
    constructor(e2) {
      this.prefixUrl = e2;
    }
    getProxy(e2) {
      return __async(this, null, function* () {
        return {
          init: e2.init,
          input: this.modifyInput(e2.input)
        };
      });
    }
    modifyInput(e2) {
      return typeof e2 == "string" ? this.prefixUrl + e2 : new Request(this.prefixUrl + e2.url, e2);
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(496), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.KEY_CONTEXT_DATETIME = t2.ActorHttpMemento = void 0;
  const n = r(36);
  r(45);
  const i = r(127);
  class a extends n.ActorHttp {
    constructor(e2) {
      super(e2);
    }
    test(e2) {
      return __async(this, null, function* () {
        var r2;
        if (!(e2.context && e2.context.has(t2.KEY_CONTEXT_DATETIME) && e2.context.get(t2.KEY_CONTEXT_DATETIME) instanceof Date))
          throw new Error("This actor only handles request with a set valid datetime.");
        if (e2.init && new Headers((r2 = e2.init.headers) !== null && r2 !== void 0 ? r2 : {}).has("accept-datetime"))
          throw new Error("The request already has a set datetime.");
        return true;
      });
    }
    run(e2) {
      return __async(this, null, function* () {
        var r2;
        const n2 = e2.init ? Object.assign({}, e2.init) : {}, a2 = n2.headers = new Headers((r2 = n2.headers) !== null && r2 !== void 0 ? r2 : {});
        e2.context && e2.context.has(t2.KEY_CONTEXT_DATETIME) && a2.append("accept-datetime", e2.context.get(t2.KEY_CONTEXT_DATETIME).toUTCString());
        const s = {
          context: e2.context,
          input: e2.input,
          init: n2
        }, o = yield this.mediatorHttp.mediate(s);
        if (a2.has("accept-datetime") && o.headers && !o.headers.has("memento-datetime")) {
          const t3 = o.headers.has("link") && i(o.headers.get("link"));
          if (t3 && t3.timegate) {
            o.body && (yield o.body.cancel());
            const r3 = {
              context: e2.context,
              input: t3.timegate.url,
              init: n2
            };
            return this.mediatorHttp.mediate(r3);
          }
        }
        return o;
      });
    }
  }
  t2.ActorHttpMemento = a, t2.KEY_CONTEXT_DATETIME = "@comunica/actor-http-memento:datetime";
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(498), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationAsk = void 0;
  const n = r(1);
  class i extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "ask");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.mediatorQueryOperation.mediate({
          operation: e2.input,
          context: t3
        }), i2 = n.ActorQueryOperation.getSafeBindings(r2);
        return {
          type: "boolean",
          booleanResult: new Promise((e3, t4) => {
            i2.bindingsStream.once("data", () => {
              e3(true), i2.bindingsStream.close();
            }), i2.bindingsStream.on("end", () => e3(false)), i2.bindingsStream.on("error", t4);
          })
        };
      });
    }
  }
  t2.ActorQueryOperationAsk = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(500), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationService = void 0;
  const n = r(1), i = r(21), a = r(0), s = r(3);
  class o extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "service");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        if (e2.name.termType !== "NamedNode")
          throw new Error(`${this.name} can only query services by IRI, while a ${e2.name.termType} was given.`);
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.name.value;
        let o2 = (t3 = t3 || a.ActionContext({})).delete(i.KEY_CONTEXT_SOURCE).delete(i.KEY_CONTEXT_SOURCES);
        const u = this.forceSparqlEndpoint ? "sparql" : "auto";
        let c;
        o2 = o2.set(i.KEY_CONTEXT_SOURCES, [{
          type: u,
          value: r2
        }]);
        try {
          c = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            operation: e2.input,
            context: o2
          }));
        } catch (t4) {
          if (!e2.silent)
            throw t4;
          c = {
            bindingsStream: new s.SingletonIterator(n.Bindings({})),
            type: "bindings",
            variables: [],
            canContainUndefs: false
          };
        }
        return c;
      });
    }
  }
  t2.ActorQueryOperationService = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(502), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationSlice = void 0;
  const n = r(1);
  class i extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "slice");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.mediatorQueryOperation.mediate({
          operation: e2.input,
          context: t3
        }), n2 = this.sliceMetadata(r2, e2);
        if (r2.type === "bindings") {
          const t4 = r2;
          return {
            type: "bindings",
            bindingsStream: this.sliceStream(t4.bindingsStream, e2),
            metadata: n2,
            variables: t4.variables,
            canContainUndefs: t4.canContainUndefs
          };
        }
        if (r2.type === "quads") {
          const t4 = r2;
          return {
            type: "quads",
            quadStream: this.sliceStream(t4.quadStream, e2),
            metadata: n2
          };
        }
        throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${r2.type}'`);
      });
    }
    sliceStream(e2, t3) {
      const r2 = Boolean(t3.length) || t3.length === 0, {
        start: n2
      } = t3, i2 = r2 ? t3.start + t3.length - 1 : 1 / 0;
      return e2.transform({
        offset: n2,
        limit: Math.max(i2 - n2 + 1, 0),
        autoStart: false
      });
    }
    sliceMetadata(e2, t3) {
      const r2 = Boolean(t3.length) || t3.length === 0;
      return e2.metadata ? () => e2.metadata().then((e3) => {
        let {
          totalItems: n2
        } = e3;
        return Number.isFinite(n2) && (n2 = Math.max(0, n2 - t3.start), r2 && (n2 = Math.min(n2, t3.length))), Object.assign(Object.assign({}, e3), {
          totalItems: n2
        });
      }) : void 0;
    }
  }
  t2.ActorQueryOperationSlice = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(504), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationBgpSingle = void 0;
  const n = r(1);
  class i extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "bgp");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        if (e2.patterns.length !== 1)
          throw new Error(`Actor ${this.name} can only operate on BGPs with a single pattern.`);
        return true;
      });
    }
    runOperation(e2, t3) {
      if (t3 && t3.has(n.KEY_CONTEXT_BGP_PARENTMETADATA)) {
        const e3 = t3.get(n.KEY_CONTEXT_BGP_PARENTMETADATA);
        t3 = (t3 = t3.delete(n.KEY_CONTEXT_BGP_PARENTMETADATA)).set(n.KEY_CONTEXT_PATTERN_PARENTMETADATA, e3[0]);
      }
      return this.mediatorQueryOperation.mediate({
        operation: e2.patterns[0],
        context: t3
      });
    }
  }
  t2.ActorQueryOperationBgpSingle = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(506), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationBgpLeftDeepSmallest = void 0;
  const n = r(1), i = r(3), a = r(4), s = r(18);
  class o extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "bgp");
    }
    static createLeftDeepStream(e2, t3, r2) {
      return new i.MultiTransformIterator(e2, {
        autoStart: false,
        multiTransform(e3) {
          const n2 = (t4) => t4.merge(e3);
          return new i.TransformIterator(() => __async(this, null, function* () {
            return (yield r2(o.materializePatterns(t3, e3))).transform({
              map: n2
            });
          }), {
            maxBufferSize: 128
          });
        }
      });
    }
    static getCombinedVariables(e2) {
      const t3 = [].concat.apply([], e2.map((e3) => e3.variables));
      return [...new Set(t3)];
    }
    static getSmallestPatternId(e2) {
      let t3 = -1, r2 = 1 / 0;
      for (const [n2, i2] of e2.entries()) {
        const e3 = o.getTotalItems(i2);
        e3 <= r2 && (r2 = e3, t3 = n2);
      }
      return t3;
    }
    static estimateCombinedTotalItems(e2, t3) {
      const r2 = o.getTotalItems(e2);
      return t3.map((e3) => r2 * o.getTotalItems(e3)).reduce((e3, t4) => e3 + t4, 0);
    }
    static getTotalItems(e2) {
      const {
        totalItems: t3
      } = e2 != null ? e2 : {};
      return t3 || t3 === 0 ? t3 : 1 / 0;
    }
    static materializePatterns(e2, t3) {
      return e2.map((e3) => o.materializePattern(e3, t3));
    }
    static materializePattern(e2, t3) {
      const r2 = {};
      return {
        pattern: Object.assign(s.mapTerms(e2, (e3, n2) => {
          const i2 = o.materializeTerm(e3, t3);
          return e3 !== i2 && (r2[n2] = e3), i2;
        }), {
          type: "pattern",
          context: e2.context
        }),
        bindings: r2
      };
    }
    static materializeTerm(e2, t3) {
      if (e2.termType === "Variable") {
        const r2 = t3.get(a.termToString(e2));
        if (r2)
          return r2;
      }
      return e2;
    }
    static hasOneEmptyPatternOutput(e2) {
      return __async(this, null, function* () {
        for (const t3 of e2)
          if (t3.metadata) {
            const e3 = yield t3.metadata();
            if (!o.getTotalItems(e3))
              return true;
          }
        return false;
      });
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        if (e2.patterns.length < 2)
          throw new Error(`Actor ${this.name} can only operate on BGPs with at least two patterns.`);
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = (yield Promise.all(e2.patterns.map((e3) => this.mediatorQueryOperation.mediate({
          operation: e3,
          context: t3
        })))).map(n.ActorQueryOperation.getSafeBindings);
        if (yield o.hasOneEmptyPatternOutput(r2))
          return {
            bindingsStream: new i.ArrayIterator([], {
              autoStart: false
            }),
            metadata: () => Promise.resolve({
              totalItems: 0
            }),
            type: "bindings",
            variables: o.getCombinedVariables(r2),
            canContainUndefs: false
          };
        const a2 = yield Promise.all(r2.map((e3) => __async(this, null, function* () {
          return e3.metadata ? yield e3.metadata() : {};
        }))), s2 = o.getSmallestPatternId(a2);
        this.logDebug(t3, "Smallest pattern: ", () => ({
          pattern: e2.patterns[s2],
          metadata: a2[s2]
        }));
        for (const [e3, t4] of r2.entries())
          e3 !== s2 && t4.bindingsStream.close();
        const u = r2.slice(s2)[0], c = e2.patterns.concat([]);
        c.splice(s2, 1);
        const l = a2.concat([]);
        l.splice(s2, 1), n.ActorQueryOperation.validateQueryOutput(u, "bindings");
        const h = t3 && t3.set(n.KEY_CONTEXT_BGP_CURRENTMETADATA, a2[s2]).set(n.KEY_CONTEXT_BGP_PARENTMETADATA, l);
        return {
          type: "bindings",
          bindingsStream: o.createLeftDeepStream(u.bindingsStream, c, (e3) => __async(this, null, function* () {
            const t4 = {
              type: "bgp",
              patterns: e3.map((e4) => e4.pattern)
            }, r3 = e3.map((e4) => e4.bindings);
            return n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
              operation: t4,
              context: h.set(n.KEY_CONTEXT_BGP_PATTERNBINDINGS, r3)
            })).bindingsStream;
          })),
          variables: o.getCombinedVariables(r2),
          metadata: () => Promise.resolve({
            totalItems: o.estimateCombinedTotalItems(a2[s2], a2.slice(s2))
          }),
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationBgpLeftDeepSmallest = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(508), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationConstruct = void 0;
  const n = r(1), i = r(18), a = r(509);
  class s extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "construct");
    }
    static getVariables(e2) {
      return i.uniqTerms([].concat.apply([], e2.map((e3) => i.getVariables(i.getTerms(e3)))));
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = s.getVariables(e2.template), i2 = {
          type: "project",
          input: e2.input,
          variables: r2
        }, o = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: i2,
          context: t3
        })), u = new a.BindingsToQuadsIterator(e2.template, o.bindingsStream);
        let c;
        return o.metadata && (c = () => o.metadata().then((t4) => t4.totalItems ? Object.assign(Object.assign({}, t4), {
          totalItems: t4.totalItems * e2.template.length
        }) : t4)), {
          metadata: c,
          quadStream: u,
          type: "quads"
        };
      });
    }
  }
  t2.ActorQueryOperationConstruct = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.BindingsToQuadsIterator = void 0;
  const n = r(3), i = r(5), a = r(18), s = new i.DataFactory();
  class o extends n.MultiTransformIterator {
    constructor(e2, t3) {
      super(t3, {
        autoStart: false
      }), this.template = e2, this.blankNodeCounter = 0;
    }
    static bindTerm(e2, t3) {
      return t3.termType === "Variable" ? e2.get("?" + t3.value) : t3;
    }
    static bindQuad(e2, t3) {
      try {
        return a.mapTerms(t3, (t4) => {
          const r2 = o.bindTerm(e2, t4);
          if (!r2)
            throw new Error("Unbound term");
          return r2;
        });
      } catch (e3) {
      }
    }
    static localizeBlankNode(e2, t3) {
      return t3.termType === "BlankNode" ? s.blankNode(`${t3.value}${e2}`) : t3;
    }
    static localizeQuad(e2, t3) {
      return a.mapTerms(t3, (t4) => o.localizeBlankNode(e2, t4));
    }
    static bindTemplate(e2, t3, r2) {
      return t3.map((t4) => o.bindQuad.bind(null, e2)(t4)).filter(Boolean).map(o.localizeQuad.bind(null, r2));
    }
    _createTransformer(e2) {
      return new n.ArrayIterator(o.bindTemplate(e2, this.template, this.blankNodeCounter++));
    }
  }
  t2.BindingsToQuadsIterator = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(511), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationDescribeSubject = void 0;
  const n = r(180), i = r(1), a = r(3), s = new (r(5)).DataFactory();
  class o extends i.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "describe");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.terms.filter((e3) => e3.termType !== "Variable").map((e3) => {
          const t4 = [s.quad(e3, s.variable("__predicate"), s.variable("__object"))];
          t4.forEach((e4) => e4.type = "pattern");
          return {
            input: {
              type: "bgp",
              patterns: t4
            },
            template: t4,
            type: "construct"
          };
        });
        if (r2.length !== e2.terms.length) {
          let t4 = [];
          e2.terms.filter((e3) => e3.termType === "Variable").forEach((e3, r3) => {
            const n2 = [s.quad(e3, s.variable("__predicate" + r3), s.variable("__object" + r3))];
            n2.forEach((e4) => e4.type = "pattern"), t4 = t4.concat(n2);
          }), r2.push({
            input: {
              type: "join",
              left: e2.input,
              right: {
                type: "bgp",
                patterns: t4
              }
            },
            template: t4,
            type: "construct"
          });
        }
        const o2 = (yield Promise.all(r2.map((e3) => this.mediatorQueryOperation.mediate({
          operation: e3,
          context: t3
        })))).map(i.ActorQueryOperation.getSafeQuads);
        return {
          type: "quads",
          quadStream: new a.UnionIterator(o2.map((e3) => e3.quadStream), {
            autoStart: false
          }),
          metadata: () => Promise.all(o2.map((e3) => i.getMetadata(e3))).then(n.ActorQueryOperationUnion.unionMetadata)
        };
      });
    }
  }
  t2.ActorQueryOperationDescribeSubject = o;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationUnion = void 0;
  const n = r(1), i = r(3);
  class a extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "union");
    }
    static unionVariables(e2) {
      const t3 = e2.reduce((e3, t4) => [...e3, ...t4], []);
      return [...new Set(t3)];
    }
    static unionMetadata(e2) {
      let t3 = 0;
      for (const r2 of e2) {
        if (!r2.totalItems || !Number.isFinite(r2.totalItems)) {
          t3 = 1 / 0;
          break;
        }
        t3 += r2.totalItems;
      }
      return {
        totalItems: t3
      };
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = (yield Promise.all([this.mediatorQueryOperation.mediate({
          operation: e2.left,
          context: t3
        }), this.mediatorQueryOperation.mediate({
          operation: e2.right,
          context: t3
        })])).map(n.ActorQueryOperation.getSafeBindings);
        return {
          type: "bindings",
          bindingsStream: new i.UnionIterator(r2.map((e3) => e3.bindingsStream), {
            autoStart: false
          }),
          metadata: r2[0].metadata && r2[1].metadata ? () => Promise.all([r2[0].metadata(), r2[1].metadata()]).then(a.unionMetadata) : void 0,
          variables: a.unionVariables(r2.map((e3) => e3.variables)),
          canContainUndefs: r2.reduce((e3, t4) => e3 || t4.canContainUndefs, false)
        };
      });
    }
  }
  t2.ActorQueryOperationUnion = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(514), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationDistinctHash = void 0;
  const n = r(88);
  class i extends n.AbstractBindingsHash {
    constructor(e2) {
      super(e2, "distinct");
    }
    newHashFilter() {
      const e2 = {};
      return (t3) => {
        const r2 = n.AbstractFilterHash.hash(t3);
        return !(r2 in e2) && (e2[r2] = true);
      };
    }
  }
  t2.ActorQueryOperationDistinctHash = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.AbstractBindingsHash = void 0;
  const n = r(1);
  class i extends n.ActorQueryOperationTypedMediated {
    constructor(e2, t3) {
      super(e2, t3);
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: e2.input,
          context: t3
        }));
        return {
          type: "bindings",
          bindingsStream: r2.bindingsStream.filter(this.newHashFilter()),
          metadata: r2.metadata,
          variables: r2.variables,
          canContainUndefs: r2.canContainUndefs
        };
      });
    }
  }
  t2.AbstractBindingsHash = i;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.AbstractFilterHash = void 0;
  const n = r(1), i = r(181), a = r(4);
  class s extends n.ActorQueryOperationTypedMediated {
    constructor(e2, t3) {
      super(e2, t3);
    }
    static hash(e2) {
      return i.sha1().update(r(84)(e2.map((e3) => a.termToString(e3)))).digest("hex");
    }
  }
  t2.AbstractFilterHash = s;
}, function(e, t2, r) {
  "use strict";
  t2.sha1 = r(518), t2.sha224 = r(519), t2.sha256 = r(183), t2.sha384 = r(520), t2.sha512 = r(184);
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(50), a = r(182), s = n.rotl32, o = n.sum32, u = n.sum32_5, c = a.ft_1, l = i.BlockHash, h = [1518500249, 1859775393, 2400959708, 3395469782];
  function d() {
    if (!(this instanceof d))
      return new d();
    l.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80);
  }
  n.inherits(d, l), e.exports = d, d.blockSize = 512, d.outSize = 160, d.hmacStrength = 80, d.padLength = 64, d.prototype._update = function(e2, t3) {
    for (var r2 = this.W, n2 = 0; n2 < 16; n2++)
      r2[n2] = e2[t3 + n2];
    for (; n2 < r2.length; n2++)
      r2[n2] = s(r2[n2 - 3] ^ r2[n2 - 8] ^ r2[n2 - 14] ^ r2[n2 - 16], 1);
    var i2 = this.h[0], a2 = this.h[1], l2 = this.h[2], d2 = this.h[3], p = this.h[4];
    for (n2 = 0; n2 < r2.length; n2++) {
      var f = ~~(n2 / 20), g = u(s(i2, 5), c(f, a2, l2, d2), p, r2[n2], h[f]);
      p = d2, d2 = l2, l2 = s(a2, 30), a2 = i2, i2 = g;
    }
    this.h[0] = o(this.h[0], i2), this.h[1] = o(this.h[1], a2), this.h[2] = o(this.h[2], l2), this.h[3] = o(this.h[3], d2), this.h[4] = o(this.h[4], p);
  }, d.prototype._digest = function(e2) {
    return e2 === "hex" ? n.toHex32(this.h, "big") : n.split32(this.h, "big");
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(183);
  function a() {
    if (!(this instanceof a))
      return new a();
    i.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
  }
  n.inherits(a, i), e.exports = a, a.blockSize = 512, a.outSize = 224, a.hmacStrength = 192, a.padLength = 64, a.prototype._digest = function(e2) {
    return e2 === "hex" ? n.toHex32(this.h.slice(0, 7), "big") : n.split32(this.h.slice(0, 7), "big");
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(184);
  function a() {
    if (!(this instanceof a))
      return new a();
    i.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428];
  }
  n.inherits(a, i), e.exports = a, a.blockSize = 1024, a.outSize = 384, a.hmacStrength = 192, a.padLength = 128, a.prototype._digest = function(e2) {
    return e2 === "hex" ? n.toHex32(this.h.slice(0, 12), "big") : n.split32(this.h.slice(0, 12), "big");
  };
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(50), a = n.rotl32, s = n.sum32, o = n.sum32_3, u = n.sum32_4, c = i.BlockHash;
  function l() {
    if (!(this instanceof l))
      return new l();
    c.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
  }
  function h(e2, t3, r2, n2) {
    return e2 <= 15 ? t3 ^ r2 ^ n2 : e2 <= 31 ? t3 & r2 | ~t3 & n2 : e2 <= 47 ? (t3 | ~r2) ^ n2 : e2 <= 63 ? t3 & n2 | r2 & ~n2 : t3 ^ (r2 | ~n2);
  }
  function d(e2) {
    return e2 <= 15 ? 0 : e2 <= 31 ? 1518500249 : e2 <= 47 ? 1859775393 : e2 <= 63 ? 2400959708 : 2840853838;
  }
  function p(e2) {
    return e2 <= 15 ? 1352829926 : e2 <= 31 ? 1548603684 : e2 <= 47 ? 1836072691 : e2 <= 63 ? 2053994217 : 0;
  }
  n.inherits(l, c), t2.ripemd160 = l, l.blockSize = 512, l.outSize = 160, l.hmacStrength = 192, l.padLength = 64, l.prototype._update = function(e2, t3) {
    for (var r2 = this.h[0], n2 = this.h[1], i2 = this.h[2], c2 = this.h[3], l2 = this.h[4], b = r2, _ = n2, v = i2, w = c2, S = l2, T = 0; T < 80; T++) {
      var E = s(a(u(r2, h(T, n2, i2, c2), e2[f[T] + t3], d(T)), m[T]), l2);
      r2 = l2, l2 = c2, c2 = a(i2, 10), i2 = n2, n2 = E, E = s(a(u(b, h(79 - T, _, v, w), e2[g[T] + t3], p(T)), y[T]), S), b = S, S = w, w = a(v, 10), v = _, _ = E;
    }
    E = o(this.h[1], i2, w), this.h[1] = o(this.h[2], c2, S), this.h[2] = o(this.h[3], l2, b), this.h[3] = o(this.h[4], r2, _), this.h[4] = o(this.h[0], n2, v), this.h[0] = E;
  }, l.prototype._digest = function(e2) {
    return e2 === "hex" ? n.toHex32(this.h, "little") : n.split32(this.h, "little");
  };
  var f = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13], g = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11], m = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6], y = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11];
}, function(e, t2, r) {
  "use strict";
  var n = r(19), i = r(49);
  function a(e2, t3, r2) {
    if (!(this instanceof a))
      return new a(e2, t3, r2);
    this.Hash = e2, this.blockSize = e2.blockSize / 8, this.outSize = e2.outSize / 8, this.inner = null, this.outer = null, this._init(n.toArray(t3, r2));
  }
  e.exports = a, a.prototype._init = function(e2) {
    e2.length > this.blockSize && (e2 = new this.Hash().update(e2).digest()), i(e2.length <= this.blockSize);
    for (var t3 = e2.length; t3 < this.blockSize; t3++)
      e2.push(0);
    for (t3 = 0; t3 < e2.length; t3++)
      e2[t3] ^= 54;
    for (this.inner = new this.Hash().update(e2), t3 = 0; t3 < e2.length; t3++)
      e2[t3] ^= 106;
    this.outer = new this.Hash().update(e2);
  }, a.prototype.update = function(e2, t3) {
    return this.inner.update(e2, t3), this;
  }, a.prototype.digest = function(e2) {
    return this.outer.update(this.inner.digest()), this.outer.digest(e2);
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(524), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationExtend = void 0;
  const n = r(1), i = r(4), a = r(51);
  class s extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "extend");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        Boolean(new a.AsyncEvaluator(e2.expression));
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const {
          expression: r2,
          input: s2,
          variable: o
        } = e2, u = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: s2,
          context: t3
        })), c = i.termToString(o), l = Object.assign({}, n.ActorQueryOperation.getExpressionContext(t3, this.mediatorQueryOperation)), h = new a.AsyncEvaluator(r2, l), d = u.variables.concat([c]), p = u.bindingsStream.transform({
          transform: (e3, r3, n2) => __async(this, null, function* () {
            try {
              const t4 = yield h.evaluate(e3);
              n2(e3.set(c, t4));
            } catch (r4) {
              a.isExpressionError(r4) ? (n2(e3), this.logWarn(t3, `Expression error for extend operation with bindings '${JSON.stringify(e3)}'`)) : p.emit("error", r4);
            }
            r3();
          })
        }), {
          metadata: f
        } = u;
        return {
          type: "bindings",
          bindingsStream: p,
          metadata: f,
          variables: d,
          canContainUndefs: u.canContainUndefs
        };
      });
    }
  }
  t2.ActorQueryOperationExtend = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.AsyncEvaluator = void 0;
  const n = r(39), i = r(185);
  t2.AsyncEvaluator = class {
    constructor(e2, t3 = {}) {
      this.algExpr = e2, this.config = t3, this.expr = n.transformAlgebra(e2);
      const r2 = {
        now: t3.now || new Date(Date.now()),
        baseIRI: t3.baseIRI || void 0,
        exists: t3.exists,
        aggregate: t3.aggregate
      };
      this.evaluator = new i.AsyncRecursiveEvaluator(r2);
    }
    evaluate(e2) {
      return __async(this, null, function* () {
        return (yield this.evaluator.evaluate(this.expr, e2)).toRDF();
      });
    }
    evaluateAsEBV(e2) {
      return __async(this, null, function* () {
        return (yield this.evaluator.evaluate(this.expr, e2)).coerceEBV();
      });
    }
    evaluateAsInternal(e2) {
      return __async(this, null, function* () {
        return yield this.evaluator.evaluate(this.expr, e2);
      });
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Variable = void 0;
  const n = r(24);
  t2.Variable = class {
    constructor(e2) {
      this.expressionType = n.ExpressionType.Variable, this.name = e2;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.NonLexicalLiteral = t2.StringLiteral = t2.LangStringLiteral = t2.DateTimeLiteral = t2.BooleanLiteral = t2.NumericLiteral = t2.Literal = t2.BlankNode = t2.NamedNode = t2.Term = void 0;
  const n = r(5), i = r(24), a = r(14), s = r(20), o = new n.DataFactory();
  class u {
    constructor() {
      this.expressionType = i.ExpressionType.Term;
    }
    str() {
      throw new s.InvalidArgumentTypes([this], a.RegularOperator.STR);
    }
    coerceEBV() {
      throw new s.EBVCoercionError(this);
    }
  }
  t2.Term = u;
  t2.NamedNode = class extends u {
    constructor(e2) {
      super(), this.value = e2, this.termType = "namedNode";
    }
    toRDF() {
      return o.namedNode(this.value);
    }
    str() {
      return this.value;
    }
  };
  class c extends u {
    constructor(e2) {
      super(), this.value = e2, this.termType = "blankNode", this.value = e2;
    }
    static nextID() {
      return c._nextID += 1, c.nextID.toString();
    }
    toRDF() {
      return o.blankNode(this.value);
    }
  }
  t2.BlankNode = c, c._nextID = 0;
  class l extends u {
    constructor(e2, t3, r2, n2) {
      super(), this.typedValue = e2, this.typeURL = t3, this.strValue = r2, this.language = n2, this.termType = "literal", this.type = a.type(t3.value);
    }
    toRDF() {
      return o.literal(this.strValue || this.str(), this.language || this.typeURL);
    }
    str() {
      return this.strValue || this.typedValue.toString();
    }
  }
  t2.Literal = l;
  class h extends l {
    coerceEBV() {
      return !!this.typedValue;
    }
    toRDF() {
      const e2 = super.toRDF();
      return isFinite(this.typedValue) || (e2.value = e2.value.replace("Infinity", "INF")), e2;
    }
    str() {
      return this.strValue || h.specificFormatters[this.type](this.typedValue);
    }
  }
  t2.NumericLiteral = h, h.specificFormatters = {
    integer: (e2) => e2.toFixed(),
    float: (e2) => e2.toString(),
    decimal: (e2) => e2.toString(),
    double: (e2) => {
      const t3 = e2.toExponential(), [r2, n2] = t3.split("e"), i2 = n2.replace(/\+/, "");
      return `${r2.match(/\./) ? r2 : r2 + ".0"}E${i2}`;
    }
  };
  t2.BooleanLiteral = class extends l {
    constructor(e2, t3) {
      super(e2, a.make(a.TypeURL.XSD_BOOLEAN), t3), this.typedValue = e2, this.strValue = t3;
    }
    coerceEBV() {
      return !!this.typedValue;
    }
  };
  t2.DateTimeLiteral = class extends l {
    constructor(e2, t3) {
      super(e2, a.make(a.TypeURL.XSD_DATE_TIME), t3), this.typedValue = e2, this.strValue = t3;
    }
  };
  t2.LangStringLiteral = class extends l {
    constructor(e2, t3) {
      super(e2, a.make(a.TypeURL.RDF_LANG_STRING), e2, t3), this.typedValue = e2, this.language = t3;
    }
    coerceEBV() {
      return this.strValue.length !== 0;
    }
  };
  t2.StringLiteral = class extends l {
    constructor(e2) {
      super(e2, a.make(a.TypeURL.XSD_STRING), e2), this.typedValue = e2;
    }
    coerceEBV() {
      return this.strValue.length !== 0;
    }
  };
  t2.NonLexicalLiteral = class extends l {
    constructor(e2, t3, r2, n2) {
      super(e2, t3, r2, n2), this.typedValue = void 0, this.type = "nonlexical", this.shouldBeCategory = a.type(t3.value);
    }
    coerceEBV() {
      if (a.PrimitiveNumericTypes.contains(this.shouldBeCategory) || this.shouldBeCategory === "boolean")
        return false;
      throw new s.EBVCoercionError(this);
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Operator = void 0;
  const n = r(24);
  t2.Operator = class {
    constructor(e2, t3) {
      this.args = e2, this.apply = t3, this.expressionType = n.ExpressionType.Operator;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SpecialOperator = void 0;
  const n = r(24);
  t2.SpecialOperator = class {
    constructor(e2, t3, r2) {
      this.args = e2, this.applyAsync = t3, this.applySync = r2, this.expressionType = n.ExpressionType.SpecialOperator;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Named = void 0;
  const n = r(24);
  t2.Named = class {
    constructor(e2, t3, r2) {
      this.name = e2, this.args = t3, this.apply = r2, this.expressionType = n.ExpressionType.Named;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Aggregate = void 0;
  const n = r(24);
  t2.Aggregate = class {
    constructor(e2, t3) {
      this.name = e2, this.expression = t3, this.expressionType = n.ExpressionType.Aggregate;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.Existence = void 0;
  const n = r(24);
  t2.Existence = class {
    constructor(e2) {
      this.expression = e2, this.expressionType = n.ExpressionType.Existence;
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.namedDefinitions = void 0;
  const n = r(23), i = r(20), a = r(14), s = r(65), o = r(66), u = {
    arity: 1,
    overloads: o.declare().onNumeric1((e2) => o.string(o.number(e2.typedValue).str())).onBoolean1Typed((e2) => o.string(o.bool(e2).str())).onTerm1((e2) => o.string(e2.str())).collect()
  }, c = {
    arity: 1,
    overloads: o.declare().onNumeric1((e2) => o.number(e2.typedValue)).onBoolean1Typed((e2) => o.number(e2 ? 1 : 0)).onUnary("string", (e2) => {
      const t3 = s.parseXSDFloat(e2.str());
      if (t3 === void 0)
        throw new i.CastError(e2, a.TypeURL.XSD_FLOAT);
      return o.number(t3);
    }).copy({
      from: ["string"],
      to: ["nonlexical"]
    }).collect()
  }, l = {
    arity: 1,
    overloads: o.declare().onNumeric1((e2) => o.number(e2.typedValue, a.TypeURL.XSD_DOUBLE)).onBoolean1Typed((e2) => o.number(e2 ? 1 : 0, a.TypeURL.XSD_DOUBLE)).onUnary("string", (e2) => {
      const t3 = s.parseXSDFloat(e2.str());
      if (t3 === void 0)
        throw new i.CastError(e2, a.TypeURL.XSD_DOUBLE);
      return o.number(t3, a.TypeURL.XSD_DOUBLE);
    }).copy({
      from: ["string"],
      to: ["nonlexical"]
    }).collect()
  }, h = {
    arity: 1,
    overloads: o.declare().onNumeric1((e2) => {
      const t3 = s.parseXSDDecimal(e2.str());
      if (t3 === void 0)
        throw new i.CastError(e2, a.TypeURL.XSD_DECIMAL);
      return o.number(t3, a.TypeURL.XSD_DECIMAL);
    }).onString1((e2) => {
      const t3 = e2.str(), r2 = /^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(t3) ? s.parseXSDDecimal(t3) : void 0;
      if (r2 === void 0)
        throw new i.CastError(e2, a.TypeURL.XSD_DECIMAL);
      return o.number(r2, a.TypeURL.XSD_DECIMAL);
    }).copy({
      from: ["string"],
      to: ["nonlexical"]
    }).onBoolean1Typed((e2) => o.number(e2 ? 1 : 0, a.TypeURL.XSD_DECIMAL)).collect()
  }, d = {
    arity: 1,
    overloads: o.declare().onBoolean1Typed((e2) => o.number(e2 ? 1 : 0, a.TypeURL.XSD_INTEGER)).onNumeric1((e2) => {
      const t3 = s.parseXSDInteger(e2.str());
      if (t3 === void 0)
        throw new i.CastError(e2, a.TypeURL.XSD_INTEGER);
      return o.number(t3, a.TypeURL.XSD_INTEGER);
    }).onString1((e2) => {
      const t3 = e2.str(), r2 = /^[0-9]+$/.test(t3) ? s.parseXSDInteger(t3) : void 0;
      if (r2 === void 0)
        throw new i.CastError(e2, a.TypeURL.XSD_INTEGER);
      return o.number(r2, a.TypeURL.XSD_INTEGER);
    }).copy({
      from: ["integer"],
      to: ["nonlexical"]
    }).collect()
  }, p = {
    arity: 1,
    overloads: o.declare().onUnary("date", (e2) => e2).onUnary("string", (e2) => {
      const t3 = new Date(e2.str());
      if (isNaN(t3.getTime()))
        throw new i.CastError(e2, a.TypeURL.XSD_DATE_TIME);
      return o.dateTime(t3, e2.str());
    }).copy({
      from: ["string"],
      to: ["nonlexical"]
    }).collect()
  }, f = {
    arity: 1,
    overloads: o.declare().onNumeric1((e2) => o.bool(e2.coerceEBV())).onUnary("boolean", (e2) => o.bool(e2.coerceEBV())).onUnary("string", (e2) => {
      switch (e2.str()) {
        case "true":
          return o.bool(true);
        case "false":
          return o.bool(false);
        case "1":
          return o.bool(true);
        case "0":
          return o.bool(false);
        default:
          throw new i.CastError(e2, a.TypeURL.XSD_BOOLEAN);
      }
    }).copy({
      from: ["string"],
      to: ["nonlexical"]
    }).collect()
  }, g = {
    [a.TypeURL.XSD_STRING]: u,
    [a.TypeURL.XSD_FLOAT]: c,
    [a.TypeURL.XSD_DOUBLE]: l,
    [a.TypeURL.XSD_DECIMAL]: h,
    [a.TypeURL.XSD_INTEGER]: d,
    [a.TypeURL.XSD_DATE_TIME]: p,
    [a.TypeURL.XSD_DATE]: p,
    [a.TypeURL.XSD_BOOLEAN]: f
  };
  t2.namedDefinitions = n.Map(g);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.definitions = void 0;
  const n = r(5), i = r(181), a = r(535), s = r(536), o = r(188), u = r(23), c = r(40), l = r(14), h = r(20), d = r(65), p = r(537), f = r(14), g = r(39), m = r(66), y = new n.DataFactory();
  function b(e2, t3) {
    const r2 = e2.toRDF(), n2 = t3.toRDF(), i2 = r2.equals(n2);
    if (r2.termType === "Literal" && n2.termType === "Literal")
      throw new h.RDFEqualTypeError([e2, t3]);
    return i2;
  }
  const _ = (e2, t3) => m.bool(p.matches(e2, t3)), v = (e2, t3, r2) => m.bool(p.matches(e2, t3, r2));
  function w(e2) {
    return d.parseXSDDateTime(e2.str());
  }
  const S = {
    "!": {
      arity: 1,
      overloads: m.declare().onTerm1((e2) => m.bool(!e2.coerceEBV())).collect()
    },
    UPLUS: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.number(e2.typedValue, e2.typeURL.value)).collect()
    },
    UMINUS: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.number(-e2.typedValue, e2.typeURL.value)).collect()
    },
    "*": {
      arity: 2,
      overloads: m.declare().arithmetic((e2, t3) => s.Decimal.mul(e2, t3).toNumber()).collect()
    },
    "/": {
      arity: 2,
      overloads: m.declare().arithmetic((e2, t3) => s.Decimal.div(e2, t3).toNumber()).onBinaryTyped(["integer", "integer"], (e2, t3) => {
        if (t3 === 0)
          throw new h.ExpressionError("Integer division by 0");
        return m.number(s.Decimal.div(e2, t3).toNumber(), f.TypeURL.XSD_DECIMAL);
      }).collect()
    },
    "+": {
      arity: 2,
      overloads: m.declare().arithmetic((e2, t3) => s.Decimal.add(e2, t3).toNumber()).collect()
    },
    "-": {
      arity: 2,
      overloads: m.declare().arithmetic((e2, t3) => s.Decimal.sub(e2, t3).toNumber()).collect()
    },
    "=": {
      arity: 2,
      overloads: m.declare().numberTest((e2, t3) => e2 === t3).stringTest((e2, t3) => e2.localeCompare(t3) === 0).booleanTest((e2, t3) => e2 === t3).dateTimeTest((e2, t3) => e2.getTime() === t3.getTime()).set(["term", "term"], ([e2, t3]) => m.bool(b(e2, t3))).collect()
    },
    "!=": {
      arity: 2,
      overloads: m.declare().numberTest((e2, t3) => e2 !== t3).stringTest((e2, t3) => e2.localeCompare(t3) !== 0).booleanTest((e2, t3) => e2 !== t3).dateTimeTest((e2, t3) => e2.getTime() !== t3.getTime()).set(["term", "term"], ([e2, t3]) => m.bool(!b(e2, t3))).collect()
    },
    "<": {
      arity: 2,
      overloads: m.declare().numberTest((e2, t3) => e2 < t3).stringTest((e2, t3) => e2.localeCompare(t3) === -1).booleanTest((e2, t3) => e2 < t3).dateTimeTest((e2, t3) => e2.getTime() < t3.getTime()).collect()
    },
    ">": {
      arity: 2,
      overloads: m.declare().numberTest((e2, t3) => e2 > t3).stringTest((e2, t3) => e2.localeCompare(t3) === 1).booleanTest((e2, t3) => e2 > t3).dateTimeTest((e2, t3) => e2.getTime() > t3.getTime()).collect()
    },
    "<=": {
      arity: 2,
      overloads: m.declare().numberTest((e2, t3) => e2 <= t3).stringTest((e2, t3) => e2.localeCompare(t3) !== 1).booleanTest((e2, t3) => e2 <= t3).dateTimeTest((e2, t3) => e2.getTime() <= t3.getTime()).collect()
    },
    ">=": {
      arity: 2,
      overloads: m.declare().numberTest((e2, t3) => e2 >= t3).stringTest((e2, t3) => e2.localeCompare(t3) !== -1).booleanTest((e2, t3) => e2 >= t3).dateTimeTest((e2, t3) => e2.getTime() >= t3.getTime()).collect()
    },
    isiri: {
      arity: 1,
      overloads: m.declare().onTerm1((e2) => m.bool(e2.termType === "namedNode")).collect()
    },
    isblank: {
      arity: 1,
      overloads: m.declare().onTerm1((e2) => m.bool(e2.termType === "blankNode")).collect()
    },
    isliteral: {
      arity: 1,
      overloads: m.declare().onTerm1((e2) => m.bool(e2.termType === "literal")).collect()
    },
    isnumeric: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.bool(true)).onTerm1((e2) => m.bool(false)).collect()
    },
    str: {
      arity: 1,
      overloads: m.declare().onTerm1((e2) => m.string(e2.str())).collect()
    },
    lang: {
      arity: 1,
      overloads: m.declare().onLiteral1((e2) => m.string(e2.language || "")).collect()
    },
    datatype: {
      arity: 1,
      overloads: m.declare().onLiteral1((e2) => new c.NamedNode(e2.typeURL.value)).collect()
    },
    strdt: {
      arity: 2,
      overloads: m.declare().onBinary(["string", "namedNode"], (e2, t3) => {
        const r2 = y.literal(e2.typedValue, y.namedNode(t3.value));
        return g.transformLiteral(r2);
      }).collect()
    },
    strlang: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => new c.LangStringLiteral(e2, t3.toLowerCase())).collect()
    },
    uuid: {
      arity: 0,
      overloads: m.declare().set([], () => new c.NamedNode("urn:uuid:" + o.v4())).collect()
    },
    struuid: {
      arity: 0,
      overloads: m.declare().set([], () => m.string(o.v4())).collect()
    },
    strlen: {
      arity: 1,
      overloads: m.declare().onStringly1((e2) => m.number([...e2.typedValue].length, f.TypeURL.XSD_INTEGER)).collect()
    },
    substr: {
      arity: [2, 3],
      overloads: m.declare().onBinaryTyped(["string", "integer"], (e2, t3) => m.string([...e2].slice(t3 - 1).join(""))).onBinary(["langString", "integer"], (e2, t3) => {
        const r2 = [...e2.typedValue].slice(t3.typedValue - 1).join("");
        return m.langString(r2, e2.language);
      }).onTernaryTyped(["string", "integer", "integer"], (e2, t3, r2) => m.string([...e2].slice(t3 - 1, r2).join(""))).onTernary(["langString", "integer", "integer"], (e2, t3, r2) => {
        const n2 = [...e2.typedValue].slice(t3.typedValue - 1, r2.typedValue).join("");
        return m.langString(n2, e2.language);
      }).collect()
    },
    ucase: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(e2.toUpperCase())).onLangString1((e2) => m.langString(e2.typedValue.toUpperCase(), e2.language)).collect()
    },
    lcase: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(e2.toLowerCase())).onLangString1((e2) => m.langString(e2.typedValue.toLowerCase(), e2.language)).collect()
    },
    strstarts: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => m.bool(e2.startsWith(t3))).onBinaryTyped(["langString", "string"], (e2, t3) => m.bool(e2.startsWith(t3))).onBinary(["langString", "langString"], (e2, t3) => {
        if (e2.language !== t3.language)
          throw new h.IncompatibleLanguageOperation(e2, t3);
        return m.bool(e2.typedValue.startsWith(t3.typedValue));
      }).collect()
    },
    strends: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => m.bool(e2.endsWith(t3))).onBinaryTyped(["langString", "string"], (e2, t3) => m.bool(e2.endsWith(t3))).onBinary(["langString", "langString"], (e2, t3) => {
        if (e2.language !== t3.language)
          throw new h.IncompatibleLanguageOperation(e2, t3);
        return m.bool(e2.typedValue.endsWith(t3.typedValue));
      }).collect()
    },
    contains: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => m.bool(e2.includes(t3))).onBinaryTyped(["langString", "string"], (e2, t3) => m.bool(e2.includes(t3))).onBinary(["langString", "langString"], (e2, t3) => {
        if (e2.language !== t3.language)
          throw new h.IncompatibleLanguageOperation(e2, t3);
        return m.bool(e2.typedValue.includes(t3.typedValue));
      }).collect()
    },
    strbefore: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => m.string(e2.substr(0, e2.indexOf(t3)))).onBinary(["langString", "string"], (e2, t3) => {
        const [r2, n2] = [e2.typedValue, t3.typedValue], i2 = e2.typedValue.substr(0, r2.indexOf(n2));
        return i2 || !n2 ? m.langString(i2, e2.language) : m.string(i2);
      }).onBinary(["langString", "langString"], (e2, t3) => {
        if (e2.language !== t3.language)
          throw new h.IncompatibleLanguageOperation(e2, t3);
        const [r2, n2] = [e2.typedValue, t3.typedValue], i2 = e2.typedValue.substr(0, r2.indexOf(n2));
        return i2 || !n2 ? m.langString(i2, e2.language) : m.string(i2);
      }).collect()
    },
    strafter: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => m.string(e2.substr(e2.indexOf(t3)).substr(t3.length))).onBinary(["langString", "string"], (e2, t3) => {
        const [r2, n2] = [e2.typedValue, t3.typedValue], i2 = r2.substr(r2.indexOf(n2)).substr(n2.length);
        return i2 || !n2 ? m.langString(i2, e2.language) : m.string(i2);
      }).onBinary(["langString", "langString"], (e2, t3) => {
        if (e2.language !== t3.language)
          throw new h.IncompatibleLanguageOperation(e2, t3);
        const [r2, n2] = [e2.typedValue, t3.typedValue], i2 = r2.substr(r2.indexOf(n2)).substr(n2.length);
        return i2 || !n2 ? m.langString(i2, e2.language) : m.string(i2);
      }).collect()
    },
    encode_for_uri: {
      arity: 1,
      overloads: m.declare().onStringly1Typed((e2) => m.string(encodeURI(e2))).collect()
    },
    langmatches: {
      arity: 2,
      overloads: m.declare().onBinaryTyped(["string", "string"], (e2, t3) => m.bool(p.langMatches(e2, t3))).collect()
    },
    regex: {
      arity: [2, 3],
      overloads: m.declare().onBinaryTyped(["string", "string"], _).onBinaryTyped(["langString", "string"], _).onTernaryTyped(["string", "string", "string"], v).onTernaryTyped(["langString", "string", "string"], v).collect()
    },
    replace: {
      arity: [3, 4],
      overloads: m.declare().onTernaryTyped(["string", "string", "string"], (e2, t3, r2) => m.string(p.replace(e2, t3, r2))).set(["langString", "string", "string"], ([e2, t3, r2]) => {
        const n2 = p.replace(e2.typedValue, t3.typedValue, r2.typedValue);
        return m.langString(n2, e2.language);
      }).onQuaternaryTyped(["string", "string", "string", "string"], (e2, t3, r2, n2) => m.string(p.replace(e2, t3, r2, n2))).set(["langString", "string", "string", "string"], ([e2, t3, r2, n2]) => {
        const i2 = p.replace(e2.typedValue, t3.typedValue, r2.typedValue, n2.typedValue);
        return m.langString(i2, e2.language);
      }).collect()
    },
    abs: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.number(Math.abs(e2.typedValue), e2.typeURL.value)).collect()
    },
    round: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.number(Math.round(e2.typedValue), e2.typeURL.value)).collect()
    },
    ceil: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.number(Math.ceil(e2.typedValue), e2.typeURL.value)).collect()
    },
    floor: {
      arity: 1,
      overloads: m.declare().onNumeric1((e2) => m.number(Math.floor(e2.typedValue), e2.typeURL.value)).collect()
    },
    rand: {
      arity: 0,
      overloads: m.declare().set([], () => m.number(Math.random(), f.TypeURL.XSD_DOUBLE)).collect()
    },
    year: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.number(Number(w(e2).year), f.TypeURL.XSD_INTEGER)).collect()
    },
    month: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.number(Number(w(e2).month), f.TypeURL.XSD_INTEGER)).collect()
    },
    day: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.number(Number(w(e2).day), f.TypeURL.XSD_INTEGER)).collect()
    },
    hours: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.number(Number(w(e2).hours), f.TypeURL.XSD_INTEGER)).collect()
    },
    minutes: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.number(Number(w(e2).minutes), f.TypeURL.XSD_INTEGER)).collect()
    },
    seconds: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.number(Number(w(e2).seconds), f.TypeURL.XSD_DECIMAL)).collect()
    },
    timezone: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => {
        const t3 = p.formatDayTimeDuration(w(e2).timezone);
        if (!t3)
          throw new h.InvalidTimezoneCall(e2.strValue);
        return new c.Literal(t3, l.make(f.TypeURL.XSD_DAYTIME_DURATION), t3);
      }).collect()
    },
    tz: {
      arity: 1,
      overloads: m.declare().onDateTime1((e2) => m.string(w(e2).timezone)).collect()
    },
    md5: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(a.hash(e2))).collect()
    },
    sha1: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(i.sha1().update(e2).digest("hex"))).collect()
    },
    sha256: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(i.sha256().update(e2).digest("hex"))).collect()
    },
    sha384: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(i.sha384().update(e2).digest("hex"))).collect()
    },
    sha512: {
      arity: 1,
      overloads: m.declare().onString1Typed((e2) => m.string(i.sha512().update(e2).digest("hex"))).collect()
    }
  };
  t2.definitions = u.Map(S);
}, function(e, t2, r) {
  e.exports = function(e2) {
    "use strict";
    var t3 = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"];
    function r2(e3, t4) {
      var r3 = e3[0], n2 = e3[1], i2 = e3[2], a2 = e3[3];
      n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & i2 | ~n2 & a2) + t4[0] - 680876936 | 0) << 7 | r3 >>> 25) + n2 | 0) & n2 | ~r3 & i2) + t4[1] - 389564586 | 0) << 12 | a2 >>> 20) + r3 | 0) & r3 | ~a2 & n2) + t4[2] + 606105819 | 0) << 17 | i2 >>> 15) + a2 | 0) & a2 | ~i2 & r3) + t4[3] - 1044525330 | 0) << 22 | n2 >>> 10) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & i2 | ~n2 & a2) + t4[4] - 176418897 | 0) << 7 | r3 >>> 25) + n2 | 0) & n2 | ~r3 & i2) + t4[5] + 1200080426 | 0) << 12 | a2 >>> 20) + r3 | 0) & r3 | ~a2 & n2) + t4[6] - 1473231341 | 0) << 17 | i2 >>> 15) + a2 | 0) & a2 | ~i2 & r3) + t4[7] - 45705983 | 0) << 22 | n2 >>> 10) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & i2 | ~n2 & a2) + t4[8] + 1770035416 | 0) << 7 | r3 >>> 25) + n2 | 0) & n2 | ~r3 & i2) + t4[9] - 1958414417 | 0) << 12 | a2 >>> 20) + r3 | 0) & r3 | ~a2 & n2) + t4[10] - 42063 | 0) << 17 | i2 >>> 15) + a2 | 0) & a2 | ~i2 & r3) + t4[11] - 1990404162 | 0) << 22 | n2 >>> 10) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & i2 | ~n2 & a2) + t4[12] + 1804603682 | 0) << 7 | r3 >>> 25) + n2 | 0) & n2 | ~r3 & i2) + t4[13] - 40341101 | 0) << 12 | a2 >>> 20) + r3 | 0) & r3 | ~a2 & n2) + t4[14] - 1502002290 | 0) << 17 | i2 >>> 15) + a2 | 0) & a2 | ~i2 & r3) + t4[15] + 1236535329 | 0) << 22 | n2 >>> 10) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & a2 | i2 & ~a2) + t4[1] - 165796510 | 0) << 5 | r3 >>> 27) + n2 | 0) & i2 | n2 & ~i2) + t4[6] - 1069501632 | 0) << 9 | a2 >>> 23) + r3 | 0) & n2 | r3 & ~n2) + t4[11] + 643717713 | 0) << 14 | i2 >>> 18) + a2 | 0) & r3 | a2 & ~r3) + t4[0] - 373897302 | 0) << 20 | n2 >>> 12) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & a2 | i2 & ~a2) + t4[5] - 701558691 | 0) << 5 | r3 >>> 27) + n2 | 0) & i2 | n2 & ~i2) + t4[10] + 38016083 | 0) << 9 | a2 >>> 23) + r3 | 0) & n2 | r3 & ~n2) + t4[15] - 660478335 | 0) << 14 | i2 >>> 18) + a2 | 0) & r3 | a2 & ~r3) + t4[4] - 405537848 | 0) << 20 | n2 >>> 12) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & a2 | i2 & ~a2) + t4[9] + 568446438 | 0) << 5 | r3 >>> 27) + n2 | 0) & i2 | n2 & ~i2) + t4[14] - 1019803690 | 0) << 9 | a2 >>> 23) + r3 | 0) & n2 | r3 & ~n2) + t4[3] - 187363961 | 0) << 14 | i2 >>> 18) + a2 | 0) & r3 | a2 & ~r3) + t4[8] + 1163531501 | 0) << 20 | n2 >>> 12) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 & a2 | i2 & ~a2) + t4[13] - 1444681467 | 0) << 5 | r3 >>> 27) + n2 | 0) & i2 | n2 & ~i2) + t4[2] - 51403784 | 0) << 9 | a2 >>> 23) + r3 | 0) & n2 | r3 & ~n2) + t4[7] + 1735328473 | 0) << 14 | i2 >>> 18) + a2 | 0) & r3 | a2 & ~r3) + t4[12] - 1926607734 | 0) << 20 | n2 >>> 12) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 ^ i2 ^ a2) + t4[5] - 378558 | 0) << 4 | r3 >>> 28) + n2 | 0) ^ n2 ^ i2) + t4[8] - 2022574463 | 0) << 11 | a2 >>> 21) + r3 | 0) ^ r3 ^ n2) + t4[11] + 1839030562 | 0) << 16 | i2 >>> 16) + a2 | 0) ^ a2 ^ r3) + t4[14] - 35309556 | 0) << 23 | n2 >>> 9) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 ^ i2 ^ a2) + t4[1] - 1530992060 | 0) << 4 | r3 >>> 28) + n2 | 0) ^ n2 ^ i2) + t4[4] + 1272893353 | 0) << 11 | a2 >>> 21) + r3 | 0) ^ r3 ^ n2) + t4[7] - 155497632 | 0) << 16 | i2 >>> 16) + a2 | 0) ^ a2 ^ r3) + t4[10] - 1094730640 | 0) << 23 | n2 >>> 9) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 ^ i2 ^ a2) + t4[13] + 681279174 | 0) << 4 | r3 >>> 28) + n2 | 0) ^ n2 ^ i2) + t4[0] - 358537222 | 0) << 11 | a2 >>> 21) + r3 | 0) ^ r3 ^ n2) + t4[3] - 722521979 | 0) << 16 | i2 >>> 16) + a2 | 0) ^ a2 ^ r3) + t4[6] + 76029189 | 0) << 23 | n2 >>> 9) + i2 | 0, n2 = ((n2 += ((i2 = ((i2 += ((a2 = ((a2 += ((r3 = ((r3 += (n2 ^ i2 ^ a2) + t4[9] - 640364487 | 0) << 4 | r3 >>> 28) + n2 | 0) ^ n2 ^ i2) + t4[12] - 421815835 | 0) << 11 | a2 >>> 21) + r3 | 0) ^ r3 ^ n2) + t4[15] + 530742520 | 0) << 16 | i2 >>> 16) + a2 | 0) ^ a2 ^ r3) + t4[2] - 995338651 | 0) << 23 | n2 >>> 9) + i2 | 0, n2 = ((n2 += ((a2 = ((a2 += (n2 ^ ((r3 = ((r3 += (i2 ^ (n2 | ~a2)) + t4[0] - 198630844 | 0) << 6 | r3 >>> 26) + n2 | 0) | ~i2)) + t4[7] + 1126891415 | 0) << 10 | a2 >>> 22) + r3 | 0) ^ ((i2 = ((i2 += (r3 ^ (a2 | ~n2)) + t4[14] - 1416354905 | 0) << 15 | i2 >>> 17) + a2 | 0) | ~r3)) + t4[5] - 57434055 | 0) << 21 | n2 >>> 11) + i2 | 0, n2 = ((n2 += ((a2 = ((a2 += (n2 ^ ((r3 = ((r3 += (i2 ^ (n2 | ~a2)) + t4[12] + 1700485571 | 0) << 6 | r3 >>> 26) + n2 | 0) | ~i2)) + t4[3] - 1894986606 | 0) << 10 | a2 >>> 22) + r3 | 0) ^ ((i2 = ((i2 += (r3 ^ (a2 | ~n2)) + t4[10] - 1051523 | 0) << 15 | i2 >>> 17) + a2 | 0) | ~r3)) + t4[1] - 2054922799 | 0) << 21 | n2 >>> 11) + i2 | 0, n2 = ((n2 += ((a2 = ((a2 += (n2 ^ ((r3 = ((r3 += (i2 ^ (n2 | ~a2)) + t4[8] + 1873313359 | 0) << 6 | r3 >>> 26) + n2 | 0) | ~i2)) + t4[15] - 30611744 | 0) << 10 | a2 >>> 22) + r3 | 0) ^ ((i2 = ((i2 += (r3 ^ (a2 | ~n2)) + t4[6] - 1560198380 | 0) << 15 | i2 >>> 17) + a2 | 0) | ~r3)) + t4[13] + 1309151649 | 0) << 21 | n2 >>> 11) + i2 | 0, n2 = ((n2 += ((a2 = ((a2 += (n2 ^ ((r3 = ((r3 += (i2 ^ (n2 | ~a2)) + t4[4] - 145523070 | 0) << 6 | r3 >>> 26) + n2 | 0) | ~i2)) + t4[11] - 1120210379 | 0) << 10 | a2 >>> 22) + r3 | 0) ^ ((i2 = ((i2 += (r3 ^ (a2 | ~n2)) + t4[2] + 718787259 | 0) << 15 | i2 >>> 17) + a2 | 0) | ~r3)) + t4[9] - 343485551 | 0) << 21 | n2 >>> 11) + i2 | 0, e3[0] = r3 + e3[0] | 0, e3[1] = n2 + e3[1] | 0, e3[2] = i2 + e3[2] | 0, e3[3] = a2 + e3[3] | 0;
    }
    function n(e3) {
      var t4, r3 = [];
      for (t4 = 0; t4 < 64; t4 += 4)
        r3[t4 >> 2] = e3.charCodeAt(t4) + (e3.charCodeAt(t4 + 1) << 8) + (e3.charCodeAt(t4 + 2) << 16) + (e3.charCodeAt(t4 + 3) << 24);
      return r3;
    }
    function i(e3) {
      var t4, r3 = [];
      for (t4 = 0; t4 < 64; t4 += 4)
        r3[t4 >> 2] = e3[t4] + (e3[t4 + 1] << 8) + (e3[t4 + 2] << 16) + (e3[t4 + 3] << 24);
      return r3;
    }
    function a(e3) {
      var t4, i2, a2, s2, o2, u2, c2 = e3.length, l2 = [1732584193, -271733879, -1732584194, 271733878];
      for (t4 = 64; t4 <= c2; t4 += 64)
        r2(l2, n(e3.substring(t4 - 64, t4)));
      for (i2 = (e3 = e3.substring(t4 - 64)).length, a2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], t4 = 0; t4 < i2; t4 += 1)
        a2[t4 >> 2] |= e3.charCodeAt(t4) << (t4 % 4 << 3);
      if (a2[t4 >> 2] |= 128 << (t4 % 4 << 3), t4 > 55)
        for (r2(l2, a2), t4 = 0; t4 < 16; t4 += 1)
          a2[t4] = 0;
      return s2 = (s2 = 8 * c2).toString(16).match(/(.*?)(.{0,8})$/), o2 = parseInt(s2[2], 16), u2 = parseInt(s2[1], 16) || 0, a2[14] = o2, a2[15] = u2, r2(l2, a2), l2;
    }
    function s(e3) {
      var r3, n2 = "";
      for (r3 = 0; r3 < 4; r3 += 1)
        n2 += t3[e3 >> 8 * r3 + 4 & 15] + t3[e3 >> 8 * r3 & 15];
      return n2;
    }
    function o(e3) {
      var t4;
      for (t4 = 0; t4 < e3.length; t4 += 1)
        e3[t4] = s(e3[t4]);
      return e3.join("");
    }
    function u(e3) {
      return /[\u0080-\uFFFF]/.test(e3) && (e3 = unescape(encodeURIComponent(e3))), e3;
    }
    function c(e3) {
      var t4, r3 = [], n2 = e3.length;
      for (t4 = 0; t4 < n2 - 1; t4 += 2)
        r3.push(parseInt(e3.substr(t4, 2), 16));
      return String.fromCharCode.apply(String, r3);
    }
    function l() {
      this.reset();
    }
    return o(a("hello")), typeof ArrayBuffer == "undefined" || ArrayBuffer.prototype.slice || function() {
      function t4(e3, t5) {
        return (e3 = 0 | e3 || 0) < 0 ? Math.max(e3 + t5, 0) : Math.min(e3, t5);
      }
      ArrayBuffer.prototype.slice = function(r3, n2) {
        var i2, a2, s2, o2, u2 = this.byteLength, c2 = t4(r3, u2), l2 = u2;
        return n2 !== e2 && (l2 = t4(n2, u2)), c2 > l2 ? new ArrayBuffer(0) : (i2 = l2 - c2, a2 = new ArrayBuffer(i2), s2 = new Uint8Array(a2), o2 = new Uint8Array(this, c2, i2), s2.set(o2), a2);
      };
    }(), l.prototype.append = function(e3) {
      return this.appendBinary(u(e3)), this;
    }, l.prototype.appendBinary = function(e3) {
      this._buff += e3, this._length += e3.length;
      var t4, i2 = this._buff.length;
      for (t4 = 64; t4 <= i2; t4 += 64)
        r2(this._hash, n(this._buff.substring(t4 - 64, t4)));
      return this._buff = this._buff.substring(t4 - 64), this;
    }, l.prototype.end = function(e3) {
      var t4, r3, n2 = this._buff, i2 = n2.length, a2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (t4 = 0; t4 < i2; t4 += 1)
        a2[t4 >> 2] |= n2.charCodeAt(t4) << (t4 % 4 << 3);
      return this._finish(a2, i2), r3 = o(this._hash), e3 && (r3 = c(r3)), this.reset(), r3;
    }, l.prototype.reset = function() {
      return this._buff = "", this._length = 0, this._hash = [1732584193, -271733879, -1732584194, 271733878], this;
    }, l.prototype.getState = function() {
      return {
        buff: this._buff,
        length: this._length,
        hash: this._hash.slice()
      };
    }, l.prototype.setState = function(e3) {
      return this._buff = e3.buff, this._length = e3.length, this._hash = e3.hash, this;
    }, l.prototype.destroy = function() {
      delete this._hash, delete this._buff, delete this._length;
    }, l.prototype._finish = function(e3, t4) {
      var n2, i2, a2, s2 = t4;
      if (e3[s2 >> 2] |= 128 << (s2 % 4 << 3), s2 > 55)
        for (r2(this._hash, e3), s2 = 0; s2 < 16; s2 += 1)
          e3[s2] = 0;
      n2 = (n2 = 8 * this._length).toString(16).match(/(.*?)(.{0,8})$/), i2 = parseInt(n2[2], 16), a2 = parseInt(n2[1], 16) || 0, e3[14] = i2, e3[15] = a2, r2(this._hash, e3);
    }, l.hash = function(e3, t4) {
      return l.hashBinary(u(e3), t4);
    }, l.hashBinary = function(e3, t4) {
      var r3 = o(a(e3));
      return t4 ? c(r3) : r3;
    }, l.ArrayBuffer = function() {
      this.reset();
    }, l.ArrayBuffer.prototype.append = function(e3) {
      var t4, n2, a2, s2, o2, u2 = (n2 = this._buff.buffer, a2 = e3, s2 = true, (o2 = new Uint8Array(n2.byteLength + a2.byteLength)).set(new Uint8Array(n2)), o2.set(new Uint8Array(a2), n2.byteLength), s2 ? o2 : o2.buffer), c2 = u2.length;
      for (this._length += e3.byteLength, t4 = 64; t4 <= c2; t4 += 64)
        r2(this._hash, i(u2.subarray(t4 - 64, t4)));
      return this._buff = t4 - 64 < c2 ? new Uint8Array(u2.buffer.slice(t4 - 64)) : new Uint8Array(0), this;
    }, l.ArrayBuffer.prototype.end = function(e3) {
      var t4, r3, n2 = this._buff, i2 = n2.length, a2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (t4 = 0; t4 < i2; t4 += 1)
        a2[t4 >> 2] |= n2[t4] << (t4 % 4 << 3);
      return this._finish(a2, i2), r3 = o(this._hash), e3 && (r3 = c(r3)), this.reset(), r3;
    }, l.ArrayBuffer.prototype.reset = function() {
      return this._buff = new Uint8Array(0), this._length = 0, this._hash = [1732584193, -271733879, -1732584194, 271733878], this;
    }, l.ArrayBuffer.prototype.getState = function() {
      var e3, t4 = l.prototype.getState.call(this);
      return t4.buff = (e3 = t4.buff, String.fromCharCode.apply(null, new Uint8Array(e3))), t4;
    }, l.ArrayBuffer.prototype.setState = function(e3) {
      return e3.buff = function(e4, t4) {
        var r3, n2 = e4.length, i2 = new ArrayBuffer(n2), a2 = new Uint8Array(i2);
        for (r3 = 0; r3 < n2; r3 += 1)
          a2[r3] = e4.charCodeAt(r3);
        return t4 ? a2 : i2;
      }(e3.buff, true), l.prototype.setState.call(this, e3);
    }, l.ArrayBuffer.prototype.destroy = l.prototype.destroy, l.ArrayBuffer.prototype._finish = l.prototype._finish, l.ArrayBuffer.hash = function(e3, t4) {
      var n2 = o(function(e4) {
        var t5, n3, a2, s2, o2, u2, c2 = e4.length, l2 = [1732584193, -271733879, -1732584194, 271733878];
        for (t5 = 64; t5 <= c2; t5 += 64)
          r2(l2, i(e4.subarray(t5 - 64, t5)));
        for (e4 = t5 - 64 < c2 ? e4.subarray(t5 - 64) : new Uint8Array(0), n3 = e4.length, a2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], t5 = 0; t5 < n3; t5 += 1)
          a2[t5 >> 2] |= e4[t5] << (t5 % 4 << 3);
        if (a2[t5 >> 2] |= 128 << (t5 % 4 << 3), t5 > 55)
          for (r2(l2, a2), t5 = 0; t5 < 16; t5 += 1)
            a2[t5] = 0;
        return s2 = (s2 = 8 * c2).toString(16).match(/(.*?)(.{0,8})$/), o2 = parseInt(s2[2], 16), u2 = parseInt(s2[1], 16) || 0, a2[14] = o2, a2[15] = u2, r2(l2, a2), l2;
      }(new Uint8Array(e3)));
      return t4 ? c(n2) : n2;
    }, l;
  }();
}, function(e, t2, r) {
  var n;
  !function(i) {
    "use strict";
    var a, s, o, u = 9e15, c = "0123456789abcdef", l = "2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058", h = "3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789", d = {
      precision: 20,
      rounding: 4,
      modulo: 1,
      toExpNeg: -7,
      toExpPos: 21,
      minE: -u,
      maxE: u,
      crypto: false
    }, p = true, f = "[DecimalError] Invalid argument: ", g = Math.floor, m = Math.pow, y = /^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i, b = /^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i, _ = /^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i, v = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i, w = 1e7, S = l.length - 1, T = h.length - 1, E = {
      name: "[object Decimal]"
    };
    function x(e2) {
      var t3, r2, n2, i2 = e2.length - 1, a2 = "", s2 = e2[0];
      if (i2 > 0) {
        for (a2 += s2, t3 = 1; t3 < i2; t3++)
          (r2 = 7 - (n2 = e2[t3] + "").length) && (a2 += L(r2)), a2 += n2;
        (r2 = 7 - (n2 = (s2 = e2[t3]) + "").length) && (a2 += L(r2));
      } else if (s2 === 0)
        return "0";
      for (; s2 % 10 == 0; )
        s2 /= 10;
      return a2 + s2;
    }
    function O(e2, t3, r2) {
      if (e2 !== ~~e2 || e2 < t3 || e2 > r2)
        throw Error(f + e2);
    }
    function A(e2, t3, r2, n2) {
      var i2, a2, s2, o2;
      for (a2 = e2[0]; a2 >= 10; a2 /= 10)
        --t3;
      return --t3 < 0 ? (t3 += 7, i2 = 0) : (i2 = Math.ceil((t3 + 1) / 7), t3 %= 7), a2 = m(10, 7 - t3), o2 = e2[i2] % a2 | 0, n2 == null ? t3 < 3 ? (t3 == 0 ? o2 = o2 / 100 | 0 : t3 == 1 && (o2 = o2 / 10 | 0), s2 = r2 < 4 && o2 == 99999 || r2 > 3 && o2 == 49999 || o2 == 5e4 || o2 == 0) : s2 = (r2 < 4 && o2 + 1 == a2 || r2 > 3 && o2 + 1 == a2 / 2) && (e2[i2 + 1] / a2 / 100 | 0) == m(10, t3 - 2) - 1 || (o2 == a2 / 2 || o2 == 0) && (e2[i2 + 1] / a2 / 100 | 0) == 0 : t3 < 4 ? (t3 == 0 ? o2 = o2 / 1e3 | 0 : t3 == 1 ? o2 = o2 / 100 | 0 : t3 == 2 && (o2 = o2 / 10 | 0), s2 = (n2 || r2 < 4) && o2 == 9999 || !n2 && r2 > 3 && o2 == 4999) : s2 = ((n2 || r2 < 4) && o2 + 1 == a2 || !n2 && r2 > 3 && o2 + 1 == a2 / 2) && (e2[i2 + 1] / a2 / 1e3 | 0) == m(10, t3 - 3) - 1, s2;
    }
    function R(e2, t3, r2) {
      for (var n2, i2, a2 = [0], s2 = 0, o2 = e2.length; s2 < o2; ) {
        for (i2 = a2.length; i2--; )
          a2[i2] *= t3;
        for (a2[0] += c.indexOf(e2.charAt(s2++)), n2 = 0; n2 < a2.length; n2++)
          a2[n2] > r2 - 1 && (a2[n2 + 1] === void 0 && (a2[n2 + 1] = 0), a2[n2 + 1] += a2[n2] / r2 | 0, a2[n2] %= r2);
      }
      return a2.reverse();
    }
    E.absoluteValue = E.abs = function() {
      var e2 = new this.constructor(this);
      return e2.s < 0 && (e2.s = 1), N(e2);
    }, E.ceil = function() {
      return N(new this.constructor(this), this.e + 1, 2);
    }, E.comparedTo = E.cmp = function(e2) {
      var t3, r2, n2, i2, a2 = this, s2 = a2.d, o2 = (e2 = new a2.constructor(e2)).d, u2 = a2.s, c2 = e2.s;
      if (!s2 || !o2)
        return u2 && c2 ? u2 !== c2 ? u2 : s2 === o2 ? 0 : !s2 ^ u2 < 0 ? 1 : -1 : NaN;
      if (!s2[0] || !o2[0])
        return s2[0] ? u2 : o2[0] ? -c2 : 0;
      if (u2 !== c2)
        return u2;
      if (a2.e !== e2.e)
        return a2.e > e2.e ^ u2 < 0 ? 1 : -1;
      for (t3 = 0, r2 = (n2 = s2.length) < (i2 = o2.length) ? n2 : i2; t3 < r2; ++t3)
        if (s2[t3] !== o2[t3])
          return s2[t3] > o2[t3] ^ u2 < 0 ? 1 : -1;
      return n2 === i2 ? 0 : n2 > i2 ^ u2 < 0 ? 1 : -1;
    }, E.cosine = E.cos = function() {
      var e2, t3, r2 = this, n2 = r2.constructor;
      return r2.d ? r2.d[0] ? (e2 = n2.precision, t3 = n2.rounding, n2.precision = e2 + Math.max(r2.e, r2.sd()) + 7, n2.rounding = 1, r2 = function(e3, t4) {
        var r3, n3, i2 = t4.d.length;
        i2 < 32 ? (r3 = Math.ceil(i2 / 3), n3 = (1 / Q(4, r3)).toString()) : (r3 = 16, n3 = "2.3283064365386962890625e-10");
        e3.precision += r3, t4 = z(e3, 1, t4.times(n3), new e3(1));
        for (var a2 = r3; a2--; ) {
          var s2 = t4.times(t4);
          t4 = s2.times(s2).minus(s2).times(8).plus(1);
        }
        return e3.precision -= r3, t4;
      }(n2, X(n2, r2)), n2.precision = e2, n2.rounding = t3, N(o == 2 || o == 3 ? r2.neg() : r2, e2, t3, true)) : new n2(1) : new n2(NaN);
    }, E.cubeRoot = E.cbrt = function() {
      var e2, t3, r2, n2, i2, a2, s2, o2, u2, c2, l2 = this, h2 = l2.constructor;
      if (!l2.isFinite() || l2.isZero())
        return new h2(l2);
      for (p = false, (a2 = l2.s * m(l2.s * l2, 1 / 3)) && Math.abs(a2) != 1 / 0 ? n2 = new h2(a2.toString()) : (r2 = x(l2.d), (a2 = ((e2 = l2.e) - r2.length + 1) % 3) && (r2 += a2 == 1 || a2 == -2 ? "0" : "00"), a2 = m(r2, 1 / 3), e2 = g((e2 + 1) / 3) - (e2 % 3 == (e2 < 0 ? -1 : 2)), (n2 = new h2(r2 = a2 == 1 / 0 ? "5e" + e2 : (r2 = a2.toExponential()).slice(0, r2.indexOf("e") + 1) + e2)).s = l2.s), s2 = (e2 = h2.precision) + 3; ; )
        if (c2 = (u2 = (o2 = n2).times(o2).times(o2)).plus(l2), n2 = I(c2.plus(l2).times(o2), c2.plus(u2), s2 + 2, 1), x(o2.d).slice(0, s2) === (r2 = x(n2.d)).slice(0, s2)) {
          if ((r2 = r2.slice(s2 - 3, s2 + 1)) != "9999" && (i2 || r2 != "4999")) {
            +r2 && (+r2.slice(1) || r2.charAt(0) != "5") || (N(n2, e2 + 1, 1), t3 = !n2.times(n2).times(n2).eq(l2));
            break;
          }
          if (!i2 && (N(o2, e2 + 1, 0), o2.times(o2).times(o2).eq(l2))) {
            n2 = o2;
            break;
          }
          s2 += 4, i2 = 1;
        }
      return p = true, N(n2, e2, h2.rounding, t3);
    }, E.decimalPlaces = E.dp = function() {
      var e2, t3 = this.d, r2 = NaN;
      if (t3) {
        if (r2 = 7 * ((e2 = t3.length - 1) - g(this.e / 7)), e2 = t3[e2])
          for (; e2 % 10 == 0; e2 /= 10)
            r2--;
        r2 < 0 && (r2 = 0);
      }
      return r2;
    }, E.dividedBy = E.div = function(e2) {
      return I(this, new this.constructor(e2));
    }, E.dividedToIntegerBy = E.divToInt = function(e2) {
      var t3 = this.constructor;
      return N(I(this, new t3(e2), 0, 1, 1), t3.precision, t3.rounding);
    }, E.equals = E.eq = function(e2) {
      return this.cmp(e2) === 0;
    }, E.floor = function() {
      return N(new this.constructor(this), this.e + 1, 3);
    }, E.greaterThan = E.gt = function(e2) {
      return this.cmp(e2) > 0;
    }, E.greaterThanOrEqualTo = E.gte = function(e2) {
      var t3 = this.cmp(e2);
      return t3 == 1 || t3 === 0;
    }, E.hyperbolicCosine = E.cosh = function() {
      var e2, t3, r2, n2, i2, a2 = this, s2 = a2.constructor, o2 = new s2(1);
      if (!a2.isFinite())
        return new s2(a2.s ? 1 / 0 : NaN);
      if (a2.isZero())
        return o2;
      r2 = s2.precision, n2 = s2.rounding, s2.precision = r2 + Math.max(a2.e, a2.sd()) + 4, s2.rounding = 1, (i2 = a2.d.length) < 32 ? t3 = (1 / Q(4, e2 = Math.ceil(i2 / 3))).toString() : (e2 = 16, t3 = "2.3283064365386962890625e-10"), a2 = z(s2, 1, a2.times(t3), new s2(1), true);
      for (var u2, c2 = e2, l2 = new s2(8); c2--; )
        u2 = a2.times(a2), a2 = o2.minus(u2.times(l2.minus(u2.times(l2))));
      return N(a2, s2.precision = r2, s2.rounding = n2, true);
    }, E.hyperbolicSine = E.sinh = function() {
      var e2, t3, r2, n2, i2 = this, a2 = i2.constructor;
      if (!i2.isFinite() || i2.isZero())
        return new a2(i2);
      if (t3 = a2.precision, r2 = a2.rounding, a2.precision = t3 + Math.max(i2.e, i2.sd()) + 4, a2.rounding = 1, (n2 = i2.d.length) < 3)
        i2 = z(a2, 2, i2, i2, true);
      else {
        e2 = (e2 = 1.4 * Math.sqrt(n2)) > 16 ? 16 : 0 | e2, i2 = z(a2, 2, i2 = i2.times(1 / Q(5, e2)), i2, true);
        for (var s2, o2 = new a2(5), u2 = new a2(16), c2 = new a2(20); e2--; )
          s2 = i2.times(i2), i2 = i2.times(o2.plus(s2.times(u2.times(s2).plus(c2))));
      }
      return a2.precision = t3, a2.rounding = r2, N(i2, t3, r2, true);
    }, E.hyperbolicTangent = E.tanh = function() {
      var e2, t3, r2 = this, n2 = r2.constructor;
      return r2.isFinite() ? r2.isZero() ? new n2(r2) : (e2 = n2.precision, t3 = n2.rounding, n2.precision = e2 + 7, n2.rounding = 1, I(r2.sinh(), r2.cosh(), n2.precision = e2, n2.rounding = t3)) : new n2(r2.s);
    }, E.inverseCosine = E.acos = function() {
      var e2, t3 = this, r2 = t3.constructor, n2 = t3.abs().cmp(1), i2 = r2.precision, a2 = r2.rounding;
      return n2 !== -1 ? n2 === 0 ? t3.isNeg() ? j(r2, i2, a2) : new r2(0) : new r2(NaN) : t3.isZero() ? j(r2, i2 + 4, a2).times(0.5) : (r2.precision = i2 + 6, r2.rounding = 1, t3 = t3.asin(), e2 = j(r2, i2 + 4, a2).times(0.5), r2.precision = i2, r2.rounding = a2, e2.minus(t3));
    }, E.inverseHyperbolicCosine = E.acosh = function() {
      var e2, t3, r2 = this, n2 = r2.constructor;
      return r2.lte(1) ? new n2(r2.eq(1) ? 0 : NaN) : r2.isFinite() ? (e2 = n2.precision, t3 = n2.rounding, n2.precision = e2 + Math.max(Math.abs(r2.e), r2.sd()) + 4, n2.rounding = 1, p = false, r2 = r2.times(r2).minus(1).sqrt().plus(r2), p = true, n2.precision = e2, n2.rounding = t3, r2.ln()) : new n2(r2);
    }, E.inverseHyperbolicSine = E.asinh = function() {
      var e2, t3, r2 = this, n2 = r2.constructor;
      return !r2.isFinite() || r2.isZero() ? new n2(r2) : (e2 = n2.precision, t3 = n2.rounding, n2.precision = e2 + 2 * Math.max(Math.abs(r2.e), r2.sd()) + 6, n2.rounding = 1, p = false, r2 = r2.times(r2).plus(1).sqrt().plus(r2), p = true, n2.precision = e2, n2.rounding = t3, r2.ln());
    }, E.inverseHyperbolicTangent = E.atanh = function() {
      var e2, t3, r2, n2, i2 = this, a2 = i2.constructor;
      return i2.isFinite() ? i2.e >= 0 ? new a2(i2.abs().eq(1) ? i2.s / 0 : i2.isZero() ? i2 : NaN) : (e2 = a2.precision, t3 = a2.rounding, n2 = i2.sd(), Math.max(n2, e2) < 2 * -i2.e - 1 ? N(new a2(i2), e2, t3, true) : (a2.precision = r2 = n2 - i2.e, i2 = I(i2.plus(1), new a2(1).minus(i2), r2 + e2, 1), a2.precision = e2 + 4, a2.rounding = 1, i2 = i2.ln(), a2.precision = e2, a2.rounding = t3, i2.times(0.5))) : new a2(NaN);
    }, E.inverseSine = E.asin = function() {
      var e2, t3, r2, n2, i2 = this, a2 = i2.constructor;
      return i2.isZero() ? new a2(i2) : (t3 = i2.abs().cmp(1), r2 = a2.precision, n2 = a2.rounding, t3 !== -1 ? t3 === 0 ? ((e2 = j(a2, r2 + 4, n2).times(0.5)).s = i2.s, e2) : new a2(NaN) : (a2.precision = r2 + 6, a2.rounding = 1, i2 = i2.div(new a2(1).minus(i2.times(i2)).sqrt().plus(1)).atan(), a2.precision = r2, a2.rounding = n2, i2.times(2)));
    }, E.inverseTangent = E.atan = function() {
      var e2, t3, r2, n2, i2, a2, s2, o2, u2, c2 = this, l2 = c2.constructor, h2 = l2.precision, d2 = l2.rounding;
      if (c2.isFinite()) {
        if (c2.isZero())
          return new l2(c2);
        if (c2.abs().eq(1) && h2 + 4 <= T)
          return (s2 = j(l2, h2 + 4, d2).times(0.25)).s = c2.s, s2;
      } else {
        if (!c2.s)
          return new l2(NaN);
        if (h2 + 4 <= T)
          return (s2 = j(l2, h2 + 4, d2).times(0.5)).s = c2.s, s2;
      }
      for (l2.precision = o2 = h2 + 10, l2.rounding = 1, e2 = r2 = Math.min(28, o2 / 7 + 2 | 0); e2; --e2)
        c2 = c2.div(c2.times(c2).plus(1).sqrt().plus(1));
      for (p = false, t3 = Math.ceil(o2 / 7), n2 = 1, u2 = c2.times(c2), s2 = new l2(c2), i2 = c2; e2 !== -1; )
        if (i2 = i2.times(u2), a2 = s2.minus(i2.div(n2 += 2)), i2 = i2.times(u2), (s2 = a2.plus(i2.div(n2 += 2))).d[t3] !== void 0)
          for (e2 = t3; s2.d[e2] === a2.d[e2] && e2--; )
            ;
      return r2 && (s2 = s2.times(2 << r2 - 1)), p = true, N(s2, l2.precision = h2, l2.rounding = d2, true);
    }, E.isFinite = function() {
      return !!this.d;
    }, E.isInteger = E.isInt = function() {
      return !!this.d && g(this.e / 7) > this.d.length - 2;
    }, E.isNaN = function() {
      return !this.s;
    }, E.isNegative = E.isNeg = function() {
      return this.s < 0;
    }, E.isPositive = E.isPos = function() {
      return this.s > 0;
    }, E.isZero = function() {
      return !!this.d && this.d[0] === 0;
    }, E.lessThan = E.lt = function(e2) {
      return this.cmp(e2) < 0;
    }, E.lessThanOrEqualTo = E.lte = function(e2) {
      return this.cmp(e2) < 1;
    }, E.logarithm = E.log = function(e2) {
      var t3, r2, n2, i2, a2, s2, o2, u2, c2 = this.constructor, l2 = c2.precision, h2 = c2.rounding;
      if (e2 == null)
        e2 = new c2(10), t3 = true;
      else {
        if (r2 = (e2 = new c2(e2)).d, e2.s < 0 || !r2 || !r2[0] || e2.eq(1))
          return new c2(NaN);
        t3 = e2.eq(10);
      }
      if (r2 = this.d, this.s < 0 || !r2 || !r2[0] || this.eq(1))
        return new c2(r2 && !r2[0] ? -1 / 0 : this.s != 1 ? NaN : r2 ? 0 : 1 / 0);
      if (t3)
        if (r2.length > 1)
          a2 = true;
        else {
          for (i2 = r2[0]; i2 % 10 == 0; )
            i2 /= 10;
          a2 = i2 !== 1;
        }
      if (p = false, s2 = U(this, o2 = l2 + 5), n2 = t3 ? D(c2, o2 + 10) : U(e2, o2), A((u2 = I(s2, n2, o2, 1)).d, i2 = l2, h2))
        do {
          if (s2 = U(this, o2 += 10), n2 = t3 ? D(c2, o2 + 10) : U(e2, o2), u2 = I(s2, n2, o2, 1), !a2) {
            +x(u2.d).slice(i2 + 1, i2 + 15) + 1 == 1e14 && (u2 = N(u2, l2 + 1, 0));
            break;
          }
        } while (A(u2.d, i2 += 10, h2));
      return p = true, N(u2, l2, h2);
    }, E.minus = E.sub = function(e2) {
      var t3, r2, n2, i2, a2, s2, o2, u2, c2, l2, h2, d2, f2 = this, m2 = f2.constructor;
      if (e2 = new m2(e2), !f2.d || !e2.d)
        return f2.s && e2.s ? f2.d ? e2.s = -e2.s : e2 = new m2(e2.d || f2.s !== e2.s ? f2 : NaN) : e2 = new m2(NaN), e2;
      if (f2.s != e2.s)
        return e2.s = -e2.s, f2.plus(e2);
      if (c2 = f2.d, d2 = e2.d, o2 = m2.precision, u2 = m2.rounding, !c2[0] || !d2[0]) {
        if (d2[0])
          e2.s = -e2.s;
        else {
          if (!c2[0])
            return new m2(u2 === 3 ? -0 : 0);
          e2 = new m2(f2);
        }
        return p ? N(e2, o2, u2) : e2;
      }
      if (r2 = g(e2.e / 7), l2 = g(f2.e / 7), c2 = c2.slice(), a2 = l2 - r2) {
        for ((h2 = a2 < 0) ? (t3 = c2, a2 = -a2, s2 = d2.length) : (t3 = d2, r2 = l2, s2 = c2.length), a2 > (n2 = Math.max(Math.ceil(o2 / 7), s2) + 2) && (a2 = n2, t3.length = 1), t3.reverse(), n2 = a2; n2--; )
          t3.push(0);
        t3.reverse();
      } else {
        for ((h2 = (n2 = c2.length) < (s2 = d2.length)) && (s2 = n2), n2 = 0; n2 < s2; n2++)
          if (c2[n2] != d2[n2]) {
            h2 = c2[n2] < d2[n2];
            break;
          }
        a2 = 0;
      }
      for (h2 && (t3 = c2, c2 = d2, d2 = t3, e2.s = -e2.s), s2 = c2.length, n2 = d2.length - s2; n2 > 0; --n2)
        c2[s2++] = 0;
      for (n2 = d2.length; n2 > a2; ) {
        if (c2[--n2] < d2[n2]) {
          for (i2 = n2; i2 && c2[--i2] === 0; )
            c2[i2] = w - 1;
          --c2[i2], c2[n2] += w;
        }
        c2[n2] -= d2[n2];
      }
      for (; c2[--s2] === 0; )
        c2.pop();
      for (; c2[0] === 0; c2.shift())
        --r2;
      return c2[0] ? (e2.d = c2, e2.e = C(c2, r2), p ? N(e2, o2, u2) : e2) : new m2(u2 === 3 ? -0 : 0);
    }, E.modulo = E.mod = function(e2) {
      var t3, r2 = this, n2 = r2.constructor;
      return e2 = new n2(e2), !r2.d || !e2.s || e2.d && !e2.d[0] ? new n2(NaN) : !e2.d || r2.d && !r2.d[0] ? N(new n2(r2), n2.precision, n2.rounding) : (p = false, n2.modulo == 9 ? (t3 = I(r2, e2.abs(), 0, 3, 1)).s *= e2.s : t3 = I(r2, e2, 0, n2.modulo, 1), t3 = t3.times(e2), p = true, r2.minus(t3));
    }, E.naturalExponential = E.exp = function() {
      return q(this);
    }, E.naturalLogarithm = E.ln = function() {
      return U(this);
    }, E.negated = E.neg = function() {
      var e2 = new this.constructor(this);
      return e2.s = -e2.s, N(e2);
    }, E.plus = E.add = function(e2) {
      var t3, r2, n2, i2, a2, s2, o2, u2, c2, l2, h2 = this, d2 = h2.constructor;
      if (e2 = new d2(e2), !h2.d || !e2.d)
        return h2.s && e2.s ? h2.d || (e2 = new d2(e2.d || h2.s === e2.s ? h2 : NaN)) : e2 = new d2(NaN), e2;
      if (h2.s != e2.s)
        return e2.s = -e2.s, h2.minus(e2);
      if (c2 = h2.d, l2 = e2.d, o2 = d2.precision, u2 = d2.rounding, !c2[0] || !l2[0])
        return l2[0] || (e2 = new d2(h2)), p ? N(e2, o2, u2) : e2;
      if (a2 = g(h2.e / 7), n2 = g(e2.e / 7), c2 = c2.slice(), i2 = a2 - n2) {
        for (i2 < 0 ? (r2 = c2, i2 = -i2, s2 = l2.length) : (r2 = l2, n2 = a2, s2 = c2.length), i2 > (s2 = (a2 = Math.ceil(o2 / 7)) > s2 ? a2 + 1 : s2 + 1) && (i2 = s2, r2.length = 1), r2.reverse(); i2--; )
          r2.push(0);
        r2.reverse();
      }
      for ((s2 = c2.length) - (i2 = l2.length) < 0 && (i2 = s2, r2 = l2, l2 = c2, c2 = r2), t3 = 0; i2; )
        t3 = (c2[--i2] = c2[i2] + l2[i2] + t3) / w | 0, c2[i2] %= w;
      for (t3 && (c2.unshift(t3), ++n2), s2 = c2.length; c2[--s2] == 0; )
        c2.pop();
      return e2.d = c2, e2.e = C(c2, n2), p ? N(e2, o2, u2) : e2;
    }, E.precision = E.sd = function(e2) {
      var t3, r2 = this;
      if (e2 !== void 0 && e2 !== !!e2 && e2 !== 1 && e2 !== 0)
        throw Error(f + e2);
      return r2.d ? (t3 = k(r2.d), e2 && r2.e + 1 > t3 && (t3 = r2.e + 1)) : t3 = NaN, t3;
    }, E.round = function() {
      var e2 = this, t3 = e2.constructor;
      return N(new t3(e2), e2.e + 1, t3.rounding);
    }, E.sine = E.sin = function() {
      var e2, t3, r2 = this, n2 = r2.constructor;
      return r2.isFinite() ? r2.isZero() ? new n2(r2) : (e2 = n2.precision, t3 = n2.rounding, n2.precision = e2 + Math.max(r2.e, r2.sd()) + 7, n2.rounding = 1, r2 = function(e3, t4) {
        var r3, n3 = t4.d.length;
        if (n3 < 3)
          return z(e3, 2, t4, t4);
        r3 = (r3 = 1.4 * Math.sqrt(n3)) > 16 ? 16 : 0 | r3, t4 = t4.times(1 / Q(5, r3)), t4 = z(e3, 2, t4, t4);
        for (var i2, a2 = new e3(5), s2 = new e3(16), o2 = new e3(20); r3--; )
          i2 = t4.times(t4), t4 = t4.times(a2.plus(i2.times(s2.times(i2).minus(o2))));
        return t4;
      }(n2, X(n2, r2)), n2.precision = e2, n2.rounding = t3, N(o > 2 ? r2.neg() : r2, e2, t3, true)) : new n2(NaN);
    }, E.squareRoot = E.sqrt = function() {
      var e2, t3, r2, n2, i2, a2, s2 = this, o2 = s2.d, u2 = s2.e, c2 = s2.s, l2 = s2.constructor;
      if (c2 !== 1 || !o2 || !o2[0])
        return new l2(!c2 || c2 < 0 && (!o2 || o2[0]) ? NaN : o2 ? s2 : 1 / 0);
      for (p = false, (c2 = Math.sqrt(+s2)) == 0 || c2 == 1 / 0 ? (((t3 = x(o2)).length + u2) % 2 == 0 && (t3 += "0"), c2 = Math.sqrt(t3), u2 = g((u2 + 1) / 2) - (u2 < 0 || u2 % 2), n2 = new l2(t3 = c2 == 1 / 0 ? "5e" + u2 : (t3 = c2.toExponential()).slice(0, t3.indexOf("e") + 1) + u2)) : n2 = new l2(c2.toString()), r2 = (u2 = l2.precision) + 3; ; )
        if (n2 = (a2 = n2).plus(I(s2, a2, r2 + 2, 1)).times(0.5), x(a2.d).slice(0, r2) === (t3 = x(n2.d)).slice(0, r2)) {
          if ((t3 = t3.slice(r2 - 3, r2 + 1)) != "9999" && (i2 || t3 != "4999")) {
            +t3 && (+t3.slice(1) || t3.charAt(0) != "5") || (N(n2, u2 + 1, 1), e2 = !n2.times(n2).eq(s2));
            break;
          }
          if (!i2 && (N(a2, u2 + 1, 0), a2.times(a2).eq(s2))) {
            n2 = a2;
            break;
          }
          r2 += 4, i2 = 1;
        }
      return p = true, N(n2, u2, l2.rounding, e2);
    }, E.tangent = E.tan = function() {
      var e2, t3, r2 = this, n2 = r2.constructor;
      return r2.isFinite() ? r2.isZero() ? new n2(r2) : (e2 = n2.precision, t3 = n2.rounding, n2.precision = e2 + 10, n2.rounding = 1, (r2 = r2.sin()).s = 1, r2 = I(r2, new n2(1).minus(r2.times(r2)).sqrt(), e2 + 10, 0), n2.precision = e2, n2.rounding = t3, N(o == 2 || o == 4 ? r2.neg() : r2, e2, t3, true)) : new n2(NaN);
    }, E.times = E.mul = function(e2) {
      var t3, r2, n2, i2, a2, s2, o2, u2, c2, l2 = this, h2 = l2.constructor, d2 = l2.d, f2 = (e2 = new h2(e2)).d;
      if (e2.s *= l2.s, !(d2 && d2[0] && f2 && f2[0]))
        return new h2(!e2.s || d2 && !d2[0] && !f2 || f2 && !f2[0] && !d2 ? NaN : d2 && f2 ? 0 * e2.s : e2.s / 0);
      for (r2 = g(l2.e / 7) + g(e2.e / 7), (u2 = d2.length) < (c2 = f2.length) && (a2 = d2, d2 = f2, f2 = a2, s2 = u2, u2 = c2, c2 = s2), a2 = [], n2 = s2 = u2 + c2; n2--; )
        a2.push(0);
      for (n2 = c2; --n2 >= 0; ) {
        for (t3 = 0, i2 = u2 + n2; i2 > n2; )
          o2 = a2[i2] + f2[n2] * d2[i2 - n2 - 1] + t3, a2[i2--] = o2 % w | 0, t3 = o2 / w | 0;
        a2[i2] = (a2[i2] + t3) % w | 0;
      }
      for (; !a2[--s2]; )
        a2.pop();
      return t3 ? ++r2 : a2.shift(), e2.d = a2, e2.e = C(a2, r2), p ? N(e2, h2.precision, h2.rounding) : e2;
    }, E.toBinary = function(e2, t3) {
      return $(this, 2, e2, t3);
    }, E.toDecimalPlaces = E.toDP = function(e2, t3) {
      var r2 = this, n2 = r2.constructor;
      return r2 = new n2(r2), e2 === void 0 ? r2 : (O(e2, 0, 1e9), t3 === void 0 ? t3 = n2.rounding : O(t3, 0, 8), N(r2, e2 + r2.e + 1, t3));
    }, E.toExponential = function(e2, t3) {
      var r2, n2 = this, i2 = n2.constructor;
      return e2 === void 0 ? r2 = P(n2, true) : (O(e2, 0, 1e9), t3 === void 0 ? t3 = i2.rounding : O(t3, 0, 8), r2 = P(n2 = N(new i2(n2), e2 + 1, t3), true, e2 + 1)), n2.isNeg() && !n2.isZero() ? "-" + r2 : r2;
    }, E.toFixed = function(e2, t3) {
      var r2, n2, i2 = this, a2 = i2.constructor;
      return e2 === void 0 ? r2 = P(i2) : (O(e2, 0, 1e9), t3 === void 0 ? t3 = a2.rounding : O(t3, 0, 8), r2 = P(n2 = N(new a2(i2), e2 + i2.e + 1, t3), false, e2 + n2.e + 1)), i2.isNeg() && !i2.isZero() ? "-" + r2 : r2;
    }, E.toFraction = function(e2) {
      var t3, r2, n2, i2, a2, s2, o2, u2, c2, l2, h2, d2, g2 = this, y2 = g2.d, b2 = g2.constructor;
      if (!y2)
        return new b2(g2);
      if (c2 = r2 = new b2(1), n2 = u2 = new b2(0), s2 = (a2 = (t3 = new b2(n2)).e = k(y2) - g2.e - 1) % 7, t3.d[0] = m(10, s2 < 0 ? 7 + s2 : s2), e2 == null)
        e2 = a2 > 0 ? t3 : c2;
      else {
        if (!(o2 = new b2(e2)).isInt() || o2.lt(c2))
          throw Error(f + o2);
        e2 = o2.gt(t3) ? a2 > 0 ? t3 : c2 : o2;
      }
      for (p = false, o2 = new b2(x(y2)), l2 = b2.precision, b2.precision = a2 = 7 * y2.length * 2; h2 = I(o2, t3, 0, 1, 1), (i2 = r2.plus(h2.times(n2))).cmp(e2) != 1; )
        r2 = n2, n2 = i2, i2 = c2, c2 = u2.plus(h2.times(i2)), u2 = i2, i2 = t3, t3 = o2.minus(h2.times(i2)), o2 = i2;
      return i2 = I(e2.minus(r2), n2, 0, 1, 1), u2 = u2.plus(i2.times(c2)), r2 = r2.plus(i2.times(n2)), u2.s = c2.s = g2.s, d2 = I(c2, n2, a2, 1).minus(g2).abs().cmp(I(u2, r2, a2, 1).minus(g2).abs()) < 1 ? [c2, n2] : [u2, r2], b2.precision = l2, p = true, d2;
    }, E.toHexadecimal = E.toHex = function(e2, t3) {
      return $(this, 16, e2, t3);
    }, E.toNearest = function(e2, t3) {
      var r2 = this, n2 = r2.constructor;
      if (r2 = new n2(r2), e2 == null) {
        if (!r2.d)
          return r2;
        e2 = new n2(1), t3 = n2.rounding;
      } else {
        if (e2 = new n2(e2), t3 === void 0 ? t3 = n2.rounding : O(t3, 0, 8), !r2.d)
          return e2.s ? r2 : e2;
        if (!e2.d)
          return e2.s && (e2.s = r2.s), e2;
      }
      return e2.d[0] ? (p = false, r2 = I(r2, e2, 0, t3, 1).times(e2), p = true, N(r2)) : (e2.s = r2.s, r2 = e2), r2;
    }, E.toNumber = function() {
      return +this;
    }, E.toOctal = function(e2, t3) {
      return $(this, 8, e2, t3);
    }, E.toPower = E.pow = function(e2) {
      var t3, r2, n2, i2, a2, s2, o2 = this, u2 = o2.constructor, c2 = +(e2 = new u2(e2));
      if (!(o2.d && e2.d && o2.d[0] && e2.d[0]))
        return new u2(m(+o2, c2));
      if ((o2 = new u2(o2)).eq(1))
        return o2;
      if (n2 = u2.precision, a2 = u2.rounding, e2.eq(1))
        return N(o2, n2, a2);
      if ((t3 = g(e2.e / 7)) >= e2.d.length - 1 && (r2 = c2 < 0 ? -c2 : c2) <= 9007199254740991)
        return i2 = M(u2, o2, r2, n2), e2.s < 0 ? new u2(1).div(i2) : N(i2, n2, a2);
      if ((s2 = o2.s) < 0) {
        if (t3 < e2.d.length - 1)
          return new u2(NaN);
        if ((1 & e2.d[t3]) == 0 && (s2 = 1), o2.e == 0 && o2.d[0] == 1 && o2.d.length == 1)
          return o2.s = s2, o2;
      }
      return (t3 = (r2 = m(+o2, c2)) != 0 && isFinite(r2) ? new u2(r2 + "").e : g(c2 * (Math.log("0." + x(o2.d)) / Math.LN10 + o2.e + 1))) > u2.maxE + 1 || t3 < u2.minE - 1 ? new u2(t3 > 0 ? s2 / 0 : 0) : (p = false, u2.rounding = o2.s = 1, r2 = Math.min(12, (t3 + "").length), (i2 = q(e2.times(U(o2, n2 + r2)), n2)).d && A((i2 = N(i2, n2 + 5, 1)).d, n2, a2) && (t3 = n2 + 10, +x((i2 = N(q(e2.times(U(o2, t3 + r2)), t3), t3 + 5, 1)).d).slice(n2 + 1, n2 + 15) + 1 == 1e14 && (i2 = N(i2, n2 + 1, 0))), i2.s = s2, p = true, u2.rounding = a2, N(i2, n2, a2));
    }, E.toPrecision = function(e2, t3) {
      var r2, n2 = this, i2 = n2.constructor;
      return e2 === void 0 ? r2 = P(n2, n2.e <= i2.toExpNeg || n2.e >= i2.toExpPos) : (O(e2, 1, 1e9), t3 === void 0 ? t3 = i2.rounding : O(t3, 0, 8), r2 = P(n2 = N(new i2(n2), e2, t3), e2 <= n2.e || n2.e <= i2.toExpNeg, e2)), n2.isNeg() && !n2.isZero() ? "-" + r2 : r2;
    }, E.toSignificantDigits = E.toSD = function(e2, t3) {
      var r2 = this.constructor;
      return e2 === void 0 ? (e2 = r2.precision, t3 = r2.rounding) : (O(e2, 1, 1e9), t3 === void 0 ? t3 = r2.rounding : O(t3, 0, 8)), N(new r2(this), e2, t3);
    }, E.toString = function() {
      var e2 = this, t3 = e2.constructor, r2 = P(e2, e2.e <= t3.toExpNeg || e2.e >= t3.toExpPos);
      return e2.isNeg() && !e2.isZero() ? "-" + r2 : r2;
    }, E.truncated = E.trunc = function() {
      return N(new this.constructor(this), this.e + 1, 1);
    }, E.valueOf = E.toJSON = function() {
      var e2 = this, t3 = e2.constructor, r2 = P(e2, e2.e <= t3.toExpNeg || e2.e >= t3.toExpPos);
      return e2.isNeg() ? "-" + r2 : r2;
    };
    var I = function() {
      function e2(e3, t4, r3) {
        var n2, i2 = 0, a2 = e3.length;
        for (e3 = e3.slice(); a2--; )
          n2 = e3[a2] * t4 + i2, e3[a2] = n2 % r3 | 0, i2 = n2 / r3 | 0;
        return i2 && e3.unshift(i2), e3;
      }
      function t3(e3, t4, r3, n2) {
        var i2, a2;
        if (r3 != n2)
          a2 = r3 > n2 ? 1 : -1;
        else
          for (i2 = a2 = 0; i2 < r3; i2++)
            if (e3[i2] != t4[i2]) {
              a2 = e3[i2] > t4[i2] ? 1 : -1;
              break;
            }
        return a2;
      }
      function r2(e3, t4, r3, n2) {
        for (var i2 = 0; r3--; )
          e3[r3] -= i2, i2 = e3[r3] < t4[r3] ? 1 : 0, e3[r3] = i2 * n2 + e3[r3] - t4[r3];
        for (; !e3[0] && e3.length > 1; )
          e3.shift();
      }
      return function(n2, i2, a2, o2, u2, c2) {
        var l2, h2, d2, p2, f2, m2, y2, b2, _2, v2, S2, T2, E2, x2, O2, A2, R2, I2, P2, C2, D2 = n2.constructor, j2 = n2.s == i2.s ? 1 : -1, k2 = n2.d, L2 = i2.d;
        if (!(k2 && k2[0] && L2 && L2[0]))
          return new D2(n2.s && i2.s && (k2 ? !L2 || k2[0] != L2[0] : L2) ? k2 && k2[0] == 0 || !L2 ? 0 * j2 : j2 / 0 : NaN);
        for (c2 ? (f2 = 1, h2 = n2.e - i2.e) : (c2 = w, f2 = 7, h2 = g(n2.e / f2) - g(i2.e / f2)), P2 = L2.length, R2 = k2.length, v2 = (_2 = new D2(j2)).d = [], d2 = 0; L2[d2] == (k2[d2] || 0); d2++)
          ;
        if (L2[d2] > (k2[d2] || 0) && h2--, a2 == null ? (x2 = a2 = D2.precision, o2 = D2.rounding) : x2 = u2 ? a2 + (n2.e - i2.e) + 1 : a2, x2 < 0)
          v2.push(1), m2 = true;
        else {
          if (x2 = x2 / f2 + 2 | 0, d2 = 0, P2 == 1) {
            for (p2 = 0, L2 = L2[0], x2++; (d2 < R2 || p2) && x2--; d2++)
              O2 = p2 * c2 + (k2[d2] || 0), v2[d2] = O2 / L2 | 0, p2 = O2 % L2 | 0;
            m2 = p2 || d2 < R2;
          } else {
            for ((p2 = c2 / (L2[0] + 1) | 0) > 1 && (L2 = e2(L2, p2, c2), k2 = e2(k2, p2, c2), P2 = L2.length, R2 = k2.length), A2 = P2, T2 = (S2 = k2.slice(0, P2)).length; T2 < P2; )
              S2[T2++] = 0;
            (C2 = L2.slice()).unshift(0), I2 = L2[0], L2[1] >= c2 / 2 && ++I2;
            do {
              p2 = 0, (l2 = t3(L2, S2, P2, T2)) < 0 ? (E2 = S2[0], P2 != T2 && (E2 = E2 * c2 + (S2[1] || 0)), (p2 = E2 / I2 | 0) > 1 ? (p2 >= c2 && (p2 = c2 - 1), (l2 = t3(y2 = e2(L2, p2, c2), S2, b2 = y2.length, T2 = S2.length)) == 1 && (p2--, r2(y2, P2 < b2 ? C2 : L2, b2, c2))) : (p2 == 0 && (l2 = p2 = 1), y2 = L2.slice()), (b2 = y2.length) < T2 && y2.unshift(0), r2(S2, y2, T2, c2), l2 == -1 && (l2 = t3(L2, S2, P2, T2 = S2.length)) < 1 && (p2++, r2(S2, P2 < T2 ? C2 : L2, T2, c2)), T2 = S2.length) : l2 === 0 && (p2++, S2 = [0]), v2[d2++] = p2, l2 && S2[0] ? S2[T2++] = k2[A2] || 0 : (S2 = [k2[A2]], T2 = 1);
            } while ((A2++ < R2 || S2[0] !== void 0) && x2--);
            m2 = S2[0] !== void 0;
          }
          v2[0] || v2.shift();
        }
        if (f2 == 1)
          _2.e = h2, s = m2;
        else {
          for (d2 = 1, p2 = v2[0]; p2 >= 10; p2 /= 10)
            d2++;
          _2.e = d2 + h2 * f2 - 1, N(_2, u2 ? a2 + _2.e + 1 : a2, o2, m2);
        }
        return _2;
      };
    }();
    function N(e2, t3, r2, n2) {
      var i2, a2, s2, o2, u2, c2, l2, h2, d2, f2 = e2.constructor;
      e:
        if (t3 != null) {
          if (!(h2 = e2.d))
            return e2;
          for (i2 = 1, o2 = h2[0]; o2 >= 10; o2 /= 10)
            i2++;
          if ((a2 = t3 - i2) < 0)
            a2 += 7, s2 = t3, u2 = (l2 = h2[d2 = 0]) / m(10, i2 - s2 - 1) % 10 | 0;
          else if ((d2 = Math.ceil((a2 + 1) / 7)) >= (o2 = h2.length)) {
            if (!n2)
              break e;
            for (; o2++ <= d2; )
              h2.push(0);
            l2 = u2 = 0, i2 = 1, s2 = (a2 %= 7) - 7 + 1;
          } else {
            for (l2 = o2 = h2[d2], i2 = 1; o2 >= 10; o2 /= 10)
              i2++;
            u2 = (s2 = (a2 %= 7) - 7 + i2) < 0 ? 0 : l2 / m(10, i2 - s2 - 1) % 10 | 0;
          }
          if (n2 = n2 || t3 < 0 || h2[d2 + 1] !== void 0 || (s2 < 0 ? l2 : l2 % m(10, i2 - s2 - 1)), c2 = r2 < 4 ? (u2 || n2) && (r2 == 0 || r2 == (e2.s < 0 ? 3 : 2)) : u2 > 5 || u2 == 5 && (r2 == 4 || n2 || r2 == 6 && (a2 > 0 ? s2 > 0 ? l2 / m(10, i2 - s2) : 0 : h2[d2 - 1]) % 10 & 1 || r2 == (e2.s < 0 ? 8 : 7)), t3 < 1 || !h2[0])
            return h2.length = 0, c2 ? (t3 -= e2.e + 1, h2[0] = m(10, (7 - t3 % 7) % 7), e2.e = -t3 || 0) : h2[0] = e2.e = 0, e2;
          if (a2 == 0 ? (h2.length = d2, o2 = 1, d2--) : (h2.length = d2 + 1, o2 = m(10, 7 - a2), h2[d2] = s2 > 0 ? (l2 / m(10, i2 - s2) % m(10, s2) | 0) * o2 : 0), c2)
            for (; ; ) {
              if (d2 == 0) {
                for (a2 = 1, s2 = h2[0]; s2 >= 10; s2 /= 10)
                  a2++;
                for (s2 = h2[0] += o2, o2 = 1; s2 >= 10; s2 /= 10)
                  o2++;
                a2 != o2 && (e2.e++, h2[0] == w && (h2[0] = 1));
                break;
              }
              if (h2[d2] += o2, h2[d2] != w)
                break;
              h2[d2--] = 0, o2 = 1;
            }
          for (a2 = h2.length; h2[--a2] === 0; )
            h2.pop();
        }
      return p && (e2.e > f2.maxE ? (e2.d = null, e2.e = NaN) : e2.e < f2.minE && (e2.e = 0, e2.d = [0])), e2;
    }
    function P(e2, t3, r2) {
      if (!e2.isFinite())
        return V(e2);
      var n2, i2 = e2.e, a2 = x(e2.d), s2 = a2.length;
      return t3 ? (r2 && (n2 = r2 - s2) > 0 ? a2 = a2.charAt(0) + "." + a2.slice(1) + L(n2) : s2 > 1 && (a2 = a2.charAt(0) + "." + a2.slice(1)), a2 = a2 + (e2.e < 0 ? "e" : "e+") + e2.e) : i2 < 0 ? (a2 = "0." + L(-i2 - 1) + a2, r2 && (n2 = r2 - s2) > 0 && (a2 += L(n2))) : i2 >= s2 ? (a2 += L(i2 + 1 - s2), r2 && (n2 = r2 - i2 - 1) > 0 && (a2 = a2 + "." + L(n2))) : ((n2 = i2 + 1) < s2 && (a2 = a2.slice(0, n2) + "." + a2.slice(n2)), r2 && (n2 = r2 - s2) > 0 && (i2 + 1 === s2 && (a2 += "."), a2 += L(n2))), a2;
    }
    function C(e2, t3) {
      var r2 = e2[0];
      for (t3 *= 7; r2 >= 10; r2 /= 10)
        t3++;
      return t3;
    }
    function D(e2, t3, r2) {
      if (t3 > S)
        throw p = true, r2 && (e2.precision = r2), Error("[DecimalError] Precision limit exceeded");
      return N(new e2(l), t3, 1, true);
    }
    function j(e2, t3, r2) {
      if (t3 > T)
        throw Error("[DecimalError] Precision limit exceeded");
      return N(new e2(h), t3, r2, true);
    }
    function k(e2) {
      var t3 = e2.length - 1, r2 = 7 * t3 + 1;
      if (t3 = e2[t3]) {
        for (; t3 % 10 == 0; t3 /= 10)
          r2--;
        for (t3 = e2[0]; t3 >= 10; t3 /= 10)
          r2++;
      }
      return r2;
    }
    function L(e2) {
      for (var t3 = ""; e2--; )
        t3 += "0";
      return t3;
    }
    function M(e2, t3, r2, n2) {
      var i2, a2 = new e2(1), s2 = Math.ceil(n2 / 7 + 4);
      for (p = false; ; ) {
        if (r2 % 2 && Y((a2 = a2.times(t3)).d, s2) && (i2 = true), (r2 = g(r2 / 2)) === 0) {
          r2 = a2.d.length - 1, i2 && a2.d[r2] === 0 && ++a2.d[r2];
          break;
        }
        Y((t3 = t3.times(t3)).d, s2);
      }
      return p = true, a2;
    }
    function F(e2) {
      return 1 & e2.d[e2.d.length - 1];
    }
    function B(e2, t3, r2) {
      for (var n2, i2 = new e2(t3[0]), a2 = 0; ++a2 < t3.length; ) {
        if (!(n2 = new e2(t3[a2])).s) {
          i2 = n2;
          break;
        }
        i2[r2](n2) && (i2 = n2);
      }
      return i2;
    }
    function q(e2, t3) {
      var r2, n2, i2, a2, s2, o2, u2, c2 = 0, l2 = 0, h2 = 0, d2 = e2.constructor, f2 = d2.rounding, g2 = d2.precision;
      if (!e2.d || !e2.d[0] || e2.e > 17)
        return new d2(e2.d ? e2.d[0] ? e2.s < 0 ? 0 : 1 / 0 : 1 : e2.s ? e2.s < 0 ? 0 : e2 : NaN);
      for (t3 == null ? (p = false, u2 = g2) : u2 = t3, o2 = new d2(0.03125); e2.e > -2; )
        e2 = e2.times(o2), h2 += 5;
      for (u2 += n2 = Math.log(m(2, h2)) / Math.LN10 * 2 + 5 | 0, r2 = a2 = s2 = new d2(1), d2.precision = u2; ; ) {
        if (a2 = N(a2.times(e2), u2, 1), r2 = r2.times(++l2), x((o2 = s2.plus(I(a2, r2, u2, 1))).d).slice(0, u2) === x(s2.d).slice(0, u2)) {
          for (i2 = h2; i2--; )
            s2 = N(s2.times(s2), u2, 1);
          if (t3 != null)
            return d2.precision = g2, s2;
          if (!(c2 < 3 && A(s2.d, u2 - n2, f2, c2)))
            return N(s2, d2.precision = g2, f2, p = true);
          d2.precision = u2 += 10, r2 = a2 = o2 = new d2(1), l2 = 0, c2++;
        }
        s2 = o2;
      }
    }
    function U(e2, t3) {
      var r2, n2, i2, a2, s2, o2, u2, c2, l2, h2, d2, f2 = 1, g2 = e2, m2 = g2.d, y2 = g2.constructor, b2 = y2.rounding, _2 = y2.precision;
      if (g2.s < 0 || !m2 || !m2[0] || !g2.e && m2[0] == 1 && m2.length == 1)
        return new y2(m2 && !m2[0] ? -1 / 0 : g2.s != 1 ? NaN : m2 ? 0 : g2);
      if (t3 == null ? (p = false, l2 = _2) : l2 = t3, y2.precision = l2 += 10, n2 = (r2 = x(m2)).charAt(0), !(Math.abs(a2 = g2.e) < 15e14))
        return c2 = D(y2, l2 + 2, _2).times(a2 + ""), g2 = U(new y2(n2 + "." + r2.slice(1)), l2 - 10).plus(c2), y2.precision = _2, t3 == null ? N(g2, _2, b2, p = true) : g2;
      for (; n2 < 7 && n2 != 1 || n2 == 1 && r2.charAt(1) > 3; )
        n2 = (r2 = x((g2 = g2.times(e2)).d)).charAt(0), f2++;
      for (a2 = g2.e, n2 > 1 ? (g2 = new y2("0." + r2), a2++) : g2 = new y2(n2 + "." + r2.slice(1)), h2 = g2, u2 = s2 = g2 = I(g2.minus(1), g2.plus(1), l2, 1), d2 = N(g2.times(g2), l2, 1), i2 = 3; ; ) {
        if (s2 = N(s2.times(d2), l2, 1), x((c2 = u2.plus(I(s2, new y2(i2), l2, 1))).d).slice(0, l2) === x(u2.d).slice(0, l2)) {
          if (u2 = u2.times(2), a2 !== 0 && (u2 = u2.plus(D(y2, l2 + 2, _2).times(a2 + ""))), u2 = I(u2, new y2(f2), l2, 1), t3 != null)
            return y2.precision = _2, u2;
          if (!A(u2.d, l2 - 10, b2, o2))
            return N(u2, y2.precision = _2, b2, p = true);
          y2.precision = l2 += 10, c2 = s2 = g2 = I(h2.minus(1), h2.plus(1), l2, 1), d2 = N(g2.times(g2), l2, 1), i2 = o2 = 1;
        }
        u2 = c2, i2 += 2;
      }
    }
    function V(e2) {
      return String(e2.s * e2.s / 0);
    }
    function H(e2, t3) {
      var r2, n2, i2;
      for ((r2 = t3.indexOf(".")) > -1 && (t3 = t3.replace(".", "")), (n2 = t3.search(/e/i)) > 0 ? (r2 < 0 && (r2 = n2), r2 += +t3.slice(n2 + 1), t3 = t3.substring(0, n2)) : r2 < 0 && (r2 = t3.length), n2 = 0; t3.charCodeAt(n2) === 48; n2++)
        ;
      for (i2 = t3.length; t3.charCodeAt(i2 - 1) === 48; --i2)
        ;
      if (t3 = t3.slice(n2, i2)) {
        if (i2 -= n2, e2.e = r2 = r2 - n2 - 1, e2.d = [], n2 = (r2 + 1) % 7, r2 < 0 && (n2 += 7), n2 < i2) {
          for (n2 && e2.d.push(+t3.slice(0, n2)), i2 -= 7; n2 < i2; )
            e2.d.push(+t3.slice(n2, n2 += 7));
          n2 = 7 - (t3 = t3.slice(n2)).length;
        } else
          n2 -= i2;
        for (; n2--; )
          t3 += "0";
        e2.d.push(+t3), p && (e2.e > e2.constructor.maxE ? (e2.d = null, e2.e = NaN) : e2.e < e2.constructor.minE && (e2.e = 0, e2.d = [0]));
      } else
        e2.e = 0, e2.d = [0];
      return e2;
    }
    function G(e2, t3) {
      var r2, n2, i2, s2, o2, u2, c2, l2, h2;
      if (t3 === "Infinity" || t3 === "NaN")
        return +t3 || (e2.s = NaN), e2.e = NaN, e2.d = null, e2;
      if (b.test(t3))
        r2 = 16, t3 = t3.toLowerCase();
      else if (y.test(t3))
        r2 = 2;
      else {
        if (!_.test(t3))
          throw Error(f + t3);
        r2 = 8;
      }
      for ((s2 = t3.search(/p/i)) > 0 ? (c2 = +t3.slice(s2 + 1), t3 = t3.substring(2, s2)) : t3 = t3.slice(2), o2 = (s2 = t3.indexOf(".")) >= 0, n2 = e2.constructor, o2 && (s2 = (u2 = (t3 = t3.replace(".", "")).length) - s2, i2 = M(n2, new n2(r2), s2, 2 * s2)), s2 = h2 = (l2 = R(t3, r2, w)).length - 1; l2[s2] === 0; --s2)
        l2.pop();
      return s2 < 0 ? new n2(0 * e2.s) : (e2.e = C(l2, h2), e2.d = l2, p = false, o2 && (e2 = I(e2, i2, 4 * u2)), c2 && (e2 = e2.times(Math.abs(c2) < 54 ? m(2, c2) : a.pow(2, c2))), p = true, e2);
    }
    function z(e2, t3, r2, n2, i2) {
      var a2, s2, o2, u2, c2 = e2.precision, l2 = Math.ceil(c2 / 7);
      for (p = false, u2 = r2.times(r2), o2 = new e2(n2); ; ) {
        if (s2 = I(o2.times(u2), new e2(t3++ * t3++), c2, 1), o2 = i2 ? n2.plus(s2) : n2.minus(s2), n2 = I(s2.times(u2), new e2(t3++ * t3++), c2, 1), (s2 = o2.plus(n2)).d[l2] !== void 0) {
          for (a2 = l2; s2.d[a2] === o2.d[a2] && a2--; )
            ;
          if (a2 == -1)
            break;
        }
        a2 = o2, o2 = n2, n2 = s2, s2 = a2;
      }
      return p = true, s2.d.length = l2 + 1, s2;
    }
    function Q(e2, t3) {
      for (var r2 = e2; --t3; )
        r2 *= e2;
      return r2;
    }
    function X(e2, t3) {
      var r2, n2 = t3.s < 0, i2 = j(e2, e2.precision, 1), a2 = i2.times(0.5);
      if ((t3 = t3.abs()).lte(a2))
        return o = n2 ? 4 : 1, t3;
      if ((r2 = t3.divToInt(i2)).isZero())
        o = n2 ? 3 : 2;
      else {
        if ((t3 = t3.minus(r2.times(i2))).lte(a2))
          return o = F(r2) ? n2 ? 2 : 3 : n2 ? 4 : 1, t3;
        o = F(r2) ? n2 ? 1 : 4 : n2 ? 3 : 2;
      }
      return t3.minus(i2).abs();
    }
    function $(e2, t3, r2, n2) {
      var i2, a2, o2, u2, l2, h2, d2, p2, f2, g2 = e2.constructor, m2 = r2 !== void 0;
      if (m2 ? (O(r2, 1, 1e9), n2 === void 0 ? n2 = g2.rounding : O(n2, 0, 8)) : (r2 = g2.precision, n2 = g2.rounding), e2.isFinite()) {
        for (m2 ? (i2 = 2, t3 == 16 ? r2 = 4 * r2 - 3 : t3 == 8 && (r2 = 3 * r2 - 2)) : i2 = t3, (o2 = (d2 = P(e2)).indexOf(".")) >= 0 && (d2 = d2.replace(".", ""), (f2 = new g2(1)).e = d2.length - o2, f2.d = R(P(f2), 10, i2), f2.e = f2.d.length), a2 = l2 = (p2 = R(d2, 10, i2)).length; p2[--l2] == 0; )
          p2.pop();
        if (p2[0]) {
          if (o2 < 0 ? a2-- : ((e2 = new g2(e2)).d = p2, e2.e = a2, p2 = (e2 = I(e2, f2, r2, n2, 0, i2)).d, a2 = e2.e, h2 = s), o2 = p2[r2], u2 = i2 / 2, h2 = h2 || p2[r2 + 1] !== void 0, h2 = n2 < 4 ? (o2 !== void 0 || h2) && (n2 === 0 || n2 === (e2.s < 0 ? 3 : 2)) : o2 > u2 || o2 === u2 && (n2 === 4 || h2 || n2 === 6 && 1 & p2[r2 - 1] || n2 === (e2.s < 0 ? 8 : 7)), p2.length = r2, h2)
            for (; ++p2[--r2] > i2 - 1; )
              p2[r2] = 0, r2 || (++a2, p2.unshift(1));
          for (l2 = p2.length; !p2[l2 - 1]; --l2)
            ;
          for (o2 = 0, d2 = ""; o2 < l2; o2++)
            d2 += c.charAt(p2[o2]);
          if (m2) {
            if (l2 > 1)
              if (t3 == 16 || t3 == 8) {
                for (o2 = t3 == 16 ? 4 : 3, --l2; l2 % o2; l2++)
                  d2 += "0";
                for (l2 = (p2 = R(d2, i2, t3)).length; !p2[l2 - 1]; --l2)
                  ;
                for (o2 = 1, d2 = "1."; o2 < l2; o2++)
                  d2 += c.charAt(p2[o2]);
              } else
                d2 = d2.charAt(0) + "." + d2.slice(1);
            d2 = d2 + (a2 < 0 ? "p" : "p+") + a2;
          } else if (a2 < 0) {
            for (; ++a2; )
              d2 = "0" + d2;
            d2 = "0." + d2;
          } else if (++a2 > l2)
            for (a2 -= l2; a2--; )
              d2 += "0";
          else
            a2 < l2 && (d2 = d2.slice(0, a2) + "." + d2.slice(a2));
        } else
          d2 = m2 ? "0p+0" : "0";
        d2 = (t3 == 16 ? "0x" : t3 == 2 ? "0b" : t3 == 8 ? "0o" : "") + d2;
      } else
        d2 = V(e2);
      return e2.s < 0 ? "-" + d2 : d2;
    }
    function Y(e2, t3) {
      if (e2.length > t3)
        return e2.length = t3, true;
    }
    function J(e2) {
      return new this(e2).abs();
    }
    function W(e2) {
      return new this(e2).acos();
    }
    function K(e2) {
      return new this(e2).acosh();
    }
    function Z(e2, t3) {
      return new this(e2).plus(t3);
    }
    function ee(e2) {
      return new this(e2).asin();
    }
    function te(e2) {
      return new this(e2).asinh();
    }
    function re(e2) {
      return new this(e2).atan();
    }
    function ne(e2) {
      return new this(e2).atanh();
    }
    function ie(e2, t3) {
      e2 = new this(e2), t3 = new this(t3);
      var r2, n2 = this.precision, i2 = this.rounding, a2 = n2 + 4;
      return e2.s && t3.s ? e2.d || t3.d ? !t3.d || e2.isZero() ? (r2 = t3.s < 0 ? j(this, n2, i2) : new this(0)).s = e2.s : !e2.d || t3.isZero() ? (r2 = j(this, a2, 1).times(0.5)).s = e2.s : t3.s < 0 ? (this.precision = a2, this.rounding = 1, r2 = this.atan(I(e2, t3, a2, 1)), t3 = j(this, a2, 1), this.precision = n2, this.rounding = i2, r2 = e2.s < 0 ? r2.minus(t3) : r2.plus(t3)) : r2 = this.atan(I(e2, t3, a2, 1)) : (r2 = j(this, a2, 1).times(t3.s > 0 ? 0.25 : 0.75)).s = e2.s : r2 = new this(NaN), r2;
    }
    function ae(e2) {
      return new this(e2).cbrt();
    }
    function se(e2) {
      return N(e2 = new this(e2), e2.e + 1, 2);
    }
    function oe(e2) {
      if (!e2 || typeof e2 != "object")
        throw Error("[DecimalError] Object expected");
      var t3, r2, n2, i2 = e2.defaults === true, a2 = ["precision", 1, 1e9, "rounding", 0, 8, "toExpNeg", -u, 0, "toExpPos", 0, u, "maxE", 0, u, "minE", -u, 0, "modulo", 0, 9];
      for (t3 = 0; t3 < a2.length; t3 += 3)
        if (r2 = a2[t3], i2 && (this[r2] = d[r2]), (n2 = e2[r2]) !== void 0) {
          if (!(g(n2) === n2 && n2 >= a2[t3 + 1] && n2 <= a2[t3 + 2]))
            throw Error(f + r2 + ": " + n2);
          this[r2] = n2;
        }
      if (r2 = "crypto", i2 && (this[r2] = d[r2]), (n2 = e2[r2]) !== void 0) {
        if (n2 !== true && n2 !== false && n2 !== 0 && n2 !== 1)
          throw Error(f + r2 + ": " + n2);
        if (n2) {
          if (typeof crypto == "undefined" || !crypto || !crypto.getRandomValues && !crypto.randomBytes)
            throw Error("[DecimalError] crypto unavailable");
          this[r2] = true;
        } else
          this[r2] = false;
      }
      return this;
    }
    function ue(e2) {
      return new this(e2).cos();
    }
    function ce(e2) {
      return new this(e2).cosh();
    }
    function le(e2, t3) {
      return new this(e2).div(t3);
    }
    function he(e2) {
      return new this(e2).exp();
    }
    function de(e2) {
      return N(e2 = new this(e2), e2.e + 1, 3);
    }
    function pe() {
      var e2, t3, r2 = new this(0);
      for (p = false, e2 = 0; e2 < arguments.length; )
        if ((t3 = new this(arguments[e2++])).d)
          r2.d && (r2 = r2.plus(t3.times(t3)));
        else {
          if (t3.s)
            return p = true, new this(1 / 0);
          r2 = t3;
        }
      return p = true, r2.sqrt();
    }
    function fe(e2) {
      return e2 instanceof a || e2 && e2.name === "[object Decimal]" || false;
    }
    function ge(e2) {
      return new this(e2).ln();
    }
    function me(e2, t3) {
      return new this(e2).log(t3);
    }
    function ye(e2) {
      return new this(e2).log(2);
    }
    function be(e2) {
      return new this(e2).log(10);
    }
    function _e() {
      return B(this, arguments, "lt");
    }
    function ve() {
      return B(this, arguments, "gt");
    }
    function we(e2, t3) {
      return new this(e2).mod(t3);
    }
    function Se(e2, t3) {
      return new this(e2).mul(t3);
    }
    function Te(e2, t3) {
      return new this(e2).pow(t3);
    }
    function Ee(e2) {
      var t3, r2, n2, i2, a2 = 0, s2 = new this(1), o2 = [];
      if (e2 === void 0 ? e2 = this.precision : O(e2, 1, 1e9), n2 = Math.ceil(e2 / 7), this.crypto)
        if (crypto.getRandomValues)
          for (t3 = crypto.getRandomValues(new Uint32Array(n2)); a2 < n2; )
            (i2 = t3[a2]) >= 429e7 ? t3[a2] = crypto.getRandomValues(new Uint32Array(1))[0] : o2[a2++] = i2 % 1e7;
        else {
          if (!crypto.randomBytes)
            throw Error("[DecimalError] crypto unavailable");
          for (t3 = crypto.randomBytes(n2 *= 4); a2 < n2; )
            (i2 = t3[a2] + (t3[a2 + 1] << 8) + (t3[a2 + 2] << 16) + ((127 & t3[a2 + 3]) << 24)) >= 214e7 ? crypto.randomBytes(4).copy(t3, a2) : (o2.push(i2 % 1e7), a2 += 4);
          a2 = n2 / 4;
        }
      else
        for (; a2 < n2; )
          o2[a2++] = 1e7 * Math.random() | 0;
      for (e2 %= 7, (n2 = o2[--a2]) && e2 && (i2 = m(10, 7 - e2), o2[a2] = (n2 / i2 | 0) * i2); o2[a2] === 0; a2--)
        o2.pop();
      if (a2 < 0)
        r2 = 0, o2 = [0];
      else {
        for (r2 = -1; o2[0] === 0; r2 -= 7)
          o2.shift();
        for (n2 = 1, i2 = o2[0]; i2 >= 10; i2 /= 10)
          n2++;
        n2 < 7 && (r2 -= 7 - n2);
      }
      return s2.e = r2, s2.d = o2, s2;
    }
    function xe(e2) {
      return N(e2 = new this(e2), e2.e + 1, this.rounding);
    }
    function Oe(e2) {
      return (e2 = new this(e2)).d ? e2.d[0] ? e2.s : 0 * e2.s : e2.s || NaN;
    }
    function Ae(e2) {
      return new this(e2).sin();
    }
    function Re(e2) {
      return new this(e2).sinh();
    }
    function Ie(e2) {
      return new this(e2).sqrt();
    }
    function Ne(e2, t3) {
      return new this(e2).sub(t3);
    }
    function Pe(e2) {
      return new this(e2).tan();
    }
    function Ce(e2) {
      return new this(e2).tanh();
    }
    function De(e2) {
      return N(e2 = new this(e2), e2.e + 1, 1);
    }
    (a = function e2(t3) {
      var r2, n2, i2;
      function a2(e3) {
        var t4, r3, n3, i3 = this;
        if (!(i3 instanceof a2))
          return new a2(e3);
        if (i3.constructor = a2, e3 instanceof a2)
          return i3.s = e3.s, void (p ? !e3.d || e3.e > a2.maxE ? (i3.e = NaN, i3.d = null) : e3.e < a2.minE ? (i3.e = 0, i3.d = [0]) : (i3.e = e3.e, i3.d = e3.d.slice()) : (i3.e = e3.e, i3.d = e3.d ? e3.d.slice() : e3.d));
        if ((n3 = typeof e3) === "number") {
          if (e3 === 0)
            return i3.s = 1 / e3 < 0 ? -1 : 1, i3.e = 0, void (i3.d = [0]);
          if (e3 < 0 ? (e3 = -e3, i3.s = -1) : i3.s = 1, e3 === ~~e3 && e3 < 1e7) {
            for (t4 = 0, r3 = e3; r3 >= 10; r3 /= 10)
              t4++;
            return void (p ? t4 > a2.maxE ? (i3.e = NaN, i3.d = null) : t4 < a2.minE ? (i3.e = 0, i3.d = [0]) : (i3.e = t4, i3.d = [e3]) : (i3.e = t4, i3.d = [e3]));
          }
          return 0 * e3 != 0 ? (e3 || (i3.s = NaN), i3.e = NaN, void (i3.d = null)) : H(i3, e3.toString());
        }
        if (n3 !== "string")
          throw Error(f + e3);
        return (r3 = e3.charCodeAt(0)) === 45 ? (e3 = e3.slice(1), i3.s = -1) : (r3 === 43 && (e3 = e3.slice(1)), i3.s = 1), v.test(e3) ? H(i3, e3) : G(i3, e3);
      }
      if (a2.prototype = E, a2.ROUND_UP = 0, a2.ROUND_DOWN = 1, a2.ROUND_CEIL = 2, a2.ROUND_FLOOR = 3, a2.ROUND_HALF_UP = 4, a2.ROUND_HALF_DOWN = 5, a2.ROUND_HALF_EVEN = 6, a2.ROUND_HALF_CEIL = 7, a2.ROUND_HALF_FLOOR = 8, a2.EUCLID = 9, a2.config = a2.set = oe, a2.clone = e2, a2.isDecimal = fe, a2.abs = J, a2.acos = W, a2.acosh = K, a2.add = Z, a2.asin = ee, a2.asinh = te, a2.atan = re, a2.atanh = ne, a2.atan2 = ie, a2.cbrt = ae, a2.ceil = se, a2.cos = ue, a2.cosh = ce, a2.div = le, a2.exp = he, a2.floor = de, a2.hypot = pe, a2.ln = ge, a2.log = me, a2.log10 = be, a2.log2 = ye, a2.max = _e, a2.min = ve, a2.mod = we, a2.mul = Se, a2.pow = Te, a2.random = Ee, a2.round = xe, a2.sign = Oe, a2.sin = Ae, a2.sinh = Re, a2.sqrt = Ie, a2.sub = Ne, a2.tan = Pe, a2.tanh = Ce, a2.trunc = De, t3 === void 0 && (t3 = {}), t3 && t3.defaults !== true)
        for (i2 = ["precision", "rounding", "toExpNeg", "toExpPos", "maxE", "minE", "modulo", "crypto"], r2 = 0; r2 < i2.length; )
          t3.hasOwnProperty(n2 = i2[r2++]) || (t3[n2] = this[n2]);
      return a2.config(t3), a2;
    }(d)).default = a.Decimal = a, l = new a(l), h = new a(h), (n = function() {
      return a;
    }.call(t2, r, t2, e)) === void 0 || (e.exports = n);
  }();
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    return e2 === "*";
  }
  function i(e2, t3) {
    return new RegExp(`/${e2}/`, "i").test(`/${t3}/`);
  }
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.formatDayTimeDuration = t2.langMatches = t2.replace = t2.matches = void 0, t2.matches = function(e2, t3, r2) {
    return new RegExp(t3, r2).test(e2);
  }, t2.replace = function(e2, t3, r2, n2) {
    let i2 = new RegExp(t3, n2);
    if (!i2.global) {
      i2 = new RegExp(t3, (n2 || "") + "g");
    }
    return e2.replace(i2, r2);
  }, t2.langMatches = function(e2, t3) {
    const r2 = e2.split("-"), a = t3.split("-");
    if (!i(a[0], r2[0]) && !n(r2[0]))
      return false;
    let s = 1, o = 1;
    for (; o < a.length; )
      if (n(a[o]))
        o++;
      else {
        if (s === r2.length)
          return false;
        if (i(a[o], r2[s]))
          s++, o++;
        else {
          if (r2[s].length === 1)
            return false;
          s++;
        }
      }
    return true;
  }, t2.formatDayTimeDuration = function(e2) {
    if (e2) {
      if (e2[0] === "Z")
        return "PT0S";
      {
        const [t3, r2, n2, i2, a, s] = e2, o = r2 !== "0" ? r2 : "", u = o || n2 !== "0" ? n2 : "", c = a !== "0" ? a : "", l = c || s !== "0" ? s : "";
        return `${t3 === "-" ? "-" : ""}PT${`${o + u ? o + u + "H" : ""}${c + l ? c + l + "M" : ""}`}`;
      }
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.specialDefinitions = void 0;
  const n = r(23), i = r(13), a = r(188), s = r(40), o = r(14), u = r(20), c = r(66), l = r(89);
  function h({
    args: e2,
    mapping: t3
  }) {
    const r2 = e2[0];
    if (r2.expressionType !== s.ExpressionType.Variable)
      throw new u.InvalidArgumentTypes(e2, o.SpecialOperator.BOUND);
    const n2 = t3.has(r2.name) && !!t3.get(r2.name);
    return c.bool(n2);
  }
  function d(e2) {
    return e2.length > 0 && e2.every((t3) => t3.language === e2[0].language);
  }
  const p = {
    arity: 1,
    applyAsync: (_0) => __async(this, [_0], function* ({
      args: e2,
      evaluate: t3,
      mapping: r2,
      context: n2
    }) {
      return f(yield t3(e2[0], r2), n2.baseIRI, e2);
    }),
    applySync: ({
      args: e2,
      evaluate: t3,
      mapping: r2,
      context: n2
    }) => f(t3(e2[0], r2), n2.baseIRI, e2)
  };
  function f(e2, t3, r2) {
    const n2 = e2.termType !== "namedNode" ? c.typeCheckLit(e2, ["string"], r2, o.SpecialOperator.IRI) : e2, a2 = i.resolve(n2.str(), t3 || "");
    return new s.NamedNode(a2);
  }
  function g(e2) {
    return new s.BlankNode(e2 || a.v4());
  }
  const m = {
    bound: {
      arity: 1,
      applyAsync: (_0) => __async(this, [_0], function* ({
        args: e2,
        mapping: t3
      }) {
        return h({
          args: e2,
          mapping: t3
        });
      }),
      applySync: ({
        args: e2,
        mapping: t3
      }) => h({
        args: e2,
        mapping: t3
      })
    },
    if: {
      arity: 3,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          mapping: t3,
          evaluate: r2
        }) {
          const n2 = yield r2(e2[0], t3);
          return r2(n2.coerceEBV() ? e2[1] : e2[2], t3);
        });
      },
      applySync({
        args: e2,
        mapping: t3,
        evaluate: r2
      }) {
        const n2 = r2(e2[0], t3);
        return r2(n2.coerceEBV() ? e2[1] : e2[2], t3);
      }
    },
    coalesce: {
      arity: 1 / 0,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          mapping: t3,
          evaluate: r2
        }) {
          const n2 = [];
          for (const i2 of e2)
            try {
              return yield r2(i2, t3);
            } catch (e3) {
              n2.push(e3);
            }
          throw new u.CoalesceError(n2);
        });
      },
      applySync({
        args: e2,
        mapping: t3,
        evaluate: r2
      }) {
        const n2 = [];
        for (const i2 of e2)
          try {
            return r2(i2, t3);
          } catch (e3) {
            n2.push(e3);
          }
        throw new u.CoalesceError(n2);
      }
    },
    "&&": {
      arity: 2,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          mapping: t3,
          evaluate: r2
        }) {
          const [n2, i2] = e2;
          try {
            const e3 = yield r2(n2, t3);
            if (!e3.coerceEBV())
              return c.bool(false);
            const a2 = (yield r2(i2, t3)).coerceEBV();
            return c.bool(a2);
          } catch (e3) {
            if ((yield r2(i2, t3)).coerceEBV())
              throw e3;
            return c.bool(false);
          }
        });
      },
      applySync({
        args: e2,
        mapping: t3,
        evaluate: r2
      }) {
        const [n2, i2] = e2;
        try {
          const e3 = r2(n2, t3);
          if (!e3.coerceEBV())
            return c.bool(false);
          const a2 = r2(i2, t3).coerceEBV();
          return c.bool(a2);
        } catch (e3) {
          if (r2(i2, t3).coerceEBV())
            throw e3;
          return c.bool(false);
        }
      }
    },
    "||": {
      arity: 2,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          mapping: t3,
          evaluate: r2
        }) {
          const [n2, i2] = e2;
          try {
            const e3 = yield r2(n2, t3);
            if (e3.coerceEBV())
              return c.bool(true);
            const a2 = (yield r2(i2, t3)).coerceEBV();
            return c.bool(a2);
          } catch (e3) {
            if (!(yield r2(i2, t3)).coerceEBV())
              throw e3;
            return c.bool(true);
          }
        });
      },
      applySync({
        args: e2,
        mapping: t3,
        evaluate: r2
      }) {
        const [n2, i2] = e2;
        try {
          const e3 = r2(n2, t3);
          if (e3.coerceEBV())
            return c.bool(true);
          const a2 = r2(i2, t3).coerceEBV();
          return c.bool(a2);
        } catch (e3) {
          if (!r2(i2, t3).coerceEBV())
            throw e3;
          return c.bool(true);
        }
      }
    },
    sameterm: {
      arity: 2,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          mapping: t3,
          evaluate: r2
        }) {
          const [n2, i2] = e2.map((e3) => r2(e3, t3)), a2 = yield n2, s2 = yield i2;
          return c.bool(a2.toRDF().equals(s2.toRDF()));
        });
      },
      applySync({
        args: e2,
        mapping: t3,
        evaluate: r2
      }) {
        const [n2, i2] = e2.map((e3) => r2(e3, t3));
        return c.bool(n2.toRDF().equals(i2.toRDF()));
      }
    },
    in: {
      arity: 1 / 0,
      checkArity: (e2) => e2.length >= 1,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          mapping: t3,
          evaluate: r2,
          context: n2
        }) {
          const [i2, ...a2] = e2;
          return function e3(_02, _1, _2) {
            return __async(this, arguments, function* (t4, {
              args: r3,
              mapping: n3,
              evaluate: i3,
              context: a3
            }, s2) {
              if (r3.length === 0) {
                return s2.every((e4) => !e4) ? c.bool(false) : Promise.reject(new u.InError(s2));
              }
              try {
                const u2 = yield i3(r3.shift(), n3);
                return l.regularFunctions.get(o.RegularOperator.EQUAL).apply([t4, u2]).typedValue === true ? c.bool(true) : e3(t4, {
                  args: r3,
                  mapping: n3,
                  evaluate: i3,
                  context: a3
                }, [...s2, false]);
              } catch (o2) {
                return e3(t4, {
                  args: r3,
                  mapping: n3,
                  evaluate: i3,
                  context: a3
                }, [...s2, o2]);
              }
            });
          }(yield r2(i2, t3), {
            args: a2,
            mapping: t3,
            evaluate: r2,
            context: n2
          }, []);
        });
      },
      applySync({
        args: e2,
        mapping: t3,
        evaluate: r2,
        context: n2
      }) {
        const [i2, ...a2] = e2;
        return function e3(t4, {
          args: r3,
          mapping: n3,
          evaluate: i3,
          context: a3
        }, s2) {
          if (r3.length === 0) {
            if (!s2.every((e4) => !e4))
              throw new u.InError(s2);
            c.bool(false);
          }
          try {
            const u2 = i3(r3.shift(), n3);
            return l.regularFunctions.get(o.RegularOperator.EQUAL).apply([t4, u2]).typedValue === true ? c.bool(true) : e3(t4, {
              args: r3,
              mapping: n3,
              evaluate: i3,
              context: a3
            }, [...s2, false]);
          } catch (o2) {
            return e3(t4, {
              args: r3,
              mapping: n3,
              evaluate: i3,
              context: a3
            }, [...s2, o2]);
          }
        }(r2(i2, t3), {
          args: a2,
          mapping: t3,
          evaluate: r2,
          context: n2
        }, []);
      }
    },
    notin: {
      arity: 1 / 0,
      checkArity: (e2) => e2.length >= 1,
      applyAsync(e2) {
        return __async(this, null, function* () {
          const t3 = l.specialFunctions.get(o.SpecialOperator.IN), r2 = yield t3.applyAsync(e2);
          return c.bool(!r2.typedValue);
        });
      },
      applySync(e2) {
        const t3 = l.specialFunctions.get(o.SpecialOperator.IN).applySync(e2);
        return c.bool(!t3.typedValue);
      }
    },
    concat: {
      arity: 1 / 0,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          evaluate: t3,
          mapping: r2
        }) {
          const n2 = e2.map((e3) => __async(this, null, function* () {
            return t3(e3, r2);
          })).map((t4) => __async(this, null, function* () {
            return c.typeCheckLit(yield t4, ["string", "langString"], e2, o.SpecialOperator.CONCAT);
          })), i2 = yield Promise.all(n2), a2 = i2.map((e3) => e3.typedValue).join(""), s2 = d(i2) ? i2[0].language : void 0;
          return s2 ? c.langString(a2, s2) : c.string(a2);
        });
      },
      applySync({
        args: e2,
        evaluate: t3,
        mapping: r2
      }) {
        const n2 = e2.map((e3) => t3(e3, r2)).map((t4) => c.typeCheckLit(t4, ["string", "langString"], e2, o.SpecialOperator.CONCAT)), i2 = n2.map((e3) => e3.typedValue).join(""), a2 = d(n2) ? n2[0].language : void 0;
        return a2 ? c.langString(i2, a2) : c.string(i2);
      }
    },
    now: {
      arity: 0,
      applyAsync: (_0) => __async(this, [_0], function* ({
        context: e2
      }) {
        return new s.DateTimeLiteral(e2.now, e2.now.toISOString());
      }),
      applySync: ({
        context: e2
      }) => new s.DateTimeLiteral(e2.now, e2.now.toISOString())
    },
    iri: p,
    uri: p,
    BNODE: {
      arity: 1 / 0,
      checkArity: (e2) => e2.length === 0 || e2.length === 1,
      applyAsync(_0) {
        return __async(this, arguments, function* ({
          args: e2,
          evaluate: t3,
          mapping: r2,
          context: n2
        }) {
          const i2 = e2.length === 1 ? yield t3(e2[0], r2) : void 0, a2 = i2 ? c.typeCheckLit(i2, ["string"], e2, o.SpecialOperator.BNODE).str() : void 0;
          if (n2.bnode) {
            const e3 = yield n2.bnode(a2);
            return new s.BlankNode(e3.value);
          }
          return g(a2);
        });
      },
      applySync({
        args: e2,
        evaluate: t3,
        mapping: r2,
        context: n2
      }) {
        const i2 = e2.length === 1 ? t3(e2[0], r2) : void 0, a2 = i2 ? c.typeCheckLit(i2, ["string"], e2, o.SpecialOperator.BNODE).str() : void 0;
        if (n2.bnode) {
          const e3 = n2.bnode(a2);
          return new s.BlankNode(e3.value);
        }
        return g(a2);
      }
    }
  };
  t2.specialDefinitions = n.Map(m);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.aggregators = t2.AggregateEvaluator = void 0;
  const n = r(5), i = r(40), a = r(14), s = r(20), o = r(89), u = r(66), c = r(65), l = r(14), h = r(186), d = r(39), p = new n.DataFactory();
  t2.AggregateEvaluator = class {
    constructor(e2, r2, n2) {
      this.throwError = false, this.expression = e2, this.evaluator = new h.SyncEvaluator(e2.expression, r2), this.aggregator = new t2.aggregators[e2.aggregator](e2), this.throwError = n2;
    }
    static emptyValue(e2, r2 = false) {
      const n2 = t2.aggregators[e2.aggregator].emptyValue();
      if (n2 === void 0 && r2)
        throw new s.EmptyAggregateError();
      return n2;
    }
    put(e2) {
      this.init(e2), this.state && (this.put = this.__put, this.result = this.__result);
    }
    result() {
      return this.aggregator.constructor.emptyValue();
    }
    __put(e2) {
      try {
        const t3 = this.evaluator.evaluate(e2);
        this.state = this.aggregator.put(this.state, t3);
      } catch (e3) {
        this.safeThrow(e3);
      }
    }
    __result() {
      return this.aggregator.result(this.state);
    }
    init(e2) {
      try {
        const t3 = this.evaluator.evaluate(e2);
        this.state = this.aggregator.init(t3);
      } catch (e3) {
        this.safeThrow(e3);
      }
    }
    safeThrow(e2) {
      if (this.throwError)
        throw e2;
      this.put = () => {
      }, this.result = () => {
      };
    }
  };
  class f {
    constructor(e2) {
      this.distinct = e2.distinct, this.separator = e2.separator || " ";
    }
    static emptyValue() {
    }
  }
  function g(e2) {
    if (e2.termType !== "Literal")
      throw new Error("Term with value " + e2.value + " has type " + e2.termType + " and is not a numeric literal");
    if (!a.NumericTypeURLs.contains(e2.datatype.value))
      throw new Error("Term datatype " + e2.datatype.value + " with value " + e2.value + " has type " + e2.termType + " and is not a numeric literal");
    return {
      type: e2.datatype.value,
      value: c.parseXSDFloat(e2.value)
    };
  }
  function m(e2, t3) {
    if (t3.termType !== "Literal")
      throw new Error("Term with value " + t3.value + " has type " + t3.termType + " and is not a literal");
    const r2 = d.transformLiteral(t3);
    return {
      type: r2.typeURL.value,
      value: r2.typedValue
    };
  }
  t2.aggregators = {
    count: class extends f {
      static emptyValue() {
        return u.number(0, l.TypeURL.XSD_INTEGER).toRDF();
      }
      init(e2) {
        return 1;
      }
      put(e2, t3) {
        return e2 + 1;
      }
      result(e2) {
        return u.number(e2, l.TypeURL.XSD_INTEGER).toRDF();
      }
    },
    sum: class extends f {
      constructor() {
        super(...arguments), this.summer = o.regularFunctions.get(a.RegularOperator.ADDITION);
      }
      static emptyValue() {
        return u.number(0, l.TypeURL.XSD_INTEGER).toRDF();
      }
      init(e2) {
        const {
          value: t3,
          type: r2
        } = g(e2);
        return new i.NumericLiteral(t3, p.namedNode(r2));
      }
      put(e2, t3) {
        const {
          value: r2,
          type: n2
        } = g(t3), a2 = new i.NumericLiteral(r2, p.namedNode(n2));
        return this.summer.apply([e2, a2]);
      }
      result(e2) {
        return e2.toRDF();
      }
    },
    min: class extends f {
      init(e2) {
        const {
          value: t3
        } = m(null, e2);
        if (e2.termType === "Literal")
          return {
            extremeValue: t3,
            term: e2
          };
      }
      put(e2, t3) {
        const r2 = m(e2.term, t3);
        return r2.value < e2.extremeValue && t3.termType === "Literal" ? {
          extremeValue: r2.value,
          term: t3
        } : e2;
      }
      result(e2) {
        return e2.term;
      }
    },
    max: class extends f {
      init(e2) {
        const {
          value: t3
        } = m(null, e2);
        if (e2.termType === "Literal")
          return {
            extremeValue: t3,
            term: e2
          };
      }
      put(e2, t3) {
        const r2 = m(e2.term, t3);
        return r2.value > e2.extremeValue && t3.termType === "Literal" ? {
          extremeValue: r2.value,
          term: t3
        } : e2;
      }
      result(e2) {
        return e2.term;
      }
    },
    avg: class extends f {
      constructor() {
        super(...arguments), this.summer = o.regularFunctions.get(a.RegularOperator.ADDITION), this.divider = o.regularFunctions.get(a.RegularOperator.DIVISION);
      }
      static emptyValue() {
        return u.number(0, l.TypeURL.XSD_INTEGER).toRDF();
      }
      init(e2) {
        const {
          value: t3,
          type: r2
        } = g(e2);
        return {
          sum: new i.NumericLiteral(t3, p.namedNode(r2)),
          count: 1
        };
      }
      put(e2, t3) {
        const {
          value: r2,
          type: n2
        } = g(t3), a2 = new i.NumericLiteral(r2, p.namedNode(n2));
        return {
          sum: this.summer.apply([e2.sum, a2]),
          count: e2.count + 1
        };
      }
      result(e2) {
        const t3 = new i.NumericLiteral(e2.count, p.namedNode(a.TypeURL.XSD_INTEGER));
        return this.divider.apply([e2.sum, t3]).toRDF();
      }
    },
    group_concat: class extends f {
      static emptyValue() {
        return u.string("").toRDF();
      }
      init(e2) {
        return e2.value;
      }
      put(e2, t3) {
        return e2 + this.separator + t3.value;
      }
      result(e2) {
        return u.string(e2).toRDF();
      }
    },
    sample: class extends f {
      init(e2) {
        return e2;
      }
      put(e2, t3) {
        return e2;
      }
      result(e2) {
        return e2;
      }
    }
  };
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.order = t2.orderTypes = void 0;
  const n = r(39);
  function i(e2, t3, r2) {
    return e2.typedValue === t3.typedValue ? 0 : e2.typedValue > t3.typedValue === r2 ? 1 : -1;
  }
  t2.orderTypes = function(e2, t3, r2) {
    if (e2 && e2.termType === "Literal" && t3 && t3.termType === "Literal") {
      return i(n.transformLiteral(e2), n.transformLiteral(t3), r2);
    }
    return 0;
  }, t2.order = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(542), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationReducedHash = void 0;
  const n = r(88), i = r(543);
  class a extends n.AbstractBindingsHash {
    constructor(e2) {
      super(e2, "reduced");
    }
    newHashFilter() {
      const e2 = new i({
        max: this.cacheSize
      });
      return (t3) => {
        const r2 = n.AbstractFilterHash.hash(t3);
        return !e2.has(r2) && e2.set(r2, true);
      };
    }
  }
  t2.ActorQueryOperationReducedHash = a;
}, function(e, t2, r) {
  "use strict";
  const n = r(544), i = Symbol("max"), a = Symbol("length"), s = Symbol("lengthCalculator"), o = Symbol("allowStale"), u = Symbol("maxAge"), c = Symbol("dispose"), l = Symbol("noDisposeOnSet"), h = Symbol("lruList"), d = Symbol("cache"), p = Symbol("updateAgeOnGet"), f = () => 1;
  const g = (e2, t3, r2) => {
    const n2 = e2[d].get(t3);
    if (n2) {
      const t4 = n2.value;
      if (m(e2, t4)) {
        if (b(e2, n2), !e2[o])
          return;
      } else
        r2 && (e2[p] && (n2.value.now = Date.now()), e2[h].unshiftNode(n2));
      return t4.value;
    }
  }, m = (e2, t3) => {
    if (!t3 || !t3.maxAge && !e2[u])
      return false;
    const r2 = Date.now() - t3.now;
    return t3.maxAge ? r2 > t3.maxAge : e2[u] && r2 > e2[u];
  }, y = (e2) => {
    if (e2[a] > e2[i])
      for (let t3 = e2[h].tail; e2[a] > e2[i] && t3 !== null; ) {
        const r2 = t3.prev;
        b(e2, t3), t3 = r2;
      }
  }, b = (e2, t3) => {
    if (t3) {
      const r2 = t3.value;
      e2[c] && e2[c](r2.key, r2.value), e2[a] -= r2.length, e2[d].delete(r2.key), e2[h].removeNode(t3);
    }
  };
  class _ {
    constructor(e2, t3, r2, n2, i2) {
      this.key = e2, this.value = t3, this.length = r2, this.now = n2, this.maxAge = i2 || 0;
    }
  }
  const v = (e2, t3, r2, n2) => {
    let i2 = r2.value;
    m(e2, i2) && (b(e2, r2), e2[o] || (i2 = void 0)), i2 && t3.call(n2, i2.value, i2.key, e2);
  };
  e.exports = class {
    constructor(e2) {
      if (typeof e2 == "number" && (e2 = {
        max: e2
      }), e2 || (e2 = {}), e2.max && (typeof e2.max != "number" || e2.max < 0))
        throw new TypeError("max must be a non-negative number");
      this[i] = e2.max || 1 / 0;
      const t3 = e2.length || f;
      if (this[s] = typeof t3 != "function" ? f : t3, this[o] = e2.stale || false, e2.maxAge && typeof e2.maxAge != "number")
        throw new TypeError("maxAge must be a number");
      this[u] = e2.maxAge || 0, this[c] = e2.dispose, this[l] = e2.noDisposeOnSet || false, this[p] = e2.updateAgeOnGet || false, this.reset();
    }
    set max(e2) {
      if (typeof e2 != "number" || e2 < 0)
        throw new TypeError("max must be a non-negative number");
      this[i] = e2 || 1 / 0, y(this);
    }
    get max() {
      return this[i];
    }
    set allowStale(e2) {
      this[o] = !!e2;
    }
    get allowStale() {
      return this[o];
    }
    set maxAge(e2) {
      if (typeof e2 != "number")
        throw new TypeError("maxAge must be a non-negative number");
      this[u] = e2, y(this);
    }
    get maxAge() {
      return this[u];
    }
    set lengthCalculator(e2) {
      typeof e2 != "function" && (e2 = f), e2 !== this[s] && (this[s] = e2, this[a] = 0, this[h].forEach((e3) => {
        e3.length = this[s](e3.value, e3.key), this[a] += e3.length;
      })), y(this);
    }
    get lengthCalculator() {
      return this[s];
    }
    get length() {
      return this[a];
    }
    get itemCount() {
      return this[h].length;
    }
    rforEach(e2, t3) {
      t3 = t3 || this;
      for (let r2 = this[h].tail; r2 !== null; ) {
        const n2 = r2.prev;
        v(this, e2, r2, t3), r2 = n2;
      }
    }
    forEach(e2, t3) {
      t3 = t3 || this;
      for (let r2 = this[h].head; r2 !== null; ) {
        const n2 = r2.next;
        v(this, e2, r2, t3), r2 = n2;
      }
    }
    keys() {
      return this[h].toArray().map((e2) => e2.key);
    }
    values() {
      return this[h].toArray().map((e2) => e2.value);
    }
    reset() {
      this[c] && this[h] && this[h].length && this[h].forEach((e2) => this[c](e2.key, e2.value)), this[d] = new Map(), this[h] = new n(), this[a] = 0;
    }
    dump() {
      return this[h].map((e2) => !m(this, e2) && {
        k: e2.key,
        v: e2.value,
        e: e2.now + (e2.maxAge || 0)
      }).toArray().filter((e2) => e2);
    }
    dumpLru() {
      return this[h];
    }
    set(e2, t3, r2) {
      if ((r2 = r2 || this[u]) && typeof r2 != "number")
        throw new TypeError("maxAge must be a number");
      const n2 = r2 ? Date.now() : 0, o2 = this[s](t3, e2);
      if (this[d].has(e2)) {
        if (o2 > this[i])
          return b(this, this[d].get(e2)), false;
        const s2 = this[d].get(e2).value;
        return this[c] && (this[l] || this[c](e2, s2.value)), s2.now = n2, s2.maxAge = r2, s2.value = t3, this[a] += o2 - s2.length, s2.length = o2, this.get(e2), y(this), true;
      }
      const p2 = new _(e2, t3, o2, n2, r2);
      return p2.length > this[i] ? (this[c] && this[c](e2, t3), false) : (this[a] += p2.length, this[h].unshift(p2), this[d].set(e2, this[h].head), y(this), true);
    }
    has(e2) {
      if (!this[d].has(e2))
        return false;
      const t3 = this[d].get(e2).value;
      return !m(this, t3);
    }
    get(e2) {
      return g(this, e2, true);
    }
    peek(e2) {
      return g(this, e2, false);
    }
    pop() {
      const e2 = this[h].tail;
      return e2 ? (b(this, e2), e2.value) : null;
    }
    del(e2) {
      b(this, this[d].get(e2));
    }
    load(e2) {
      this.reset();
      const t3 = Date.now();
      for (let r2 = e2.length - 1; r2 >= 0; r2--) {
        const n2 = e2[r2], i2 = n2.e || 0;
        if (i2 === 0)
          this.set(n2.k, n2.v);
        else {
          const e3 = i2 - t3;
          e3 > 0 && this.set(n2.k, n2.v, e3);
        }
      }
    }
    prune() {
      this[d].forEach((e2, t3) => g(this, t3, false));
    }
  };
}, function(e, t2, r) {
  "use strict";
  function n(e2) {
    var t3 = this;
    if (t3 instanceof n || (t3 = new n()), t3.tail = null, t3.head = null, t3.length = 0, e2 && typeof e2.forEach == "function")
      e2.forEach(function(e3) {
        t3.push(e3);
      });
    else if (arguments.length > 0)
      for (var r2 = 0, i2 = arguments.length; r2 < i2; r2++)
        t3.push(arguments[r2]);
    return t3;
  }
  function i(e2, t3, r2) {
    var n2 = t3 === e2.head ? new o(r2, null, t3, e2) : new o(r2, t3, t3.next, e2);
    return n2.next === null && (e2.tail = n2), n2.prev === null && (e2.head = n2), e2.length++, n2;
  }
  function a(e2, t3) {
    e2.tail = new o(t3, e2.tail, null, e2), e2.head || (e2.head = e2.tail), e2.length++;
  }
  function s(e2, t3) {
    e2.head = new o(t3, null, e2.head, e2), e2.tail || (e2.tail = e2.head), e2.length++;
  }
  function o(e2, t3, r2, n2) {
    if (!(this instanceof o))
      return new o(e2, t3, r2, n2);
    this.list = n2, this.value = e2, t3 ? (t3.next = this, this.prev = t3) : this.prev = null, r2 ? (r2.prev = this, this.next = r2) : this.next = null;
  }
  e.exports = n, n.Node = o, n.create = n, n.prototype.removeNode = function(e2) {
    if (e2.list !== this)
      throw new Error("removing node which does not belong to this list");
    var t3 = e2.next, r2 = e2.prev;
    return t3 && (t3.prev = r2), r2 && (r2.next = t3), e2 === this.head && (this.head = t3), e2 === this.tail && (this.tail = r2), e2.list.length--, e2.next = null, e2.prev = null, e2.list = null, t3;
  }, n.prototype.unshiftNode = function(e2) {
    if (e2 !== this.head) {
      e2.list && e2.list.removeNode(e2);
      var t3 = this.head;
      e2.list = this, e2.next = t3, t3 && (t3.prev = e2), this.head = e2, this.tail || (this.tail = e2), this.length++;
    }
  }, n.prototype.pushNode = function(e2) {
    if (e2 !== this.tail) {
      e2.list && e2.list.removeNode(e2);
      var t3 = this.tail;
      e2.list = this, e2.prev = t3, t3 && (t3.next = e2), this.tail = e2, this.head || (this.head = e2), this.length++;
    }
  }, n.prototype.push = function() {
    for (var e2 = 0, t3 = arguments.length; e2 < t3; e2++)
      a(this, arguments[e2]);
    return this.length;
  }, n.prototype.unshift = function() {
    for (var e2 = 0, t3 = arguments.length; e2 < t3; e2++)
      s(this, arguments[e2]);
    return this.length;
  }, n.prototype.pop = function() {
    if (this.tail) {
      var e2 = this.tail.value;
      return this.tail = this.tail.prev, this.tail ? this.tail.next = null : this.head = null, this.length--, e2;
    }
  }, n.prototype.shift = function() {
    if (this.head) {
      var e2 = this.head.value;
      return this.head = this.head.next, this.head ? this.head.prev = null : this.tail = null, this.length--, e2;
    }
  }, n.prototype.forEach = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = this.head, n2 = 0; r2 !== null; n2++)
      e2.call(t3, r2.value, n2, this), r2 = r2.next;
  }, n.prototype.forEachReverse = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = this.tail, n2 = this.length - 1; r2 !== null; n2--)
      e2.call(t3, r2.value, n2, this), r2 = r2.prev;
  }, n.prototype.get = function(e2) {
    for (var t3 = 0, r2 = this.head; r2 !== null && t3 < e2; t3++)
      r2 = r2.next;
    if (t3 === e2 && r2 !== null)
      return r2.value;
  }, n.prototype.getReverse = function(e2) {
    for (var t3 = 0, r2 = this.tail; r2 !== null && t3 < e2; t3++)
      r2 = r2.prev;
    if (t3 === e2 && r2 !== null)
      return r2.value;
  }, n.prototype.map = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = new n(), i2 = this.head; i2 !== null; )
      r2.push(e2.call(t3, i2.value, this)), i2 = i2.next;
    return r2;
  }, n.prototype.mapReverse = function(e2, t3) {
    t3 = t3 || this;
    for (var r2 = new n(), i2 = this.tail; i2 !== null; )
      r2.push(e2.call(t3, i2.value, this)), i2 = i2.prev;
    return r2;
  }, n.prototype.reduce = function(e2, t3) {
    var r2, n2 = this.head;
    if (arguments.length > 1)
      r2 = t3;
    else {
      if (!this.head)
        throw new TypeError("Reduce of empty list with no initial value");
      n2 = this.head.next, r2 = this.head.value;
    }
    for (var i2 = 0; n2 !== null; i2++)
      r2 = e2(r2, n2.value, i2), n2 = n2.next;
    return r2;
  }, n.prototype.reduceReverse = function(e2, t3) {
    var r2, n2 = this.tail;
    if (arguments.length > 1)
      r2 = t3;
    else {
      if (!this.tail)
        throw new TypeError("Reduce of empty list with no initial value");
      n2 = this.tail.prev, r2 = this.tail.value;
    }
    for (var i2 = this.length - 1; n2 !== null; i2--)
      r2 = e2(r2, n2.value, i2), n2 = n2.prev;
    return r2;
  }, n.prototype.toArray = function() {
    for (var e2 = new Array(this.length), t3 = 0, r2 = this.head; r2 !== null; t3++)
      e2[t3] = r2.value, r2 = r2.next;
    return e2;
  }, n.prototype.toArrayReverse = function() {
    for (var e2 = new Array(this.length), t3 = 0, r2 = this.tail; r2 !== null; t3++)
      e2[t3] = r2.value, r2 = r2.prev;
    return e2;
  }, n.prototype.slice = function(e2, t3) {
    (t3 = t3 || this.length) < 0 && (t3 += this.length), (e2 = e2 || 0) < 0 && (e2 += this.length);
    var r2 = new n();
    if (t3 < e2 || t3 < 0)
      return r2;
    e2 < 0 && (e2 = 0), t3 > this.length && (t3 = this.length);
    for (var i2 = 0, a2 = this.head; a2 !== null && i2 < e2; i2++)
      a2 = a2.next;
    for (; a2 !== null && i2 < t3; i2++, a2 = a2.next)
      r2.push(a2.value);
    return r2;
  }, n.prototype.sliceReverse = function(e2, t3) {
    (t3 = t3 || this.length) < 0 && (t3 += this.length), (e2 = e2 || 0) < 0 && (e2 += this.length);
    var r2 = new n();
    if (t3 < e2 || t3 < 0)
      return r2;
    e2 < 0 && (e2 = 0), t3 > this.length && (t3 = this.length);
    for (var i2 = this.length, a2 = this.tail; a2 !== null && i2 > t3; i2--)
      a2 = a2.prev;
    for (; a2 !== null && i2 > e2; i2--, a2 = a2.prev)
      r2.push(a2.value);
    return r2;
  }, n.prototype.splice = function(e2, t3, ...r2) {
    e2 > this.length && (e2 = this.length - 1), e2 < 0 && (e2 = this.length + e2);
    for (var n2 = 0, a2 = this.head; a2 !== null && n2 < e2; n2++)
      a2 = a2.next;
    var s2 = [];
    for (n2 = 0; a2 && n2 < t3; n2++)
      s2.push(a2.value), a2 = this.removeNode(a2);
    a2 === null && (a2 = this.tail), a2 !== this.head && a2 !== this.tail && (a2 = a2.prev);
    for (n2 = 0; n2 < r2.length; n2++)
      a2 = i(this, a2, r2[n2]);
    return s2;
  }, n.prototype.reverse = function() {
    for (var e2 = this.head, t3 = this.tail, r2 = e2; r2 !== null; r2 = r2.prev) {
      var n2 = r2.prev;
      r2.prev = r2.next, r2.next = n2;
    }
    return this.head = t3, this.tail = e2, this;
  };
  try {
    r(545)(n);
  } catch (e2) {
  }
}, function(e, t2, r) {
  "use strict";
  e.exports = function(e2) {
    e2.prototype[Symbol.iterator] = function* () {
      for (let e3 = this.head; e3; e3 = e3.next)
        yield e3.value;
    };
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(547), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationFilterSparqlee = void 0;
  const n = r(1), i = r(51);
  class a extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "filter");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        new i.AsyncEvaluator(e2.expression, n.ActorQueryOperation.getExpressionContext(t3, this.mediatorQueryOperation));
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.mediatorQueryOperation.mediate({
          operation: e2.input,
          context: t3
        }), a2 = n.ActorQueryOperation.getSafeBindings(r2);
        n.ActorQueryOperation.validateQueryOutput(a2, "bindings");
        const {
          variables: s,
          metadata: o
        } = a2, u = n.ActorQueryOperation.getExpressionContext(t3, this.mediatorQueryOperation), c = new i.AsyncEvaluator(e2.expression, u), l = a2.bindingsStream.transform({
          transform: (e3, t4, r3) => __async(this, null, function* () {
            try {
              (yield c.evaluateAsEBV(e3)) && r3(e3);
            } catch (e4) {
              i.isExpressionError(e4) || l.emit("error", e4);
            }
            t4();
          })
        });
        return {
          type: "bindings",
          bindingsStream: l,
          metadata: o,
          variables: s,
          canContainUndefs: a2.canContainUndefs
        };
      });
    }
  }
  t2.ActorQueryOperationFilterSparqlee = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(549), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationFromQuad = void 0;
  const n = r(1), i = r(6);
  class a extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "from");
    }
    static copyOperation(e2, t3) {
      const r2 = {};
      for (const n2 of Object.keys(e2))
        Array.isArray(e2[n2]) ? r2[n2] = n2 === "variables" ? e2[n2] : e2[n2].map(t3) : a.ALGEBRA_TYPES.includes(e2[n2].type) ? r2[n2] = t3(e2[n2]) : r2[n2] = e2[n2];
      return r2;
    }
    static applyOperationDefaultGraph(e2, t3) {
      if (e2.type === "bgp" && e2.patterns.length > 0 || e2.type === "path") {
        if (e2.type === "bgp")
          return a.joinOperations(e2.patterns.map((e3) => {
            if (e3.graph.termType !== "DefaultGraph")
              return a.FACTORY.createBgp([e3]);
            const r3 = t3.map((t4) => a.FACTORY.createBgp([a.FACTORY.createPattern(e3.subject, e3.predicate, e3.object, t4)]));
            return a.unionOperations(r3);
          }));
        if (e2.graph.termType !== "DefaultGraph")
          return e2;
        const r2 = t3.map((t4) => a.FACTORY.createPath(e2.subject, e2.predicate, e2.object, t4));
        return a.joinOperations(r2);
      }
      return a.copyOperation(e2, (e3) => this.applyOperationDefaultGraph(e3, t3));
    }
    static applyOperationNamedGraph(e2, t3, r2) {
      if (e2.type === "bgp" && e2.patterns.length > 0 || e2.type === "path") {
        let n2;
        if (n2 = e2.type === "bgp" ? e2.patterns[0].graph : e2.graph, n2.termType === "DefaultGraph")
          return {
            type: "bgp",
            patterns: []
          };
        if (n2.termType === "Variable") {
          if (t3.length === 1) {
            const r3 = t3[0], i2 = {};
            i2["?" + n2.value] = r3;
            const s = a.FACTORY.createValues([n2], [i2]);
            let o;
            return o = e2.type === "bgp" ? a.FACTORY.createBgp(e2.patterns.map((e3) => a.FACTORY.createPattern(e3.subject, e3.predicate, e3.object, r3))) : a.FACTORY.createPath(e2.subject, e2.predicate, e2.object, r3), a.FACTORY.createJoin(s, o);
          }
          return a.unionOperations(t3.map((t4) => a.applyOperationNamedGraph(e2, [t4], r2)));
        }
        return t3.concat(r2).some((e3) => e3.equals(n2)) ? e2 : {
          type: "bgp",
          patterns: []
        };
      }
      return a.copyOperation(e2, (e3) => this.applyOperationNamedGraph(e3, t3, r2));
    }
    static joinOperations(e2) {
      if (e2.length === 1)
        return e2[0];
      if (e2.length === 2)
        return a.FACTORY.createJoin(e2[0], e2[1]);
      if (e2.length > 2)
        return a.FACTORY.createJoin(e2.shift(), this.joinOperations(e2));
      throw new Error("A join can only be applied on at least one operation");
    }
    static unionOperations(e2) {
      if (e2.length === 1)
        return e2[0];
      if (e2.length === 2)
        return a.FACTORY.createUnion(e2[0], e2[1]);
      if (e2.length > 2)
        return a.FACTORY.createUnion(e2.shift(), this.unionOperations(e2));
      throw new Error("A union can only be applied on at least one operation");
    }
    static createOperation(e2) {
      let t3 = e2.input;
      return e2.default.length > 0 && (t3 = a.applyOperationDefaultGraph(t3, e2.default)), e2.named.length > 0 && (t3 = a.applyOperationNamedGraph(t3, e2.named, e2.default)), t3;
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = a.createOperation(e2);
        return this.mediatorQueryOperation.mediate({
          operation: r2,
          context: t3
        });
      });
    }
  }
  t2.ActorQueryOperationFromQuad = a, a.FACTORY = new i.Factory(), a.ALGEBRA_TYPES = Object.keys(i.Algebra.types).map((e2) => i.Algebra.types[e2]);
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(551), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationGroup = void 0;
  const n = r(1), i = r(3), a = r(4), s = r(51), o = r(552);
  class u extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "group");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        for (const t4 of e2.aggregates) {
          new s.SyncEvaluator(t4.expression);
        }
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const {
          input: r2,
          aggregates: s2
        } = e2, u2 = yield this.mediatorQueryOperation.mediate({
          operation: r2,
          context: t3
        }), c = n.ActorQueryOperation.getSafeBindings(u2), l = e2.variables.map((e3) => a.termToString(e3)).concat(s2.map((e3) => a.termToString(e3.variable))), h = Object.assign({}, n.ActorQueryOperation.getExpressionContext(t3));
        return new Promise((t4, r3) => {
          const n2 = new o.GroupsState(e2, h);
          c.bindingsStream.on("end", () => {
            try {
              const e3 = new i.ArrayIterator(n2.collectResults(), {
                autoStart: false
              }), {
                metadata: r4
              } = c;
              t4({
                type: "bindings",
                bindingsStream: e3,
                metadata: r4,
                variables: l,
                canContainUndefs: c.canContainUndefs
              });
            } catch (e3) {
              r3(e3);
            }
          }), c.bindingsStream.on("error", r3), c.bindingsStream.on("data", (e3) => {
            try {
              n2.consumeBindings(e3);
            } catch (e4) {
              r3(e4);
            }
          });
        });
      });
    }
  }
  t2.ActorQueryOperationGroup = u;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.GroupsState = void 0;
  const n = r(88), i = r(1), a = r(4), s = r(51);
  t2.GroupsState = class {
    constructor(e2, t3) {
      this.pattern = e2, this.sparqleeConfig = t3, this.groups = new Map(), this.groupVariables = new Set(this.pattern.variables.map((e3) => a.termToString(e3))), this.distinctHashes = e2.aggregates.some(({
        distinct: e3
      }) => e3) ? new Map() : null;
    }
    consumeBindings(e2) {
      const t3 = e2.filter((e3, t4) => this.groupVariables.has(t4)).toMap(), r2 = this.hashBindings(t3);
      let n2 = this.groups.get(r2);
      if (n2)
        for (const t4 of this.pattern.aggregates) {
          if (t4.distinct) {
            const t5 = this.hashBindings(e2);
            if (this.distinctHashes.get(r2).has(t5))
              continue;
            this.distinctHashes.get(r2).add(t5);
          }
          const i2 = a.termToString(t4.variable);
          n2.aggregators[i2].put(e2);
        }
      else {
        const i2 = {};
        for (const t4 of this.pattern.aggregates) {
          const r3 = a.termToString(t4.variable);
          i2[r3] = new s.AggregateEvaluator(t4, this.sparqleeConfig), i2[r3].put(e2);
        }
        if (n2 = {
          aggregators: i2,
          bindings: t3
        }, this.groups.set(r2, n2), this.distinctHashes) {
          const t4 = this.hashBindings(e2);
          this.distinctHashes.set(r2, new Set([t4]));
        }
      }
    }
    collectResults() {
      let e2 = [...this.groups].map(([e3, t3]) => {
        const {
          bindings: r2,
          aggregators: n2
        } = t3, i2 = {};
        for (const e4 in n2) {
          const t4 = n2[e4].result();
          t4 !== void 0 && (i2[e4] = t4);
        }
        return r2.merge(i2);
      });
      if (e2.length === 0 && this.groupVariables.size === 0) {
        const t3 = {};
        for (const e3 of this.pattern.aggregates) {
          const r2 = a.termToString(e3.variable), n2 = s.AggregateEvaluator.emptyValue(e3);
          n2 !== void 0 && (t3[r2] = n2);
        }
        e2 = [i.Bindings(t3)];
      }
      return e2;
    }
    hashBindings(e2) {
      return n.AbstractFilterHash.hash(e2);
    }
  };
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(554), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationJoin = void 0;
  const n = r(1);
  class i extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "join");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = this.mediatorQueryOperation.mediate({
          operation: e2.left,
          context: t3
        }), i2 = this.mediatorQueryOperation.mediate({
          operation: e2.right,
          context: t3
        });
        return this.mediatorJoin.mediate({
          entries: [n.ActorQueryOperation.getSafeBindings(yield r2), n.ActorQueryOperation.getSafeBindings(yield i2)]
        });
      });
    }
  }
  t2.ActorQueryOperationJoin = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(556), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationLeftJoinLeftDeep = void 0;
  const n = r(1), i = r(55), a = r(3), s = r(6);
  class o extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "leftjoin");
    }
    static createLeftDeepStream(e2, t3, r2) {
      return new a.MultiTransformIterator(e2, {
        multiTransform(e3) {
          const i2 = (t4) => t4.merge(e3);
          return new a.TransformIterator(() => __async(this, null, function* () {
            return (yield r2(n.materializeOperation(t3, e3))).map(i2);
          }), {
            maxBufferSize: 128
          });
        },
        optional: true
      });
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: e2.left,
          context: t3
        })), a2 = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: e2.right,
          context: t3
        }));
        a2.bindingsStream.close();
        const s2 = e2.expression ? o.FACTORY.createFilter(e2.right, e2.expression) : e2.right;
        return {
          type: "bindings",
          bindingsStream: o.createLeftDeepStream(r2.bindingsStream, s2, (e3) => __async(this, null, function* () {
            return n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
              operation: e3,
              context: t3
            })).bindingsStream;
          })),
          metadata: () => Promise.all([r2, a2].map((e3) => n.getMetadata(e3))).then((e3) => e3.reduce((e4, t4) => e4 * t4.totalItems, 1)).catch(() => 1 / 0).then((e3) => ({
            totalItems: e3
          })),
          variables: i.ActorRdfJoin.joinVariables({
            entries: [r2, a2]
          }),
          canContainUndefs: true
        };
      });
    }
  }
  t2.ActorQueryOperationLeftJoinLeftDeep = o, o.FACTORY = new s.Factory();
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(558), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationOrderBySparqlee = void 0;
  const n = r(1), i = r(6), a = r(51), s = r(559);
  class o extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      var t3;
      super(e2, "orderby"), this.window = (t3 = e2.window) !== null && t3 !== void 0 ? t3 : 1 / 0;
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        for (let t4 of e2.expressions) {
          t4 = this.extractSortExpression(t4);
          new a.AsyncEvaluator(t4);
        }
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.mediatorQueryOperation.mediate({
          operation: e2.input,
          context: t3
        }), i2 = n.ActorQueryOperation.getSafeBindings(r2), o2 = {
          window: this.window
        }, u = Object.assign({}, n.ActorQueryOperation.getExpressionContext(t3));
        let {
          bindingsStream: c
        } = i2;
        for (let t4 = e2.expressions.length - 1; t4 >= 0; t4--) {
          let r3 = e2.expressions[t4];
          const n2 = this.isAscending(r3);
          r3 = this.extractSortExpression(r3);
          const i3 = new a.AsyncEvaluator(r3, u), l = (e3, t5, r4) => __async(this, null, function* () {
            try {
              r4({
                bindings: e3,
                result: yield i3.evaluate(e3)
              });
            } catch (t6) {
              a.isExpressionError(t6) || c.emit("error", t6), r4({
                bindings: e3,
                result: void 0
              });
            }
            t5();
          }), h = c.transform({
            transform: l
          }), d = new s.SortIterator(h, (e3, t5) => a.orderTypes(e3.result, t5.result, n2), o2);
          c = d.map(({
            bindings: e3,
            result: t5
          }) => e3);
        }
        return {
          type: "bindings",
          bindingsStream: c,
          metadata: i2.metadata,
          variables: i2.variables,
          canContainUndefs: i2.canContainUndefs
        };
      });
    }
    extractSortExpression(e2) {
      const {
        expressionType: t3,
        operator: r2
      } = e2;
      return t3 !== i.Algebra.expressionTypes.OPERATOR ? e2 : r2 === "desc" ? e2.args[0] : e2;
    }
    isAscending(e2) {
      const {
        expressionType: t3,
        operator: r2
      } = e2;
      return t3 !== i.Algebra.expressionTypes.OPERATOR || r2 !== "desc";
    }
  }
  t2.ActorQueryOperationOrderBySparqlee = o;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.SortIterator = void 0;
  const n = r(3);
  class i extends n.TransformIterator {
    constructor(e2, t3, r2) {
      super(e2, r2);
      const n2 = r2 && r2.window;
      this.windowLength = Number.isFinite(n2) && n2 > 0 ? n2 : 1 / 0, this.sort = t3, this.sorted = [];
    }
    _read(e2, t3) {
      let r2, {
        length: n2
      } = this.sorted;
      for (; n2 !== this.windowLength && (r2 = this.source.read(), r2 !== null); ) {
        let e3, t4, i2 = 0, a = n2 - 1;
        for (; i2 <= a; )
          e3 = Math.trunc((i2 + a) / 2), t4 = this.sort(r2, this.sorted[e3]), t4 < 0 ? i2 = e3 + 1 : t4 > 0 ? a = e3 - 1 : (i2 = e3, a = -1);
        this.sorted.splice(i2, 0, r2), n2++;
      }
      n2 === this.windowLength && this._push(this.sorted.pop()), t3();
    }
    _flush(e2) {
      let {
        length: t3
      } = this.sorted;
      for (; t3--; )
        this._push(this.sorted.pop());
      e2();
    }
  }
  t2.SortIterator = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(561), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationProject = void 0;
  const n = r(1), i = r(177), a = r(5), s = r(4), o = new a.DataFactory();
  class u extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "project");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: e2.input,
          context: t3
        })), a2 = e2.variables.map((e3) => s.termToString(e3)), u2 = r2.variables.filter((e3) => !a2.includes(e3)), c = a2.filter((e3) => !r2.variables.includes(e3));
        if (c.length > 0)
          throw new Error(`Variables '${c}' are used in the projection result, but are not assigned.`);
        let l = u2.length === 0 ? r2.bindingsStream : r2.bindingsStream.transform({
          map(e3) {
            for (const t4 of u2)
              e3 = e3.delete(t4);
            return e3;
          },
          autoStart: false
        }), h = 0;
        return l = l.transform({
          map: (e3) => (h++, e3.map((e4) => e4 && e4.termType === "BlankNode" ? e4 instanceof i.BlankNodeScoped ? new i.BlankNodeScoped(`${e4.value}${h}`, e4.skolemized) : o.blankNode(`${e4.value}${h}`) : e4)),
          autoStart: false
        }), {
          type: "bindings",
          bindingsStream: l,
          metadata: r2.metadata,
          variables: a2,
          canContainUndefs: r2.canContainUndefs
        };
      });
    }
  }
  t2.ActorQueryOperationProject = u;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(563), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationMinus = void 0;
  const n = r(1), i = r(3), a = r(564);
  class s extends n.ActorQueryOperationTypedMediated {
    constructor(e2) {
      super(e2, "minus");
    }
    testOperation(e2, t3) {
      return __async(this, null, function* () {
        return true;
      });
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: e2.right,
          context: t3
        })), s2 = n.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: e2.left,
          context: t3
        })), o = this.getCommonVariables(r2.variables, s2.variables);
        if (o.length > 0) {
          const e3 = new a.BindingsIndex(o), t4 = new i.TransformIterator(() => __async(this, null, function* () {
            return yield new Promise((t5) => {
              r2.bindingsStream.on("data", (t6) => e3.add(t6)), r2.bindingsStream.on("end", t5);
            }), s2.bindingsStream.filter((t5) => !e3.contains(t5));
          }), {
            autoStart: false
          }), n2 = r2.canContainUndefs || s2.canContainUndefs;
          return {
            type: "bindings",
            bindingsStream: t4,
            variables: s2.variables,
            metadata: s2.metadata,
            canContainUndefs: n2
          };
        }
        return s2;
      });
    }
    getCommonVariables(e2, t3) {
      return Object.keys(e2.filter((e3) => t3.includes(e3)).reduce((e3, t4) => (e3[t4] = true, e3), {}));
    }
  }
  t2.ActorQueryOperationMinus = s;
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.BindingsIndex = void 0;
  const n = r(4);
  class i {
    constructor(e2) {
      this.data = {}, this.keys = e2;
    }
    static hashTerm(e2) {
      return e2 && e2.termType !== "Variable" ? n.termToString(e2) : "";
    }
    add(e2) {
      if (this.isBindingsValid(e2)) {
        let t3 = this.data;
        for (const r2 of this.keys) {
          const n2 = i.hashTerm(e2.get(r2));
          let a = t3[n2];
          a || (a = t3[n2] = {}), t3 = a;
        }
      }
    }
    contains(e2) {
      return !!this.isBindingsValid(e2) && this.containsRecursive(e2, this.keys, [this.data]);
    }
    isBindingsValid(e2) {
      let t3 = false;
      for (const r2 of this.keys)
        if (e2.get(r2)) {
          t3 = true;
          break;
        }
      return t3;
    }
    containsRecursive(e2, t3, r2) {
      if (t3.length === 0)
        return true;
      let n2;
      [n2, ...t3] = t3;
      for (const a of r2) {
        const r3 = i.hashTerm(e2.get(n2));
        if (r3) {
          const n3 = [a[r3], a[""]].filter(Boolean);
          if (n3.length === 0)
            continue;
          if (this.containsRecursive(e2, t3, n3))
            return true;
        } else {
          let r4 = Object.keys(a).map((e3) => a[e3]);
          if (r4.length === 0 && (r4 = [{}]), this.containsRecursive(e2, t3, r4))
            return true;
        }
      }
      return false;
    }
  }
  t2.BindingsIndex = i;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(566), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathAlt = void 0;
  const n = r(29), i = r(1), a = r(3), s = r(6);
  class o extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, s.Algebra.types.ALT);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.predicate, s2 = (yield Promise.all([this.mediatorQueryOperation.mediate({
          context: t3,
          operation: n.ActorAbstractPath.FACTORY.createPath(e2.subject, r2.left, e2.object, e2.graph)
        }), this.mediatorQueryOperation.mediate({
          context: t3,
          operation: n.ActorAbstractPath.FACTORY.createPath(e2.subject, r2.right, e2.object, e2.graph)
        })])).map((e3) => i.ActorQueryOperation.getSafeBindings(e3)), o2 = new a.UnionIterator(s2.map((e3) => e3.bindingsStream), {
          autoStart: false
        }), u = [].concat.apply([], s2.map((e3) => e3.variables));
        return {
          type: "bindings",
          bindingsStream: o2,
          variables: [...new Set(u)],
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationPathAlt = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(568), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathInv = void 0;
  const n = r(29), i = r(6);
  class a extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, i.Algebra.types.INV);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.predicate, i2 = n.ActorAbstractPath.FACTORY.createPath(e2.object, r2.path, e2.subject, e2.graph);
        return this.mediatorQueryOperation.mediate({
          operation: i2,
          context: t3
        });
      });
    }
  }
  t2.ActorQueryOperationPathInv = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(570), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathLink = void 0;
  const n = r(29), i = r(6);
  class a extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, i.Algebra.types.LINK);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.predicate, i2 = n.ActorAbstractPath.FACTORY.createPattern(e2.subject, r2.iri, e2.object, e2.graph);
        return this.mediatorQueryOperation.mediate({
          operation: i2,
          context: t3
        });
      });
    }
  }
  t2.ActorQueryOperationPathLink = a;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(572), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathNps = void 0;
  const n = r(29), i = r(1), a = r(4), s = r(6);
  class o extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, s.Algebra.types.NPS);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.predicate, s2 = this.generateVariable(e2), o2 = a.termToString(s2), u = n.ActorAbstractPath.FACTORY.createPattern(e2.subject, s2, e2.object, e2.graph), c = i.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          operation: u,
          context: t3
        }));
        return {
          type: "bindings",
          bindingsStream: c.bindingsStream.transform({
            filter: (e3) => !r2.iris.some((t4) => t4.equals(e3.get(o2))),
            transform(e3, t4, r3) {
              r3(e3.delete(o2)), t4();
            }
          }),
          variables: c.variables,
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationPathNps = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(574), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathOneOrMore = void 0;
  const n = r(29), i = r(1), a = r(3), s = r(4), o = r(6);
  class u extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, o.Algebra.types.ONE_OR_MORE_PATH);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.isPathArbitraryLengthDistinct(t3, e2);
        if (r2.operation)
          return r2.operation;
        t3 = r2.context;
        const o2 = e2.predicate, u2 = e2.subject.termType === "Variable", c = e2.object.termType === "Variable", l = e2.graph.termType === "Variable";
        if (!u2 && c) {
          const r3 = n.ActorAbstractPath.FACTORY.createDistinct(n.ActorAbstractPath.FACTORY.createPath(e2.subject, o2.path, e2.object, e2.graph)), u3 = i.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            context: t3,
            operation: r3
          })), c2 = s.termToString(e2.object), h2 = {};
          return {
            type: "bindings",
            bindingsStream: new a.MultiTransformIterator(u3.bindingsStream, {
              multiTransform: (r4) => {
                const n2 = r4.get(c2), u4 = l ? r4.get(s.termToString(e2.graph)) : e2.graph;
                return new a.TransformIterator(() => __async(this, null, function* () {
                  const r5 = new a.BufferedIterator();
                  return yield this.getObjectsPredicateStar(n2, o2.path, e2.graph, t3, h2, r5, {
                    count: 0
                  }), r5.transform({
                    transform(t4, r6, n3) {
                      let a2 = i.Bindings({
                        [c2]: t4
                      });
                      l && (a2 = a2.set(s.termToString(e2.graph), u4)), n3(a2), r6();
                    }
                  });
                }), {
                  maxBufferSize: 128
                });
              },
              autoStart: false
            }),
            variables: l ? [c2, s.termToString(e2.graph)] : [c2],
            canContainUndefs: false
          };
        }
        if (u2 && c) {
          const r3 = n.ActorAbstractPath.FACTORY.createDistinct(n.ActorAbstractPath.FACTORY.createPath(e2.subject, e2.predicate.path, e2.object, e2.graph)), u3 = i.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            context: t3,
            operation: r3
          })), c2 = s.termToString(e2.subject), h2 = s.termToString(e2.object), d2 = {};
          return {
            type: "bindings",
            bindingsStream: new a.MultiTransformIterator(u3.bindingsStream, {
              multiTransform: (r4) => {
                const n2 = r4.get(c2), i2 = r4.get(h2), u4 = l ? r4.get(s.termToString(e2.graph)) : e2.graph;
                return new a.TransformIterator(() => __async(this, null, function* () {
                  const r5 = new a.BufferedIterator();
                  return yield this.getSubjectAndObjectBindingsPredicateStar(c2, h2, n2, i2, o2.path, u4, t3, d2, {}, r5, {
                    count: 0
                  }), r5.transform({
                    transform(t4, r6, n3) {
                      l && (t4 = t4.set(s.termToString(e2.graph), u4)), n3(t4), r6();
                    }
                  });
                }), {
                  maxBufferSize: 128
                });
              },
              autoStart: false
            }),
            variables: l ? [c2, h2, s.termToString(e2.graph)] : [c2, h2],
            canContainUndefs: false
          };
        }
        if (u2 && !c)
          return this.mediatorQueryOperation.mediate({
            context: t3,
            operation: n.ActorAbstractPath.FACTORY.createPath(e2.object, n.ActorAbstractPath.FACTORY.createOneOrMorePath(n.ActorAbstractPath.FACTORY.createInv(o2.path)), e2.subject, e2.graph)
          });
        const h = this.generateVariable(), d = s.termToString(h);
        return {
          type: "bindings",
          bindingsStream: i.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            context: t3,
            operation: n.ActorAbstractPath.FACTORY.createPath(e2.subject, o2, h, e2.graph)
          })).bindingsStream.transform({
            filter: (t4) => t4.get(d).equals(e2.object),
            transform(t4, r3, n2) {
              n2(l ? i.Bindings({
                [s.termToString(e2.graph)]: t4.get(s.termToString(e2.graph))
              }) : i.Bindings({})), r3();
            }
          }),
          variables: l ? [s.termToString(e2.graph)] : [],
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationPathOneOrMore = u;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(576), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathSeq = void 0;
  const n = r(29), i = r(1), a = r(4), s = r(6);
  class o extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, s.Algebra.types.SEQ);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.predicate, s2 = this.generateVariable(e2), o2 = a.termToString(s2), u = (yield Promise.all([this.mediatorQueryOperation.mediate({
          context: t3,
          operation: n.ActorAbstractPath.FACTORY.createPath(e2.subject, r2.left, s2, e2.graph)
        }), this.mediatorQueryOperation.mediate({
          context: t3,
          operation: n.ActorAbstractPath.FACTORY.createPath(s2, r2.right, e2.object, e2.graph)
        })])).map((e3) => i.ActorQueryOperation.getSafeBindings(e3)), c = i.ActorQueryOperation.getSafeBindings(yield this.mediatorJoin.mediate({
          entries: u
        })), l = c.bindingsStream.transform({
          transform(e3, t4, r3) {
            r3(e3.delete(o2)), t4();
          }
        }), h = c.variables, d = h.indexOf(o2);
        return h.splice(d, 1), {
          type: "bindings",
          bindingsStream: l,
          variables: h,
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationPathSeq = o;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(578), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathZeroOrMore = void 0;
  const n = r(29), i = r(1), a = r(3), s = r(4), o = r(6);
  class u extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, o.Algebra.types.ZERO_OR_MORE_PATH);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = yield this.isPathArbitraryLengthDistinct(t3, e2);
        if (r2.operation)
          return r2.operation;
        t3 = r2.context;
        const o2 = e2.predicate, u2 = e2.subject.termType === "Variable", c = e2.object.termType === "Variable", l = e2.graph.termType === "Variable";
        if (u2 && c) {
          const r3 = this.generateVariable(e2), u3 = n.ActorAbstractPath.FACTORY.createPattern(e2.subject, r3, e2.object, e2.graph), c2 = i.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
            context: t3,
            operation: u3
          })), h2 = s.termToString(e2.subject), d2 = s.termToString(e2.object), p2 = new Set(), f = {};
          return {
            type: "bindings",
            bindingsStream: new a.MultiTransformIterator(c2.bindingsStream, {
              multiTransform: (r4) => {
                const n2 = r4.get(h2), i2 = r4.get(d2), u4 = l ? r4.get(s.termToString(e2.graph)) : e2.graph, c3 = s.termToString(n2) + s.termToString(u4), g = s.termToString(i2) + s.termToString(u4);
                return new a.TransformIterator(() => __async(this, null, function* () {
                  if (p2.has(c3) && p2.has(g))
                    return new a.EmptyIterator();
                  const r5 = new a.BufferedIterator(), m = {
                    count: 0
                  };
                  return p2.has(c3) || (p2.add(c3), yield this.getSubjectAndObjectBindingsPredicateStar(h2, d2, n2, n2, o2.path, u4, t3, f, {}, r5, m)), p2.has(g) || (p2.add(g), yield this.getSubjectAndObjectBindingsPredicateStar(h2, d2, i2, i2, o2.path, u4, t3, f, {}, r5, m)), r5.transform({
                    transform(t4, r6, n3) {
                      l && (t4 = t4.set(s.termToString(e2.graph), u4)), n3(t4), r6();
                    }
                  });
                }));
              }
            }),
            variables: l ? [h2, d2, s.termToString(e2.graph)] : [h2, d2],
            canContainUndefs: false
          };
        }
        if (!u2 && !c) {
          const r3 = this.generateVariable();
          return {
            type: "bindings",
            bindingsStream: (yield this.getObjectsPredicateStarEval(e2.subject, r3, o2.path, e2.graph, t3)).transform({
              filter: (t4) => t4.get(s.termToString(r3)).equals(e2.object),
              transform(t4, r4, n2) {
                n2(l ? i.Bindings({
                  [s.termToString(e2.graph)]: t4.get(s.termToString(e2.graph))
                }) : i.Bindings({})), r4();
              }
            }),
            variables: l ? [s.termToString(e2.graph)] : [],
            canContainUndefs: false
          };
        }
        const h = u2 ? e2.object : e2.subject, d = u2 ? e2.subject : e2.object, p = u2 ? n.ActorAbstractPath.FACTORY.createInv(o2.path) : o2.path;
        return {
          type: "bindings",
          bindingsStream: (yield this.getObjectsPredicateStarEval(h, d, p, e2.graph, t3)).transform({
            transform(e3, t4, r3) {
              r3(e3), t4();
            }
          }),
          variables: l ? [s.termToString(d), s.termToString(e2.graph)] : [s.termToString(d)],
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationPathZeroOrMore = u;
}, function(e, t2, r) {
  "use strict";
  var n = this && this.__createBinding || (Object.create ? function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), Object.defineProperty(e2, n2, {
      enumerable: true,
      get: function() {
        return t3[r2];
      }
    });
  } : function(e2, t3, r2, n2) {
    n2 === void 0 && (n2 = r2), e2[n2] = t3[r2];
  }), i = this && this.__exportStar || function(e2, t3) {
    for (var r2 in e2)
      r2 === "default" || Object.prototype.hasOwnProperty.call(t3, r2) || n(t3, e2, r2);
  };
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), i(r(580), t2);
}, function(e, t2, r) {
  "use strict";
  Object.defineProperty(t2, "__esModule", {
    value: true
  }), t2.ActorQueryOperationPathZeroOrOne = void 0;
  const n = r(187), i = r(1), a = r(3), s = r(4), o = r(6);
  class u extends n.ActorAbstractPath {
    constructor(e2) {
      super(e2, o.Algebra.types.ZERO_OR_ONE_PATH);
    }
    runOperation(e2, t3) {
      return __async(this, null, function* () {
        const r2 = e2.predicate, o2 = e2.subject.termType === "Variable", u2 = e2.object.termType === "Variable", c = [];
        if (!o2 && !u2 && e2.subject.equals(e2.object))
          return {
            type: "bindings",
            bindingsStream: new a.SingletonIterator(i.Bindings({})),
            variables: [],
            canContainUndefs: false
          };
        if (o2 && u2)
          throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");
        const l = yield this.isPathArbitraryLengthDistinct(t3, e2);
        if (l.operation)
          return l.operation;
        t3 = l.context, o2 && c.push(i.Bindings({
          [s.termToString(e2.subject)]: e2.object
        })), u2 && c.push(i.Bindings({
          [s.termToString(e2.object)]: e2.subject
        }));
        const h = i.ActorQueryOperation.getSafeBindings(yield this.mediatorQueryOperation.mediate({
          context: t3,
          operation: n.ActorAbstractPath.FACTORY.createPath(e2.subject, r2.path, e2.object, e2.graph)
        }));
        return {
          type: "bindings",
          bindingsStream: h.bindingsStream.prepend(c),
          variables: h.variables,
          canContainUndefs: false
        };
      });
    }
  }
  t2.ActorQueryOperationPathZeroOrOne = u;
}, function(e, t2, r) {
  "use strict";
  r.r(t2), r.d(t2, "Source", function() {
    return s;
  }), r.d(t2, "getLocation", function() {
    return o;
  }), r.d(t2, "printLocation", function() {
    return u;
  }), r.d(t2, "printSourceLocation", function() {
    return c;
  }), r.d(t2, "Kind", function() {
    return d;
  }), r.d(t2, "TokenKind", function() {
    return p;
  }), r.d(t2, "Lexer", function() {
    return j;
  }), r.d(t2, "parse", function() {
    return H;
  }), r.d(t2, "parseValue", function() {
    return G;
  }), r.d(t2, "parseType", function() {
    return z;
  }), r.d(t2, "print", function() {
    return ee;
  }), r.d(t2, "visit", function() {
    return W;
  }), r.d(t2, "visitInParallel", function() {
    return K;
  }), r.d(t2, "getVisitFn", function() {
    return Z;
  }), r.d(t2, "BREAK", function() {
    return J;
  }), r.d(t2, "Location", function() {
    return R;
  }), r.d(t2, "Token", function() {
    return I;
  }), r.d(t2, "isDefinitionNode", function() {
    return ce;
  }), r.d(t2, "isExecutableDefinitionNode", function() {
    return le;
  }), r.d(t2, "isSelectionNode", function() {
    return he;
  }), r.d(t2, "isValueNode", function() {
    return de;
  }), r.d(t2, "isTypeNode", function() {
    return pe;
  }), r.d(t2, "isTypeSystemDefinitionNode", function() {
    return fe;
  }), r.d(t2, "isTypeDefinitionNode", function() {
    return ge;
  }), r.d(t2, "isTypeSystemExtensionNode", function() {
    return me;
  }), r.d(t2, "isTypeExtensionNode", function() {
    return ye;
  }), r.d(t2, "DirectiveLocation", function() {
    return V;
  });
  typeof Symbol == "function" && Symbol.iterator, typeof Symbol == "function" && Symbol.asyncIterator;
  var n = typeof Symbol == "function" ? Symbol.toStringTag : "@@toStringTag";
  function i(e2, t3) {
    if (!Boolean(e2))
      throw new Error(t3);
  }
  function a(e2, t3) {
    for (var r2 = 0; r2 < t3.length; r2++) {
      var n2 = t3[r2];
      n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e2, n2.key, n2);
    }
  }
  var s = function() {
    function e2(e3) {
      var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "GraphQL request", r3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {
        line: 1,
        column: 1
      };
      this.body = e3, this.name = t4, this.locationOffset = r3, this.locationOffset.line > 0 || i(0, "line in locationOffset is 1-indexed and must be positive."), this.locationOffset.column > 0 || i(0, "column in locationOffset is 1-indexed and must be positive.");
    }
    var t3, r2, s2;
    return t3 = e2, (r2 = [{
      key: n,
      get: function() {
        return "Source";
      }
    }]) && a(t3.prototype, r2), s2 && a(t3, s2), e2;
  }();
  function o(e2, t3) {
    for (var r2, n2 = /\r\n|[\n\r]/g, i2 = 1, a2 = t3 + 1; (r2 = n2.exec(e2.body)) && r2.index < t3; )
      i2 += 1, a2 = t3 + 1 - (r2.index + r2[0].length);
    return {
      line: i2,
      column: a2
    };
  }
  function u(e2) {
    return c(e2.source, o(e2.source, e2.start));
  }
  function c(e2, t3) {
    var r2 = e2.locationOffset.column - 1, n2 = h(r2) + e2.body, i2 = t3.line - 1, a2 = e2.locationOffset.line - 1, s2 = t3.line + a2, o2 = t3.line === 1 ? r2 : 0, u2 = t3.column + o2, c2 = "".concat(e2.name, ":").concat(s2, ":").concat(u2, "\n"), d2 = n2.split(/\r\n|[\n\r]/g), p2 = d2[i2];
    if (p2.length > 120) {
      for (var f2 = Math.floor(u2 / 80), g2 = u2 % 80, m2 = [], y2 = 0; y2 < p2.length; y2 += 80)
        m2.push(p2.slice(y2, y2 + 80));
      return c2 + l([
        ["".concat(s2), m2[0]]
      ].concat(m2.slice(1, f2 + 1).map(function(e3) {
        return ["", e3];
      }), [
        [" ", h(g2 - 1) + "^"],
        ["", m2[f2 + 1]]
      ]));
    }
    return c2 + l([
      ["".concat(s2 - 1), d2[i2 - 1]],
      ["".concat(s2), p2],
      ["", h(u2 - 1) + "^"],
      ["".concat(s2 + 1), d2[i2 + 1]]
    ]);
  }
  function l(e2) {
    var t3 = e2.filter(function(e3) {
      e3[0];
      return e3[1] !== void 0;
    }), r2 = Math.max.apply(Math, t3.map(function(e3) {
      return e3[0].length;
    }));
    return t3.map(function(e3) {
      var t4, n2 = e3[0], i2 = e3[1];
      return h(r2 - (t4 = n2).length) + t4 + (i2 ? " | " + i2 : " |");
    }).join("\n");
  }
  function h(e2) {
    return Array(e2 + 1).join(" ");
  }
  var d = Object.freeze({
    NAME: "Name",
    DOCUMENT: "Document",
    OPERATION_DEFINITION: "OperationDefinition",
    VARIABLE_DEFINITION: "VariableDefinition",
    SELECTION_SET: "SelectionSet",
    FIELD: "Field",
    ARGUMENT: "Argument",
    FRAGMENT_SPREAD: "FragmentSpread",
    INLINE_FRAGMENT: "InlineFragment",
    FRAGMENT_DEFINITION: "FragmentDefinition",
    VARIABLE: "Variable",
    INT: "IntValue",
    FLOAT: "FloatValue",
    STRING: "StringValue",
    BOOLEAN: "BooleanValue",
    NULL: "NullValue",
    ENUM: "EnumValue",
    LIST: "ListValue",
    OBJECT: "ObjectValue",
    OBJECT_FIELD: "ObjectField",
    DIRECTIVE: "Directive",
    NAMED_TYPE: "NamedType",
    LIST_TYPE: "ListType",
    NON_NULL_TYPE: "NonNullType",
    SCHEMA_DEFINITION: "SchemaDefinition",
    OPERATION_TYPE_DEFINITION: "OperationTypeDefinition",
    SCALAR_TYPE_DEFINITION: "ScalarTypeDefinition",
    OBJECT_TYPE_DEFINITION: "ObjectTypeDefinition",
    FIELD_DEFINITION: "FieldDefinition",
    INPUT_VALUE_DEFINITION: "InputValueDefinition",
    INTERFACE_TYPE_DEFINITION: "InterfaceTypeDefinition",
    UNION_TYPE_DEFINITION: "UnionTypeDefinition",
    ENUM_TYPE_DEFINITION: "EnumTypeDefinition",
    ENUM_VALUE_DEFINITION: "EnumValueDefinition",
    INPUT_OBJECT_TYPE_DEFINITION: "InputObjectTypeDefinition",
    DIRECTIVE_DEFINITION: "DirectiveDefinition",
    SCHEMA_EXTENSION: "SchemaExtension",
    SCALAR_TYPE_EXTENSION: "ScalarTypeExtension",
    OBJECT_TYPE_EXTENSION: "ObjectTypeExtension",
    INTERFACE_TYPE_EXTENSION: "InterfaceTypeExtension",
    UNION_TYPE_EXTENSION: "UnionTypeExtension",
    ENUM_TYPE_EXTENSION: "EnumTypeExtension",
    INPUT_OBJECT_TYPE_EXTENSION: "InputObjectTypeExtension"
  }), p = Object.freeze({
    SOF: "<SOF>",
    EOF: "<EOF>",
    BANG: "!",
    DOLLAR: "$",
    AMP: "&",
    PAREN_L: "(",
    PAREN_R: ")",
    SPREAD: "...",
    COLON: ":",
    EQUALS: "=",
    AT: "@",
    BRACKET_L: "[",
    BRACKET_R: "]",
    BRACE_L: "{",
    PIPE: "|",
    BRACE_R: "}",
    NAME: "Name",
    INT: "Int",
    FLOAT: "Float",
    STRING: "String",
    BLOCK_STRING: "BlockString",
    COMMENT: "Comment"
  });
  function f(e2) {
    return (f = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e3) {
      return typeof e3;
    } : function(e3) {
      return e3 && typeof Symbol == "function" && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
    })(e2);
  }
  function g(e2) {
    return (g = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e3) {
      return typeof e3;
    } : function(e3) {
      return e3 && typeof Symbol == "function" && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
    })(e2);
  }
  function m(e2, t3) {
    for (var r2 = 0; r2 < t3.length; r2++) {
      var n2 = t3[r2];
      n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(e2, n2.key, n2);
    }
  }
  function y(e2, t3) {
    return !t3 || g(t3) !== "object" && typeof t3 != "function" ? b(e2) : t3;
  }
  function b(e2) {
    if (e2 === void 0)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return e2;
  }
  function _(e2) {
    var t3 = typeof Map == "function" ? new Map() : void 0;
    return (_ = function(e3) {
      if (e3 === null || (r2 = e3, Function.toString.call(r2).indexOf("[native code]") === -1))
        return e3;
      var r2;
      if (typeof e3 != "function")
        throw new TypeError("Super expression must either be null or a function");
      if (t3 !== void 0) {
        if (t3.has(e3))
          return t3.get(e3);
        t3.set(e3, n2);
      }
      function n2() {
        return v(e3, arguments, T(this).constructor);
      }
      return n2.prototype = Object.create(e3.prototype, {
        constructor: {
          value: n2,
          enumerable: false,
          writable: true,
          configurable: true
        }
      }), S(n2, e3);
    })(e2);
  }
  function v(e2, t3, r2) {
    return (v = w() ? Reflect.construct : function(e3, t4, r3) {
      var n2 = [null];
      n2.push.apply(n2, t4);
      var i2 = new (Function.bind.apply(e3, n2))();
      return r3 && S(i2, r3.prototype), i2;
    }).apply(null, arguments);
  }
  function w() {
    if (typeof Reflect == "undefined" || !Reflect.construct)
      return false;
    if (Reflect.construct.sham)
      return false;
    if (typeof Proxy == "function")
      return true;
    try {
      return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
      })), true;
    } catch (e2) {
      return false;
    }
  }
  function S(e2, t3) {
    return (S = Object.setPrototypeOf || function(e3, t4) {
      return e3.__proto__ = t4, e3;
    })(e2, t3);
  }
  function T(e2) {
    return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function(e3) {
      return e3.__proto__ || Object.getPrototypeOf(e3);
    })(e2);
  }
  var E = function(e2) {
    !function(e3, t4) {
      if (typeof t4 != "function" && t4 !== null)
        throw new TypeError("Super expression must either be null or a function");
      e3.prototype = Object.create(t4 && t4.prototype, {
        constructor: {
          value: e3,
          writable: true,
          configurable: true
        }
      }), t4 && S(e3, t4);
    }(h2, e2);
    var t3, r2, i2, a2, s2, l2 = (t3 = h2, r2 = w(), function() {
      var e3, n2 = T(t3);
      if (r2) {
        var i3 = T(this).constructor;
        e3 = Reflect.construct(n2, arguments, i3);
      } else
        e3 = n2.apply(this, arguments);
      return y(this, e3);
    });
    function h2(e3, t4, r3, n2, i3, a3, s3) {
      var u2, c2, d2, p2, g2;
      !function(e4, t5) {
        if (!(e4 instanceof t5))
          throw new TypeError("Cannot call a class as a function");
      }(this, h2), g2 = l2.call(this, e3);
      var m2, _2 = Array.isArray(t4) ? t4.length !== 0 ? t4 : void 0 : t4 ? [t4] : void 0, v2 = r3;
      !v2 && _2 && (v2 = (m2 = _2[0].loc) === null || m2 === void 0 ? void 0 : m2.source);
      var w2, S2 = n2;
      !S2 && _2 && (S2 = _2.reduce(function(e4, t5) {
        return t5.loc && e4.push(t5.loc.start), e4;
      }, [])), S2 && S2.length === 0 && (S2 = void 0), n2 && r3 ? w2 = n2.map(function(e4) {
        return o(r3, e4);
      }) : _2 && (w2 = _2.reduce(function(e4, t5) {
        return t5.loc && e4.push(o(t5.loc.source, t5.loc.start)), e4;
      }, []));
      var T2, E2 = s3;
      if (E2 == null && a3 != null) {
        var x2 = a3.extensions;
        f(T2 = x2) == "object" && T2 !== null && (E2 = x2);
      }
      return Object.defineProperties(b(g2), {
        name: {
          value: "GraphQLError"
        },
        message: {
          value: e3,
          enumerable: true,
          writable: true
        },
        locations: {
          value: (u2 = w2) !== null && u2 !== void 0 ? u2 : void 0,
          enumerable: w2 != null
        },
        path: {
          value: i3 != null ? i3 : void 0,
          enumerable: i3 != null
        },
        nodes: {
          value: _2 != null ? _2 : void 0
        },
        source: {
          value: (c2 = v2) !== null && c2 !== void 0 ? c2 : void 0
        },
        positions: {
          value: (d2 = S2) !== null && d2 !== void 0 ? d2 : void 0
        },
        originalError: {
          value: a3
        },
        extensions: {
          value: (p2 = E2) !== null && p2 !== void 0 ? p2 : void 0,
          enumerable: E2 != null
        }
      }), (a3 == null ? void 0 : a3.stack) ? (Object.defineProperty(b(g2), "stack", {
        value: a3.stack,
        writable: true,
        configurable: true
      }), y(g2)) : (Error.captureStackTrace ? Error.captureStackTrace(b(g2), h2) : Object.defineProperty(b(g2), "stack", {
        value: Error().stack,
        writable: true,
        configurable: true
      }), g2);
    }
    return i2 = h2, (a2 = [{
      key: "toString",
      value: function() {
        return function(e3) {
          var t4 = e3.message;
          if (e3.nodes)
            for (var r3 = 0, n2 = e3.nodes; r3 < n2.length; r3++) {
              var i3 = n2[r3];
              i3.loc && (t4 += "\n\n" + u(i3.loc));
            }
          else if (e3.source && e3.locations)
            for (var a3 = 0, s3 = e3.locations; a3 < s3.length; a3++) {
              var o2 = s3[a3];
              t4 += "\n\n" + c(e3.source, o2);
            }
          return t4;
        }(this);
      }
    }, {
      key: n,
      get: function() {
        return "Object";
      }
    }]) && m(i2.prototype, a2), s2 && m(i2, s2), h2;
  }(_(Error));
  function x(e2, t3, r2) {
    return new E("Syntax Error: ".concat(r2), void 0, e2, [t3]);
  }
  var O = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : void 0;
  function A(e2) {
    var t3 = e2.prototype.toJSON;
    typeof t3 == "function" || function(e3, t4) {
      if (!Boolean(e3))
        throw new Error(t4 != null ? t4 : "Unexpected invariant triggered.");
    }(0), e2.prototype.inspect = t3, O && (e2.prototype[O] = t3);
  }
  var R = function() {
    function e2(e3, t3, r2) {
      this.start = e3.start, this.end = t3.end, this.startToken = e3, this.endToken = t3, this.source = r2;
    }
    return e2.prototype.toJSON = function() {
      return {
        start: this.start,
        end: this.end
      };
    }, e2;
  }();
  A(R);
  var I = function() {
    function e2(e3, t3, r2, n2, i2, a2, s2) {
      this.kind = e3, this.start = t3, this.end = r2, this.line = n2, this.column = i2, this.value = s2, this.prev = a2, this.next = null;
    }
    return e2.prototype.toJSON = function() {
      return {
        kind: this.kind,
        value: this.value,
        line: this.line,
        column: this.column
      };
    }, e2;
  }();
  function N(e2) {
    return e2 != null && typeof e2.kind == "string";
  }
  function P(e2) {
    var t3 = e2.split(/\r\n|[\n\r]/g), r2 = function(e3) {
      for (var t4 = null, r3 = 1; r3 < e3.length; r3++) {
        var n3 = e3[r3], i2 = C(n3);
        if (i2 !== n3.length && ((t4 === null || i2 < t4) && (t4 = i2) === 0))
          break;
      }
      return t4 === null ? 0 : t4;
    }(t3);
    if (r2 !== 0)
      for (var n2 = 1; n2 < t3.length; n2++)
        t3[n2] = t3[n2].slice(r2);
    for (; t3.length > 0 && D(t3[0]); )
      t3.shift();
    for (; t3.length > 0 && D(t3[t3.length - 1]); )
      t3.pop();
    return t3.join("\n");
  }
  function C(e2) {
    for (var t3 = 0; t3 < e2.length && (e2[t3] === " " || e2[t3] === "	"); )
      t3++;
    return t3;
  }
  function D(e2) {
    return C(e2) === e2.length;
  }
  A(I);
  var j = function() {
    function e2(e3) {
      var t4 = new I(p.SOF, 0, 0, 0, 0, null);
      this.source = e3, this.lastToken = t4, this.token = t4, this.line = 1, this.lineStart = 0;
    }
    var t3 = e2.prototype;
    return t3.advance = function() {
      return this.lastToken = this.token, this.token = this.lookahead();
    }, t3.lookahead = function() {
      var e3 = this.token;
      if (e3.kind !== p.EOF)
        do {
          var t4;
          e3 = (t4 = e3.next) !== null && t4 !== void 0 ? t4 : e3.next = L(this, e3);
        } while (e3.kind === p.COMMENT);
      return e3;
    }, e2;
  }();
  function k(e2) {
    return isNaN(e2) ? p.EOF : e2 < 127 ? JSON.stringify(String.fromCharCode(e2)) : '"\\u'.concat(("00" + e2.toString(16).toUpperCase()).slice(-4), '"');
  }
  function L(e2, t3) {
    var r2 = e2.source, n2 = r2.body, i2 = n2.length, a2 = function(e3, t4, r3) {
      var n3 = e3.length, i3 = t4;
      for (; i3 < n3; ) {
        var a3 = e3.charCodeAt(i3);
        if (a3 === 9 || a3 === 32 || a3 === 44 || a3 === 65279)
          ++i3;
        else if (a3 === 10)
          ++i3, ++r3.line, r3.lineStart = i3;
        else {
          if (a3 !== 13)
            break;
          e3.charCodeAt(i3 + 1) === 10 ? i3 += 2 : ++i3, ++r3.line, r3.lineStart = i3;
        }
      }
      return i3;
    }(n2, t3.end, e2), s2 = e2.line, o2 = 1 + a2 - e2.lineStart;
    if (a2 >= i2)
      return new I(p.EOF, i2, i2, s2, o2, t3);
    var u2 = n2.charCodeAt(a2);
    switch (u2) {
      case 33:
        return new I(p.BANG, a2, a2 + 1, s2, o2, t3);
      case 35:
        return function(e3, t4, r3, n3, i3) {
          var a3, s3 = e3.body, o3 = t4;
          do {
            a3 = s3.charCodeAt(++o3);
          } while (!isNaN(a3) && (a3 > 31 || a3 === 9));
          return new I(p.COMMENT, t4, o3, r3, n3, i3, s3.slice(t4 + 1, o3));
        }(r2, a2, s2, o2, t3);
      case 36:
        return new I(p.DOLLAR, a2, a2 + 1, s2, o2, t3);
      case 38:
        return new I(p.AMP, a2, a2 + 1, s2, o2, t3);
      case 40:
        return new I(p.PAREN_L, a2, a2 + 1, s2, o2, t3);
      case 41:
        return new I(p.PAREN_R, a2, a2 + 1, s2, o2, t3);
      case 46:
        if (n2.charCodeAt(a2 + 1) === 46 && n2.charCodeAt(a2 + 2) === 46)
          return new I(p.SPREAD, a2, a2 + 3, s2, o2, t3);
        break;
      case 58:
        return new I(p.COLON, a2, a2 + 1, s2, o2, t3);
      case 61:
        return new I(p.EQUALS, a2, a2 + 1, s2, o2, t3);
      case 64:
        return new I(p.AT, a2, a2 + 1, s2, o2, t3);
      case 91:
        return new I(p.BRACKET_L, a2, a2 + 1, s2, o2, t3);
      case 93:
        return new I(p.BRACKET_R, a2, a2 + 1, s2, o2, t3);
      case 123:
        return new I(p.BRACE_L, a2, a2 + 1, s2, o2, t3);
      case 124:
        return new I(p.PIPE, a2, a2 + 1, s2, o2, t3);
      case 125:
        return new I(p.BRACE_R, a2, a2 + 1, s2, o2, t3);
      case 65:
      case 66:
      case 67:
      case 68:
      case 69:
      case 70:
      case 71:
      case 72:
      case 73:
      case 74:
      case 75:
      case 76:
      case 77:
      case 78:
      case 79:
      case 80:
      case 81:
      case 82:
      case 83:
      case 84:
      case 85:
      case 86:
      case 87:
      case 88:
      case 89:
      case 90:
      case 95:
      case 97:
      case 98:
      case 99:
      case 100:
      case 101:
      case 102:
      case 103:
      case 104:
      case 105:
      case 106:
      case 107:
      case 108:
      case 109:
      case 110:
      case 111:
      case 112:
      case 113:
      case 114:
      case 115:
      case 116:
      case 117:
      case 118:
      case 119:
      case 120:
      case 121:
      case 122:
        return function(e3, t4, r3, n3, i3) {
          var a3 = e3.body, s3 = a3.length, o3 = t4 + 1, u3 = 0;
          for (; o3 !== s3 && !isNaN(u3 = a3.charCodeAt(o3)) && (u3 === 95 || u3 >= 48 && u3 <= 57 || u3 >= 65 && u3 <= 90 || u3 >= 97 && u3 <= 122); )
            ++o3;
          return new I(p.NAME, t4, o3, r3, n3, i3, a3.slice(t4, o3));
        }(r2, a2, s2, o2, t3);
      case 45:
      case 48:
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
      case 55:
      case 56:
      case 57:
        return function(e3, t4, r3, n3, i3, a3) {
          var s3 = e3.body, o3 = r3, u3 = t4, c2 = false;
          o3 === 45 && (o3 = s3.charCodeAt(++u3));
          if (o3 === 48) {
            if ((o3 = s3.charCodeAt(++u3)) >= 48 && o3 <= 57)
              throw x(e3, u3, "Invalid number, unexpected digit after 0: ".concat(k(o3), "."));
          } else
            u3 = M(e3, u3, o3), o3 = s3.charCodeAt(u3);
          o3 === 46 && (c2 = true, o3 = s3.charCodeAt(++u3), u3 = M(e3, u3, o3), o3 = s3.charCodeAt(u3));
          o3 !== 69 && o3 !== 101 || (c2 = true, (o3 = s3.charCodeAt(++u3)) !== 43 && o3 !== 45 || (o3 = s3.charCodeAt(++u3)), u3 = M(e3, u3, o3), o3 = s3.charCodeAt(u3));
          if (o3 === 46 || function(e4) {
            return e4 === 95 || e4 >= 65 && e4 <= 90 || e4 >= 97 && e4 <= 122;
          }(o3))
            throw x(e3, u3, "Invalid number, expected digit but got: ".concat(k(o3), "."));
          return new I(c2 ? p.FLOAT : p.INT, t4, u3, n3, i3, a3, s3.slice(t4, u3));
        }(r2, a2, u2, s2, o2, t3);
      case 34:
        return n2.charCodeAt(a2 + 1) === 34 && n2.charCodeAt(a2 + 2) === 34 ? function(e3, t4, r3, n3, i3, a3) {
          var s3 = e3.body, o3 = t4 + 3, u3 = o3, c2 = 0, l2 = "";
          for (; o3 < s3.length && !isNaN(c2 = s3.charCodeAt(o3)); ) {
            if (c2 === 34 && s3.charCodeAt(o3 + 1) === 34 && s3.charCodeAt(o3 + 2) === 34)
              return l2 += s3.slice(u3, o3), new I(p.BLOCK_STRING, t4, o3 + 3, r3, n3, i3, P(l2));
            if (c2 < 32 && c2 !== 9 && c2 !== 10 && c2 !== 13)
              throw x(e3, o3, "Invalid character within String: ".concat(k(c2), "."));
            c2 === 10 ? (++o3, ++a3.line, a3.lineStart = o3) : c2 === 13 ? (s3.charCodeAt(o3 + 1) === 10 ? o3 += 2 : ++o3, ++a3.line, a3.lineStart = o3) : c2 === 92 && s3.charCodeAt(o3 + 1) === 34 && s3.charCodeAt(o3 + 2) === 34 && s3.charCodeAt(o3 + 3) === 34 ? (l2 += s3.slice(u3, o3) + '"""', u3 = o3 += 4) : ++o3;
          }
          throw x(e3, o3, "Unterminated string.");
        }(r2, a2, s2, o2, t3, e2) : function(e3, t4, r3, n3, i3) {
          var a3 = e3.body, s3 = t4 + 1, o3 = s3, u3 = 0, c2 = "";
          for (; s3 < a3.length && !isNaN(u3 = a3.charCodeAt(s3)) && u3 !== 10 && u3 !== 13; ) {
            if (u3 === 34)
              return c2 += a3.slice(o3, s3), new I(p.STRING, t4, s3 + 1, r3, n3, i3, c2);
            if (u3 < 32 && u3 !== 9)
              throw x(e3, s3, "Invalid character within String: ".concat(k(u3), "."));
            if (++s3, u3 === 92) {
              switch (c2 += a3.slice(o3, s3 - 1), u3 = a3.charCodeAt(s3)) {
                case 34:
                  c2 += '"';
                  break;
                case 47:
                  c2 += "/";
                  break;
                case 92:
                  c2 += "\\";
                  break;
                case 98:
                  c2 += "\b";
                  break;
                case 102:
                  c2 += "\f";
                  break;
                case 110:
                  c2 += "\n";
                  break;
                case 114:
                  c2 += "\r";
                  break;
                case 116:
                  c2 += "	";
                  break;
                case 117:
                  var l2 = (d2 = a3.charCodeAt(s3 + 1), f2 = a3.charCodeAt(s3 + 2), g2 = a3.charCodeAt(s3 + 3), m2 = a3.charCodeAt(s3 + 4), F(d2) << 12 | F(f2) << 8 | F(g2) << 4 | F(m2));
                  if (l2 < 0) {
                    var h2 = a3.slice(s3 + 1, s3 + 5);
                    throw x(e3, s3, "Invalid character escape sequence: \\u".concat(h2, "."));
                  }
                  c2 += String.fromCharCode(l2), s3 += 4;
                  break;
                default:
                  throw x(e3, s3, "Invalid character escape sequence: \\".concat(String.fromCharCode(u3), "."));
              }
              ++s3, o3 = s3;
            }
          }
          var d2, f2, g2, m2;
          throw x(e3, s3, "Unterminated string.");
        }(r2, a2, s2, o2, t3);
    }
    throw x(r2, a2, function(e3) {
      if (e3 < 32 && e3 !== 9 && e3 !== 10 && e3 !== 13)
        return "Cannot contain the invalid character ".concat(k(e3), ".");
      if (e3 === 39)
        return `Unexpected single quote character ('), did you mean to use a double quote (")?`;
      return "Cannot parse the unexpected character ".concat(k(e3), ".");
    }(u2));
  }
  function M(e2, t3, r2) {
    var n2 = e2.body, i2 = t3, a2 = r2;
    if (a2 >= 48 && a2 <= 57) {
      do {
        a2 = n2.charCodeAt(++i2);
      } while (a2 >= 48 && a2 <= 57);
      return i2;
    }
    throw x(e2, i2, "Invalid number, expected digit but got: ".concat(k(a2), "."));
  }
  function F(e2) {
    return e2 >= 48 && e2 <= 57 ? e2 - 48 : e2 >= 65 && e2 <= 70 ? e2 - 55 : e2 >= 97 && e2 <= 102 ? e2 - 87 : -1;
  }
  function B(e2) {
    return (B = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e3) {
      return typeof e3;
    } : function(e3) {
      return e3 && typeof Symbol == "function" && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
    })(e2);
  }
  function q(e2) {
    return U(e2, []);
  }
  function U(e2, t3) {
    switch (B(e2)) {
      case "string":
        return JSON.stringify(e2);
      case "function":
        return e2.name ? "[function ".concat(e2.name, "]") : "[function]";
      case "object":
        return e2 === null ? "null" : function(e3, t4) {
          if (t4.indexOf(e3) !== -1)
            return "[Circular]";
          var r2 = [].concat(t4, [e3]), n2 = function(e4) {
            var t5 = e4[String(O)];
            if (typeof t5 == "function")
              return t5;
            if (typeof e4.inspect == "function")
              return e4.inspect;
          }(e3);
          if (n2 !== void 0) {
            var i2 = n2.call(e3);
            if (i2 !== e3)
              return typeof i2 == "string" ? i2 : U(i2, r2);
          } else if (Array.isArray(e3))
            return function(e4, t5) {
              if (e4.length === 0)
                return "[]";
              if (t5.length > 2)
                return "[Array]";
              for (var r3 = Math.min(10, e4.length), n3 = e4.length - r3, i3 = [], a2 = 0; a2 < r3; ++a2)
                i3.push(U(e4[a2], t5));
              n3 === 1 ? i3.push("... 1 more item") : n3 > 1 && i3.push("... ".concat(n3, " more items"));
              return "[" + i3.join(", ") + "]";
            }(e3, r2);
          return function(e4, t5) {
            var r3 = Object.keys(e4);
            if (r3.length === 0)
              return "{}";
            if (t5.length > 2)
              return "[" + function(e5) {
                var t6 = Object.prototype.toString.call(e5).replace(/^\[object /, "").replace(/]$/, "");
                if (t6 === "Object" && typeof e5.constructor == "function") {
                  var r4 = e5.constructor.name;
                  if (typeof r4 == "string" && r4 !== "")
                    return r4;
                }
                return t6;
              }(e4) + "]";
            return "{ " + r3.map(function(r4) {
              return r4 + ": " + U(e4[r4], t5);
            }).join(", ") + " }";
          }(e3, r2);
        }(e2, t3);
      default:
        return String(e2);
    }
  }
  var V = Object.freeze({
    QUERY: "QUERY",
    MUTATION: "MUTATION",
    SUBSCRIPTION: "SUBSCRIPTION",
    FIELD: "FIELD",
    FRAGMENT_DEFINITION: "FRAGMENT_DEFINITION",
    FRAGMENT_SPREAD: "FRAGMENT_SPREAD",
    INLINE_FRAGMENT: "INLINE_FRAGMENT",
    VARIABLE_DEFINITION: "VARIABLE_DEFINITION",
    SCHEMA: "SCHEMA",
    SCALAR: "SCALAR",
    OBJECT: "OBJECT",
    FIELD_DEFINITION: "FIELD_DEFINITION",
    ARGUMENT_DEFINITION: "ARGUMENT_DEFINITION",
    INTERFACE: "INTERFACE",
    UNION: "UNION",
    ENUM: "ENUM",
    ENUM_VALUE: "ENUM_VALUE",
    INPUT_OBJECT: "INPUT_OBJECT",
    INPUT_FIELD_DEFINITION: "INPUT_FIELD_DEFINITION"
  });
  function H(e2, t3) {
    return new Q(e2, t3).parseDocument();
  }
  function G(e2, t3) {
    var r2 = new Q(e2, t3);
    r2.expectToken(p.SOF);
    var n2 = r2.parseValueLiteral(false);
    return r2.expectToken(p.EOF), n2;
  }
  function z(e2, t3) {
    var r2 = new Q(e2, t3);
    r2.expectToken(p.SOF);
    var n2 = r2.parseTypeReference();
    return r2.expectToken(p.EOF), n2;
  }
  var Q = function() {
    function e2(e3, t4) {
      var r2 = typeof e3 == "string" ? new s(e3) : e3;
      r2 instanceof s || i(0, "Must provide Source. Received: ".concat(q(r2), ".")), this._lexer = new j(r2), this._options = t4;
    }
    var t3 = e2.prototype;
    return t3.parseName = function() {
      var e3 = this.expectToken(p.NAME);
      return {
        kind: d.NAME,
        value: e3.value,
        loc: this.loc(e3)
      };
    }, t3.parseDocument = function() {
      var e3 = this._lexer.token;
      return {
        kind: d.DOCUMENT,
        definitions: this.many(p.SOF, this.parseDefinition, p.EOF),
        loc: this.loc(e3)
      };
    }, t3.parseDefinition = function() {
      if (this.peek(p.NAME))
        switch (this._lexer.token.value) {
          case "query":
          case "mutation":
          case "subscription":
            return this.parseOperationDefinition();
          case "fragment":
            return this.parseFragmentDefinition();
          case "schema":
          case "scalar":
          case "type":
          case "interface":
          case "union":
          case "enum":
          case "input":
          case "directive":
            return this.parseTypeSystemDefinition();
          case "extend":
            return this.parseTypeSystemExtension();
        }
      else {
        if (this.peek(p.BRACE_L))
          return this.parseOperationDefinition();
        if (this.peekDescription())
          return this.parseTypeSystemDefinition();
      }
      throw this.unexpected();
    }, t3.parseOperationDefinition = function() {
      var e3 = this._lexer.token;
      if (this.peek(p.BRACE_L))
        return {
          kind: d.OPERATION_DEFINITION,
          operation: "query",
          name: void 0,
          variableDefinitions: [],
          directives: [],
          selectionSet: this.parseSelectionSet(),
          loc: this.loc(e3)
        };
      var t4, r2 = this.parseOperationType();
      return this.peek(p.NAME) && (t4 = this.parseName()), {
        kind: d.OPERATION_DEFINITION,
        operation: r2,
        name: t4,
        variableDefinitions: this.parseVariableDefinitions(),
        directives: this.parseDirectives(false),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(e3)
      };
    }, t3.parseOperationType = function() {
      var e3 = this.expectToken(p.NAME);
      switch (e3.value) {
        case "query":
          return "query";
        case "mutation":
          return "mutation";
        case "subscription":
          return "subscription";
      }
      throw this.unexpected(e3);
    }, t3.parseVariableDefinitions = function() {
      return this.optionalMany(p.PAREN_L, this.parseVariableDefinition, p.PAREN_R);
    }, t3.parseVariableDefinition = function() {
      var e3 = this._lexer.token;
      return {
        kind: d.VARIABLE_DEFINITION,
        variable: this.parseVariable(),
        type: (this.expectToken(p.COLON), this.parseTypeReference()),
        defaultValue: this.expectOptionalToken(p.EQUALS) ? this.parseValueLiteral(true) : void 0,
        directives: this.parseDirectives(true),
        loc: this.loc(e3)
      };
    }, t3.parseVariable = function() {
      var e3 = this._lexer.token;
      return this.expectToken(p.DOLLAR), {
        kind: d.VARIABLE,
        name: this.parseName(),
        loc: this.loc(e3)
      };
    }, t3.parseSelectionSet = function() {
      var e3 = this._lexer.token;
      return {
        kind: d.SELECTION_SET,
        selections: this.many(p.BRACE_L, this.parseSelection, p.BRACE_R),
        loc: this.loc(e3)
      };
    }, t3.parseSelection = function() {
      return this.peek(p.SPREAD) ? this.parseFragment() : this.parseField();
    }, t3.parseField = function() {
      var e3, t4, r2 = this._lexer.token, n2 = this.parseName();
      return this.expectOptionalToken(p.COLON) ? (e3 = n2, t4 = this.parseName()) : t4 = n2, {
        kind: d.FIELD,
        alias: e3,
        name: t4,
        arguments: this.parseArguments(false),
        directives: this.parseDirectives(false),
        selectionSet: this.peek(p.BRACE_L) ? this.parseSelectionSet() : void 0,
        loc: this.loc(r2)
      };
    }, t3.parseArguments = function(e3) {
      var t4 = e3 ? this.parseConstArgument : this.parseArgument;
      return this.optionalMany(p.PAREN_L, t4, p.PAREN_R);
    }, t3.parseArgument = function() {
      var e3 = this._lexer.token, t4 = this.parseName();
      return this.expectToken(p.COLON), {
        kind: d.ARGUMENT,
        name: t4,
        value: this.parseValueLiteral(false),
        loc: this.loc(e3)
      };
    }, t3.parseConstArgument = function() {
      var e3 = this._lexer.token;
      return {
        kind: d.ARGUMENT,
        name: this.parseName(),
        value: (this.expectToken(p.COLON), this.parseValueLiteral(true)),
        loc: this.loc(e3)
      };
    }, t3.parseFragment = function() {
      var e3 = this._lexer.token;
      this.expectToken(p.SPREAD);
      var t4 = this.expectOptionalKeyword("on");
      return !t4 && this.peek(p.NAME) ? {
        kind: d.FRAGMENT_SPREAD,
        name: this.parseFragmentName(),
        directives: this.parseDirectives(false),
        loc: this.loc(e3)
      } : {
        kind: d.INLINE_FRAGMENT,
        typeCondition: t4 ? this.parseNamedType() : void 0,
        directives: this.parseDirectives(false),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(e3)
      };
    }, t3.parseFragmentDefinition = function() {
      var e3, t4 = this._lexer.token;
      return this.expectKeyword("fragment"), ((e3 = this._options) === null || e3 === void 0 ? void 0 : e3.experimentalFragmentVariables) === true ? {
        kind: d.FRAGMENT_DEFINITION,
        name: this.parseFragmentName(),
        variableDefinitions: this.parseVariableDefinitions(),
        typeCondition: (this.expectKeyword("on"), this.parseNamedType()),
        directives: this.parseDirectives(false),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(t4)
      } : {
        kind: d.FRAGMENT_DEFINITION,
        name: this.parseFragmentName(),
        typeCondition: (this.expectKeyword("on"), this.parseNamedType()),
        directives: this.parseDirectives(false),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(t4)
      };
    }, t3.parseFragmentName = function() {
      if (this._lexer.token.value === "on")
        throw this.unexpected();
      return this.parseName();
    }, t3.parseValueLiteral = function(e3) {
      var t4 = this._lexer.token;
      switch (t4.kind) {
        case p.BRACKET_L:
          return this.parseList(e3);
        case p.BRACE_L:
          return this.parseObject(e3);
        case p.INT:
          return this._lexer.advance(), {
            kind: d.INT,
            value: t4.value,
            loc: this.loc(t4)
          };
        case p.FLOAT:
          return this._lexer.advance(), {
            kind: d.FLOAT,
            value: t4.value,
            loc: this.loc(t4)
          };
        case p.STRING:
        case p.BLOCK_STRING:
          return this.parseStringLiteral();
        case p.NAME:
          switch (this._lexer.advance(), t4.value) {
            case "true":
              return {
                kind: d.BOOLEAN,
                value: true,
                loc: this.loc(t4)
              };
            case "false":
              return {
                kind: d.BOOLEAN,
                value: false,
                loc: this.loc(t4)
              };
            case "null":
              return {
                kind: d.NULL,
                loc: this.loc(t4)
              };
            default:
              return {
                kind: d.ENUM,
                value: t4.value,
                loc: this.loc(t4)
              };
          }
        case p.DOLLAR:
          if (!e3)
            return this.parseVariable();
      }
      throw this.unexpected();
    }, t3.parseStringLiteral = function() {
      var e3 = this._lexer.token;
      return this._lexer.advance(), {
        kind: d.STRING,
        value: e3.value,
        block: e3.kind === p.BLOCK_STRING,
        loc: this.loc(e3)
      };
    }, t3.parseList = function(e3) {
      var t4 = this, r2 = this._lexer.token;
      return {
        kind: d.LIST,
        values: this.any(p.BRACKET_L, function() {
          return t4.parseValueLiteral(e3);
        }, p.BRACKET_R),
        loc: this.loc(r2)
      };
    }, t3.parseObject = function(e3) {
      var t4 = this, r2 = this._lexer.token;
      return {
        kind: d.OBJECT,
        fields: this.any(p.BRACE_L, function() {
          return t4.parseObjectField(e3);
        }, p.BRACE_R),
        loc: this.loc(r2)
      };
    }, t3.parseObjectField = function(e3) {
      var t4 = this._lexer.token, r2 = this.parseName();
      return this.expectToken(p.COLON), {
        kind: d.OBJECT_FIELD,
        name: r2,
        value: this.parseValueLiteral(e3),
        loc: this.loc(t4)
      };
    }, t3.parseDirectives = function(e3) {
      for (var t4 = []; this.peek(p.AT); )
        t4.push(this.parseDirective(e3));
      return t4;
    }, t3.parseDirective = function(e3) {
      var t4 = this._lexer.token;
      return this.expectToken(p.AT), {
        kind: d.DIRECTIVE,
        name: this.parseName(),
        arguments: this.parseArguments(e3),
        loc: this.loc(t4)
      };
    }, t3.parseTypeReference = function() {
      var e3, t4 = this._lexer.token;
      return this.expectOptionalToken(p.BRACKET_L) ? (e3 = this.parseTypeReference(), this.expectToken(p.BRACKET_R), e3 = {
        kind: d.LIST_TYPE,
        type: e3,
        loc: this.loc(t4)
      }) : e3 = this.parseNamedType(), this.expectOptionalToken(p.BANG) ? {
        kind: d.NON_NULL_TYPE,
        type: e3,
        loc: this.loc(t4)
      } : e3;
    }, t3.parseNamedType = function() {
      var e3 = this._lexer.token;
      return {
        kind: d.NAMED_TYPE,
        name: this.parseName(),
        loc: this.loc(e3)
      };
    }, t3.parseTypeSystemDefinition = function() {
      var e3 = this.peekDescription() ? this._lexer.lookahead() : this._lexer.token;
      if (e3.kind === p.NAME)
        switch (e3.value) {
          case "schema":
            return this.parseSchemaDefinition();
          case "scalar":
            return this.parseScalarTypeDefinition();
          case "type":
            return this.parseObjectTypeDefinition();
          case "interface":
            return this.parseInterfaceTypeDefinition();
          case "union":
            return this.parseUnionTypeDefinition();
          case "enum":
            return this.parseEnumTypeDefinition();
          case "input":
            return this.parseInputObjectTypeDefinition();
          case "directive":
            return this.parseDirectiveDefinition();
        }
      throw this.unexpected(e3);
    }, t3.peekDescription = function() {
      return this.peek(p.STRING) || this.peek(p.BLOCK_STRING);
    }, t3.parseDescription = function() {
      if (this.peekDescription())
        return this.parseStringLiteral();
    }, t3.parseSchemaDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("schema");
      var r2 = this.parseDirectives(true), n2 = this.many(p.BRACE_L, this.parseOperationTypeDefinition, p.BRACE_R);
      return {
        kind: d.SCHEMA_DEFINITION,
        description: t4,
        directives: r2,
        operationTypes: n2,
        loc: this.loc(e3)
      };
    }, t3.parseOperationTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseOperationType();
      this.expectToken(p.COLON);
      var r2 = this.parseNamedType();
      return {
        kind: d.OPERATION_TYPE_DEFINITION,
        operation: t4,
        type: r2,
        loc: this.loc(e3)
      };
    }, t3.parseScalarTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("scalar");
      var r2 = this.parseName(), n2 = this.parseDirectives(true);
      return {
        kind: d.SCALAR_TYPE_DEFINITION,
        description: t4,
        name: r2,
        directives: n2,
        loc: this.loc(e3)
      };
    }, t3.parseObjectTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("type");
      var r2 = this.parseName(), n2 = this.parseImplementsInterfaces(), i2 = this.parseDirectives(true), a2 = this.parseFieldsDefinition();
      return {
        kind: d.OBJECT_TYPE_DEFINITION,
        description: t4,
        name: r2,
        interfaces: n2,
        directives: i2,
        fields: a2,
        loc: this.loc(e3)
      };
    }, t3.parseImplementsInterfaces = function() {
      var e3 = [];
      if (this.expectOptionalKeyword("implements")) {
        this.expectOptionalToken(p.AMP);
        do {
          var t4;
          e3.push(this.parseNamedType());
        } while (this.expectOptionalToken(p.AMP) || ((t4 = this._options) === null || t4 === void 0 ? void 0 : t4.allowLegacySDLImplementsInterfaces) === true && this.peek(p.NAME));
      }
      return e3;
    }, t3.parseFieldsDefinition = function() {
      var e3;
      return ((e3 = this._options) === null || e3 === void 0 ? void 0 : e3.allowLegacySDLEmptyFields) === true && this.peek(p.BRACE_L) && this._lexer.lookahead().kind === p.BRACE_R ? (this._lexer.advance(), this._lexer.advance(), []) : this.optionalMany(p.BRACE_L, this.parseFieldDefinition, p.BRACE_R);
    }, t3.parseFieldDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription(), r2 = this.parseName(), n2 = this.parseArgumentDefs();
      this.expectToken(p.COLON);
      var i2 = this.parseTypeReference(), a2 = this.parseDirectives(true);
      return {
        kind: d.FIELD_DEFINITION,
        description: t4,
        name: r2,
        arguments: n2,
        type: i2,
        directives: a2,
        loc: this.loc(e3)
      };
    }, t3.parseArgumentDefs = function() {
      return this.optionalMany(p.PAREN_L, this.parseInputValueDef, p.PAREN_R);
    }, t3.parseInputValueDef = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription(), r2 = this.parseName();
      this.expectToken(p.COLON);
      var n2, i2 = this.parseTypeReference();
      this.expectOptionalToken(p.EQUALS) && (n2 = this.parseValueLiteral(true));
      var a2 = this.parseDirectives(true);
      return {
        kind: d.INPUT_VALUE_DEFINITION,
        description: t4,
        name: r2,
        type: i2,
        defaultValue: n2,
        directives: a2,
        loc: this.loc(e3)
      };
    }, t3.parseInterfaceTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("interface");
      var r2 = this.parseName(), n2 = this.parseImplementsInterfaces(), i2 = this.parseDirectives(true), a2 = this.parseFieldsDefinition();
      return {
        kind: d.INTERFACE_TYPE_DEFINITION,
        description: t4,
        name: r2,
        interfaces: n2,
        directives: i2,
        fields: a2,
        loc: this.loc(e3)
      };
    }, t3.parseUnionTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("union");
      var r2 = this.parseName(), n2 = this.parseDirectives(true), i2 = this.parseUnionMemberTypes();
      return {
        kind: d.UNION_TYPE_DEFINITION,
        description: t4,
        name: r2,
        directives: n2,
        types: i2,
        loc: this.loc(e3)
      };
    }, t3.parseUnionMemberTypes = function() {
      var e3 = [];
      if (this.expectOptionalToken(p.EQUALS)) {
        this.expectOptionalToken(p.PIPE);
        do {
          e3.push(this.parseNamedType());
        } while (this.expectOptionalToken(p.PIPE));
      }
      return e3;
    }, t3.parseEnumTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("enum");
      var r2 = this.parseName(), n2 = this.parseDirectives(true), i2 = this.parseEnumValuesDefinition();
      return {
        kind: d.ENUM_TYPE_DEFINITION,
        description: t4,
        name: r2,
        directives: n2,
        values: i2,
        loc: this.loc(e3)
      };
    }, t3.parseEnumValuesDefinition = function() {
      return this.optionalMany(p.BRACE_L, this.parseEnumValueDefinition, p.BRACE_R);
    }, t3.parseEnumValueDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription(), r2 = this.parseName(), n2 = this.parseDirectives(true);
      return {
        kind: d.ENUM_VALUE_DEFINITION,
        description: t4,
        name: r2,
        directives: n2,
        loc: this.loc(e3)
      };
    }, t3.parseInputObjectTypeDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("input");
      var r2 = this.parseName(), n2 = this.parseDirectives(true), i2 = this.parseInputFieldsDefinition();
      return {
        kind: d.INPUT_OBJECT_TYPE_DEFINITION,
        description: t4,
        name: r2,
        directives: n2,
        fields: i2,
        loc: this.loc(e3)
      };
    }, t3.parseInputFieldsDefinition = function() {
      return this.optionalMany(p.BRACE_L, this.parseInputValueDef, p.BRACE_R);
    }, t3.parseTypeSystemExtension = function() {
      var e3 = this._lexer.lookahead();
      if (e3.kind === p.NAME)
        switch (e3.value) {
          case "schema":
            return this.parseSchemaExtension();
          case "scalar":
            return this.parseScalarTypeExtension();
          case "type":
            return this.parseObjectTypeExtension();
          case "interface":
            return this.parseInterfaceTypeExtension();
          case "union":
            return this.parseUnionTypeExtension();
          case "enum":
            return this.parseEnumTypeExtension();
          case "input":
            return this.parseInputObjectTypeExtension();
        }
      throw this.unexpected(e3);
    }, t3.parseSchemaExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("schema");
      var t4 = this.parseDirectives(true), r2 = this.optionalMany(p.BRACE_L, this.parseOperationTypeDefinition, p.BRACE_R);
      if (t4.length === 0 && r2.length === 0)
        throw this.unexpected();
      return {
        kind: d.SCHEMA_EXTENSION,
        directives: t4,
        operationTypes: r2,
        loc: this.loc(e3)
      };
    }, t3.parseScalarTypeExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("scalar");
      var t4 = this.parseName(), r2 = this.parseDirectives(true);
      if (r2.length === 0)
        throw this.unexpected();
      return {
        kind: d.SCALAR_TYPE_EXTENSION,
        name: t4,
        directives: r2,
        loc: this.loc(e3)
      };
    }, t3.parseObjectTypeExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("type");
      var t4 = this.parseName(), r2 = this.parseImplementsInterfaces(), n2 = this.parseDirectives(true), i2 = this.parseFieldsDefinition();
      if (r2.length === 0 && n2.length === 0 && i2.length === 0)
        throw this.unexpected();
      return {
        kind: d.OBJECT_TYPE_EXTENSION,
        name: t4,
        interfaces: r2,
        directives: n2,
        fields: i2,
        loc: this.loc(e3)
      };
    }, t3.parseInterfaceTypeExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("interface");
      var t4 = this.parseName(), r2 = this.parseImplementsInterfaces(), n2 = this.parseDirectives(true), i2 = this.parseFieldsDefinition();
      if (r2.length === 0 && n2.length === 0 && i2.length === 0)
        throw this.unexpected();
      return {
        kind: d.INTERFACE_TYPE_EXTENSION,
        name: t4,
        interfaces: r2,
        directives: n2,
        fields: i2,
        loc: this.loc(e3)
      };
    }, t3.parseUnionTypeExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("union");
      var t4 = this.parseName(), r2 = this.parseDirectives(true), n2 = this.parseUnionMemberTypes();
      if (r2.length === 0 && n2.length === 0)
        throw this.unexpected();
      return {
        kind: d.UNION_TYPE_EXTENSION,
        name: t4,
        directives: r2,
        types: n2,
        loc: this.loc(e3)
      };
    }, t3.parseEnumTypeExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("enum");
      var t4 = this.parseName(), r2 = this.parseDirectives(true), n2 = this.parseEnumValuesDefinition();
      if (r2.length === 0 && n2.length === 0)
        throw this.unexpected();
      return {
        kind: d.ENUM_TYPE_EXTENSION,
        name: t4,
        directives: r2,
        values: n2,
        loc: this.loc(e3)
      };
    }, t3.parseInputObjectTypeExtension = function() {
      var e3 = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("input");
      var t4 = this.parseName(), r2 = this.parseDirectives(true), n2 = this.parseInputFieldsDefinition();
      if (r2.length === 0 && n2.length === 0)
        throw this.unexpected();
      return {
        kind: d.INPUT_OBJECT_TYPE_EXTENSION,
        name: t4,
        directives: r2,
        fields: n2,
        loc: this.loc(e3)
      };
    }, t3.parseDirectiveDefinition = function() {
      var e3 = this._lexer.token, t4 = this.parseDescription();
      this.expectKeyword("directive"), this.expectToken(p.AT);
      var r2 = this.parseName(), n2 = this.parseArgumentDefs(), i2 = this.expectOptionalKeyword("repeatable");
      this.expectKeyword("on");
      var a2 = this.parseDirectiveLocations();
      return {
        kind: d.DIRECTIVE_DEFINITION,
        description: t4,
        name: r2,
        arguments: n2,
        repeatable: i2,
        locations: a2,
        loc: this.loc(e3)
      };
    }, t3.parseDirectiveLocations = function() {
      this.expectOptionalToken(p.PIPE);
      var e3 = [];
      do {
        e3.push(this.parseDirectiveLocation());
      } while (this.expectOptionalToken(p.PIPE));
      return e3;
    }, t3.parseDirectiveLocation = function() {
      var e3 = this._lexer.token, t4 = this.parseName();
      if (V[t4.value] !== void 0)
        return t4;
      throw this.unexpected(e3);
    }, t3.loc = function(e3) {
      var t4;
      if (((t4 = this._options) === null || t4 === void 0 ? void 0 : t4.noLocation) !== true)
        return new R(e3, this._lexer.lastToken, this._lexer.source);
    }, t3.peek = function(e3) {
      return this._lexer.token.kind === e3;
    }, t3.expectToken = function(e3) {
      var t4 = this._lexer.token;
      if (t4.kind === e3)
        return this._lexer.advance(), t4;
      throw x(this._lexer.source, t4.start, "Expected ".concat($(e3), ", found ").concat(X(t4), "."));
    }, t3.expectOptionalToken = function(e3) {
      var t4 = this._lexer.token;
      if (t4.kind === e3)
        return this._lexer.advance(), t4;
    }, t3.expectKeyword = function(e3) {
      var t4 = this._lexer.token;
      if (t4.kind !== p.NAME || t4.value !== e3)
        throw x(this._lexer.source, t4.start, 'Expected "'.concat(e3, '", found ').concat(X(t4), "."));
      this._lexer.advance();
    }, t3.expectOptionalKeyword = function(e3) {
      var t4 = this._lexer.token;
      return t4.kind === p.NAME && t4.value === e3 && (this._lexer.advance(), true);
    }, t3.unexpected = function(e3) {
      var t4 = e3 != null ? e3 : this._lexer.token;
      return x(this._lexer.source, t4.start, "Unexpected ".concat(X(t4), "."));
    }, t3.any = function(e3, t4, r2) {
      this.expectToken(e3);
      for (var n2 = []; !this.expectOptionalToken(r2); )
        n2.push(t4.call(this));
      return n2;
    }, t3.optionalMany = function(e3, t4, r2) {
      if (this.expectOptionalToken(e3)) {
        var n2 = [];
        do {
          n2.push(t4.call(this));
        } while (!this.expectOptionalToken(r2));
        return n2;
      }
      return [];
    }, t3.many = function(e3, t4, r2) {
      this.expectToken(e3);
      var n2 = [];
      do {
        n2.push(t4.call(this));
      } while (!this.expectOptionalToken(r2));
      return n2;
    }, e2;
  }();
  function X(e2) {
    var t3 = e2.value;
    return $(e2.kind) + (t3 != null ? ' "'.concat(t3, '"') : "");
  }
  function $(e2) {
    return function(e3) {
      return e3 === p.BANG || e3 === p.DOLLAR || e3 === p.AMP || e3 === p.PAREN_L || e3 === p.PAREN_R || e3 === p.SPREAD || e3 === p.COLON || e3 === p.EQUALS || e3 === p.AT || e3 === p.BRACKET_L || e3 === p.BRACKET_R || e3 === p.BRACE_L || e3 === p.PIPE || e3 === p.BRACE_R;
    }(e2) ? '"'.concat(e2, '"') : e2;
  }
  var Y = {
    Name: [],
    Document: ["definitions"],
    OperationDefinition: ["name", "variableDefinitions", "directives", "selectionSet"],
    VariableDefinition: ["variable", "type", "defaultValue", "directives"],
    Variable: ["name"],
    SelectionSet: ["selections"],
    Field: ["alias", "name", "arguments", "directives", "selectionSet"],
    Argument: ["name", "value"],
    FragmentSpread: ["name", "directives"],
    InlineFragment: ["typeCondition", "directives", "selectionSet"],
    FragmentDefinition: ["name", "variableDefinitions", "typeCondition", "directives", "selectionSet"],
    IntValue: [],
    FloatValue: [],
    StringValue: [],
    BooleanValue: [],
    NullValue: [],
    EnumValue: [],
    ListValue: ["values"],
    ObjectValue: ["fields"],
    ObjectField: ["name", "value"],
    Directive: ["name", "arguments"],
    NamedType: ["name"],
    ListType: ["type"],
    NonNullType: ["type"],
    SchemaDefinition: ["description", "directives", "operationTypes"],
    OperationTypeDefinition: ["type"],
    ScalarTypeDefinition: ["description", "name", "directives"],
    ObjectTypeDefinition: ["description", "name", "interfaces", "directives", "fields"],
    FieldDefinition: ["description", "name", "arguments", "type", "directives"],
    InputValueDefinition: ["description", "name", "type", "defaultValue", "directives"],
    InterfaceTypeDefinition: ["description", "name", "interfaces", "directives", "fields"],
    UnionTypeDefinition: ["description", "name", "directives", "types"],
    EnumTypeDefinition: ["description", "name", "directives", "values"],
    EnumValueDefinition: ["description", "name", "directives"],
    InputObjectTypeDefinition: ["description", "name", "directives", "fields"],
    DirectiveDefinition: ["description", "name", "arguments", "locations"],
    SchemaExtension: ["directives", "operationTypes"],
    ScalarTypeExtension: ["name", "directives"],
    ObjectTypeExtension: ["name", "interfaces", "directives", "fields"],
    InterfaceTypeExtension: ["name", "interfaces", "directives", "fields"],
    UnionTypeExtension: ["name", "directives", "types"],
    EnumTypeExtension: ["name", "directives", "values"],
    InputObjectTypeExtension: ["name", "directives", "fields"]
  }, J = Object.freeze({});
  function W(e2, t3) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Y, n2 = void 0, i2 = Array.isArray(e2), a2 = [e2], s2 = -1, o2 = [], u2 = void 0, c2 = void 0, l2 = void 0, h2 = [], d2 = [], p2 = e2;
    do {
      var f2 = ++s2 === a2.length, g2 = f2 && o2.length !== 0;
      if (f2) {
        if (c2 = d2.length === 0 ? void 0 : h2[h2.length - 1], u2 = l2, l2 = d2.pop(), g2) {
          if (i2)
            u2 = u2.slice();
          else {
            for (var m2 = {}, y2 = 0, b2 = Object.keys(u2); y2 < b2.length; y2++) {
              var _2 = b2[y2];
              m2[_2] = u2[_2];
            }
            u2 = m2;
          }
          for (var v2 = 0, w2 = 0; w2 < o2.length; w2++) {
            var S2 = o2[w2][0], T2 = o2[w2][1];
            i2 && (S2 -= v2), i2 && T2 === null ? (u2.splice(S2, 1), v2++) : u2[S2] = T2;
          }
        }
        s2 = n2.index, a2 = n2.keys, o2 = n2.edits, i2 = n2.inArray, n2 = n2.prev;
      } else {
        if (c2 = l2 ? i2 ? s2 : a2[s2] : void 0, (u2 = l2 ? l2[c2] : p2) == null)
          continue;
        l2 && h2.push(c2);
      }
      var E2, x2 = void 0;
      if (!Array.isArray(u2)) {
        if (!N(u2))
          throw new Error("Invalid AST Node: ".concat(q(u2), "."));
        var O2 = Z(t3, u2.kind, f2);
        if (O2) {
          if ((x2 = O2.call(t3, u2, c2, l2, h2, d2)) === J)
            break;
          if (x2 === false) {
            if (!f2) {
              h2.pop();
              continue;
            }
          } else if (x2 !== void 0 && (o2.push([c2, x2]), !f2)) {
            if (!N(x2)) {
              h2.pop();
              continue;
            }
            u2 = x2;
          }
        }
      }
      if (x2 === void 0 && g2 && o2.push([c2, u2]), f2)
        h2.pop();
      else
        n2 = {
          inArray: i2,
          index: s2,
          keys: a2,
          edits: o2,
          prev: n2
        }, a2 = (i2 = Array.isArray(u2)) ? u2 : (E2 = r2[u2.kind]) !== null && E2 !== void 0 ? E2 : [], s2 = -1, o2 = [], l2 && d2.push(l2), l2 = u2;
    } while (n2 !== void 0);
    return o2.length !== 0 && (p2 = o2[o2.length - 1][1]), p2;
  }
  function K(e2) {
    var t3 = new Array(e2.length);
    return {
      enter: function(r2) {
        for (var n2 = 0; n2 < e2.length; n2++)
          if (t3[n2] == null) {
            var i2 = Z(e2[n2], r2.kind, false);
            if (i2) {
              var a2 = i2.apply(e2[n2], arguments);
              if (a2 === false)
                t3[n2] = r2;
              else if (a2 === J)
                t3[n2] = J;
              else if (a2 !== void 0)
                return a2;
            }
          }
      },
      leave: function(r2) {
        for (var n2 = 0; n2 < e2.length; n2++)
          if (t3[n2] == null) {
            var i2 = Z(e2[n2], r2.kind, true);
            if (i2) {
              var a2 = i2.apply(e2[n2], arguments);
              if (a2 === J)
                t3[n2] = J;
              else if (a2 !== void 0 && a2 !== false)
                return a2;
            }
          } else
            t3[n2] === r2 && (t3[n2] = null);
      }
    };
  }
  function Z(e2, t3, r2) {
    var n2 = e2[t3];
    if (n2) {
      if (!r2 && typeof n2 == "function")
        return n2;
      var i2 = r2 ? n2.leave : n2.enter;
      if (typeof i2 == "function")
        return i2;
    } else {
      var a2 = r2 ? e2.leave : e2.enter;
      if (a2) {
        if (typeof a2 == "function")
          return a2;
        var s2 = a2[t3];
        if (typeof s2 == "function")
          return s2;
      }
    }
  }
  function ee(e2) {
    return W(e2, {
      leave: te
    });
  }
  var te = {
    Name: function(e2) {
      return e2.value;
    },
    Variable: function(e2) {
      return "$" + e2.name;
    },
    Document: function(e2) {
      return ne(e2.definitions, "\n\n") + "\n";
    },
    OperationDefinition: function(e2) {
      var t3 = e2.operation, r2 = e2.name, n2 = ae("(", ne(e2.variableDefinitions, ", "), ")"), i2 = ne(e2.directives, " "), a2 = e2.selectionSet;
      return r2 || i2 || n2 || t3 !== "query" ? ne([t3, ne([r2, n2]), i2, a2], " ") : a2;
    },
    VariableDefinition: function(e2) {
      var t3 = e2.variable, r2 = e2.type, n2 = e2.defaultValue, i2 = e2.directives;
      return t3 + ": " + r2 + ae(" = ", n2) + ae(" ", ne(i2, " "));
    },
    SelectionSet: function(e2) {
      return ie(e2.selections);
    },
    Field: function(e2) {
      var t3 = e2.alias, r2 = e2.name, n2 = e2.arguments, i2 = e2.directives, a2 = e2.selectionSet;
      return ne([ae("", t3, ": ") + r2 + ae("(", ne(n2, ", "), ")"), ne(i2, " "), a2], " ");
    },
    Argument: function(e2) {
      return e2.name + ": " + e2.value;
    },
    FragmentSpread: function(e2) {
      return "..." + e2.name + ae(" ", ne(e2.directives, " "));
    },
    InlineFragment: function(e2) {
      var t3 = e2.typeCondition, r2 = e2.directives, n2 = e2.selectionSet;
      return ne(["...", ae("on ", t3), ne(r2, " "), n2], " ");
    },
    FragmentDefinition: function(e2) {
      var t3 = e2.name, r2 = e2.typeCondition, n2 = e2.variableDefinitions, i2 = e2.directives, a2 = e2.selectionSet;
      return "fragment ".concat(t3).concat(ae("(", ne(n2, ", "), ")"), " ") + "on ".concat(r2, " ").concat(ae("", ne(i2, " "), " ")) + a2;
    },
    IntValue: function(e2) {
      return e2.value;
    },
    FloatValue: function(e2) {
      return e2.value;
    },
    StringValue: function(e2, t3) {
      var r2 = e2.value;
      return e2.block ? function(e3) {
        var t4 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "", r3 = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], n2 = e3.indexOf("\n") === -1, i2 = e3[0] === " " || e3[0] === "	", a2 = e3[e3.length - 1] === '"', s2 = e3[e3.length - 1] === "\\", o2 = !n2 || a2 || s2 || r3, u2 = "";
        return !o2 || n2 && i2 || (u2 += "\n" + t4), u2 += t4 ? e3.replace(/\n/g, "\n" + t4) : e3, o2 && (u2 += "\n"), '"""' + u2.replace(/"""/g, '\\"""') + '"""';
      }(r2, t3 === "description" ? "" : "  ") : JSON.stringify(r2);
    },
    BooleanValue: function(e2) {
      return e2.value ? "true" : "false";
    },
    NullValue: function() {
      return "null";
    },
    EnumValue: function(e2) {
      return e2.value;
    },
    ListValue: function(e2) {
      return "[" + ne(e2.values, ", ") + "]";
    },
    ObjectValue: function(e2) {
      return "{" + ne(e2.fields, ", ") + "}";
    },
    ObjectField: function(e2) {
      return e2.name + ": " + e2.value;
    },
    Directive: function(e2) {
      return "@" + e2.name + ae("(", ne(e2.arguments, ", "), ")");
    },
    NamedType: function(e2) {
      return e2.name;
    },
    ListType: function(e2) {
      return "[" + e2.type + "]";
    },
    NonNullType: function(e2) {
      return e2.type + "!";
    },
    SchemaDefinition: re(function(e2) {
      var t3 = e2.directives, r2 = e2.operationTypes;
      return ne(["schema", ne(t3, " "), ie(r2)], " ");
    }),
    OperationTypeDefinition: function(e2) {
      return e2.operation + ": " + e2.type;
    },
    ScalarTypeDefinition: re(function(e2) {
      return ne(["scalar", e2.name, ne(e2.directives, " ")], " ");
    }),
    ObjectTypeDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.interfaces, n2 = e2.directives, i2 = e2.fields;
      return ne(["type", t3, ae("implements ", ne(r2, " & ")), ne(n2, " "), ie(i2)], " ");
    }),
    FieldDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.arguments, n2 = e2.type, i2 = e2.directives;
      return t3 + (ue(r2) ? ae("(\n", se(ne(r2, "\n")), "\n)") : ae("(", ne(r2, ", "), ")")) + ": " + n2 + ae(" ", ne(i2, " "));
    }),
    InputValueDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.type, n2 = e2.defaultValue, i2 = e2.directives;
      return ne([t3 + ": " + r2, ae("= ", n2), ne(i2, " ")], " ");
    }),
    InterfaceTypeDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.interfaces, n2 = e2.directives, i2 = e2.fields;
      return ne(["interface", t3, ae("implements ", ne(r2, " & ")), ne(n2, " "), ie(i2)], " ");
    }),
    UnionTypeDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.directives, n2 = e2.types;
      return ne(["union", t3, ne(r2, " "), n2 && n2.length !== 0 ? "= " + ne(n2, " | ") : ""], " ");
    }),
    EnumTypeDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.directives, n2 = e2.values;
      return ne(["enum", t3, ne(r2, " "), ie(n2)], " ");
    }),
    EnumValueDefinition: re(function(e2) {
      return ne([e2.name, ne(e2.directives, " ")], " ");
    }),
    InputObjectTypeDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.directives, n2 = e2.fields;
      return ne(["input", t3, ne(r2, " "), ie(n2)], " ");
    }),
    DirectiveDefinition: re(function(e2) {
      var t3 = e2.name, r2 = e2.arguments, n2 = e2.repeatable, i2 = e2.locations;
      return "directive @" + t3 + (ue(r2) ? ae("(\n", se(ne(r2, "\n")), "\n)") : ae("(", ne(r2, ", "), ")")) + (n2 ? " repeatable" : "") + " on " + ne(i2, " | ");
    }),
    SchemaExtension: function(e2) {
      var t3 = e2.directives, r2 = e2.operationTypes;
      return ne(["extend schema", ne(t3, " "), ie(r2)], " ");
    },
    ScalarTypeExtension: function(e2) {
      return ne(["extend scalar", e2.name, ne(e2.directives, " ")], " ");
    },
    ObjectTypeExtension: function(e2) {
      var t3 = e2.name, r2 = e2.interfaces, n2 = e2.directives, i2 = e2.fields;
      return ne(["extend type", t3, ae("implements ", ne(r2, " & ")), ne(n2, " "), ie(i2)], " ");
    },
    InterfaceTypeExtension: function(e2) {
      var t3 = e2.name, r2 = e2.interfaces, n2 = e2.directives, i2 = e2.fields;
      return ne(["extend interface", t3, ae("implements ", ne(r2, " & ")), ne(n2, " "), ie(i2)], " ");
    },
    UnionTypeExtension: function(e2) {
      var t3 = e2.name, r2 = e2.directives, n2 = e2.types;
      return ne(["extend union", t3, ne(r2, " "), n2 && n2.length !== 0 ? "= " + ne(n2, " | ") : ""], " ");
    },
    EnumTypeExtension: function(e2) {
      var t3 = e2.name, r2 = e2.directives, n2 = e2.values;
      return ne(["extend enum", t3, ne(r2, " "), ie(n2)], " ");
    },
    InputObjectTypeExtension: function(e2) {
      var t3 = e2.name, r2 = e2.directives, n2 = e2.fields;
      return ne(["extend input", t3, ne(r2, " "), ie(n2)], " ");
    }
  };
  function re(e2) {
    return function(t3) {
      return ne([t3.description, e2(t3)], "\n");
    };
  }
  function ne(e2) {
    var t3, r2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    return (t3 = e2 == null ? void 0 : e2.filter(function(e3) {
      return e3;
    }).join(r2)) !== null && t3 !== void 0 ? t3 : "";
  }
  function ie(e2) {
    return e2 && e2.length !== 0 ? "{\n" + se(ne(e2, "\n")) + "\n}" : "";
  }
  function ae(e2, t3) {
    var r2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "";
    return t3 ? e2 + t3 + r2 : "";
  }
  function se(e2) {
    return e2 && "  " + e2.replace(/\n/g, "\n  ");
  }
  function oe(e2) {
    return e2.indexOf("\n") !== -1;
  }
  function ue(e2) {
    return e2 && e2.some(oe);
  }
  function ce(e2) {
    return le(e2) || fe(e2) || me(e2);
  }
  function le(e2) {
    return e2.kind === d.OPERATION_DEFINITION || e2.kind === d.FRAGMENT_DEFINITION;
  }
  function he(e2) {
    return e2.kind === d.FIELD || e2.kind === d.FRAGMENT_SPREAD || e2.kind === d.INLINE_FRAGMENT;
  }
  function de(e2) {
    return e2.kind === d.VARIABLE || e2.kind === d.INT || e2.kind === d.FLOAT || e2.kind === d.STRING || e2.kind === d.BOOLEAN || e2.kind === d.NULL || e2.kind === d.ENUM || e2.kind === d.LIST || e2.kind === d.OBJECT;
  }
  function pe(e2) {
    return e2.kind === d.NAMED_TYPE || e2.kind === d.LIST_TYPE || e2.kind === d.NON_NULL_TYPE;
  }
  function fe(e2) {
    return e2.kind === d.SCHEMA_DEFINITION || ge(e2) || e2.kind === d.DIRECTIVE_DEFINITION;
  }
  function ge(e2) {
    return e2.kind === d.SCALAR_TYPE_DEFINITION || e2.kind === d.OBJECT_TYPE_DEFINITION || e2.kind === d.INTERFACE_TYPE_DEFINITION || e2.kind === d.UNION_TYPE_DEFINITION || e2.kind === d.ENUM_TYPE_DEFINITION || e2.kind === d.INPUT_OBJECT_TYPE_DEFINITION;
  }
  function me(e2) {
    return e2.kind === d.SCHEMA_EXTENSION || ye(e2);
  }
  function ye(e2) {
    return e2.kind === d.SCALAR_TYPE_EXTENSION || e2.kind === d.OBJECT_TYPE_EXTENSION || e2.kind === d.INTERFACE_TYPE_EXTENSION || e2.kind === d.UNION_TYPE_EXTENSION || e2.kind === d.ENUM_TYPE_EXTENSION || e2.kind === d.INPUT_OBJECT_TYPE_EXTENSION;
  }
}]);

// src/js/core/Comunica.ts
var engine = Comunica.newEngine();

// src/js/vendor/ProxyHandlerStatic-browser.js
var ProxyHandlerStatic = class {
  constructor(prefixUrl) {
    this.prefixUrl = prefixUrl;
  }
  getProxy(request) {
    return __async(this, null, function* () {
      return {
        init: request.init,
        input: this.modifyInput(request.input)
      };
    });
  }
  modifyInput(input) {
    if (typeof input === "string") {
      return this.prefixUrl + input;
    }
    return new Request(this.prefixUrl + input.url, input);
  }
};

// src/js/helpers/sparqlQueryToList.ts
function sparqlQueryToList(query, source, proxy = null) {
  return __async(this, null, function* () {
    var _a, _b, _c, _d, _e, _f;
    query = query.toString().replace(/LANGUAGE/g, Language.uiLanguage);
    if (typeof source === "object" && source instanceof String)
      source = source.toString();
    const options = { sources: [source], httpProxyHandler: null };
    if (proxy)
      options.httpProxyHandler = new ProxyHandlerStatic(proxy);
    const result = yield engine.query(query, options);
    const bindings = yield result.bindings();
    const items = new Map();
    for (const binding of bindings) {
      let label = (_c = (_a = binding.get("?label")) == null ? void 0 : _a.id) != null ? _c : (_b = binding.get("?label")) == null ? void 0 : _b.value;
      const valueAndLanguage = label.split("@");
      if (label[0] === '"' && label[label.length - 1] === '"') {
        label = label.substr(1, label.length - 2);
      }
      if (valueAndLanguage.length > 1) {
        label = {};
        label[valueAndLanguage[1].trim('"')] = valueAndLanguage[0].slice(1, -1);
      }
      const uri = (_d = binding.get("?uri")) == null ? void 0 : _d.value;
      let image = (_e = binding.get("?image")) == null ? void 0 : _e.value;
      let group = (_f = binding.get("?group")) == null ? void 0 : _f.value;
      if (!items.get(uri)) {
        items.set(uri, { label, uri, image, group });
      } else {
        const existingItem = items.get(uri);
        if (typeof existingItem.label === "string" && typeof label === "string") {
          existingItem.label = label;
        } else {
          Object.assign(existingItem.label, label);
        }
        items.set(uri, existingItem);
      }
    }
    return [...items.values()];
  });
}

// src/js/elements/Dropdown.ts
var Dropdown = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.options = [];
    var _a, _b;
    if (this.definition["form:option"]) {
      this.options.push(...this.definition["form:option"].map((option) => {
        var _a2, _b2, _c;
        return {
          label: (_a2 = option["form:label"]) == null ? void 0 : _a2._,
          image: (_b2 = option["form:image"]) == null ? void 0 : _b2._,
          uri: (_c = option["form:value"]) == null ? void 0 : _c._
        };
      }));
    }
    if (!this.options.length) {
      if (!((_a = this.definition["form:optionsQuery"]) == null ? void 0 : _a._) || !((_b = this.definition["form:optionsSource"]) == null ? void 0 : _b._)) {
        throw new Error("optionsQuery and optionsSource are needed for the field dropdown. Please improve the form definition.");
      }
    }
  }
  removeButton() {
    var _a;
    const isMultiple = (_a = this.definition["form:multiple"]) == null ? void 0 : _a._;
    return isMultiple ? null : super.removeButton();
  }
  item(childTemplates = []) {
    var _a;
    return ((_a = this.definition["form:multiple"]) == null ? void 0 : _a._) !== true || this.index < 1 ? super.item(childTemplates) : html``;
  }
  on(event) {
    if (["keyup", "change"].includes(event.type)) {
      const selectedItems = event.target.options ? [...event.target.options].filter((option) => option.selected) : [...event.target.parentElement.parentElement.querySelectorAll(":checked")];
      const selectedValues = selectedItems.map((option) => {
        return {
          ["@" + this.jsonldKey]: option.value
        };
      });
      if (!this.parentValues[this.mainBinding])
        this.parentValues[this.mainBinding] = [];
      this.parentValues[this.mainBinding].splice(0);
      this.parentValues[this.mainBinding].push(...selectedValues);
    }
  }
  input() {
    return __async(this, null, function* () {
      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
      if (!this.options.length && ((_a = this.definition["form:optionsQuery"]) == null ? void 0 : _a._) && ((_b = this.definition["form:optionsSource"]) == null ? void 0 : _b._)) {
        const proxy = (_c = this.form.getAttribute("proxy")) != null ? _c : "";
        const source = ((_d = this.definition["form:optionsSourceType"]) == null ? void 0 : _d._) ? {
          value: this.definition["form:optionsSource"]._,
          type: this.definition["form:optionsSourceType"]._
        } : this.definition["form:optionsSource"]._;
        this.options = yield sparqlQueryToList(this.definition["form:optionsQuery"]._, source.replace("http:", location.protocol), proxy);
      }
      const selectedValues = (_g = (_f = (_e = this.parentValues) == null ? void 0 : _e[this.mainBinding]) == null ? void 0 : _f.map((option) => option["@" + this.jsonldKey])) != null ? _g : [];
      const isMultiple = (_h = this.definition["form:multiple"]) == null ? void 0 : _h._;
      const hasGroups = this.options.every((item) => item == null ? void 0 : item.group);
      const groups = hasGroups ? this.options.map((item) => item == null ? void 0 : item.group).filter(onlyUnique).sort() : [];
      const createGroup = (groupName) => {
        const options = this.options.filter((option) => option.group === groupName);
        return html`
      <h3>${groupName}</h3>
      ${options.map(createCheckbox)}
      `;
      };
      const createCheckbox = (option) => {
        var _a2, _b2, _c2;
        return html`
    <label class="checkbox-label">
      <input type="checkbox" onchange=${(event) => this.on(event)} value="${option.uri}" .checked="${selectedValues.includes(option.uri) ? true : null}" />
      ${(_c2 = (_b2 = (_a2 = option == null ? void 0 : option.label) == null ? void 0 : _a2[Language.uiLanguage]) != null ? _b2 : option == null ? void 0 : option.label) != null ? _c2 : ""}
    </label>
    `;
      };
      return isMultiple ? hasGroups ? html`${groups.map(createGroup)}` : html`${this.options.map(createCheckbox)}` : html`
    <select
      ref=${attributesDiff(this.attributes)} 
      onchange=${(event) => this.on(event)}
    >
        ${!((_i = this.value) == null ? void 0 : _i._) && !((_j = this.definition["form:multiple"]) == null ? void 0 : _j._) ? html`<option disabled selected value>${this.t`- Select a value -`}</option>` : ""}

        ${this.options.map((option) => {
        var _a2, _b2, _c2;
        return html`
          <option value="${option.uri}" .selected="${selectedValues.includes(option.uri) ? true : null}">
              ${(_c2 = (_b2 = (_a2 = option == null ? void 0 : option.label) == null ? void 0 : _a2[Language.uiLanguage]) != null ? _b2 : option == null ? void 0 : option.label) != null ? _c2 : ""}
            </option>
          `;
      })}
    </select>`;
    });
  }
  addButton() {
    return html``;
  }
};

// src/js/elements/Group.ts
var Group = class extends ElementBase {
  constructor(...args) {
    super(...args);
    if (!this.value) {
      this.addItem();
      this.removeItem();
    }
  }
  item(childTemplates = []) {
    return html`
    <div class="item">
    ${childTemplates}
    ${this.removeButton()}
    </div>`;
  }
};

// src/js/vendor/slimselect.js
var SlimSelect = function webpackUniversalModuleDefinition(root, factory) {
  return factory();
}(window, function() {
  return function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
      if (installedModules[moduleId]) {
        return installedModules[moduleId].exports;
      }
      var module = installedModules[moduleId] = {
        i: moduleId,
        l: false,
        exports: {}
      };
      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
      module.l = true;
      return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.d = function(exports, name, getter) {
      if (!__webpack_require__.o(exports, name)) {
        Object.defineProperty(exports, name, { enumerable: true, get: getter });
      }
    };
    __webpack_require__.r = function(exports) {
      if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
        Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
      }
      Object.defineProperty(exports, "__esModule", { value: true });
    };
    __webpack_require__.t = function(value, mode) {
      if (mode & 1)
        value = __webpack_require__(value);
      if (mode & 8)
        return value;
      if (mode & 4 && typeof value === "object" && value && value.__esModule)
        return value;
      var ns = Object.create(null);
      __webpack_require__.r(ns);
      Object.defineProperty(ns, "default", { enumerable: true, value });
      if (mode & 2 && typeof value != "string")
        for (var key in value)
          __webpack_require__.d(ns, key, function(key2) {
            return value[key2];
          }.bind(null, key));
      return ns;
    };
    __webpack_require__.n = function(module) {
      var getter = module && module.__esModule ? function getDefault() {
        return module["default"];
      } : function getModuleExports() {
        return module;
      };
      __webpack_require__.d(getter, "a", getter);
      return getter;
    };
    __webpack_require__.o = function(object, property) {
      return Object.prototype.hasOwnProperty.call(object, property);
    };
    __webpack_require__.p = "";
    return __webpack_require__(__webpack_require__.s = 2);
  }([
    function(module, exports, __webpack_require__) {
      "use strict";
      exports.__esModule = true;
      function hasClassInTree(element, className) {
        function hasClass(e, c) {
          if (!(!c || !e || !e.classList || !e.classList.contains(c))) {
            return e;
          }
          return null;
        }
        function parentByClass(e, c) {
          if (!e || e === document) {
            return null;
          } else if (hasClass(e, c)) {
            return e;
          } else {
            return parentByClass(e.parentNode, c);
          }
        }
        return hasClass(element, className) || parentByClass(element, className);
      }
      exports.hasClassInTree = hasClassInTree;
      function ensureElementInView(container, element) {
        var cTop = container.scrollTop + container.offsetTop;
        var cBottom = cTop + container.clientHeight;
        var eTop = element.offsetTop;
        var eBottom = eTop + element.clientHeight;
        if (eTop < cTop) {
          container.scrollTop -= cTop - eTop;
        } else if (eBottom > cBottom) {
          container.scrollTop += eBottom - cBottom;
        }
      }
      exports.ensureElementInView = ensureElementInView;
      function putContent(el, currentPosition, isOpen) {
        var height = el.offsetHeight;
        var rect = el.getBoundingClientRect();
        var elemTop = isOpen ? rect.top : rect.top - height;
        var elemBottom = isOpen ? rect.bottom : rect.bottom + height;
        if (elemTop <= 0) {
          return "below";
        }
        if (elemBottom >= window.innerHeight) {
          return "above";
        }
        return isOpen ? currentPosition : "below";
      }
      exports.putContent = putContent;
      function debounce2(func, wait, immediate) {
        if (wait === void 0) {
          wait = 100;
        }
        if (immediate === void 0) {
          immediate = false;
        }
        var timeout;
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var context = self;
          var later = function() {
            timeout = null;
            if (!immediate) {
              func.apply(context, args);
            }
          };
          var callNow = immediate && !timeout;
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
          if (callNow) {
            func.apply(context, args);
          }
        };
      }
      exports.debounce = debounce2;
      function isValueInArrayOfObjects(selected, key, value) {
        if (!Array.isArray(selected)) {
          return selected[key] === value;
        }
        for (var _i = 0, selected_1 = selected; _i < selected_1.length; _i++) {
          var s = selected_1[_i];
          if (s && s[key] && s[key] === value) {
            return true;
          }
        }
        return false;
      }
      exports.isValueInArrayOfObjects = isValueInArrayOfObjects;
      function highlight(str, search, className) {
        var completedString = str;
        var regex = new RegExp("(" + search.trim() + ")(?![^<]*>[^<>]*</)", "i");
        if (!str.match(regex)) {
          return str;
        }
        var matchStartPosition = str.match(regex).index;
        var matchEndPosition = matchStartPosition + str.match(regex)[0].toString().length;
        var originalTextFoundByRegex = str.substring(matchStartPosition, matchEndPosition);
        completedString = completedString.replace(regex, '<mark class="' + className + '">' + originalTextFoundByRegex + "</mark>");
        return completedString;
      }
      exports.highlight = highlight;
      function kebabCase(str) {
        var result = str.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g, function(match) {
          return "-" + match.toLowerCase();
        });
        return str[0] === str[0].toUpperCase() ? result.substring(1) : result;
      }
      exports.kebabCase = kebabCase;
      (function() {
        var w = window;
        if (typeof w.CustomEvent === "function") {
          return;
        }
        function CustomEvent2(event, params) {
          params = params || { bubbles: false, cancelable: false, detail: void 0 };
          var evt = document.createEvent("CustomEvent");
          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
          return evt;
        }
        CustomEvent2.prototype = w.Event.prototype;
        w.CustomEvent = CustomEvent2;
      })();
    },
    function(module, exports, __webpack_require__) {
      "use strict";
      exports.__esModule = true;
      var Data = function() {
        function Data2(info) {
          this.contentOpen = false;
          this.contentPosition = "below";
          this.isOnChangeEnabled = true;
          this.main = info.main;
          this.searchValue = "";
          this.data = [];
          this.filtered = null;
          this.parseSelectData();
          this.setSelectedFromSelect();
        }
        Data2.prototype.newOption = function(info) {
          return {
            id: info.id ? info.id : String(Math.floor(Math.random() * 1e8)),
            value: info.value ? info.value : "",
            text: info.text ? info.text : "",
            innerHTML: info.innerHTML ? info.innerHTML : "",
            selected: info.selected ? info.selected : false,
            display: info.display !== void 0 ? info.display : true,
            disabled: info.disabled ? info.disabled : false,
            placeholder: info.placeholder ? info.placeholder : false,
            "class": info["class"] ? info["class"] : void 0,
            data: info.data ? info.data : {},
            mandatory: info.mandatory ? info.mandatory : false
          };
        };
        Data2.prototype.add = function(data) {
          this.data.push({
            id: String(Math.floor(Math.random() * 1e8)),
            value: data.value,
            text: data.text,
            innerHTML: "",
            selected: false,
            display: true,
            disabled: false,
            placeholder: false,
            "class": void 0,
            mandatory: data.mandatory,
            data: {}
          });
        };
        Data2.prototype.parseSelectData = function() {
          this.data = [];
          var nodes = this.main.select.element.childNodes;
          for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {
            var n = nodes_1[_i];
            if (n.nodeName === "OPTGROUP") {
              var node = n;
              var optgroup = {
                label: node.label,
                options: []
              };
              var options = n.childNodes;
              for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {
                var o = options_1[_a];
                if (o.nodeName === "OPTION") {
                  var option = this.pullOptionData(o);
                  optgroup.options.push(option);
                  if (option.placeholder && option.text.trim() !== "") {
                    this.main.config.placeholderText = option.text;
                  }
                }
              }
              this.data.push(optgroup);
            } else if (n.nodeName === "OPTION") {
              var option = this.pullOptionData(n);
              this.data.push(option);
              if (option.placeholder && option.text.trim() !== "") {
                this.main.config.placeholderText = option.text;
              }
            }
          }
        };
        Data2.prototype.pullOptionData = function(option) {
          return {
            id: (option.dataset ? option.dataset.id : false) || String(Math.floor(Math.random() * 1e8)),
            value: option.value,
            text: option.text,
            innerHTML: option.innerHTML,
            selected: option.selected,
            disabled: option.disabled,
            placeholder: option.dataset.placeholder === "true",
            "class": option.className,
            style: option.style.cssText,
            data: option.dataset,
            mandatory: option.dataset ? option.dataset.mandatory === "true" : false
          };
        };
        Data2.prototype.setSelectedFromSelect = function() {
          if (this.main.config.isMultiple) {
            var options = this.main.select.element.options;
            var newSelected = [];
            for (var _i = 0, options_2 = options; _i < options_2.length; _i++) {
              var o = options_2[_i];
              if (o.selected) {
                var newOption = this.getObjectFromData(o.value, "value");
                if (newOption && newOption.id) {
                  newSelected.push(newOption.id);
                }
              }
            }
            this.setSelected(newSelected, "id");
          } else {
            var element = this.main.select.element;
            if (element.selectedIndex !== -1) {
              var option = element.options[element.selectedIndex];
              var value = option.value;
              this.setSelected(value, "value");
            }
          }
        };
        Data2.prototype.setSelected = function(value, type) {
          if (type === void 0) {
            type = "id";
          }
          for (var _i = 0, _a = this.data; _i < _a.length; _i++) {
            var d = _a[_i];
            if (d.hasOwnProperty("label")) {
              if (d.hasOwnProperty("options")) {
                var options = d.options;
                if (options) {
                  for (var _b = 0, options_3 = options; _b < options_3.length; _b++) {
                    var o = options_3[_b];
                    if (o.placeholder) {
                      continue;
                    }
                    o.selected = this.shouldBeSelected(o, value, type);
                  }
                }
              }
            } else {
              d.selected = this.shouldBeSelected(d, value, type);
            }
          }
        };
        Data2.prototype.shouldBeSelected = function(option, value, type) {
          if (type === void 0) {
            type = "id";
          }
          if (Array.isArray(value)) {
            for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {
              var v = value_1[_i];
              if (type in option && String(option[type]) === String(v)) {
                return true;
              }
            }
          } else {
            if (type in option && String(option[type]) === String(value)) {
              return true;
            }
          }
          return false;
        };
        Data2.prototype.getSelected = function() {
          var value = { text: "", placeholder: this.main.config.placeholderText };
          var values = [];
          for (var _i = 0, _a = this.data; _i < _a.length; _i++) {
            var d = _a[_i];
            if (d.hasOwnProperty("label")) {
              if (d.hasOwnProperty("options")) {
                var options = d.options;
                if (options) {
                  for (var _b = 0, options_4 = options; _b < options_4.length; _b++) {
                    var o = options_4[_b];
                    if (o.selected) {
                      if (!this.main.config.isMultiple) {
                        value = o;
                      } else {
                        values.push(o);
                      }
                    }
                  }
                }
              }
            } else {
              if (d.selected) {
                if (!this.main.config.isMultiple) {
                  value = d;
                } else {
                  values.push(d);
                }
              }
            }
          }
          if (this.main.config.isMultiple) {
            return values;
          }
          return value;
        };
        Data2.prototype.addToSelected = function(value, type) {
          if (type === void 0) {
            type = "id";
          }
          if (this.main.config.isMultiple) {
            var values = [];
            var selected = this.getSelected();
            if (Array.isArray(selected)) {
              for (var _i = 0, selected_1 = selected; _i < selected_1.length; _i++) {
                var s = selected_1[_i];
                values.push(s[type]);
              }
            }
            values.push(value);
            this.setSelected(values, type);
          }
        };
        Data2.prototype.removeFromSelected = function(value, type) {
          if (type === void 0) {
            type = "id";
          }
          if (this.main.config.isMultiple) {
            var values = [];
            var selected = this.getSelected();
            for (var _i = 0, selected_2 = selected; _i < selected_2.length; _i++) {
              var s = selected_2[_i];
              if (String(s[type]) !== String(value)) {
                values.push(s[type]);
              }
            }
            this.setSelected(values, type);
          }
        };
        Data2.prototype.onDataChange = function() {
          if (this.main.onChange && this.isOnChangeEnabled) {
            this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())));
          }
        };
        Data2.prototype.getObjectFromData = function(value, type) {
          if (type === void 0) {
            type = "id";
          }
          for (var _i = 0, _a = this.data; _i < _a.length; _i++) {
            var d = _a[_i];
            if (type in d && String(d[type]) === String(value)) {
              return d;
            }
            if (d.hasOwnProperty("options")) {
              var optgroupObject = d;
              if (optgroupObject.options) {
                for (var _b = 0, _c = optgroupObject.options; _b < _c.length; _b++) {
                  var oo = _c[_b];
                  if (String(oo[type]) === String(value)) {
                    return oo;
                  }
                }
              }
            }
          }
          return null;
        };
        Data2.prototype.search = function(search) {
          this.searchValue = search;
          if (search.trim() === "") {
            this.filtered = null;
            return;
          }
          var searchFilter = this.main.config.searchFilter;
          var valuesArray = this.data.slice(0);
          search = search.trim();
          var filtered = valuesArray.map(function(obj) {
            if (obj.hasOwnProperty("options")) {
              var optgroupObj = obj;
              var options = [];
              if (optgroupObj.options) {
                options = optgroupObj.options.filter(function(opt) {
                  return searchFilter(opt, search);
                });
              }
              if (options.length !== 0) {
                var optgroup = Object.assign({}, optgroupObj);
                optgroup.options = options;
                return optgroup;
              }
            }
            if (obj.hasOwnProperty("text")) {
              var optionObj = obj;
              if (searchFilter(optionObj, search)) {
                return obj;
              }
            }
            return null;
          });
          this.filtered = filtered.filter(function(info) {
            return info;
          });
        };
        return Data2;
      }();
      exports.Data = Data;
      function validateData(data) {
        if (!data) {
          console.error("Data must be an array of objects");
          return false;
        }
        var isValid = false;
        var errorCount = 0;
        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
          var d = data_1[_i];
          if (d.hasOwnProperty("label")) {
            if (d.hasOwnProperty("options")) {
              var optgroup = d;
              var options = optgroup.options;
              if (options) {
                for (var _a = 0, options_5 = options; _a < options_5.length; _a++) {
                  var o = options_5[_a];
                  isValid = validateOption(o);
                  if (!isValid) {
                    errorCount++;
                  }
                }
              }
            }
          } else {
            var option = d;
            isValid = validateOption(option);
            if (!isValid) {
              errorCount++;
            }
          }
        }
        return errorCount === 0;
      }
      exports.validateData = validateData;
      function validateOption(option) {
        if (option.text === void 0) {
          console.error("Data object option must have at least have a text value. Check object: " + JSON.stringify(option));
          return false;
        }
        return true;
      }
      exports.validateOption = validateOption;
    },
    function(module, exports, __webpack_require__) {
      "use strict";
      exports.__esModule = true;
      var config_1 = __webpack_require__(3);
      var select_1 = __webpack_require__(4);
      var slim_1 = __webpack_require__(5);
      var data_1 = __webpack_require__(1);
      var helper_1 = __webpack_require__(0);
      var SlimSelect2 = function() {
        function SlimSelect3(info) {
          var _this = this;
          this.ajax = null;
          this.addable = null;
          this.beforeOnChange = null;
          this.onChange = null;
          this.beforeOpen = null;
          this.afterOpen = null;
          this.beforeClose = null;
          this.afterClose = null;
          this.windowScroll = helper_1.debounce(function(e) {
            if (_this.data.contentOpen) {
              if (helper_1.putContent(_this.slim.content, _this.data.contentPosition, _this.data.contentOpen) === "above") {
                _this.moveContentAbove();
              } else {
                _this.moveContentBelow();
              }
            }
          });
          this.documentClick = function(e) {
            if (e.target && !helper_1.hasClassInTree(e.target, _this.config.id)) {
              _this.close();
            }
          };
          var selectElement = this.validate(info);
          if (selectElement.dataset.ssid) {
            this.destroy(selectElement.dataset.ssid);
          }
          if (info.ajax) {
            this.ajax = info.ajax;
          }
          if (info.addable) {
            this.addable = info.addable;
          }
          this.config = new config_1.Config({
            select: selectElement,
            isAjax: info.ajax ? true : false,
            showSearch: info.showSearch,
            searchPlaceholder: info.searchPlaceholder,
            searchText: info.searchText,
            searchingText: info.searchingText,
            searchFocus: info.searchFocus,
            searchHighlight: info.searchHighlight,
            searchFilter: info.searchFilter,
            closeOnSelect: info.closeOnSelect,
            showContent: info.showContent,
            placeholderText: info.placeholder,
            allowDeselect: info.allowDeselect,
            allowDeselectOption: info.allowDeselectOption,
            hideSelectedOption: info.hideSelectedOption,
            deselectLabel: info.deselectLabel,
            isEnabled: info.isEnabled,
            valuesUseText: info.valuesUseText,
            showOptionTooltips: info.showOptionTooltips,
            selectByGroup: info.selectByGroup,
            limit: info.limit,
            timeoutDelay: info.timeoutDelay,
            addToBody: info.addToBody
          });
          this.select = new select_1.Select({
            select: selectElement,
            main: this
          });
          this.data = new data_1.Data({ main: this });
          this.slim = new slim_1.Slim({ main: this });
          if (this.select.element.parentNode) {
            this.select.element.parentNode.insertBefore(this.slim.container, this.select.element.nextSibling);
          }
          if (info.data) {
            this.setData(info.data);
          } else {
            this.render();
          }
          document.addEventListener("click", this.documentClick);
          if (this.config.showContent === "auto") {
            window.addEventListener("scroll", this.windowScroll, false);
          }
          if (info.beforeOnChange) {
            this.beforeOnChange = info.beforeOnChange;
          }
          if (info.onChange) {
            this.onChange = info.onChange;
          }
          if (info.beforeOpen) {
            this.beforeOpen = info.beforeOpen;
          }
          if (info.afterOpen) {
            this.afterOpen = info.afterOpen;
          }
          if (info.beforeClose) {
            this.beforeClose = info.beforeClose;
          }
          if (info.afterClose) {
            this.afterClose = info.afterClose;
          }
          if (!this.config.isEnabled) {
            this.disable();
          }
        }
        SlimSelect3.prototype.validate = function(info) {
          var select = typeof info.select === "string" ? document.querySelector(info.select) : info.select;
          if (!select) {
            throw new Error("Could not find select element");
          }
          if (select.tagName !== "SELECT") {
            throw new Error("Element isnt of type select");
          }
          return select;
        };
        SlimSelect3.prototype.selected = function() {
          if (this.config.isMultiple) {
            var selected = this.data.getSelected();
            var outputSelected = [];
            for (var _i = 0, selected_1 = selected; _i < selected_1.length; _i++) {
              var s = selected_1[_i];
              outputSelected.push(s.value);
            }
            return outputSelected;
          } else {
            var selected = this.data.getSelected();
            return selected ? selected.value : "";
          }
        };
        SlimSelect3.prototype.set = function(value, type, close, render2) {
          if (type === void 0) {
            type = "value";
          }
          if (close === void 0) {
            close = true;
          }
          if (render2 === void 0) {
            render2 = true;
          }
          if (this.config.isMultiple && !Array.isArray(value)) {
            this.data.addToSelected(value, type);
          } else {
            this.data.setSelected(value, type);
          }
          this.select.setValue();
          this.data.onDataChange();
          this.render();
          if (close) {
            this.close();
          }
        };
        SlimSelect3.prototype.setSelected = function(value, type, close, render2) {
          if (type === void 0) {
            type = "value";
          }
          if (close === void 0) {
            close = true;
          }
          if (render2 === void 0) {
            render2 = true;
          }
          this.set(value, type, close, render2);
        };
        SlimSelect3.prototype.setData = function(data) {
          var isValid = data_1.validateData(data);
          if (!isValid) {
            console.error("Validation problem on: #" + this.select.element.id);
            return;
          }
          var newData = JSON.parse(JSON.stringify(data));
          var selected = this.data.getSelected();
          for (var i = 0; i < newData.length; i++) {
            if (!newData[i].value && !newData[i].placeholder) {
              newData[i].value = newData[i].text;
            }
          }
          if (this.config.isAjax && selected) {
            if (this.config.isMultiple) {
              var reverseSelected = selected.reverse();
              for (var _i = 0, reverseSelected_1 = reverseSelected; _i < reverseSelected_1.length; _i++) {
                var r = reverseSelected_1[_i];
                newData.unshift(r);
              }
            } else {
              newData.unshift(selected);
              for (var i = 0; i < newData.length; i++) {
                if (!newData[i].placeholder && newData[i].value === selected.value && newData[i].text === selected.text) {
                  delete newData[i];
                }
              }
              var hasPlaceholder = false;
              for (var i = 0; i < newData.length; i++) {
                if (newData[i].placeholder) {
                  hasPlaceholder = true;
                }
              }
              if (!hasPlaceholder) {
                newData.unshift({ text: "", placeholder: true });
              }
            }
          }
          this.select.create(newData);
          this.data.parseSelectData();
          this.data.setSelectedFromSelect();
        };
        SlimSelect3.prototype.addData = function(data) {
          var isValid = data_1.validateData([data]);
          if (!isValid) {
            console.error("Validation problem on: #" + this.select.element.id);
            return;
          }
          this.data.add(this.data.newOption(data));
          this.select.create(this.data.data);
          this.data.parseSelectData();
          this.data.setSelectedFromSelect();
          this.render();
        };
        SlimSelect3.prototype.open = function() {
          var _this = this;
          if (!this.config.isEnabled) {
            return;
          }
          if (this.data.contentOpen) {
            return;
          }
          if (this.beforeOpen) {
            this.beforeOpen();
          }
          if (this.config.isMultiple && this.slim.multiSelected) {
            this.slim.multiSelected.plus.classList.add("ss-cross");
          } else if (this.slim.singleSelected) {
            this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down");
            this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up");
          }
          this.slim[this.config.isMultiple ? "multiSelected" : "singleSelected"].container.classList.add(this.data.contentPosition === "above" ? this.config.openAbove : this.config.openBelow);
          if (this.config.addToBody) {
            var containerRect = this.slim.container.getBoundingClientRect();
            this.slim.content.style.top = containerRect.top + containerRect.height + window.scrollY + "px";
            this.slim.content.style.left = containerRect.left + window.scrollX + "px";
            this.slim.content.style.width = containerRect.width + "px";
          }
          this.slim.content.classList.add(this.config.open);
          if (this.config.showContent.toLowerCase() === "up") {
            this.moveContentAbove();
          } else if (this.config.showContent.toLowerCase() === "down") {
            this.moveContentBelow();
          } else {
            if (helper_1.putContent(this.slim.content, this.data.contentPosition, this.data.contentOpen) === "above") {
              this.moveContentAbove();
            } else {
              this.moveContentBelow();
            }
          }
          if (!this.config.isMultiple) {
            var selected = this.data.getSelected();
            if (selected) {
              var selectedId = selected.id;
              var selectedOption = this.slim.list.querySelector('[data-id="' + selectedId + '"]');
              if (selectedOption) {
                helper_1.ensureElementInView(this.slim.list, selectedOption);
              }
            }
          }
          setTimeout(function() {
            _this.data.contentOpen = true;
            if (_this.config.searchFocus) {
              _this.slim.search.input.focus();
            }
            if (_this.afterOpen) {
              _this.afterOpen();
            }
          }, this.config.timeoutDelay);
        };
        SlimSelect3.prototype.close = function() {
          var _this = this;
          if (!this.data.contentOpen) {
            return;
          }
          if (this.beforeClose) {
            this.beforeClose();
          }
          if (this.config.isMultiple && this.slim.multiSelected) {
            this.slim.multiSelected.container.classList.remove(this.config.openAbove);
            this.slim.multiSelected.container.classList.remove(this.config.openBelow);
            this.slim.multiSelected.plus.classList.remove("ss-cross");
          } else if (this.slim.singleSelected) {
            this.slim.singleSelected.container.classList.remove(this.config.openAbove);
            this.slim.singleSelected.container.classList.remove(this.config.openBelow);
            this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down");
            this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up");
          }
          this.slim.content.classList.remove(this.config.open);
          this.data.contentOpen = false;
          this.search("");
          setTimeout(function() {
            _this.slim.content.removeAttribute("style");
            _this.data.contentPosition = "below";
            if (_this.config.isMultiple && _this.slim.multiSelected) {
              _this.slim.multiSelected.container.classList.remove(_this.config.openAbove);
              _this.slim.multiSelected.container.classList.remove(_this.config.openBelow);
            } else if (_this.slim.singleSelected) {
              _this.slim.singleSelected.container.classList.remove(_this.config.openAbove);
              _this.slim.singleSelected.container.classList.remove(_this.config.openBelow);
            }
            _this.slim.search.input.blur();
            if (_this.afterClose) {
              _this.afterClose();
            }
          }, this.config.timeoutDelay);
        };
        SlimSelect3.prototype.moveContentAbove = function() {
          var selectHeight = 0;
          if (this.config.isMultiple && this.slim.multiSelected) {
            selectHeight = this.slim.multiSelected.container.offsetHeight;
          } else if (this.slim.singleSelected) {
            selectHeight = this.slim.singleSelected.container.offsetHeight;
          }
          var contentHeight = this.slim.content.offsetHeight;
          var height = selectHeight + contentHeight - 1;
          this.slim.content.style.margin = "-" + height + "px 0 0 0";
          this.slim.content.style.height = height - selectHeight + 1 + "px";
          this.slim.content.style.transformOrigin = "center bottom";
          this.data.contentPosition = "above";
          if (this.config.isMultiple && this.slim.multiSelected) {
            this.slim.multiSelected.container.classList.remove(this.config.openBelow);
            this.slim.multiSelected.container.classList.add(this.config.openAbove);
          } else if (this.slim.singleSelected) {
            this.slim.singleSelected.container.classList.remove(this.config.openBelow);
            this.slim.singleSelected.container.classList.add(this.config.openAbove);
          }
        };
        SlimSelect3.prototype.moveContentBelow = function() {
          this.data.contentPosition = "below";
          if (this.config.isMultiple && this.slim.multiSelected) {
            this.slim.multiSelected.container.classList.remove(this.config.openAbove);
            this.slim.multiSelected.container.classList.add(this.config.openBelow);
          } else if (this.slim.singleSelected) {
            this.slim.singleSelected.container.classList.remove(this.config.openAbove);
            this.slim.singleSelected.container.classList.add(this.config.openBelow);
          }
        };
        SlimSelect3.prototype.enable = function() {
          this.config.isEnabled = true;
          if (this.config.isMultiple && this.slim.multiSelected) {
            this.slim.multiSelected.container.classList.remove(this.config.disabled);
          } else if (this.slim.singleSelected) {
            this.slim.singleSelected.container.classList.remove(this.config.disabled);
          }
          this.select.triggerMutationObserver = false;
          this.select.element.disabled = false;
          this.slim.search.input.disabled = false;
          this.select.triggerMutationObserver = true;
        };
        SlimSelect3.prototype.disable = function() {
          this.config.isEnabled = false;
          if (this.config.isMultiple && this.slim.multiSelected) {
            this.slim.multiSelected.container.classList.add(this.config.disabled);
          } else if (this.slim.singleSelected) {
            this.slim.singleSelected.container.classList.add(this.config.disabled);
          }
          this.select.triggerMutationObserver = false;
          this.select.element.disabled = true;
          this.slim.search.input.disabled = true;
          this.select.triggerMutationObserver = true;
        };
        SlimSelect3.prototype.search = function(value) {
          if (this.data.searchValue === value) {
            return;
          }
          this.slim.search.input.value = value;
          if (this.config.isAjax) {
            var master_1 = this;
            this.config.isSearching = true;
            this.render();
            if (this.ajax) {
              this.ajax(value, function(info) {
                master_1.config.isSearching = false;
                if (Array.isArray(info)) {
                  info.unshift({ text: "", placeholder: true });
                  master_1.setData(info);
                  master_1.data.search(value);
                  master_1.render();
                } else if (typeof info === "string") {
                  master_1.slim.options(info);
                } else {
                  master_1.render();
                }
              });
            }
          } else {
            this.data.search(value);
            this.render();
          }
        };
        SlimSelect3.prototype.setSearchText = function(text) {
          this.config.searchText = text;
        };
        SlimSelect3.prototype.render = function() {
          if (this.config.isMultiple) {
            this.slim.values();
          } else {
            this.slim.placeholder();
            this.slim.deselect();
          }
          this.slim.options();
        };
        SlimSelect3.prototype.destroy = function(id) {
          if (id === void 0) {
            id = null;
          }
          var slim = id ? document.querySelector("." + id + ".ss-main") : this.slim.container;
          var select = id ? document.querySelector("[data-ssid=" + id + "]") : this.select.element;
          if (!slim || !select) {
            return;
          }
          document.removeEventListener("click", this.documentClick);
          if (this.config.showContent === "auto") {
            window.removeEventListener("scroll", this.windowScroll, false);
          }
          select.style.display = "";
          delete select.dataset.ssid;
          var el = select;
          el.slim = null;
          if (slim.parentElement) {
            slim.parentElement.removeChild(slim);
          }
          if (this.config.addToBody) {
            var slimContent = id ? document.querySelector("." + id + ".ss-content") : this.slim.content;
            if (!slimContent) {
              return;
            }
            document.body.removeChild(slimContent);
          }
        };
        return SlimSelect3;
      }();
      exports["default"] = SlimSelect2;
    },
    function(module, exports, __webpack_require__) {
      "use strict";
      exports.__esModule = true;
      var Config = function() {
        function Config2(info) {
          this.id = "";
          this.isMultiple = false;
          this.isAjax = false;
          this.isSearching = false;
          this.showSearch = true;
          this.searchFocus = true;
          this.searchHighlight = false;
          this.closeOnSelect = true;
          this.showContent = "auto";
          this.searchPlaceholder = "Search";
          this.searchText = "No Results";
          this.searchingText = "Searching...";
          this.placeholderText = "Select Value";
          this.allowDeselect = false;
          this.allowDeselectOption = false;
          this.hideSelectedOption = false;
          this.deselectLabel = "x";
          this.isEnabled = true;
          this.valuesUseText = false;
          this.showOptionTooltips = false;
          this.selectByGroup = false;
          this.limit = 0;
          this.timeoutDelay = 200;
          this.addToBody = false;
          this.main = "ss-main";
          this.singleSelected = "ss-single-selected";
          this.arrow = "ss-arrow";
          this.multiSelected = "ss-multi-selected";
          this.add = "ss-add";
          this.plus = "ss-plus";
          this.values = "ss-values";
          this.value = "ss-value";
          this.valueText = "ss-value-text";
          this.valueDelete = "ss-value-delete";
          this.content = "ss-content";
          this.open = "ss-open";
          this.openAbove = "ss-open-above";
          this.openBelow = "ss-open-below";
          this.search = "ss-search";
          this.searchHighlighter = "ss-search-highlight";
          this.addable = "ss-addable";
          this.list = "ss-list";
          this.optgroup = "ss-optgroup";
          this.optgroupLabel = "ss-optgroup-label";
          this.optgroupLabelSelectable = "ss-optgroup-label-selectable";
          this.option = "ss-option";
          this.optionSelected = "ss-option-selected";
          this.highlighted = "ss-highlighted";
          this.disabled = "ss-disabled";
          this.hide = "ss-hide";
          this.id = "ss-" + Math.floor(Math.random() * 1e5);
          this.style = info.select.style.cssText;
          this["class"] = info.select.className.split(" ");
          this.isMultiple = info.select.multiple;
          this.isAjax = info.isAjax;
          this.showSearch = info.showSearch === false ? false : true;
          this.searchFocus = info.searchFocus === false ? false : true;
          this.searchHighlight = info.searchHighlight === true ? true : false;
          this.closeOnSelect = info.closeOnSelect === false ? false : true;
          if (info.showContent) {
            this.showContent = info.showContent;
          }
          this.isEnabled = info.isEnabled === false ? false : true;
          if (info.searchPlaceholder) {
            this.searchPlaceholder = info.searchPlaceholder;
          }
          if (info.searchText) {
            this.searchText = info.searchText;
          }
          if (info.searchingText) {
            this.searchingText = info.searchingText;
          }
          if (info.placeholderText) {
            this.placeholderText = info.placeholderText;
          }
          this.allowDeselect = info.allowDeselect === true ? true : false;
          this.allowDeselectOption = info.allowDeselectOption === true ? true : false;
          this.hideSelectedOption = info.hideSelectedOption === true ? true : false;
          if (info.deselectLabel) {
            this.deselectLabel = info.deselectLabel;
          }
          if (info.valuesUseText) {
            this.valuesUseText = info.valuesUseText;
          }
          if (info.showOptionTooltips) {
            this.showOptionTooltips = info.showOptionTooltips;
          }
          if (info.selectByGroup) {
            this.selectByGroup = info.selectByGroup;
          }
          if (info.limit) {
            this.limit = info.limit;
          }
          if (info.searchFilter) {
            this.searchFilter = info.searchFilter;
          }
          if (info.timeoutDelay != null) {
            this.timeoutDelay = info.timeoutDelay;
          }
          this.addToBody = info.addToBody === true ? true : false;
        }
        Config2.prototype.searchFilter = function(opt, search) {
          return opt.text.toLowerCase().indexOf(search.toLowerCase()) !== -1;
        };
        return Config2;
      }();
      exports.Config = Config;
    },
    function(module, exports, __webpack_require__) {
      "use strict";
      exports.__esModule = true;
      var helper_1 = __webpack_require__(0);
      var Select = function() {
        function Select2(info) {
          this.triggerMutationObserver = true;
          this.element = info.select;
          this.main = info.main;
          if (this.element.disabled) {
            this.main.config.isEnabled = false;
          }
          this.addAttributes();
          this.addEventListeners();
          this.mutationObserver = null;
          this.addMutationObserver();
          var el = this.element;
          el.slim = info.main;
        }
        Select2.prototype.setValue = function() {
          if (!this.main.data.getSelected()) {
            return;
          }
          if (this.main.config.isMultiple) {
            var selected = this.main.data.getSelected();
            var options = this.element.options;
            for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {
              var o = options_1[_i];
              o.selected = false;
              for (var _a = 0, selected_1 = selected; _a < selected_1.length; _a++) {
                var s = selected_1[_a];
                if (s.value === o.value) {
                  o.selected = true;
                }
              }
            }
          } else {
            var selected = this.main.data.getSelected();
            this.element.value = selected ? selected.value : "";
          }
          this.main.data.isOnChangeEnabled = false;
          this.element.dispatchEvent(new CustomEvent("change", { bubbles: true }));
          this.main.data.isOnChangeEnabled = true;
        };
        Select2.prototype.addAttributes = function() {
          this.element.tabIndex = -1;
          this.element.style.display = "none";
          this.element.dataset.ssid = this.main.config.id;
        };
        Select2.prototype.addEventListeners = function() {
          var _this = this;
          this.element.addEventListener("change", function(e) {
            _this.main.data.setSelectedFromSelect();
            _this.main.render();
          });
        };
        Select2.prototype.addMutationObserver = function() {
          var _this = this;
          if (this.main.config.isAjax) {
            return;
          }
          this.mutationObserver = new MutationObserver(function(mutations) {
            if (!_this.triggerMutationObserver) {
              return;
            }
            _this.main.data.parseSelectData();
            _this.main.data.setSelectedFromSelect();
            _this.main.render();
            mutations.forEach(function(mutation) {
              if (mutation.attributeName === "class") {
                _this.main.slim.updateContainerDivClass(_this.main.slim.container);
              }
            });
          });
          this.observeMutationObserver();
        };
        Select2.prototype.observeMutationObserver = function() {
          if (!this.mutationObserver) {
            return;
          }
          this.mutationObserver.observe(this.element, {
            attributes: true,
            childList: true,
            characterData: true
          });
        };
        Select2.prototype.disconnectMutationObserver = function() {
          if (this.mutationObserver) {
            this.mutationObserver.disconnect();
          }
        };
        Select2.prototype.create = function(data) {
          this.element.innerHTML = "";
          for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
            var d = data_1[_i];
            if (d.hasOwnProperty("options")) {
              var optgroupObject = d;
              var optgroupEl = document.createElement("optgroup");
              optgroupEl.label = optgroupObject.label;
              if (optgroupObject.options) {
                for (var _a = 0, _b = optgroupObject.options; _a < _b.length; _a++) {
                  var oo = _b[_a];
                  optgroupEl.appendChild(this.createOption(oo));
                }
              }
              this.element.appendChild(optgroupEl);
            } else {
              this.element.appendChild(this.createOption(d));
            }
          }
        };
        Select2.prototype.createOption = function(info) {
          var optionEl = document.createElement("option");
          optionEl.value = info.value !== "" ? info.value : info.text;
          optionEl.innerHTML = info.innerHTML || info.text;
          if (info.selected) {
            optionEl.selected = info.selected;
          }
          if (info.display === false) {
            optionEl.style.display = "none";
          }
          if (info.disabled) {
            optionEl.disabled = true;
          }
          if (info.placeholder) {
            optionEl.setAttribute("data-placeholder", "true");
          }
          if (info.mandatory) {
            optionEl.setAttribute("data-mandatory", "true");
          }
          if (info["class"]) {
            info["class"].split(" ").forEach(function(optionClass) {
              optionEl.classList.add(optionClass);
            });
          }
          if (info.data && typeof info.data === "object") {
            Object.keys(info.data).forEach(function(key) {
              optionEl.setAttribute("data-" + helper_1.kebabCase(key), info.data[key]);
            });
          }
          return optionEl;
        };
        return Select2;
      }();
      exports.Select = Select;
    },
    function(module, exports, __webpack_require__) {
      "use strict";
      exports.__esModule = true;
      var helper_1 = __webpack_require__(0);
      var data_1 = __webpack_require__(1);
      var Slim = function() {
        function Slim2(info) {
          this.main = info.main;
          this.container = this.containerDiv();
          this.content = this.contentDiv();
          this.search = this.searchDiv();
          this.list = this.listDiv();
          this.options();
          this.singleSelected = null;
          this.multiSelected = null;
          if (this.main.config.isMultiple) {
            this.multiSelected = this.multiSelectedDiv();
            if (this.multiSelected) {
              this.container.appendChild(this.multiSelected.container);
            }
          } else {
            this.singleSelected = this.singleSelectedDiv();
            this.container.appendChild(this.singleSelected.container);
          }
          if (this.main.config.addToBody) {
            this.content.classList.add(this.main.config.id);
            document.body.appendChild(this.content);
          } else {
            this.container.appendChild(this.content);
          }
          this.content.appendChild(this.search.container);
          this.content.appendChild(this.list);
        }
        Slim2.prototype.containerDiv = function() {
          var container = document.createElement("div");
          container.style.cssText = this.main.config.style;
          this.updateContainerDivClass(container);
          return container;
        };
        Slim2.prototype.updateContainerDivClass = function(container) {
          this.main.config["class"] = this.main.select.element.className.split(" ");
          container.className = "";
          container.classList.add(this.main.config.id);
          container.classList.add(this.main.config.main);
          for (var _i = 0, _a = this.main.config["class"]; _i < _a.length; _i++) {
            var c = _a[_i];
            if (c.trim() !== "") {
              container.classList.add(c);
            }
          }
        };
        Slim2.prototype.singleSelectedDiv = function() {
          var _this = this;
          var container = document.createElement("div");
          container.classList.add(this.main.config.singleSelected);
          var placeholder = document.createElement("span");
          placeholder.classList.add("placeholder");
          container.appendChild(placeholder);
          var deselect = document.createElement("span");
          deselect.innerHTML = this.main.config.deselectLabel;
          deselect.classList.add("ss-deselect");
          deselect.onclick = function(e) {
            e.stopPropagation();
            if (!_this.main.config.isEnabled) {
              return;
            }
            _this.main.set("");
          };
          container.appendChild(deselect);
          var arrowContainer = document.createElement("span");
          arrowContainer.classList.add(this.main.config.arrow);
          var arrowIcon = document.createElement("span");
          arrowIcon.classList.add("arrow-down");
          arrowContainer.appendChild(arrowIcon);
          container.appendChild(arrowContainer);
          container.onclick = function() {
            if (!_this.main.config.isEnabled) {
              return;
            }
            _this.main.data.contentOpen ? _this.main.close() : _this.main.open();
          };
          return {
            container,
            placeholder,
            deselect,
            arrowIcon: {
              container: arrowContainer,
              arrow: arrowIcon
            }
          };
        };
        Slim2.prototype.placeholder = function() {
          var selected = this.main.data.getSelected();
          if (selected === null || selected && selected.placeholder) {
            var placeholder = document.createElement("span");
            placeholder.classList.add(this.main.config.disabled);
            placeholder.innerHTML = this.main.config.placeholderText;
            if (this.singleSelected) {
              this.singleSelected.placeholder.innerHTML = placeholder.outerHTML;
            }
          } else {
            var selectedValue = "";
            if (selected) {
              selectedValue = selected.innerHTML && this.main.config.valuesUseText !== true ? selected.innerHTML : selected.text;
            }
            if (this.singleSelected) {
              this.singleSelected.placeholder.innerHTML = selected ? selectedValue : "";
            }
          }
        };
        Slim2.prototype.deselect = function() {
          if (this.singleSelected) {
            if (!this.main.config.allowDeselect) {
              this.singleSelected.deselect.classList.add("ss-hide");
              return;
            }
            if (this.main.selected() === "") {
              this.singleSelected.deselect.classList.add("ss-hide");
            } else {
              this.singleSelected.deselect.classList.remove("ss-hide");
            }
          }
        };
        Slim2.prototype.multiSelectedDiv = function() {
          var _this = this;
          var container = document.createElement("div");
          container.classList.add(this.main.config.multiSelected);
          var values = document.createElement("div");
          values.classList.add(this.main.config.values);
          container.appendChild(values);
          var add = document.createElement("div");
          add.classList.add(this.main.config.add);
          var plus = document.createElement("span");
          plus.classList.add(this.main.config.plus);
          plus.onclick = function(e) {
            if (_this.main.data.contentOpen) {
              _this.main.close();
              e.stopPropagation();
            }
          };
          add.appendChild(plus);
          container.appendChild(add);
          container.onclick = function(e) {
            if (!_this.main.config.isEnabled) {
              return;
            }
            var target = e.target;
            if (!target.classList.contains(_this.main.config.valueDelete)) {
              _this.main.data.contentOpen ? _this.main.close() : _this.main.open();
            }
          };
          return {
            container,
            values,
            add,
            plus
          };
        };
        Slim2.prototype.values = function() {
          if (!this.multiSelected) {
            return;
          }
          var currentNodes = this.multiSelected.values.childNodes;
          var selected = this.main.data.getSelected();
          var exists;
          var nodesToRemove = [];
          for (var _i = 0, currentNodes_1 = currentNodes; _i < currentNodes_1.length; _i++) {
            var c = currentNodes_1[_i];
            exists = true;
            for (var _a = 0, selected_1 = selected; _a < selected_1.length; _a++) {
              var s = selected_1[_a];
              if (String(s.id) === String(c.dataset.id)) {
                exists = false;
              }
            }
            if (exists) {
              nodesToRemove.push(c);
            }
          }
          for (var _b = 0, nodesToRemove_1 = nodesToRemove; _b < nodesToRemove_1.length; _b++) {
            var n = nodesToRemove_1[_b];
            n.classList.add("ss-out");
            this.multiSelected.values.removeChild(n);
          }
          currentNodes = this.multiSelected.values.childNodes;
          for (var s = 0; s < selected.length; s++) {
            exists = false;
            for (var _c = 0, currentNodes_2 = currentNodes; _c < currentNodes_2.length; _c++) {
              var c = currentNodes_2[_c];
              if (String(selected[s].id) === String(c.dataset.id)) {
                exists = true;
              }
            }
            if (!exists) {
              if (currentNodes.length === 0 || !HTMLElement.prototype.insertAdjacentElement) {
                this.multiSelected.values.appendChild(this.valueDiv(selected[s]));
              } else if (s === 0) {
                this.multiSelected.values.insertBefore(this.valueDiv(selected[s]), currentNodes[s]);
              } else {
                currentNodes[s - 1].insertAdjacentElement("afterend", this.valueDiv(selected[s]));
              }
            }
          }
          if (selected.length === 0) {
            var placeholder = document.createElement("span");
            placeholder.classList.add(this.main.config.disabled);
            placeholder.innerHTML = this.main.config.placeholderText;
            this.multiSelected.values.innerHTML = placeholder.outerHTML;
          }
        };
        Slim2.prototype.valueDiv = function(optionObj) {
          var _this = this;
          var value = document.createElement("div");
          value.classList.add(this.main.config.value);
          value.dataset.id = optionObj.id;
          var text = document.createElement("span");
          text.classList.add(this.main.config.valueText);
          text.innerHTML = optionObj.innerHTML && this.main.config.valuesUseText !== true ? optionObj.innerHTML : optionObj.text;
          value.appendChild(text);
          if (!optionObj.mandatory) {
            var deleteSpan = document.createElement("span");
            deleteSpan.classList.add(this.main.config.valueDelete);
            deleteSpan.innerHTML = this.main.config.deselectLabel;
            deleteSpan.onclick = function(e) {
              e.preventDefault();
              e.stopPropagation();
              var shouldUpdate = false;
              if (!_this.main.beforeOnChange) {
                shouldUpdate = true;
              }
              if (_this.main.beforeOnChange) {
                var selected = _this.main.data.getSelected();
                var currentValues = JSON.parse(JSON.stringify(selected));
                for (var i = 0; i < currentValues.length; i++) {
                  if (currentValues[i].id === optionObj.id) {
                    currentValues.splice(i, 1);
                  }
                }
                var beforeOnchange = _this.main.beforeOnChange(currentValues);
                if (beforeOnchange !== false) {
                  shouldUpdate = true;
                }
              }
              if (shouldUpdate) {
                _this.main.data.removeFromSelected(optionObj.id, "id");
                _this.main.render();
                _this.main.select.setValue();
                _this.main.data.onDataChange();
              }
            };
            value.appendChild(deleteSpan);
          }
          return value;
        };
        Slim2.prototype.contentDiv = function() {
          var container = document.createElement("div");
          container.classList.add(this.main.config.content);
          return container;
        };
        Slim2.prototype.searchDiv = function() {
          var _this = this;
          var container = document.createElement("div");
          var input = document.createElement("input");
          var addable = document.createElement("div");
          container.classList.add(this.main.config.search);
          var searchReturn = {
            container,
            input
          };
          if (!this.main.config.showSearch) {
            container.classList.add(this.main.config.hide);
            input.readOnly = true;
          }
          input.type = "search";
          input.placeholder = this.main.config.searchPlaceholder;
          input.tabIndex = 0;
          input.setAttribute("aria-label", this.main.config.searchPlaceholder);
          input.setAttribute("autocapitalize", "off");
          input.setAttribute("autocomplete", "off");
          input.setAttribute("autocorrect", "off");
          input.onclick = function(e) {
            setTimeout(function() {
              var target = e.target;
              if (target.value === "") {
                _this.main.search("");
              }
            }, 10);
          };
          input.onkeydown = function(e) {
            if (e.key === "ArrowUp") {
              _this.main.open();
              _this.highlightUp();
              e.preventDefault();
            } else if (e.key === "ArrowDown") {
              _this.main.open();
              _this.highlightDown();
              e.preventDefault();
            } else if (e.key === "Tab") {
              if (!_this.main.data.contentOpen) {
                setTimeout(function() {
                  _this.main.close();
                }, _this.main.config.timeoutDelay);
              } else {
                _this.main.close();
              }
            } else if (e.key === "Enter") {
              e.preventDefault();
            }
          };
          input.onkeyup = function(e) {
            var target = e.target;
            if (e.key === "Enter") {
              if (_this.main.addable && e.ctrlKey) {
                addable.click();
                e.preventDefault();
                e.stopPropagation();
                return;
              }
              var highlighted = _this.list.querySelector("." + _this.main.config.highlighted);
              if (highlighted) {
                highlighted.click();
              }
            } else if (e.key === "ArrowUp" || e.key === "ArrowDown") {
            } else if (e.key === "Escape") {
              _this.main.close();
            } else {
              if (_this.main.config.showSearch && _this.main.data.contentOpen) {
                _this.main.search(target.value);
              } else {
                input.value = "";
              }
            }
            e.preventDefault();
            e.stopPropagation();
          };
          input.onfocus = function() {
            _this.main.open();
          };
          container.appendChild(input);
          if (this.main.addable) {
            addable.classList.add(this.main.config.addable);
            addable.innerHTML = "+";
            addable.onclick = function(e) {
              if (_this.main.addable) {
                e.preventDefault();
                e.stopPropagation();
                var inputValue = _this.search.input.value;
                if (inputValue.trim() === "") {
                  _this.search.input.focus();
                  return;
                }
                var addableValue = _this.main.addable(inputValue);
                var addableValueStr_1 = "";
                if (!addableValue) {
                  return;
                }
                if (typeof addableValue === "object") {
                  var validValue = data_1.validateOption(addableValue);
                  if (validValue) {
                    _this.main.addData(addableValue);
                    addableValueStr_1 = addableValue.value ? addableValue.value : addableValue.text;
                  }
                } else {
                  _this.main.addData(_this.main.data.newOption({
                    text: addableValue,
                    value: addableValue
                  }));
                  addableValueStr_1 = addableValue;
                }
                _this.main.search("");
                setTimeout(function() {
                  _this.main.set(addableValueStr_1, "value", false, false);
                }, 100);
                if (_this.main.config.closeOnSelect) {
                  setTimeout(function() {
                    _this.main.close();
                  }, 100);
                }
              }
            };
            container.appendChild(addable);
            searchReturn.addable = addable;
          }
          return searchReturn;
        };
        Slim2.prototype.highlightUp = function() {
          var highlighted = this.list.querySelector("." + this.main.config.highlighted);
          var prev = null;
          if (highlighted) {
            prev = highlighted.previousSibling;
            while (prev !== null) {
              if (prev.classList.contains(this.main.config.disabled)) {
                prev = prev.previousSibling;
                continue;
              } else {
                break;
              }
            }
          } else {
            var allOptions = this.list.querySelectorAll("." + this.main.config.option + ":not(." + this.main.config.disabled + ")");
            prev = allOptions[allOptions.length - 1];
          }
          if (prev && prev.classList.contains(this.main.config.optgroupLabel)) {
            prev = null;
          }
          if (prev === null) {
            var parent_1 = highlighted.parentNode;
            if (parent_1.classList.contains(this.main.config.optgroup)) {
              if (parent_1.previousSibling) {
                var prevNodes = parent_1.previousSibling.querySelectorAll("." + this.main.config.option + ":not(." + this.main.config.disabled + ")");
                if (prevNodes.length) {
                  prev = prevNodes[prevNodes.length - 1];
                }
              }
            }
          }
          if (prev) {
            if (highlighted) {
              highlighted.classList.remove(this.main.config.highlighted);
            }
            prev.classList.add(this.main.config.highlighted);
            helper_1.ensureElementInView(this.list, prev);
          }
        };
        Slim2.prototype.highlightDown = function() {
          var highlighted = this.list.querySelector("." + this.main.config.highlighted);
          var next = null;
          if (highlighted) {
            next = highlighted.nextSibling;
            while (next !== null) {
              if (next.classList.contains(this.main.config.disabled)) {
                next = next.nextSibling;
                continue;
              } else {
                break;
              }
            }
          } else {
            next = this.list.querySelector("." + this.main.config.option + ":not(." + this.main.config.disabled + ")");
          }
          if (next === null && highlighted !== null) {
            var parent_2 = highlighted.parentNode;
            if (parent_2.classList.contains(this.main.config.optgroup)) {
              if (parent_2.nextSibling) {
                var sibling = parent_2.nextSibling;
                next = sibling.querySelector("." + this.main.config.option + ":not(." + this.main.config.disabled + ")");
              }
            }
          }
          if (next) {
            if (highlighted) {
              highlighted.classList.remove(this.main.config.highlighted);
            }
            next.classList.add(this.main.config.highlighted);
            helper_1.ensureElementInView(this.list, next);
          }
        };
        Slim2.prototype.listDiv = function() {
          var list = document.createElement("div");
          list.classList.add(this.main.config.list);
          return list;
        };
        Slim2.prototype.options = function(content) {
          if (content === void 0) {
            content = "";
          }
          var data = this.main.data.filtered || this.main.data.data;
          this.list.innerHTML = "";
          if (content !== "") {
            var searching = document.createElement("div");
            searching.classList.add(this.main.config.option);
            searching.classList.add(this.main.config.disabled);
            searching.innerHTML = content;
            this.list.appendChild(searching);
            return;
          }
          if (this.main.config.isAjax && this.main.config.isSearching) {
            var searching = document.createElement("div");
            searching.classList.add(this.main.config.option);
            searching.classList.add(this.main.config.disabled);
            searching.innerHTML = this.main.config.searchingText;
            this.list.appendChild(searching);
            return;
          }
          if (data.length === 0) {
            var noResults = document.createElement("div");
            noResults.classList.add(this.main.config.option);
            noResults.classList.add(this.main.config.disabled);
            noResults.innerHTML = this.main.config.searchText;
            this.list.appendChild(noResults);
            return;
          }
          var _loop_1 = function(d2) {
            if (d2.hasOwnProperty("label")) {
              var item = d2;
              var optgroupEl_1 = document.createElement("div");
              optgroupEl_1.classList.add(this_1.main.config.optgroup);
              var optgroupLabel = document.createElement("div");
              optgroupLabel.classList.add(this_1.main.config.optgroupLabel);
              if (this_1.main.config.selectByGroup && this_1.main.config.isMultiple) {
                optgroupLabel.classList.add(this_1.main.config.optgroupLabelSelectable);
              }
              optgroupLabel.innerHTML = item.label;
              optgroupEl_1.appendChild(optgroupLabel);
              var options = item.options;
              if (options) {
                for (var _i2 = 0, options_1 = options; _i2 < options_1.length; _i2++) {
                  var o = options_1[_i2];
                  optgroupEl_1.appendChild(this_1.option(o));
                }
                if (this_1.main.config.selectByGroup && this_1.main.config.isMultiple) {
                  var master_1 = this_1;
                  optgroupLabel.addEventListener("click", function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    for (var _i3 = 0, _a = optgroupEl_1.children; _i3 < _a.length; _i3++) {
                      var childEl = _a[_i3];
                      if (childEl.className.indexOf(master_1.main.config.option) !== -1) {
                        childEl.click();
                      }
                    }
                  });
                }
              }
              this_1.list.appendChild(optgroupEl_1);
            } else {
              this_1.list.appendChild(this_1.option(d2));
            }
          };
          var this_1 = this;
          for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {
            var d = data_2[_i];
            _loop_1(d);
          }
        };
        Slim2.prototype.option = function(data) {
          if (data.placeholder) {
            var placeholder = document.createElement("div");
            placeholder.classList.add(this.main.config.option);
            placeholder.classList.add(this.main.config.hide);
            return placeholder;
          }
          var optionEl = document.createElement("div");
          optionEl.classList.add(this.main.config.option);
          if (data["class"]) {
            data["class"].split(" ").forEach(function(dataClass) {
              optionEl.classList.add(dataClass);
            });
          }
          if (data.style) {
            optionEl.style.cssText = data.style;
          }
          var selected = this.main.data.getSelected();
          optionEl.dataset.id = data.id;
          if (this.main.config.searchHighlight && this.main.slim && data.innerHTML && this.main.slim.search.input.value.trim() !== "") {
            optionEl.innerHTML = helper_1.highlight(data.innerHTML, this.main.slim.search.input.value, this.main.config.searchHighlighter);
          } else if (data.innerHTML) {
            optionEl.innerHTML = data.innerHTML;
          }
          if (this.main.config.showOptionTooltips && optionEl.textContent) {
            optionEl.setAttribute("title", optionEl.textContent);
          }
          var master = this;
          optionEl.addEventListener("click", function(e) {
            e.preventDefault();
            e.stopPropagation();
            var element = this;
            var elementID = element.dataset.id;
            if (data.selected === true && master.main.config.allowDeselectOption) {
              var shouldUpdate = false;
              if (!master.main.beforeOnChange || !master.main.config.isMultiple) {
                shouldUpdate = true;
              }
              if (master.main.beforeOnChange && master.main.config.isMultiple) {
                var selectedValues = master.main.data.getSelected();
                var currentValues = JSON.parse(JSON.stringify(selectedValues));
                for (var i = 0; i < currentValues.length; i++) {
                  if (currentValues[i].id === elementID) {
                    currentValues.splice(i, 1);
                  }
                }
                var beforeOnchange = master.main.beforeOnChange(currentValues);
                if (beforeOnchange !== false) {
                  shouldUpdate = true;
                }
              }
              if (shouldUpdate) {
                if (master.main.config.isMultiple) {
                  master.main.data.removeFromSelected(elementID, "id");
                  master.main.render();
                  master.main.select.setValue();
                  master.main.data.onDataChange();
                } else {
                  master.main.set("");
                }
              }
            } else {
              if (data.disabled || data.selected) {
                return;
              }
              if (master.main.config.limit && Array.isArray(selected) && master.main.config.limit <= selected.length) {
                return;
              }
              if (master.main.beforeOnChange) {
                var value = void 0;
                var objectInfo = JSON.parse(JSON.stringify(master.main.data.getObjectFromData(elementID)));
                objectInfo.selected = true;
                if (master.main.config.isMultiple) {
                  value = JSON.parse(JSON.stringify(selected));
                  value.push(objectInfo);
                } else {
                  value = JSON.parse(JSON.stringify(objectInfo));
                }
                var beforeOnchange = master.main.beforeOnChange(value);
                if (beforeOnchange !== false) {
                  master.main.set(elementID, "id", master.main.config.closeOnSelect);
                }
              } else {
                master.main.set(elementID, "id", master.main.config.closeOnSelect);
              }
            }
          });
          var isSelected = selected && helper_1.isValueInArrayOfObjects(selected, "id", data.id);
          if (data.disabled || isSelected) {
            optionEl.onclick = null;
            if (!master.main.config.allowDeselectOption) {
              optionEl.classList.add(this.main.config.disabled);
            }
            if (master.main.config.hideSelectedOption) {
              optionEl.classList.add(this.main.config.hide);
            }
          }
          if (isSelected) {
            optionEl.classList.add(this.main.config.optionSelected);
          } else {
            optionEl.classList.remove(this.main.config.optionSelected);
          }
          return optionEl;
        };
        return Slim2;
      }();
      exports.Slim = Slim;
    }
  ])["default"];
});

// src/js/elements/LanguagePicker.ts
var LanguagePicker = class extends ElementBase {
  constructor() {
    super(...arguments);
    this.initiated = false;
    this.isDragging = false;
    this.dragX = null;
    this.newestItem = null;
  }
  itemDisplay() {
    return Object.keys(Language.l10nLanguages).length > 1 ? this.item() : html``;
  }
  item() {
    const onChange = (event) => __async(this, null, function* () {
      if (!this.initiated)
        return;
      const selectedLanguages = event.currentTarget.slim.selected();
      Language.l10nLanguages = yield langCodesToObject(selectedLanguages);
      this.render();
    });
    return html`
    <div class="item">
      <select multiple onchange=${onChange} ref=${(element) => this.l10nLanguagePicker(element)}></select>
      ${this.uiLanguageSwitcher()}
    </div>`;
  }
  l10nLanguagePicker(select) {
    if (select.slim) {
      this.attachEvents(select);
      return;
    }
    const initialLanguages = [...Object.entries(Language.l10nLanguages)];
    let deleteIcon = icon(faTimes).html[0];
    const slimSelect = new SlimSelect({
      select,
      deselectLabel: deleteIcon,
      beforeOnChange: (values) => {
        const newItem = values.map((value) => value.value).find((item) => !Object.keys(Language.l10nLanguages).includes(item));
        Language.l10nLanguage = newItem;
      },
      ajax: function(search, callback) {
        return __async(this, null, function* () {
          const languages = yield filterLanguages(search);
          const options = languages.map((language) => {
            var _a, _b;
            return {
              text: (_b = (_a = Language.l10nLanguages) == null ? void 0 : _a[language[0]]) != null ? _b : language[1],
              value: language[0]
            };
          });
          callback(options);
        });
      }
    });
    const selection = initialLanguages.map(([langCode, language]) => {
      var _a;
      return {
        text: (_a = Language.l10nLanguages[langCode]) != null ? _a : language,
        value: langCode,
        mandatory: Language.requiredL10nLanguages.includes(langCode)
      };
    });
    slimSelect.setData([{ "placeholder": true, "text": t.direct("Search for a language").toString() }, ...selection]);
    slimSelect.set(selection.map((option) => option.value));
    this.attachEvents(select);
    this.setScrollClasses(select);
    this.initiated = true;
  }
  setScrollClasses(select) {
    const tabsWrapper = select.parentElement.querySelector(".ss-multi-selected");
    if (!tabsWrapper.scrollWidth)
      return;
    tabsWrapper.classList.remove("hide-left-shadow");
    tabsWrapper.classList.remove("hide-right-shadow");
    if (tabsWrapper.scrollLeft === 0) {
      tabsWrapper.classList.add("hide-left-shadow");
    }
    if (tabsWrapper.scrollWidth - 1 <= tabsWrapper.clientWidth + tabsWrapper.scrollLeft) {
      tabsWrapper.classList.add("hide-right-shadow");
    }
  }
  attachEvents(select) {
    const langCodes = [...Object.entries(Language.l10nLanguages)].map(([langCode]) => langCode);
    const tabs = [...select.parentElement.querySelectorAll(".ss-value")];
    const tabsWrapper = select.parentElement.querySelector(".ss-multi-selected");
    this.setActive(tabs, langCodes);
    if (tabsWrapper.initiated)
      return;
    tabsWrapper.initiated = true;
    tabsWrapper.addEventListener("mousedown", (event) => {
      this.isDragging = true;
      this.dragX = null;
    });
    tabsWrapper.addEventListener("scroll", (event) => {
      this.setScrollClasses(select);
    });
    this.setScrollClasses(select);
    setTimeout(() => {
      this.setScrollClasses(select);
    }, 100);
    tabsWrapper.addEventListener("mousemove", (event) => {
      if (this.isDragging) {
        const delta = this.dragX - event.clientX;
        if (this.dragX !== null) {
          tabsWrapper.scrollTo({
            top: 0,
            left: tabsWrapper.scrollLeft + delta
          });
        }
        this.dragX = event.clientX;
        event.preventDefault();
        event.stopImmediatePropagation();
      }
    });
    tabsWrapper.addEventListener("click", (event) => {
      if (this.isDragging && this.dragX !== null) {
        event.preventDefault();
        event.stopImmediatePropagation();
      }
      this.isDragging = false;
      this.dragX = null;
    }, {
      capture: true
    });
  }
  setActive(tabs, langCodes) {
    for (const [index, tab] of tabs.entries()) {
      if (tab.querySelector(".ss-value-delete"))
        tab.querySelector(".ss-value-delete").title = t.direct("Delete all translations for this language").toString();
      if (langCodes[index] === Language.l10nLanguage)
        tab.classList.add("active");
      if (tab.hasEvent)
        continue;
      tab.hasEvent = true;
      tab.addEventListener("click", (event) => {
        event.preventDefault();
        event.stopImmediatePropagation();
        for (const innerTab of tabs)
          if (innerTab !== tab)
            innerTab.classList.remove("active");
        tab.classList.add("active");
        Language.l10nLanguage = langCodes[index];
        this.render();
      });
    }
  }
  uiLanguageSwitcher() {
    return Object.keys(Language.uiLanguages).length ? html`<div class="language-switcher">
      ${fa(faGlobe)}
      <select onchange="${(event) => __async(this, null, function* () {
      yield Language.setUiLanguage(event.target.value);
      this.dispatchEvent(new CustomEvent("language-change"));
      yield this.render();
    })}">
        ${Object.entries(Language.uiLanguages).map((language) => {
      const code = language[0];
      const label = language[1];
      return html`<option value="${code}" selected="${code === Language.uiLanguage ? true : null}">${label}</option>`;
    })}
      </select></div>
    ` : html``;
  }
};

// src/js/elements/Mail.ts
var Mail = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.attributes.type = "mail";
  }
};

// src/js/elements/Number.ts
var Number2 = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.attributes.type = "number";
  }
  on(event) {
    return __async(this, null, function* () {
      if (["keyup", "change"].includes(event.type)) {
        if (!this.value)
          yield this.addItem();
        this.value[`@${this.jsonldKey}`] = parseInt(event.target.value);
      }
    });
  }
};

// src/js/helpers/searchSuggestionsSparqlQuery.ts
function searchSuggestionsSparqlQuery(query = "", source = null, searchTerm = "") {
  if (searchTerm === "" || searchTerm.length < 4)
    return {};
  let querySearchTerm = searchTerm.trim();
  if (source) {
    source = { type: "sparql", value: source };
  }
  if (!source)
    source = { type: "sparql", value: "https://dbpedia.org/sparql" };
  if (!query) {
    query = `
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

    SELECT DISTINCT ?uri ?label {
      ?uri rdfs:label ?label .
      FILTER(contains(?label, """SEARCH_TERM"""))
    }

    LIMIT 10`;
  }
  if (typeof source === "string") {
    source = source.replace(/LANGUAGE/g, Language.uiLanguage);
    source = source.replace(/SEARCH_TERM/g, querySearchTerm);
  }
  query = query.replace(/LANGUAGE/g, Language.uiLanguage);
  query = query.replace(/SEARCH_TERM/g, querySearchTerm);
  return { query, source };
}

// src/js/helpers/dbpediaSuggestions.ts
function dbpediaSuggestions(searchTerm) {
  let querySearchTerm = searchTerm.trim();
  const query = `

    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX dbo:  <http://dbpedia.org/ontology/>
    PREFIX bif: <bif:>

    SELECT DISTINCT ?uri ?label ?image {

      ?uri rdfs:label ?label .
      ?uri dbo:thumbnail ?image .
      ?label bif:contains '"${querySearchTerm}"' .
      ${Language.uiLanguage ? `filter langMatches(lang(?label), "${Language.uiLanguage}")` : ""}
    }

    LIMIT 10`;
  return { query, source: { type: "sparql", value: "https://dbpedia.org/sparql" } };
}

// src/js/helpers/getUriMeta.ts
var metas = new Map();
var getUriMeta = (uri, proxy = null) => __async(void 0, null, function* () {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;
  if (!metas.get(uri + Language.uiLanguage)) {
    let text;
    try {
      const response = yield fetch(`${proxy ? proxy : ""}${uri.replace("http:", location.protocol)}`, { headers: { "Accept": "application/ld+json" } });
      text = yield response.text();
    } catch (e) {
      console.log(uri);
    }
    let json = {};
    try {
      json = JSON.parse(text);
    } catch (e) {
      json = ttl2jsonld(text);
    }
    if (json) {
      json = yield jsonld.expand(json);
      if (Array.isArray(json) && json[0])
        json = json[0];
    }
    const meta = {
      label: null,
      thumbnail: null
    };
    const labelLastParts = ["name", "username", "label"];
    const imageLastParts = ["thumbnail", "depiction", "image", "img"];
    for (const labelLastPart of labelLastParts) {
      for (const [predicate, value] of Object.entries(json)) {
        if (!meta.label && labelLastPart === lastPart(predicate)) {
          const valueInPreferredLanguage = value.find((item) => item["@language"] === Language.uiLanguage);
          const valueInUndeterminedLanguage = value.find((item) => item["@language"] === "und");
          meta.label = (_c = (_a = valueInPreferredLanguage == null ? void 0 : valueInPreferredLanguage["@value"]) != null ? _a : valueInUndeterminedLanguage == null ? void 0 : valueInUndeterminedLanguage["@value"]) != null ? _c : (_b = value == null ? void 0 : value[0]) == null ? void 0 : _b["@value"];
        }
        if (((_d = meta.label) == null ? void 0 : _d.substr(0, 2)) === "_:")
          meta.label = null;
      }
    }
    for (const imageLastPart of imageLastParts) {
      for (const [predicate, value] of Object.entries(json)) {
        if (!meta.thumbnail && imageLastPart === lastPart(predicate)) {
          const valueInPreferredLanguage = value.find((item) => item["@language"] === Language.uiLanguage);
          const valueInUndeterminedLanguage = value.find((item) => item["@language"] === "und");
          meta.thumbnail = (_k = (_i = (_g = (_f = (_e = valueInPreferredLanguage == null ? void 0 : valueInPreferredLanguage["@value"]) != null ? _e : valueInPreferredLanguage == null ? void 0 : valueInPreferredLanguage["@id"]) != null ? _f : valueInUndeterminedLanguage == null ? void 0 : valueInUndeterminedLanguage["@value"]) != null ? _g : valueInUndeterminedLanguage == null ? void 0 : valueInUndeterminedLanguage["@id"]) != null ? _i : (_h = value == null ? void 0 : value[0]) == null ? void 0 : _h["@value"]) != null ? _k : (_j = value == null ? void 0 : value[0]) == null ? void 0 : _j["@id"];
          if (((_l = meta.thumbnail) == null ? void 0 : _l.substr(0, 2)) === "_:")
            meta.thumbnail = false;
          if (!meta.thumbnail && ((_o = (_n = (_m = value == null ? void 0 : value[0]) == null ? void 0 : _m["https://schema.org/url"]) == null ? void 0 : _n[0]) == null ? void 0 : _o["@value"])) {
            meta.thumbnail = value[0]["https://schema.org/url"][0]["@value"];
          }
        }
      }
    }
    if (!meta.label)
      meta.label = false;
    if (!meta.thumbnail)
      meta.thumbnail = false;
    metas.set(uri + Language.uiLanguage, meta);
  }
  return metas.get(uri + Language.uiLanguage);
});

// src/js/elements/Reference.ts
var Reference = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.jsonldKey = "id";
    this.expanded = false;
    this.searchTerm = null;
    this.previousValue = null;
    this.autocomplete = debounce(this.autocomplete.bind(this), 400);
  }
  on(event) {
    return __async(this, null, function* () {
      var _a;
      if (["keyup", "change"].includes(event.type)) {
        if (!this.value)
          yield this.addItem();
        if (event.target.value.substr(0, 4) === "http") {
          this.value[`@${this.jsonldKey}`] = event.target.value;
        } else {
          this.searchTerm = event.target.value;
        }
        if ((_a = this.definition["form:autoCompleteQuery"]) == null ? void 0 : _a._) {
          this.autocomplete();
        }
      }
    });
  }
  get removable() {
    var _a, _b, _c, _d;
    const parentIsGroup = this.parent instanceof ElementBase ? ((_c = (_b = (_a = this.parent) == null ? void 0 : _a.definition) == null ? void 0 : _b["form:widget"]) == null ? void 0 : _c._) === "group" : false;
    if (this.index < 1 && ((_d = this.definition["form:required"]) == null ? void 0 : _d._) === true)
      return false;
    return !parentIsGroup;
  }
  autocomplete() {
    var _a, _b, _c;
    if (!this.searchTerm)
      return;
    const querySetting = (_a = this.definition["form:autoCompleteQuery"]) == null ? void 0 : _a._;
    const sourceSetting = (_b = this.definition["form:autoCompleteSource"]) == null ? void 0 : _b._;
    const {
      query,
      source
    } = querySetting || sourceSetting ? searchSuggestionsSparqlQuery(querySetting, sourceSetting, this.searchTerm) : dbpediaSuggestions(this.searchTerm);
    if (query && source) {
      const proxy = (_c = this.form.getAttribute("proxy")) != null ? _c : "";
      sparqlQueryToList(query, source.replace("http:", location.protocol), proxy).then((searchSuggestions) => {
        searchSuggestions.push({
          label: t`Add <strong>${{ searchTerm: this.searchTerm }}</strong> as text without reference.`,
          value: this.searchTerm
        });
        this.suggestions = searchSuggestions;
        this.render();
      }).catch((exception) => {
        console.error(exception);
        this.searchTerm = null;
        this.suggestions = [];
        this.render();
      });
    }
  }
  input() {
    var _a, _b, _c;
    return html`
      <input 
        ref=${attributesDiff(this.attributes, (element) => this.inputElement = element)} 
        value=${(_c = (_b = this.searchTerm) != null ? _b : (_a = this.value) == null ? void 0 : _a._) != null ? _c : ""} 
        onchange=${(event) => this.on(event)}
        onkeyup=${(event) => this.on(event)}
      />
    `;
  }
  item() {
    return __async(this, arguments, function* (childTemplates = [], isDisplayOnly = false) {
      var _a, _b, _c, _d;
      const value = (_a = this.value) == null ? void 0 : _a._;
      const uri = (value == null ? void 0 : value.substr(0, 4)) === "http" ? value : false;
      const editButton = () => html`<button type="button" class="button edit" onclick="${() => {
        var _a2;
        this.expanded = true;
        this.previousValue = (_a2 = this.value) == null ? void 0 : _a2._;
        this.render();
        setTimeout(() => {
          this.inputElement.select();
        }, 30);
      }}">
      ${fa(faPencilAlt)}
    </button>`;
      const acceptButton = () => html`<button type="button" class="button accept primary" onclick="${() => {
        var _a2;
        this.expanded = false;
        if (((_a2 = this.value) == null ? void 0 : _a2["@value"]) && this.value["@value"].substr(0, 4) !== "http" && this.searchTerm) {
          this.value["@value"] = this.searchTerm;
        }
        this.searchTerm = null;
        this.suggestions = [];
        this.render();
      }}">
      ${fa(faCheck)}
    </button>`;
      const restoreButton = () => html`
    <button type="button" class="button back" onclick="${() => {
        this.expanded = false;
        this.searchTerm = null;
        this.suggestions = [];
        if (this.previousValue)
          this.value[`@${this.jsonldKey}`] = this.previousValue;
        this.render();
      }}">
      ${fa(faReply)}
    </button>`;
      const isCollapsed = (uri || ((_b = this.value) == null ? void 0 : _b["@value"])) && !this.expanded && !this.searchTerm;
      let meta = uri && isFetchable(uri) ? yield getUriMeta(uri, this.proxy) : false;
      if ((_c = this.value) == null ? void 0 : _c["@value"]) {
        meta = {
          label: (_d = this.value) == null ? void 0 : _d["@value"]
        };
      }
      return html`
    <div class="item" expanded=${!isCollapsed} has-suggestions=${this.searchTerm}>
      ${isCollapsed ? html`${this.referenceLabel(uri ? uri : "", meta)} ${isDisplayOnly ? null : editButton()}` : html`<div class="inner">${this.input()} ${!this.searchTerm ? acceptButton() : ""} ${restoreButton()} ${this.removeButton()}</div>`}

      ${this.searchTerm ? this.searchSuggestions() : ""}

      ${childTemplates}
    </div>`;
    });
  }
  searchSuggestions() {
    var _a;
    const hasResults = !((_a = this.suggestions[0]) == null ? void 0 : _a.value);
    return this.suggestions.length ? html`
    <ul class="search-suggestions">
      ${!hasResults ? html`<li class="search-suggestion no-results">
        <span class="title">${t`Nothing found`}</span>
      </li>` : ""}
      ${this.suggestions.map((suggestion) => {
      var _a2, _b;
      return html`
      <li class="search-suggestion" onclick="${() => {
        if (suggestion.uri) {
          this.value["@id"] = suggestion.uri;
          delete this.value["@value"];
        } else if (suggestion.value) {
          delete this.value["@id"];
          this.value["@value"] = suggestion.value;
        }
        this.expanded = false;
        this.searchTerm = null;
        this.suggestions = [];
        this.render();
      }}">
        ${suggestion.image ? html`<div class="image"><img src="${`//images.weserv.nl/?url=${suggestion.image}&default=${suggestion.image}&w=100&h=100`}"></div>` : ""}
        <span class="title">${(_b = (_a2 = suggestion.label) == null ? void 0 : _a2[Language.uiLanguage]) != null ? _b : suggestion.label}</span>
      </li>`;
    })}
    </ul>
      ` : "";
  }
  wrapper(innerTemplates = [], isDisplayOnly = false) {
    var _a, _b;
    const type = kebabize(this.constructor.name);
    const shouldShowEmpty = ((_a = this.definition["form:translatable"]) == null ? void 0 : _a._) === "always" && !Language.l10nLanguage;
    return html`
    ${!shouldShowEmpty && (!isDisplayOnly || isDisplayOnly && innerTemplates.length > 0) ? html`
    <div ref=${attributesDiff(this.wrapperAttributes)} name=${kebabize(lastPart(this.definition["@id"]))} type="${type}">
    ${this.label()}
    ${innerTemplates.length ? html`
      <div class="items">
        ${innerTemplates}
        ${((_b = this.definition["form:multiple"]) == null ? void 0 : _b._) && !isDisplayOnly ? html`<div class="item">${this.addButton()}</div>` : html``}
      </div>
    ` : ""}
      
    </div>
    ` : html``}`;
  }
  itemDisplay(childTemplates = []) {
    return this.item(childTemplates, true);
  }
  valueDisplay() {
    var _a;
    return html`${(_a = this.value) == null ? void 0 : _a._}`;
  }
};

// src/js/elements/String.ts
var String2 = class extends ElementBase {
  constructor(...args) {
    super(...args);
  }
};

// src/js/elements/Textarea.ts
var Textarea = class extends ElementBase {
  input() {
    var _a, _b;
    let textValue = (_b = (_a = this.value) == null ? void 0 : _a._) != null ? _b : "";
    if (typeof textValue === "string")
      textValue.trim();
    return html`
    <textarea
      ref=${attributesDiff(this.attributes)} 
      onchange="${(event) => this.on(event)}"
      onkeyup="${(event) => this.on(event)}"
     .value="${textValue}"></textarea>`;
  }
};

// src/js/elements/Unknown.ts
var Unknown = class extends ElementBase {
  input() {
    var _a;
    console.log(this.definition);
    return html`Unknown field type <b>${(_a = this.definition["form:widget"]) == null ? void 0 : _a._}</b>`;
  }
};

// src/js/elements/Url.ts
var Url = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.attributes.type = "url";
  }
  valueDisplay() {
    var _a, _b;
    return html`<a target="_blank" href=${(_a = this.value) == null ? void 0 : _a._}>${lastPart((_b = this.value) == null ? void 0 : _b._)}</a>`;
  }
};

// src/js/helpers/getImage.ts
var cachedImageObjects = new WeakMap();
var getImage = (imageUrl) => {
  return new Promise((resolve) => {
    imageUrl = imageUrl.replace("http:", location.protocol);
    if (!cachedImageObjects.get(imageUrl)) {
      const image = document.createElement("img");
      image.crossOrigin = "anonymous";
      image.onload = () => resolve(image);
      image.src = imageUrl;
    } else {
      resolve(cachedImageObjects.get(imageUrl));
    }
  });
};

// src/js/helpers/getImageDimensionsByUrl.ts
var getImageDimensionsByUrl = (imageUrl) => __async(void 0, null, function* () {
  const image = yield getImage(imageUrl);
  return {
    width: image.width,
    height: image.height
  };
});

// src/js/helpers/getImageColor.ts
var import_quantize = __toModule(require_quantize());

// src/js/helpers/createPixelArray.ts
function createPixelArray(pixels, quality = 0) {
  const pixelArray = [];
  for (let i = 0, offset, r, g, b, a; i < pixels.length + 1; i = i + quality) {
    offset = i * 4;
    r = pixels[offset + 0];
    g = pixels[offset + 1];
    b = pixels[offset + 2];
    a = pixels[offset + 3];
    if (typeof a === "undefined" || a >= 125) {
      if (!(r > 250 && g > 250 && b > 250)) {
        pixelArray.push([r, g, b]);
      }
    }
  }
  return pixelArray;
}

// src/js/helpers/getImageColor.ts
var getImageColor = (imageUrl) => __async(void 0, null, function* () {
  const image = yield getImage(imageUrl);
  const canvas = document.createElement("canvas");
  const context = canvas.getContext("2d");
  context.drawImage(image, 0, 0);
  const pixels = context.getImageData(0, 0, image.width, image.height);
  const pixelsData = createPixelArray(pixels.data, 8);
  const colorMap = (0, import_quantize.default)(pixelsData, 6);
  const colors = colorMap.palette();
  const color = `rgb(${colors[0].join(",")})`;
  return { color };
});

// src/js/elements/UrlImage.ts
var UrlImage = class extends ElementBase {
  constructor(...args) {
    super(...args);
    this.isDragging = false;
    this.focalPointDiv = null;
    this.setStyle = () => {
      this.focalPointDiv.style.left = this.focalPoint.x1 + "%";
      this.focalPointDiv.style.top = this.focalPoint.y1 + "%";
      this.focalPointDiv.style.width = this.focalPoint.x2 - this.focalPoint.x1 + "%";
      this.focalPointDiv.style.height = this.focalPoint.y2 - this.focalPoint.y1 + "%";
    };
    this.reCalc = () => {
      if (this.focalPoint.x3 === null || this.focalPoint.x4 === null) {
        this.reset();
        this.focalPointDiv.removeAttribute("style");
        return;
      }
      this.focalPoint.x1 = Math.round(Math.min(this.focalPoint.x3, this.focalPoint.x4));
      this.focalPoint.x2 = Math.round(Math.max(this.focalPoint.x3, this.focalPoint.x4));
      this.focalPoint.y1 = Math.round(Math.min(this.focalPoint.y3, this.focalPoint.y4));
      this.focalPoint.y2 = Math.round(Math.max(this.focalPoint.y3, this.focalPoint.y4));
      this.setStyle();
    };
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;
    const focalPointPrefix = this.form.formDefinition.context.focalPoint;
    this.focalPoint = {
      x1: (_b = (_a = this.itemValues) == null ? void 0 : _a[`${focalPointPrefix}x1`]) == null ? void 0 : _b._,
      y1: (_d = (_c = this.itemValues) == null ? void 0 : _c[`${focalPointPrefix}y1`]) == null ? void 0 : _d._,
      x2: (_f = (_e = this.itemValues) == null ? void 0 : _e[`${focalPointPrefix}x2`]) == null ? void 0 : _f._,
      y2: (_h = (_g = this.itemValues) == null ? void 0 : _g[`${focalPointPrefix}y2`]) == null ? void 0 : _h._,
      x3: (_j = (_i = this.itemValues) == null ? void 0 : _i[`${focalPointPrefix}x3`]) == null ? void 0 : _j._,
      y3: (_l = (_k = this.itemValues) == null ? void 0 : _k[`${focalPointPrefix}y3`]) == null ? void 0 : _l._,
      x4: (_n = (_m = this.itemValues) == null ? void 0 : _m[`${focalPointPrefix}x4`]) == null ? void 0 : _n._,
      y4: (_p = (_o = this.itemValues) == null ? void 0 : _o[`${focalPointPrefix}y4`]) == null ? void 0 : _p._
    };
  }
  on(event) {
    var __super = (key) => super[key];
    return __async(this, null, function* () {
      var _a, _b, _c;
      __super("on").call(this, event);
      const dimensionsEnabled = ((_a = this.definition["form:dimensions"]) == null ? void 0 : _a.length) > 0;
      const saveColor = ((_b = this.definition["form:saveColor"]) == null ? void 0 : _b.length) > 0;
      const url = (_c = this.value) == null ? void 0 : _c._;
      const schemaPrefix = this.form.formDefinition.context.schema;
      if (dimensionsEnabled && url) {
        getImageDimensionsByUrl(url).then(({ width, height }) => {
          this.itemValues[`${schemaPrefix}width`] = [{ "@value": width }];
          this.itemValues[`${schemaPrefix}height`] = [{ "@value": height }];
        });
      }
      if (saveColor) {
        getImageColor(url).then(({ color }) => {
          this.itemValues[`${schemaPrefix}color`] = [{ "@value": color }];
        });
      }
      this.render();
    });
  }
  input() {
    var _a, _b, _c, _d, _e, _f;
    let image;
    const focalPointEnabled = ((_a = this.definition["form:focalPoint"]) == null ? void 0 : _a.length) > 0;
    const onmousedown = (event) => {
      event.preventDefault();
      this.reset();
      this.isDragging = true;
      this.reCalc();
      this.focalPoint.x3 = 100 / image.width * event.offsetX;
      this.focalPoint.y3 = 100 / image.height * event.offsetY;
    };
    const onmousemove = (event) => {
      if (this.isDragging) {
        this.focalPoint.x4 = 100 / image.width * event.offsetX;
        this.focalPoint.y4 = 100 / image.height * event.offsetY;
        this.reCalc();
      }
    };
    const onmouseup = (event) => {
      this.isDragging = false;
      const endX = 100 / image.width * event.offsetX;
      const endY = 100 / image.height * event.offsetY;
      this.reCalc();
      const allowedMouseMove = 4;
      if (Math.abs(endX - this.focalPoint.x3) < allowedMouseMove && Math.abs(endY - this.focalPoint.y3) < allowedMouseMove) {
        this.focalPointDiv.removeAttribute("style");
        this.reset();
      } else {
        const focalPointPrefix = this.form.formDefinition.context.focalPoint;
        this.itemValues[`${focalPointPrefix}x1`] = [{ "@value": this.focalPoint.x1 }];
        this.itemValues[`${focalPointPrefix}y1`] = [{ "@value": this.focalPoint.y1 }];
        this.itemValues[`${focalPointPrefix}x2`] = [{ "@value": this.focalPoint.x2 }];
        this.itemValues[`${focalPointPrefix}y2`] = [{ "@value": this.focalPoint.y2 }];
      }
    };
    return html`
      <div class="top">
        <input 
          ref=${attributesDiff(this.attributes)} 
          .value=${(_c = (_b = this.value) == null ? void 0 : _b._) != null ? _c : ""} 
          onchange=${(event) => this.on(event)}
          onkeyup=${(event) => this.on(event)}
        />
        ${this.removeButton()}
      </div>

      ${((_d = this.value) == null ? void 0 : _d._) ? focalPointEnabled ? html`
        <div class="image-wrapper">
          <div ref="${(element) => {
      this.focalPointDiv = element;
      this.setStyle();
    }}" class="focal-point"></div>
          <img 
            src=${(_e = this.value) == null ? void 0 : _e._} 
            onclick="${onclick}" 
            onmousedown="${onmousedown}" 
            onmousemove="${onmousemove}" 
            onmouseup="${onmouseup}" 
            ref="${(element) => image = element}"
          />
        </div>` : html`<img src=${(_f = this.value) == null ? void 0 : _f._} />` : ""}
    `;
  }
  item(childTemplates = []) {
    return html`
    <div class="item">
      ${this.input()}
      ${childTemplates}
    </div>`;
  }
  reset() {
    this.focalPoint = { x1: null, y1: null, x2: null, y2: null, x3: null, y3: null, x4: null, y4: null };
  }
  valueDisplay() {
    var _a, _b;
    return html`<a target="_blank" href=${(_a = this.value) == null ? void 0 : _a._}><img src=${(_b = this.value) == null ? void 0 : _b._} /></a>`;
  }
};

// src/js/vendor/pell.js
var defaultParagraphSeparatorString = "defaultParagraphSeparator";
var formatBlock = "formatBlock";
var addEventListener = (parent, type, listener) => parent.addEventListener(type, listener);
var appendChild = (parent, child) => parent.appendChild(child);
var createElement = (tag) => document.createElement(tag);
var queryCommandState = (command) => document.queryCommandState(command);
var queryCommandValue = (command) => document.queryCommandValue(command);
var exec = (command, value = null) => document.execCommand(command, false, value);
var defaultActions = {
  bold: {
    icon: "<b>B</b>",
    title: "Bold",
    state: () => queryCommandState("bold"),
    result: () => exec("bold")
  },
  italic: {
    icon: "<i>I</i>",
    title: "Italic",
    state: () => queryCommandState("italic"),
    result: () => exec("italic")
  },
  underline: {
    icon: "<u>U</u>",
    title: "Underline",
    state: () => queryCommandState("underline"),
    result: () => exec("underline")
  },
  strikethrough: {
    icon: "<strike>S</strike>",
    title: "Strike-through",
    state: () => queryCommandState("strikeThrough"),
    result: () => exec("strikeThrough")
  },
  heading1: {
    icon: "<b>H<sub>1</sub></b>",
    title: "Heading 1",
    result: () => exec(formatBlock, "<h1>")
  },
  heading2: {
    icon: "<b>H<sub>2</sub></b>",
    title: "Heading 2",
    result: () => exec(formatBlock, "<h2>")
  },
  paragraph: {
    icon: "&#182;",
    title: "Paragraph",
    result: () => exec(formatBlock, "<p>")
  },
  quote: {
    icon: "&#8220; &#8221;",
    title: "Quote",
    result: () => exec(formatBlock, "<blockquote>")
  },
  olist: {
    icon: "&#35;",
    title: "Ordered List",
    result: () => exec("insertOrderedList")
  },
  ulist: {
    icon: "&#8226;",
    title: "Unordered List",
    result: () => exec("insertUnorderedList")
  },
  code: {
    icon: "&lt;/&gt;",
    title: "Code",
    result: () => exec(formatBlock, "<pre>")
  },
  line: {
    icon: "&#8213;",
    title: "Horizontal Line",
    result: () => exec("insertHorizontalRule")
  },
  link: {
    icon: "&#128279;",
    title: "Link",
    result: () => {
      const url = window.prompt("Enter the link URL");
      if (url)
        exec("createLink", url);
    }
  },
  image: {
    icon: "&#128247;",
    title: "Image",
    result: () => {
      const url = window.prompt("Enter the image URL");
      if (url)
        exec("insertImage", url);
    }
  }
};
var defaultClasses = {
  actionbar: "pell-actionbar",
  button: "pell-button",
  content: "pell-content",
  selected: "pell-button-selected"
};
var init = (settings) => {
  const actions = settings.actions ? settings.actions.map((action) => {
    if (typeof action === "string")
      return defaultActions[action];
    else if (defaultActions[action.name])
      return __spreadValues(__spreadValues({}, defaultActions[action.name]), action);
    return action;
  }) : Object.keys(defaultActions).map((action) => defaultActions[action]);
  const classes = __spreadValues(__spreadValues({}, defaultClasses), settings.classes);
  const defaultParagraphSeparator = settings[defaultParagraphSeparatorString] || "div";
  const actionbar = createElement("div");
  actionbar.className = classes.actionbar;
  appendChild(settings.element, actionbar);
  const content = settings.element.content = createElement("div");
  content.contentEditable = true;
  content.className = classes.content;
  content.oninput = ({ target: { firstChild } }) => {
    if (firstChild && firstChild.nodeType === 3)
      exec(formatBlock, `<${defaultParagraphSeparator}>`);
    else if (content.innerHTML === "<br>")
      content.innerHTML = "";
    settings.onChange(content.innerHTML);
  };
  content.onkeydown = (event) => {
    if (event.key === "Enter" && queryCommandValue(formatBlock) === "blockquote") {
      setTimeout(() => exec(formatBlock, `<${defaultParagraphSeparator}>`), 0);
    }
  };
  appendChild(settings.element, content);
  actions.forEach((action) => {
    const button = createElement("button");
    button.className = classes.button;
    button.innerHTML = action.icon;
    button.title = action.title;
    button.setAttribute("type", "button");
    button.onclick = () => action.result() && content.focus();
    if (action.state) {
      const handler = () => button.classList[action.state() ? "add" : "remove"](classes.selected);
      addEventListener(content, "keyup", handler);
      addEventListener(content, "mouseup", handler);
      addEventListener(button, "click", handler);
    }
    appendChild(actionbar, button);
  });
  if (settings.styleWithCSS)
    exec("styleWithCSS");
  exec(defaultParagraphSeparatorString, defaultParagraphSeparator);
  return settings.element;
};

// src/js/elements/WYSIWYG.ts
var WYSIWYG = class extends ElementBase {
  item() {
    var _a, _b;
    let textValue = (_b = (_a = this.value) == null ? void 0 : _a["@value"]) != null ? _b : "";
    if (typeof textValue === "string")
      textValue.trim();
    if (!this.editor) {
      const element = document.createElement("div");
      element.classList.add("wysiwyg-wrapper");
      this.editor = init({
        element,
        defaultParagraphSeparator: "p",
        onChange: (html2) => __async(this, null, function* () {
          if (!this.value)
            yield this.addItem();
          this.value["@value"] = html2;
        })
      });
      element.content.innerHTML = textValue;
    }
    return this.editor;
  }
  valueDisplay() {
    return html`<div ref=${(element) => {
      var _a;
      return element.innerHTML = (_a = this.value) == null ? void 0 : _a._;
    }}></div>`;
  }
};

// src/js/elements/Wrapper.ts
var Wrapper = class extends ElementBase {
  constructor(...args) {
    super(...args);
  }
  input() {
    return html``;
  }
};

export {
  Checkbox,
  Color,
  Container,
  Date2 as Date,
  Details,
  Dropdown,
  Group,
  LanguagePicker,
  Mail,
  Number2 as Number,
  Reference,
  String2 as String,
  Textarea,
  Unknown,
  Url,
  UrlImage,
  WYSIWYG,
  Wrapper
};
/* ! @license MIT 2013-2016 Ruben Verborgh, Ghent University - imec */
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <http://feross.org>
     * @license  MIT
     */
/*! https://mths.be/punycode v1.4.1 by @mathias */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=chunk-YISTZPP3.js.map
